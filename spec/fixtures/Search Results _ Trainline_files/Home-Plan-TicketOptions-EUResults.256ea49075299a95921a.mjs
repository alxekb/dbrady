"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[20364],{75769:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(50093),n=a(60289),i=a(8590);const o=r.StyleSheet.create({root:{margin:"24px 0",":empty":{margin:"0"},[n.ZP.small.min]:{margin:"12px 0"}},informationAlert:{":not(:first-child)":{marginTop:"12px"}},boldText:{fontWeight:"bold"},departureAndArrivalMismatch:{display:"flex",flexDirection:"column",gap:i.W0.s6}})},58591:(e,t,a)=>{a.d(t,{ZP:()=>g});var r=a(67487),n=a(50093),i=a(29901),o=a(98184),l=a(83661),s=a(72222),d=a(26625),c=a(67292),u=a(79399),m=a(75769),p=e=>e&&i.createElement("span",{className:(0,n.css)(m.Z.boldText)},i.createElement(o.FormattedTime,{value:new Date((0,c.Qb)(e)),hour12:!1,timeZone:"UTC"})),v=e=>e&&i.createElement(s.Z,{value:Number(e.amount),currency:e.currencyCode});const g=(0,o.injectIntl)((e=>{var{revalidationDataForUIHash:t,revalidationUIState:a,intl:n}=e,{reasonCode:s,departAt:m,oldPrice:g}=t,h=((e,t,a)=>({[u.qV.JOURNEY_NOT_FOUND]:{message:"page.results.cachedResults.journeyNotFound",values:{time:p(e)},testId:"revalidation-warning-journey-not-found"},[u.qV.SOLD_OUT]:{message:"page.results.cachedResults.soldOut",testId:"revalidation-warning-sold-out"},[u.qV.ALTERNATIVE_NOT_FOUND]:null!=a&&a.hasClosestAlternative?{message:"customerJourneySummary.fareChange.noTicketsRemaining",values:{price:v(t)},testId:"revalidation-warning-alternative-not-found-default"}:{message:"customerJourneySummary.fareChange.noClosestAlternativeFound",values:{price:v(t),time:p(e)},testId:"revalidation-warning-alternative-not-found-no-substitution"}}))(m,g,a),f=s&&h[s],E=m&&new Date((0,c.Qb)(m)),b=E?"".concat(E.getUTCHours(),":").concat(E.getUTCMinutes()):"",y=g?"".concat(g.amount).concat(g.currencyCode):"";return f?i.createElement(d.fQ,{hooks:[d.OS.ON_RENDER],event:(0,d.C6)({id:f.message,message:n.formatMessage({id:f.message},{time:b,price:y}),format:"alert.warning",type:r.ErrorType.Platform})},i.createElement(l.WY,{testId:f.testId},i.createElement(o.FormattedMessage,{id:f.message,values:f.values,tagName:"p"}))):null}))},6615:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(50093),n=a(29901),i=a(98318),o=a(23394),l=a(52068),s={outline:"4px solid ".concat(i.dp_comp_focus_ring),zIndex:1};const d=r.StyleSheet.create({label:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",color:i.dp_app_info_mid,backgroundColor:i.dp_brand_white,borderWidth:1,borderStyle:"solid",borderColor:i.dp_app_info_mid,fontFamily:l.R.brand.face.fontFamily,fontSize:"var(--DEPRECATED-14px)",fontWeight:"bold",letterSpacing:-.2,lineHeight:"var(--DEPRECATED-22px)",cursor:"pointer",":first-child":{borderTopLeftRadius:4,borderBottomLeftRadius:4},":last-child":{borderTopRightRadius:4,borderBottomRightRadius:4},":hover":{backgroundColor:i.dp_brand_neutral_brightest},":has(:focus-visible)":s},focused:s,labelActive:{color:i.dp_app_text_inverted,backgroundColor:i.dp_app_info_mid},labelDisabled:{color:i.dp_app_text_base,backgroundColor:o.O9.palette.grey_60,borderColor:o.O9.palette.grey_60,cursor:"default"},input:{position:"absolute",height:1,width:1,margin:"0 0 0 -1px",opacity:0}});const c=e=>{var{children:t,disabled:a,isActive:i,onClick:o,testId:l,styleSheet:s}=e,[c,u]=(0,n.useState)(!1);return n.createElement("label",{"data-test":l,className:(0,r.css)([d.label,i&&d.labelActive,a&&d.labelDisabled,c&&d.focused,s])},n.createElement("input",{type:"radio",name:"flexibilityType","data-test":"radio-input",className:(0,r.css)(d.input),onChange:i?void 0:o,checked:i,disabled:a,onFocus:()=>u(!0),onBlur:()=>u(!1)}),t)}},37415:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(50093),n=a(29901);const i=e=>{var{children:t,styleSheet:a}=e;return n.createElement("fieldset",{className:(0,r.css)(a),"data-test":"flexibility-tabs"},t)}},93776:(e,t,a)=>{a.d(t,{a:()=>v});var r=a(88543),n=a(51059),i=a(83504),o=a(51486),l=a(42292),s=a(24087),d=a(94018),c=a(25190),u=a(60654),m=a(82768),p=a(56373),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=(0,r.useStore)().getState(),v=(0,r.useSelector)(i.FD),g=(0,r.useSelector)((e=>(0,n.fE)(e,v))),h=(0,r.useSelector)(p.hh),f=(0,r.useSelector)(d.vR)===s.ZP.COACH,{filteredJourneyDays:E}=(0,c.D)(f?u.AvailableTransportModes.COACH:u.AvailableTransportModes.MIXED),b=(0,m.xHg)(E.map((e=>e.rows))),y=t.length>0?t:b,S={query:(0,r.useSelector)(n.fV),getOutwardHash:!0},_=(0,r.useSelector)((e=>(0,l.oD)(e,S))),x=(0,r.useSelector)((e=>{var t;return(0,o.Gj)(e,null==_||null===(t=_.legs)||void 0===t?void 0:t[0])})),C=t=>{var r,n,i,l,s,d=0;if(!g||e||f||(null==t?void 0:t.legs.length)>1||!h)return d;var c=y.filter((e=>1===e.legs.length)).filter((e=>{var t=(0,o.Gj)(a,null==e?void 0:e.legs[0]);return(null==t?void 0:t.carrier)===(null==x?void 0:x.carrier)})).sort(((e,t)=>{var a,r,n,i;return(null===(a=e.standardAlternativeContainer)||void 0===a||null===(a=a.fullPrice)||void 0===a?void 0:a.amount)-(null===(r=t.standardAlternativeContainer)||void 0===r||null===(r=r.fullPrice)||void 0===r?void 0:r.amount)||(null===(n=e.firstAlternativeContainer)||void 0===n||null===(n=n.fullPrice)||void 0===n?void 0:n.amount)-(null===(i=e.firstAlternativeContainer)||void 0===i||null===(i=i.fullPrice)||void 0===i?void 0:i.amount)}))[0]||{},u=y.filter((e=>e.legs.length>1)).filter((e=>e.legs.filter((e=>{var t=[],r=(0,o.Gj)(a,e);return t.push(r),t.some((e=>(null==e?void 0:e.carrier)===(null==x?void 0:x.carrier)))})))).sort(((e,t)=>{var a,r,n,i;return(null===(a=e.standardAlternativeContainer)||void 0===a||null===(a=a.fullPrice)||void 0===a?void 0:a.amount)-(null===(r=t.standardAlternativeContainer)||void 0===r||null===(r=r.fullPrice)||void 0===r?void 0:r.amount)||(null===(n=e.firstAlternativeContainer)||void 0===n||null===(n=n.fullPrice)||void 0===n?void 0:n.amount)-(null===(i=e.firstAlternativeContainer)||void 0===i||null===(i=i.fullPrice)||void 0===i?void 0:i.amount)}))[0]||{};return d=null===(r=[null===(n=c.standardAlternativeContainer)||void 0===n||null===(n=n.fullPrice)||void 0===n?void 0:n.amount,null===(i=c.firstAlternativeContainer)||void 0===i||null===(i=i.fullPrice)||void 0===i?void 0:i.amount,null===(l=u.standardAlternativeContainer)||void 0===l||null===(l=l.fullPrice)||void 0===l?void 0:l.amount,null===(s=u.firstAlternativeContainer)||void 0===s||null===(s=s.fullPrice)||void 0===s?void 0:s.amount].sort(((e,t)=>e-t)))||void 0===r?void 0:r[0]};return{getIsExclusiveJourney:t=>{var r,n,i=!1,l=(0,o.Gj)(a,null==t?void 0:t.legs[0]);if(!g||e||f||(null==t?void 0:t.legs.length)>1||!h)return i;var s=C(t);return i=1===(null==t?void 0:t.legs.length)&&(null==l?void 0:l.carrier)!==(null==x?void 0:x.carrier)&&((null===(r=t.standardAlternativeContainer)||void 0===r||null===(r=r.fullPrice)||void 0===r?void 0:r.amount)<s||(null===(n=t.firstAlternativeContainer)||void 0===n||null===(n=n.fullPrice)||void 0===n?void 0:n.amount)<s)},getCheapestReturnJourneyPriceWithSameCarrierOut:C}}},89141:(e,t,a)=>{a.d(t,{Hb:()=>q,ZP:()=>z});var r=a(31616),n=a(11576),i=a(50093),o=a(29901),l=a(98184),s=a(88543),d=a(64047),c=a(14023),u=a(42200),m=a(87332),p=a(67292),v=a(71695),g=a(91939),h=a(75853),f=a(11493),E=a(32443),b=a(41325),y=a(23198),S=a(98318),_=a(60289),x=a(23394),C=a(83367),A=a(52068),N=a(4385),T=a(94878),I=a(53897),Z=a(35779),P={fontSize:C.spacers.px14,color:S.dp_app_text_base,background:S.dp_app_backdrop_base,border:"1px solid ".concat(S.dp_app_border_base),borderRadius:x.E0.m,fontWeight:A.R.body.weights.normal,width:"auto",padding:"".concat(I.i.px12," ").concat(I.i.px8)};const D=i.StyleSheet.create({container:{padding:"".concat(C.spacers.s," 0 ").concat(C.spacers.s," ").concat(C.spacers.m),flex:1,display:"flex",flexDirection:"column",lineHeight:"1.33",letterSpacing:"-0.2px",fontSize:18,justifyContent:"center",[_.ZP.small.max]:{padding:0,justifyContent:"initial"},minHeight:"70px"},loading:{padding:"2px 0px",marginRight:30},child:{display:"flex",alignItems:"center",fontSize:"1.09375rem",fontWeight:A.R.body.weights.bold,marginBottom:C.spacers.s,color:S.dp_app_text_base,textTransform:"uppercase",[_.ZP.small.max]:{marginBottom:"unset"}},smallGrayArrow:{width:C.spacers.m,height:C.spacers.m,objectFit:"contain",paddingLeft:C.spacers.s,paddingRight:C.spacers.s,transform:"rotate(-90deg)",color:S.dp_brand_neutral_mid,maxWidth:"inherit"},smallArrow:{marginLeft:"auto"},duration:{lineHeight:"1em",fontSize:"0.654em",color:S.dp_app_text_subtle,[_.ZP.small.max]:(0,y.Z)({},P)},changesLink:{marginTop:"calc(-1 * ".concat(I.i.px2,")"),cursor:"pointer",padding:"".concat(I.i.px2," ").concat(I.i.px4),marginLeft:"calc(-1 * ".concat(I.i.px2,")"),fontSize:"0.654em",lineHeight:"1em",backgroundColor:"transparent",color:S.dp_app_text_subdued,whiteSpace:"nowrap",[_.ZP.small.max]:(0,y.Z)((0,y.Z)({},P),{},{":focus":{backgroundColor:S.dp_brand_neutral_bright}})},changesLinkChanges:{textDecoration:"underline",fontWeight:500},changesLinkOnHover:{backgroundColor:(0,T.I)(N.ZP.dp_brand_secondary_duller,.05)},wrapper:{display:"flex",[_.ZP.small.max]:{marginTop:C.spacers.px12}},vendorQuotaWrapper:{marginBottom:"14px",[_.ZP.small.max]:{marginBottom:0}},nightTrainWrapper:{marginTop:Z.OT},timeWrapper:{display:"flex"},timeContainer:{width:"88px",marginRight:C.spacers.px8,lineHeight:C.spacers.px16,[_.ZP.xxs.min]:{width:"103px",marginRight:C.spacers.px12}},timeUSFormat:{width:"65px"}});var F=a(94575),R=a(81153),M=a(17836),w=a(24425),L=i.StyleSheet.create({highlightTextCustomStyle:{backgroundColor:S.dp_app_selection_dullest,width:"fit-content",margin:"0 auto 0 0",borderRadius:"0.125rem",display:"flex",alignItems:"center"},iconWrapper:{position:"relative",top:1,right:1},nightTrainText:{fontWeight:600,alignSelf:"center",lineHeight:w.IC,letterSpacing:"0 rem",color:S.dp_app_text_inverted,fontSize:w.cl},nightTrainIcon:{color:S.dp_app_text_inverted,height:"14px",width:"14px"}}),j=a(57076);const O=e=>{var{vendorQuotaIdentifier:t}=e;return o.createElement(M.Z,{styleSheet:L},o.createElement("div",{className:(0,i.css)(L.iconWrapper)},o.createElement(j.default,{className:(0,i.css)(L.nightTrainIcon)})),o.createElement("span",{className:(0,i.css)(L.nightTrainText)},t))};var k=["isMobile"],U=e=>{var{departAt:t,className:a,arriveAt:r,showUSFormatDateTime:n=!1}=e;return o.createElement("div",{className:(0,i.css)(D.timeWrapper)},o.createElement("div",{className:(0,i.css)(D.timeContainer),"data-test":"journey-times"},o.createElement(c.Z,{as:"span",textType:"title1",fontFamily:"brand",className:"".concat((0,i.css)(D.child)," ").concat(a||"")},t&&o.createElement(l.FormattedTime,{value:(0,p.Qb)(t),hour12:n,timeZone:"UTC"},(e=>o.createElement("time",{className:(0,i.css)(n&&D.timeUSFormat),dateTime:t},e))),t&&!a&&o.createElement(m.Z,{className:(0,i.css)(D.smallArrow)}))),o.createElement("div",{className:(0,i.css)(D.timeContainer)},o.createElement(c.Z,{as:"span",textType:"title1",fontFamily:"brand",className:"".concat((0,i.css)(D.child)," ").concat(a||"")},r&&o.createElement(l.FormattedTime,{value:(0,p.Qb)(r),hour12:n,timeZone:"UTC"},(e=>o.createElement("time",{className:(0,i.css)(n&&D.timeUSFormat),dateTime:r},e))))))},H=(0,n.E0)((e=>{var{departAt:t,arriveAt:a,className:r,isMobile:n,journeyId:s,changes:d}=e,{enableUSLocalisation:c}=(0,h.x)(),{locale:m}=(0,F.YB)(),f=m===v.vi.AMERICANENGLISH&&c;return n?o.createElement(U,{departAt:t,arriveAt:a,className:r,journeyId:s,changes:d,showUSFormatDateTime:f}):o.createElement("div",{className:"".concat((0,i.css)(D.child)," ").concat(r||""),"data-test":"journey-times"},t&&o.createElement(l.FormattedTime,{value:(0,p.Qb)(t),hour12:f,timeZone:"UTC"},(e=>o.createElement(o.Fragment,null,o.createElement(g.Z,null,o.createElement(l.FormattedMessage,{id:"page.journeys.departsAt",values:{departAt:e}})),o.createElement("time",{"aria-hidden":"true",dateTime:t},e)))),t&&!r&&o.createElement(u.Z,{className:(0,i.css)(D.smallGrayArrow)}),a&&o.createElement(l.FormattedTime,{value:(0,p.Qb)(a),hour12:f,timeZone:"UTC"},(e=>o.createElement(o.Fragment,null,o.createElement(g.Z,null,o.createElement(l.FormattedMessage,{id:"page.journeys.arrivesAt",values:{arriveAt:e}})),o.createElement("time",{"aria-hidden":"true",dateTime:a},e)))))}),(()=>(0,i.css)(D.loading,f.Z.loading))),W=e=>{var{departAt:t,arriveAt:a,changes:r,className:n,onRequestOpenJourneySummaryModal:s,journeyId:d,onMouseEnter:c,onMouseLeave:u,onHover:m,isMobile:p}=e;return o.createElement("button",{onMouseEnter:p?void 0:()=>c&&c(),onMouseLeave:p?void 0:()=>u&&u(),className:"".concat((0,i.css)(D.changesLink,m&&D.changesLinkOnHover)," ").concat(n||""),onClick:e=>(e.stopPropagation(),s&&s({journeyId:d})),"data-test":"journey-details-link",type:"button"},o.createElement(o.Fragment,null,o.createElement(E.Z,{start:t,end:a}),", "),o.createElement("span",{className:(0,i.css)(D.changesLinkChanges)},o.createElement(l.FormattedMessage,{id:"modal.journeySummary.changes",values:{changes:r}})))},Q=e=>{var{departAt:t,arriveAt:a,changes:r,className:n,disruptions:s,enableViewInAppSectionFromDisruption:c}=e;return o.createElement("div",{className:"".concat((0,i.css)(D.duration)," ").concat(n||"")},s&&o.createElement(d.ZP,{items:s,callToAction:c,onMouseover:()=>null}),o.createElement(E.Z,{start:t,end:a}),", ",o.createElement(l.FormattedMessage,{id:"modal.journeySummary.changes",values:{changes:r}}))},B=(0,n.E0)((e=>{var{isMobile:t=!1}=e,a=(0,r.Z)(e,k);return(0,s.useSelector)((e=>(0,R.eA)(e)))||t?o.createElement(W,a):o.createElement(Q,a)}),(()=>(0,i.css)(D.loading,f.Z.loading))),J=(0,o.memo)((e=>{var{departAt:t,arriveAt:a,changes:r,journeyId:n,onRequestOpenJourneySummaryModal:l,disruptions:s,isMobile:d,enableViewInAppSectionFromDisruption:c}=e,[u,m]=(0,o.useState)(!1);return o.createElement("div",{className:(0,i.css)(D.wrapper)},o.createElement(B,{departAt:t,arriveAt:a,changes:r,journeyId:n,onRequestOpenJourneySummaryModal:l,onHover:u,disruptions:s,onMouseEnter:d?void 0:()=>{m(!0)},onMouseLeave:d?void 0:()=>{m(!1)},isMobile:d,enableViewInAppSectionFromDisruption:c}))})),G=e=>o.createElement(o.Fragment,null,e.originName&&e.destinationName&&o.createElement("div",{className:(0,i.css)(D.timeWrapper)},o.createElement("div",{className:(0,i.css)(D.timeContainer)},o.createElement(c.Z,{textType:"mini",textColor:"subdued2"},e.originName)),o.createElement("div",{className:(0,i.css)(D.timeContainer)},o.createElement(c.Z,{textType:"mini",textColor:"subdued2"},e.destinationName))),e.isNightTrain&&e.vendorQuotaIdentifier&&o.createElement("div",{className:(0,i.css)(D.nightTrainWrapper)},o.createElement(O,{vendorQuotaIdentifier:e.vendorQuotaIdentifier})),!e.isNightTrain&&e.vendorQuotaIdentifier&&o.createElement(c.Z,{textType:"mini",textWeight:"600",className:(0,i.css)(D.vendorQuotaWrapper)},e.vendorQuotaIdentifier)),q=e=>{var{departAt:t,arriveAt:a,changes:r,onRequestOpenJourneySummaryModal:n,journeyId:s,styleSheet:d}=e;return o.createElement("button",{className:(0,i.css)(D.changesLink,d),onClick:()=>n&&n({journeyId:s})},o.createElement(E.Z,{start:t,end:a}),", ",o.createElement(l.FormattedMessage,{id:"modal.journeySummary.changes",values:{changes:r},"data-test":"number-of-changes"}))};const z=e=>o.createElement("div",{"data-test":"time-and-duration",className:(0,i.css)(D.container)},o.createElement(H,e),e.isMobile&&o.createElement(G,{originName:e.originName,destinationName:e.destinationName,vendorQuotaIdentifier:e.vendorQuotaIdentifier,isNightTrain:e.isNightTrain}),o.createElement(J,e),e.isMobile&&o.createElement(b.Z,{hasBus:e.hasBus,hasFerry:e.hasFerry}))},9246:(e,t,a)=>{a.d(t,{_:()=>s});var r=a(29901),n=a(88543),i=a(60654),o=a(51807),l=a(40316),s=e=>{var t=(0,l.P)(e),[a,s]=(0,r.useState)(!1),d=(0,n.useSelector)((e=>(0,o.cy)(e,t.query))),c=e===i.AvailableTransportModes.MIXED&&d,u=(0,n.useSelector)((e=>(0,o.Dk)(e,t))),m=c?i.LoadStatus.PENDING:u,p=(0,r.useRef)(m);return(0,r.useEffect)((()=>{var e=p.current===i.LoadStatus.PENDING&&m===i.LoadStatus.SUCCESS;e&&s(e),p.current=m}),[m]),{lastJourneySearchStatus:m,isPending:m===i.LoadStatus.PENDING,isError:m===i.LoadStatus.ERROR,isSuccess:m===i.LoadStatus.SUCCESS,journeySearchHasChanged:a}}}}]);