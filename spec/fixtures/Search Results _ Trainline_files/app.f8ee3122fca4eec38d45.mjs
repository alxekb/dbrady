(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[32143],{66106:(e,r,t)=>{var a={"./BrandedBusinessTravel/en-GB.json":[99875,42205],"./CrossCountry/en-GB.json":[64760,55052],"./EastMidlandsRailway/en-GB.json":[76553,79581],"./GreaterAnglia/en-GB.json":[39080,63244],"./ItaloTravelAgency/en-GB.json":[45110,93601],"./ItaloTravelAgency/it-CH.json":[22318,44093],"./ItaloTravelAgency/it-IT.json":[28100,81153],"./Italotreno/en-GB.json":[1665,56750],"./Italotreno/it-CH.json":[90436,98779],"./Italotreno/it-IT.json":[9211,35130],"./Leisure/cs-CZ.json":[59565,88794],"./Leisure/da-DK.json":[57674,48325],"./Leisure/de-AT.json":[26838,1284],"./Leisure/de-CH.json":[25400,51035],"./Leisure/de-DE.json":[72173,69154],"./Leisure/en-GB.json":[4493,66065],"./Leisure/en-US.json":[56572,68713],"./Leisure/es-ES.json":[57971,16834],"./Leisure/fr-CH.json":[56169,86077],"./Leisure/fr-FR.json":[34704,8909],"./Leisure/it-CH.json":[54425,53754],"./Leisure/it-IT.json":[81160,83908],"./Leisure/nb-NO.json":[83437,91065],"./Leisure/nl-NL.json":[25234,2669],"./Leisure/pl-PL.json":[10267,62839],"./Leisure/pt-BR.json":[76326,45352],"./Leisure/pt-PT.json":[69736,12215],"./Leisure/sv-SE.json":[43834,79577],"./Leisure/zh-CN.json":[98016,48126],"./LondonNorthwesternRailway/en-GB.json":[88083,67017],"./NorthernRailway/en-GB.json":[76769,35505],"./ScotRail/en-GB.json":[56149,87661],"./TrainHugger/en-GB.json":[44264,27063],"./WestMidlandsRailway/en-GB.json":[20675,10177]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=66106,e.exports=n},69629:(e,r,t)=>{var a={"./IconAdultPassenger/index.js":[80705,69300],"./IconAlarmClock/index.js":[46445,54007],"./IconAtSeatService/index.js":[69279,56094],"./IconBabyChanging/index.js":[72606,80427],"./IconBar/index.js":[93008,17820],"./IconBasket/index.js":[10805,26860],"./IconBell/index.js":[14098,79919],"./IconBellFilled/index.js":[57815,25035],"./IconBin/index.js":[65310,29139],"./IconBurger/index.js":[69317,25557],"./IconCalendar/index.js":[60146,85134],"./IconCalendarIn/index.js":[18944,1296],"./IconCalendarOut/index.js":[15125,44875],"./IconChanges/index.js":[29493,36638],"./IconChat/index.js":[67634,70628],"./IconCheck/index.js":[98355,7129],"./IconCheckbox/index.js":[7318,81804],"./IconChevronDown/index.js":[90448,57131],"./IconChevronLeft/index.js":[94114,57131],"./IconChevronRight/index.js":[51361,57131],"./IconChevronUp/index.js":[33998,49525],"./IconChildPassenger/index.js":[92380,32360],"./IconChildSeat/index.js":[8836,95771],"./IconCity/index.js":[28048,2712],"./IconClock/index.js":[24889,84296],"./IconClockLive/index.js":[77162,49527],"./IconClose/index.js":[20726,80827],"./IconCloseSmall/index.js":[71833,80827],"./IconCoachesPerDay/index.js":[4254,57813],"./IconCoffee/index.js":[42823,74244],"./IconCompartment/index.js":[87867,68730],"./IconCoordinates/index.js":[40397,66293],"./IconCopy/index.js":[94614,45959],"./IconDateIn/index.js":[20986,29476],"./IconDateOut/index.js":[84896,1743],"./IconDoubleArrowLeft/index.js":[4595,95894],"./IconETicket/index.js":[17629,58058],"./IconETicketbarcode/index.js":[58146,22639],"./IconEdit/index.js":[88255,81046],"./IconEnvelope/index.js":[88915,88221],"./IconExitLeft/index.js":[86551,40957],"./IconExitRight/index.js":[60391,10756],"./IconExternalLink/index.js":[40079,63509],"./IconEyeClosed/index.js":[67049,63509],"./IconEyeOpen/index.js":[75687,60328],"./IconFavourite/index.js":[68152,49753],"./IconFilter/index.js":[46165,83139],"./IconFire/index.js":[84181,21309],"./IconFirstLast/index.js":[10315,46102],"./IconFlame/index.js":[80235,11397],"./IconFood/index.js":[64989,78710],"./IconGroupFares/index.js":[97162,55210],"./IconHandlugagge/index.js":[81026,8449],"./IconHelp/index.js":[96575,8422],"./IconHidePassword/index.js":[31013,32728],"./IconHistory/index.js":[55209,43043],"./IconId/index.js":[59712,87814],"./IconIncrease/index.js":[31868,70694],"./IconInfo/index.js":[75939,70694],"./IconIntercom/index.js":[2061,51186],"./IconLargeSeat/index.js":[81181,13682],"./IconLeaf/index.js":[78922,38866],"./IconLeatherSeat/index.js":[99689,90441],"./IconLegRoom/index.js":[43847,35616],"./IconLounge/index.js":[73911,34780],"./IconLuggage/index.js":[77848,857],"./IconMagic/index.js":[30813,56051],"./IconMagicFilled/index.js":[76667,7085],"./IconMinus/index.js":[67532,92847],"./IconModeOfTransportBicycle/index.js":[39606,60838],"./IconModeOfTransportBike/index.js":[86109,92847],"./IconModeOfTransportCar/index.js":[52940,92847],"./IconModeOfTransportCoach/index.js":[77358,25758],"./IconModeOfTransportFerry/index.js":[31050,61627],"./IconModeOfTransportTaxi/index.js":[34256,17373],"./IconModeOfTransportTrain/index.js":[82613,14522],"./IconModeOfTransportTram/index.js":[523,95464],"./IconModeOfTransportTube/index.js":[92250,47432],"./IconModeOfTransportWalk/index.js":[72627,99408],"./IconMultiPassengers/index.js":[88117,3046],"./IconNonExchangeable/index.js":[61148,32660],"./IconNonRefundable/index.js":[29340,46830],"./IconNumber/index.js":[904,21078],"./IconOpenNew/index.js":[49189,9967],"./IconOpenReturn/index.js":[70493,38178],"./IconOpenReturnLeg/index.js":[56953,8694],"./IconOvernight/index.js":[57076,95503],"./IconParking/index.js":[31814,62747],"./IconPassenger/index.js":[73263,52942],"./IconPaymentCard/index.js":[68525,87556],"./IconPet/index.js":[92054,53598],"./IconPiggybank/index.js":[15533,75213],"./IconPlane/index.js":[19053,82162],"./IconPlug/index.js":[31435,42596],"./IconPlus/index.js":[25984,82162],"./IconPost/index.js":[65048,72350],"./IconPram/index.js":[45427,7077],"./IconPrinter/index.js":[49004,58042],"./IconQuietZone/index.js":[18668,27082],"./IconRailcard/index.js":[76231,82716],"./IconReading/index.js":[77589,12634],"./IconReceipt/index.js":[45732,75855],"./IconRefresh/index.js":[59548,82378],"./IconRefund/index.js":[22002,47647],"./IconRefundDollar/index.js":[27835,49612],"./IconRefundEuro/index.js":[89692,87487],"./IconRefundGBP/index.js":[32720,42998],"./IconRefundKrona/index.js":[87886,48617],"./IconRefundYen/index.js":[82427,20034],"./IconRestaurant/index.js":[94819,74829],"./IconReturn/index.js":[50699,19596],"./IconRuler/index.js":[42988,54436],"./IconScales/index.js":[40406,7e3],"./IconSearch/index.js":[3784,43576],"./IconSeat/index.js":[77159,11488],"./IconSecure/index.js":[72097,55934],"./IconShareAndroid/index.js":[11326,26424],"./IconShareIos/index.js":[90279,84975],"./IconShop/index.js":[36316,9111],"./IconShowPassword/index.js":[43003,55572],"./IconShower/index.js":[14950,63558],"./IconSingle/index.js":[45234],"./IconSnowflake/index.js":[26525,94036],"./IconSplitSave/index.js":[53256,81720],"./IconSplitTicketingIcon/index.js":[99264,45711],"./IconStaff/index.js":[53125,19178],"./IconStairs/index.js":[31532,79779],"./IconStairsDown/index.js":[79667,85336],"./IconStairsUp/index.js":[82507,98495],"./IconStarFilled/index.js":[75256,36057],"./IconStation/index.js":[65610,5192],"./IconStationDestination/index.js":[54515,7798],"./IconStationOrigin/index.js":[96983,87289],"./IconStationVia/index.js":[61452,37327],"./IconStops/index.js":[28090,69449],"./IconStopwatch/index.js":[71537,96577],"./IconSwapUpDown/index.js":[69588,87035],"./IconTag/index.js":[78436,89804],"./IconTicket/index.js":[57642,7572],"./IconTicketMachine/index.js":[76190,2237],"./IconTicketStack/index.js":[92926,75490],"./IconToilet/index.js":[74010,48441],"./IconToilets/index.js":[48298,62995],"./IconToiletsAccessible/index.js":[85726,42501],"./IconTree/index.js":[45281,42369],"./IconTrophy/index.js":[81598,73943],"./IconTv/index.js":[37451,15803],"./IconUserAccountBusiness/index.js":[90447,26299],"./IconUserAccountPersonal/index.js":[97002,82298],"./IconVoucher/index.js":[46621,50244],"./IconWarning/index.js":[69353,36768],"./IconWashbasin/index.js":[67711,65258],"./IconWheelchair/index.js":[12935,91651],"./IconWiFi/index.js":[42976,19153],"./IconWomenOnlyCarriage/index.js":[55109,92789],"./shared/index.js":[98562,67307]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return Promise.all(r.slice(1).map(t.e)).then((()=>t(n)))}n.keys=()=>Object.keys(a),n.id=69629,e.exports=n},70170:(e,r,t)=>{var a={"./LogoAbellio/index.js":[34720,46535],"./LogoAerobusBarcelona/index.js":[75986,96621,40973],"./LogoAgreda/index.js":[99360,1776],"./LogoAisa/index.js":[2892,95268],"./LogoAlex/index.js":[96045,11148],"./LogoAlsa/index.js":[55601,35826],"./LogoAppennino/index.js":[2359,90034,66588],"./LogoAutna/index.js":[8578,82472],"./LogoAutolineeFederico/index.js":[54083,44419,58369],"./LogoAutostradale/index.js":[54689,95775,54806],"./LogoAvantiWestCoast/index.js":[97420,54829],"./LogoAvanza/index.js":[64994,83889],"./LogoAvanzaAlosa/index.js":[22582,19991],"./LogoAvanzaAutores/index.js":[35798,18333],"./LogoAvanzaMobility/index.js":[13758,26133],"./LogoBaltour/index.js":[38401,81050],"./LogoBam/index.js":[39064,48025],"./LogoBeauvaisBus/index.js":[58586,17550],"./LogoBlablabus/index.js":[67165,4553],"./LogoBlablacar/index.js":[32067,23533],"./LogoBlablacarBus/index.js":[18956,85206],"./LogoCaledonianSleeper/index.js":[56841,19978,44935],"./LogoCat/index.js":[69833,79318],"./LogoCd/index.js":[44136,97907],"./LogoCercanias/index.js":[82631,77379],"./LogoCff/index.js":[203,43781],"./LogoCfl/index.js":[24400,60793],"./LogoCoachCarrierUnknown/index.js":[30596,96649],"./LogoComes/index.js":[30418,67723],"./LogoConda/index.js":[42631,43083],"./LogoCrnjaTours/index.js":[60677,29189,10387],"./LogoCrossCountry/index.js":[25590,66338],"./LogoDaibus/index.js":[49437,74394],"./LogoDb/index.js":[98499,38625],"./LogoDsb/index.js":[18280,77680],"./LogoEfqm/index.js":[15390,36663,10505],"./LogoEireagle/index.js":[41385,21669],"./LogoEmr/index.js":[59252,87495],"./LogoEntur/index.js":[39885,4389],"./LogoErfurterbahn/index.js":[16318,13679,9908],"./LogoErixx/index.js":[89780,43444],"./LogoEurobahn/index.js":[19464,35468],"./LogoEurolines/index.js":[71872,99492],"./LogoEurostar/index.js":[2257,37690],"./LogoFerryCarrierUnknown/index.js":[35050,36481],"./LogoFiumicinoExpress/index.js":[75331,37980],"./LogoFlibco/index.js":[59039,71088,86534],"./LogoFlixbus/index.js":[18040,56897],"./LogoFlixtrain/index.js":[39015,41234],"./LogoFrecciabianca/index.js":[55357,94255],"./LogoFreccialink/index.js":[33898,86441],"./LogoFrecciargento/index.js":[30030,50129],"./LogoFrecciarossa/index.js":[64907,11811],"./LogoGatwickExpress/index.js":[52513,13145],"./LogoGipsyy/index.js":[29284,7236],"./LogoGlobotour/index.js":[19453,87829],"./LogoGobus/index.js":[55440,81784],"./LogoGoopti/index.js":[91948,28149],"./LogoGrandCentral/index.js":[16916,54723],"./LogoGreatNorthern/index.js":[75155,74467],"./LogoGreaterAnglia/index.js":[19578,94536],"./LogoHeathrowExpress/index.js":[66604,93894],"./LogoHex/index.js":[56831,19205],"./LogoHife/index.js":[12094,43724],"./LogoHullTrains/index.js":[61459,86566,80677],"./LogoIcbus/index.js":[95848,99815],"./LogoIntercity/index.js":[37990,53767],"./LogoIntercityNight/index.js":[98534,4593],"./LogoInvestorsInPeople/index.js":[14060,21202],"./LogoIrishCitylink/index.js":[47365,80182],"./LogoIryo/index.js":[93171,7932],"./LogoIsilines/index.js":[74721,71493],"./LogoItabus/index.js":[74930,79014],"./LogoItalo/index.js":[85866,86900],"./LogoItalo2/index.js":[78247,68387],"./LogoLNER/index.js":[73653,73482],"./LogoLeBusDirect/index.js":[46195,12257],"./LogoLeoExpress/index.js":[113,73369],"./LogoLinebus/index.js":[37409,41240],"./LogoLondonNorthwesternRailways/index.js":[69055,64806],"./LogoLumo/index.js":[56307,578],"./LogoMarino/index.js":[93307,95287,16980],"./LogoMarinoAutolinee/index.js":[62369,49843],"./LogoMarozzi/index.js":[22426,73379],"./LogoMaxJeune/index.js":[16843,40996],"./LogoMaxSenior/index.js":[76816,24809],"./LogoMeridian/index.js":[38154,19810],"./LogoMerseyrail/index.js":[95118,30194],"./LogoMtrx/index.js":[39901,40685],"./LogoNationalRailAccredited/index.js":[62311,69183,16709],"./LogoNettbus/index.js":[70972,18273],"./LogoNightjet/index.js":[99118,46072],"./LogoNord/index.js":[36986,5657],"./LogoNorthern/index.js":[21771,92169],"./LogoNorwegianRail/index.js":[30855,54673],"./LogoNs/index.js":[77062,5529],"./LogoObb/index.js":[66185,8265],"./LogoOperatedByAbellio/index.js":[84258,96304],"./LogoOperatedByWestmidlandsTrains/index.js":[73815,82293],"./LogoOuibus/index.js":[36437,61185],"./LogoOuigo/index.js":[89771,59519],"./LogoOuigoClassique/index.js":[30158,11443,78413],"./LogoQjump/index.js":[57028,40227],"./LogoRailjet/index.js":[31394,40698],"./LogoRedeExpressos/index.js":[33297,28455],"./LogoRegiojet/index.js":[36593,49222],"./LogoRenfe/index.js":[32366,50939],"./LogoRenfeAlvia/index.js":[60687,42016],"./LogoRenfeAvant/index.js":[39503,51259],"./LogoRenfeAve/index.js":[94954,61846],"./LogoRenfeAvlo/index.js":[2208,29710],"./LogoRenfeSNCF/index.js":[964,6407],"./LogoSNCB/index.js":[71753,99517],"./LogoSNCF/index.js":[86482,9860],"./LogoSagales/index.js":[31451,1495],"./LogoSaisAutolinee/index.js":[76867,80235],"./LogoSaisRegional/index.js":[45381,12474],"./LogoSatam/index.js":[68822,86042],"./LogoScotrail/index.js":[42546,3759,46025],"./LogoSitbus/index.js":[13469,1719],"./LogoSj/index.js":[88425,91222],"./LogoSlovakLines/index.js":[61475,9264],"./LogoSocibus/index.js":[14437,98789],"./LogoSouthern/index.js":[87856,80819],"./LogoTerravision/index.js":[38541,2185],"./LogoTgvInoui/index.js":[74249,25684],"./LogoTgvLyria/index.js":[59514,98963],"./LogoTgvMax/index.js":[70065,79447],"./LogoThamesLink/index.js":[37551,90236],"./LogoThello/index.js":[45587,18945],"./LogoTrafnidiaethCymruTransportForWales/index.js":[86075,66787],"./LogoTrainCarrierUnknown/index.js":[40014,83758],"./LogoTransPennineExpress/index.js":[55044,7310],"./LogoTransportScotlandComhdhailAlba/index.js":[82104,18120],"./LogoTransportScotlandComhdhailAlba2/index.js":[49133,85920],"./LogoTrenitalia/index.js":[77618,84],"./LogoTrenitaliaEc/index.js":[84537,49424],"./LogoTrenitaliaEn/index.js":[48389,18591],"./LogoTrenitaliaFull/index.js":[351,66296],"./LogoTrenitaliaIcn/index.js":[11555,82421],"./LogoTrenitaliaRe/index.js":[51862,48822],"./LogoTrenitaliaReg/index.js":[78409,78973],"./LogoTrenitaliaRv/index.js":[7610,78703],"./LogoTrenitaliaSfm1/index.js":[51501,48928],"./LogoTrenitaliaSfm2/index.js":[16530,47923],"./LogoTrenitaliaSfm3/index.js":[20123,48202],"./LogoTrenitaliaSfm4/index.js":[91744,72004],"./LogoTrenitaliaSfm6/index.js":[54507,39564],"./LogoTrenitaliaSfm7/index.js":[90828,25131],"./LogoTrenitaliaSfma/index.js":[20003,4577],"./LogoTrenitaliaSfmb/index.js":[28848,74148],"./LogoTrenord/index.js":[635,41677],"./LogoTrilex/index.js":[97772,59965],"./LogoUnionIvkoni/index.js":[68295,79794,32849],"./LogoVibasa/index.js":[72986,94262],"./LogoVlexx/index.js":[92027,97241],"./LogoWestMidlandsRailway/index.js":[85812,32062],"./LogoWestbahn/index.js":[81907,10965],"./shared/index.js":[60895,69183,29189,90034,3759,96621,44419,86566,95287,13679,95775,71088,79794,36663,19978,11443,45618]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return Promise.all(r.slice(1).map(t.e)).then((()=>t(n)))}n.keys=()=>Object.keys(a),n.id=70170,e.exports=n},14788:(e,r,t)=>{var a={"./BrandedBusinessTravel/compact/cs":[46605,89445],"./BrandedBusinessTravel/compact/cs.json":[46605,89445],"./BrandedBusinessTravel/compact/da":[92464,56688],"./BrandedBusinessTravel/compact/da.json":[92464,56688],"./BrandedBusinessTravel/compact/de":[45960,93198],"./BrandedBusinessTravel/compact/de-at":[3360,49363],"./BrandedBusinessTravel/compact/de-at.json":[3360,49363],"./BrandedBusinessTravel/compact/de-ch":[14898,76634],"./BrandedBusinessTravel/compact/de-ch.json":[14898,76634],"./BrandedBusinessTravel/compact/de.json":[45960,93198],"./BrandedBusinessTravel/compact/en":[80260,8501],"./BrandedBusinessTravel/compact/en-us":[82322,83584],"./BrandedBusinessTravel/compact/en-us.json":[82322,83584],"./BrandedBusinessTravel/compact/en.json":[80260,8501],"./BrandedBusinessTravel/compact/es":[39568,17407],"./BrandedBusinessTravel/compact/es.json":[39568,17407],"./BrandedBusinessTravel/compact/fr":[64519,81797],"./BrandedBusinessTravel/compact/fr-ch":[13107,24477],"./BrandedBusinessTravel/compact/fr-ch.json":[13107,24477],"./BrandedBusinessTravel/compact/fr.json":[64519,81797],"./BrandedBusinessTravel/compact/it":[2525,2726],"./BrandedBusinessTravel/compact/it-ch":[4141,60293],"./BrandedBusinessTravel/compact/it-ch.json":[4141,60293],"./BrandedBusinessTravel/compact/it.json":[2525,2726],"./BrandedBusinessTravel/compact/nb":[57511,24419],"./BrandedBusinessTravel/compact/nb.json":[57511,24419],"./BrandedBusinessTravel/compact/nl":[38951,15371],"./BrandedBusinessTravel/compact/nl.json":[38951,15371],"./BrandedBusinessTravel/compact/pl":[90225,87513],"./BrandedBusinessTravel/compact/pl.json":[90225,87513],"./BrandedBusinessTravel/compact/pt":[42826,40423],"./BrandedBusinessTravel/compact/pt-br":[56985,17604],"./BrandedBusinessTravel/compact/pt-br.json":[56985,17604],"./BrandedBusinessTravel/compact/pt.json":[42826,40423],"./BrandedBusinessTravel/compact/sv":[16e3,90085],"./BrandedBusinessTravel/compact/sv.json":[16e3,90085],"./BrandedBusinessTravel/compact/zh":[93489,36681],"./BrandedBusinessTravel/compact/zh.json":[93489,36681],"./BrandedBusinessTravel/cs":[6980,59190],"./BrandedBusinessTravel/cs.json":[6980,59190],"./BrandedBusinessTravel/da":[29626,94611],"./BrandedBusinessTravel/da.json":[29626,94611],"./BrandedBusinessTravel/de":[5575,97533],"./BrandedBusinessTravel/de-at":[32920,99625],"./BrandedBusinessTravel/de-at.json":[32920,99625],"./BrandedBusinessTravel/de-ch":[6182,33858],"./BrandedBusinessTravel/de-ch.json":[6182,33858],"./BrandedBusinessTravel/de.json":[5575,97533],"./BrandedBusinessTravel/en":[4644,22801],"./BrandedBusinessTravel/en-us":[53078,99763],"./BrandedBusinessTravel/en-us.json":[53078,99763],"./BrandedBusinessTravel/en.json":[4644,22801],"./BrandedBusinessTravel/es":[25258,33781],"./BrandedBusinessTravel/es.json":[25258,33781],"./BrandedBusinessTravel/expanded/cs":[20527,59220],"./BrandedBusinessTravel/expanded/cs.json":[20527,59220],"./BrandedBusinessTravel/expanded/da":[30003,33470],"./BrandedBusinessTravel/expanded/da.json":[30003,33470],"./BrandedBusinessTravel/expanded/de":[79066,55133],"./BrandedBusinessTravel/expanded/de-at":[58972,25597],"./BrandedBusinessTravel/expanded/de-at.json":[58972,25597],"./BrandedBusinessTravel/expanded/de-ch":[89629,13176],"./BrandedBusinessTravel/expanded/de-ch.json":[89629,13176],"./BrandedBusinessTravel/expanded/de.json":[79066,55133],"./BrandedBusinessTravel/expanded/en":[92361,79360],"./BrandedBusinessTravel/expanded/en-us":[68853,83824],"./BrandedBusinessTravel/expanded/en-us.json":[68853,83824],"./BrandedBusinessTravel/expanded/en.json":[92361,79360],"./BrandedBusinessTravel/expanded/es":[44914,11476],"./BrandedBusinessTravel/expanded/es.json":[44914,11476],"./BrandedBusinessTravel/expanded/fr":[85745,41819],"./BrandedBusinessTravel/expanded/fr-ch":[99909,40743],"./BrandedBusinessTravel/expanded/fr-ch.json":[99909,40743],"./BrandedBusinessTravel/expanded/fr.json":[85745,41819],"./BrandedBusinessTravel/expanded/it":[11850,816],"./BrandedBusinessTravel/expanded/it-ch":[54907,52143],"./BrandedBusinessTravel/expanded/it-ch.json":[54907,52143],"./BrandedBusinessTravel/expanded/it.json":[11850,816],"./BrandedBusinessTravel/expanded/nb":[24418,20641],"./BrandedBusinessTravel/expanded/nb.json":[24418,20641],"./BrandedBusinessTravel/expanded/nl":[29086,35403],"./BrandedBusinessTravel/expanded/nl.json":[29086,35403],"./BrandedBusinessTravel/expanded/pl":[8294,79724],"./BrandedBusinessTravel/expanded/pl.json":[8294,79724],"./BrandedBusinessTravel/expanded/pt":[65729,73498],"./BrandedBusinessTravel/expanded/pt-br":[28558,31587],"./BrandedBusinessTravel/expanded/pt-br.json":[28558,31587],"./BrandedBusinessTravel/expanded/pt.json":[65729,73498],"./BrandedBusinessTravel/expanded/sv":[38262,61390],"./BrandedBusinessTravel/expanded/sv.json":[38262,61390],"./BrandedBusinessTravel/expanded/zh":[69108,99234],"./BrandedBusinessTravel/expanded/zh.json":[69108,99234],"./BrandedBusinessTravel/fr":[35769,38268],"./BrandedBusinessTravel/fr-ch":[29143,48905],"./BrandedBusinessTravel/fr-ch.json":[29143,48905],"./BrandedBusinessTravel/fr.json":[35769,38268],"./BrandedBusinessTravel/it":[67333,33228],"./BrandedBusinessTravel/it-ch":[62651,20592],"./BrandedBusinessTravel/it-ch.json":[62651,20592],"./BrandedBusinessTravel/it.json":[67333,33228],"./BrandedBusinessTravel/nb":[83108,5135],"./BrandedBusinessTravel/nb.json":[83108,5135],"./BrandedBusinessTravel/nl":[76157,21244],"./BrandedBusinessTravel/nl.json":[76157,21244],"./BrandedBusinessTravel/pl":[93229,28621],"./BrandedBusinessTravel/pl.json":[93229,28621],"./BrandedBusinessTravel/pt":[27040,357],"./BrandedBusinessTravel/pt-br":[64812,12130],"./BrandedBusinessTravel/pt-br.json":[64812,12130],"./BrandedBusinessTravel/pt.json":[27040,357],"./BrandedBusinessTravel/sv":[90840,69829],"./BrandedBusinessTravel/sv.json":[90840,69829],"./BrandedBusinessTravel/zh":[44127,9884],"./BrandedBusinessTravel/zh.json":[44127,9884],"./CrossCountry/en":[38814,767],"./CrossCountry/en.json":[38814,767],"./EastMidlandsRailway/en":[55787,13287],"./EastMidlandsRailway/en.json":[55787,13287],"./GreaterAnglia/en":[63245,50377],"./GreaterAnglia/en.json":[63245,50377],"./ItaloTravelAgency/en":[93353,46824],"./ItaloTravelAgency/en.json":[93353,46824],"./ItaloTravelAgency/it":[92403,77866],"./ItaloTravelAgency/it.json":[92403,77866],"./Italotreno/en":[91322,49289],"./Italotreno/en.json":[91322,49289],"./Italotreno/it":[80188,57336],"./Italotreno/it.json":[80188,57336],"./Leisure/compact/cs":[35596,16078],"./Leisure/compact/cs.json":[35596,16078],"./Leisure/compact/da":[49644,76211],"./Leisure/compact/da.json":[49644,76211],"./Leisure/compact/de":[27157,10205],"./Leisure/compact/de-at":[19157,2158],"./Leisure/compact/de-at.json":[19157,2158],"./Leisure/compact/de-ch":[52330,34961],"./Leisure/compact/de-ch.json":[52330,34961],"./Leisure/compact/de.json":[27157,10205],"./Leisure/compact/en":[44604,61905],"./Leisure/compact/en-us":[72632,69766],"./Leisure/compact/en-us.json":[72632,69766],"./Leisure/compact/en.json":[44604,61905],"./Leisure/compact/es":[78666,92052],"./Leisure/compact/es.json":[78666,92052],"./Leisure/compact/fr":[99926,50498],"./Leisure/compact/fr-ch":[34439,30976],"./Leisure/compact/fr-ch.json":[34439,30976],"./Leisure/compact/fr.json":[99926,50498],"./Leisure/compact/it":[30891,54453],"./Leisure/compact/it-ch":[69709,1442],"./Leisure/compact/it-ch.json":[69709,1442],"./Leisure/compact/it.json":[30891,54453],"./Leisure/compact/nb":[15908,49630],"./Leisure/compact/nb.json":[15908,49630],"./Leisure/compact/nl":[76138,8239],"./Leisure/compact/nl.json":[76138,8239],"./Leisure/compact/pl":[93387,94601],"./Leisure/compact/pl.json":[93387,94601],"./Leisure/compact/pt":[95145,4857],"./Leisure/compact/pt-br":[52107,78637],"./Leisure/compact/pt-br.json":[52107,78637],"./Leisure/compact/pt.json":[95145,4857],"./Leisure/compact/sv":[25139,85147],"./Leisure/compact/sv.json":[25139,85147],"./Leisure/compact/zh":[64279,41084],"./Leisure/compact/zh.json":[64279,41084],"./Leisure/cs":[29267,46913],"./Leisure/cs.json":[29267,46913],"./Leisure/da":[98366,12565],"./Leisure/da.json":[98366,12565],"./Leisure/de":[88189,14483],"./Leisure/de-at":[79742,35906],"./Leisure/de-at.json":[79742,35906],"./Leisure/de-ch":[2160,87077],"./Leisure/de-ch.json":[2160,87077],"./Leisure/de.json":[88189,14483],"./Leisure/en":[60043,92830],"./Leisure/en-us":[14472,38863],"./Leisure/en-us.json":[14472,38863],"./Leisure/en.json":[60043,92830],"./Leisure/es":[17824,41489],"./Leisure/es.json":[17824,41489],"./Leisure/fr":[56495,74692],"./Leisure/fr-ch":[94766,45920],"./Leisure/fr-ch.json":[94766,45920],"./Leisure/fr.json":[56495,74692],"./Leisure/it":[53250,57106],"./Leisure/it-ch":[83761,12436],"./Leisure/it-ch.json":[83761,12436],"./Leisure/it.json":[53250,57106],"./Leisure/nb":[66585,12176],"./Leisure/nb.json":[66585,12176],"./Leisure/nl":[56361,52105],"./Leisure/nl.json":[56361,52105],"./Leisure/pl":[69334,66132],"./Leisure/pl.json":[69334,66132],"./Leisure/pt":[21362,64577],"./Leisure/pt-br":[19135,44284],"./Leisure/pt-br.json":[19135,44284],"./Leisure/pt.json":[21362,64577],"./Leisure/sv":[88712,52859],"./Leisure/sv.json":[88712,52859],"./Leisure/zh":[14307,54099],"./Leisure/zh.json":[14307,54099],"./LondonNorthwesternRailway/en":[28411,18974],"./LondonNorthwesternRailway/en.json":[28411,18974],"./NorthernRailway/en":[46498,12035],"./NorthernRailway/en.json":[46498,12035],"./ScotRail/en":[44592,41817],"./ScotRail/en.json":[44592,41817],"./TrainHugger/en":[78392,34424],"./TrainHugger/en.json":[78392,34424],"./WestMidlandsRailway/en":[97085,34940],"./WestMidlandsRailway/en.json":[97085,34940]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=14788,e.exports=n},30652:(e,r,t)=>{var a={"./locales-no-smartling/BrandedBusinessTravel/cs-CZ.json":[7568,85006],"./locales-no-smartling/BrandedBusinessTravel/da-DK.json":[98620,99912],"./locales-no-smartling/BrandedBusinessTravel/de-AT.json":[13437,81388],"./locales-no-smartling/BrandedBusinessTravel/de-CH.json":[39106,89161],"./locales-no-smartling/BrandedBusinessTravel/de-DE.json":[78727,15052],"./locales-no-smartling/BrandedBusinessTravel/en-GB.json":[21897,22169],"./locales-no-smartling/BrandedBusinessTravel/en-US.json":[56445,2329],"./locales-no-smartling/BrandedBusinessTravel/es-ES.json":[50505,64665],"./locales-no-smartling/BrandedBusinessTravel/fr-CH.json":[15052,62355],"./locales-no-smartling/BrandedBusinessTravel/fr-FR.json":[40634,28523],"./locales-no-smartling/BrandedBusinessTravel/it-CH.json":[33256,18666],"./locales-no-smartling/BrandedBusinessTravel/it-IT.json":[97231,8426],"./locales-no-smartling/BrandedBusinessTravel/nb-NO.json":[56580,4531],"./locales-no-smartling/BrandedBusinessTravel/nl-NL.json":[50551,65093],"./locales-no-smartling/BrandedBusinessTravel/pl-PL.json":[97816,49921],"./locales-no-smartling/BrandedBusinessTravel/pt-BR.json":[89031,37048],"./locales-no-smartling/BrandedBusinessTravel/pt-PT.json":[56947,67831],"./locales-no-smartling/BrandedBusinessTravel/sv-SE.json":[20750,7889],"./locales-no-smartling/BrandedBusinessTravel/zh-CN.json":[61749,49909],"./locales-no-smartling/CrossCountry/en-GB.json":[8994,49698],"./locales-no-smartling/EastMidlandsRailway/en-GB.json":[20499,5881],"./locales-no-smartling/GreaterAnglia/en-GB.json":[96138,64971],"./locales-no-smartling/ItaloTravelAgency/en-GB.json":[5283,3722],"./locales-no-smartling/Italotreno/en-GB.json":[17658,69749],"./locales-no-smartling/Leisure/cs-CZ.json":[49157,92360],"./locales-no-smartling/Leisure/da-DK.json":[6094,78870],"./locales-no-smartling/Leisure/de-AT.json":[37369,37169],"./locales-no-smartling/Leisure/de-CH.json":[16164,48357],"./locales-no-smartling/Leisure/de-DE.json":[57494,90311],"./locales-no-smartling/Leisure/en-GB.json":[78971,50704],"./locales-no-smartling/Leisure/en-US.json":[91917,9613],"./locales-no-smartling/Leisure/es-ES.json":[35421,10703],"./locales-no-smartling/Leisure/fr-CH.json":[61996,47021],"./locales-no-smartling/Leisure/fr-FR.json":[4312,76246],"./locales-no-smartling/Leisure/it-CH.json":[25890,67942],"./locales-no-smartling/Leisure/it-IT.json":[72701,33813],"./locales-no-smartling/Leisure/nb-NO.json":[58842,83542],"./locales-no-smartling/Leisure/nl-NL.json":[34063,69466],"./locales-no-smartling/Leisure/pl-PL.json":[8181,49301],"./locales-no-smartling/Leisure/pt-BR.json":[48886,19628],"./locales-no-smartling/Leisure/pt-PT.json":[93495,24868],"./locales-no-smartling/Leisure/sv-SE.json":[7332,619],"./locales-no-smartling/Leisure/zh-CN.json":[49100,42283],"./locales-no-smartling/LondonNorthwesternRailway/en-GB.json":[28344,16174],"./locales-no-smartling/NorthernRailway/en-GB.json":[58845,68118],"./locales-no-smartling/QJump/en-GB.json":[33070,85454],"./locales-no-smartling/ScotRail/en-GB.json":[46073,99470],"./locales-no-smartling/TrainHugger/en-GB.json":[54972,49533],"./locales-no-smartling/WestMidlandsRailway/en-GB.json":[65088,76932],"./locales/BrandedBusinessTravel/cs-CZ.json":[59341,12521],"./locales/BrandedBusinessTravel/da-DK.json":[65453,15261],"./locales/BrandedBusinessTravel/de-AT.json":[77720,36661],"./locales/BrandedBusinessTravel/de-CH.json":[28847,34374],"./locales/BrandedBusinessTravel/de-DE.json":[8502,51921],"./locales/BrandedBusinessTravel/en-GB.json":[26477,33459],"./locales/BrandedBusinessTravel/en-US.json":[97763,50209],"./locales/BrandedBusinessTravel/es-ES.json":[29285,56496],"./locales/BrandedBusinessTravel/fr-CH.json":[96602,89770],"./locales/BrandedBusinessTravel/fr-FR.json":[95718,55306],"./locales/BrandedBusinessTravel/it-CH.json":[20269,55529],"./locales/BrandedBusinessTravel/it-IT.json":[77457,27464],"./locales/BrandedBusinessTravel/nb-NO.json":[23585,84142],"./locales/BrandedBusinessTravel/nl-NL.json":[72362,8521],"./locales/BrandedBusinessTravel/pl-PL.json":[73547,29971],"./locales/BrandedBusinessTravel/pt-BR.json":[80616,12460],"./locales/BrandedBusinessTravel/pt-PT.json":[59508,56605],"./locales/BrandedBusinessTravel/sv-SE.json":[88971,41985],"./locales/BrandedBusinessTravel/zh-CN.json":[80360,42656],"./locales/CrossCountry/cs-CZ.json":[67820,4159],"./locales/CrossCountry/da-DK.json":[88348,48160],"./locales/CrossCountry/de-AT.json":[48318,14108],"./locales/CrossCountry/de-CH.json":[71582,98720],"./locales/CrossCountry/de-DE.json":[88598,18856],"./locales/CrossCountry/en-GB.json":[94021,87670],"./locales/CrossCountry/en-US.json":[10964,18308],"./locales/CrossCountry/es-ES.json":[94166,28484],"./locales/CrossCountry/fr-CH.json":[7400,35228],"./locales/CrossCountry/fr-FR.json":[19211,4280],"./locales/CrossCountry/it-CH.json":[83193,58326],"./locales/CrossCountry/it-IT.json":[37627,96267],"./locales/CrossCountry/nb-NO.json":[50347,54801],"./locales/CrossCountry/nl-NL.json":[36997,5106],"./locales/CrossCountry/pl-PL.json":[94222,34983],"./locales/CrossCountry/pt-BR.json":[28732,31413],"./locales/CrossCountry/pt-PT.json":[18451,38651],"./locales/CrossCountry/sv-SE.json":[73072,62242],"./locales/CrossCountry/zh-CN.json":[31365,38228],"./locales/EastMidlandsRailway/cs-CZ.json":[90875,17995],"./locales/EastMidlandsRailway/da-DK.json":[12848,58725],"./locales/EastMidlandsRailway/de-AT.json":[11707,30004],"./locales/EastMidlandsRailway/de-CH.json":[99136,46412],"./locales/EastMidlandsRailway/de-DE.json":[44843,15090],"./locales/EastMidlandsRailway/en-GB.json":[47857,87562],"./locales/EastMidlandsRailway/en-US.json":[39549,67892],"./locales/EastMidlandsRailway/es-ES.json":[1450,68337],"./locales/EastMidlandsRailway/fr-CH.json":[76060,61300],"./locales/EastMidlandsRailway/fr-FR.json":[93960,11560],"./locales/EastMidlandsRailway/it-CH.json":[54247,72947],"./locales/EastMidlandsRailway/it-IT.json":[63422,26257],"./locales/EastMidlandsRailway/nb-NO.json":[68983,20948],"./locales/EastMidlandsRailway/nl-NL.json":[62536,50816],"./locales/EastMidlandsRailway/pl-PL.json":[37487,92711],"./locales/EastMidlandsRailway/pt-BR.json":[65812,4138],"./locales/EastMidlandsRailway/pt-PT.json":[83907,32010],"./locales/EastMidlandsRailway/sv-SE.json":[74022,17078],"./locales/EastMidlandsRailway/zh-CN.json":[98884,37839],"./locales/GreaterAnglia/cs-CZ.json":[68673,48927],"./locales/GreaterAnglia/da-DK.json":[18535,56803],"./locales/GreaterAnglia/de-AT.json":[71337,93107],"./locales/GreaterAnglia/de-CH.json":[45803,24931],"./locales/GreaterAnglia/de-DE.json":[43787,26611],"./locales/GreaterAnglia/en-GB.json":[65711,78210],"./locales/GreaterAnglia/en-US.json":[10354,50342],"./locales/GreaterAnglia/es-ES.json":[81869,65557],"./locales/GreaterAnglia/fr-CH.json":[17839,71777],"./locales/GreaterAnglia/fr-FR.json":[96170,47833],"./locales/GreaterAnglia/it-CH.json":[65798,54076],"./locales/GreaterAnglia/it-IT.json":[82501,9978],"./locales/GreaterAnglia/nb-NO.json":[81114,37489],"./locales/GreaterAnglia/nl-NL.json":[90321,91238],"./locales/GreaterAnglia/pl-PL.json":[51603,15888],"./locales/GreaterAnglia/pt-BR.json":[69962,30014],"./locales/GreaterAnglia/pt-PT.json":[52385,72816],"./locales/GreaterAnglia/sv-SE.json":[99636,75338],"./locales/GreaterAnglia/zh-CN.json":[53661,93465],"./locales/ItaloTravelAgency/cs-CZ.json":[89,79033],"./locales/ItaloTravelAgency/da-DK.json":[82170,36828],"./locales/ItaloTravelAgency/de-AT.json":[31582,65278],"./locales/ItaloTravelAgency/de-CH.json":[76433,6658],"./locales/ItaloTravelAgency/de-DE.json":[20489,47135],"./locales/ItaloTravelAgency/en-GB.json":[9176,40178],"./locales/ItaloTravelAgency/en-US.json":[75359,98817],"./locales/ItaloTravelAgency/es-ES.json":[92056,45449],"./locales/ItaloTravelAgency/fr-CH.json":[33414,26068],"./locales/ItaloTravelAgency/fr-FR.json":[11496,64825],"./locales/ItaloTravelAgency/it-CH.json":[14364,78899],"./locales/ItaloTravelAgency/it-IT.json":[37993,16025],"./locales/ItaloTravelAgency/nb-NO.json":[86471,23245],"./locales/ItaloTravelAgency/nl-NL.json":[23514,66569],"./locales/ItaloTravelAgency/pl-PL.json":[13273,90383],"./locales/ItaloTravelAgency/pt-BR.json":[63113,66087],"./locales/ItaloTravelAgency/pt-PT.json":[39742,67462],"./locales/ItaloTravelAgency/sv-SE.json":[86312,24361],"./locales/ItaloTravelAgency/zh-CN.json":[56425,28766],"./locales/Italotreno/cs-CZ.json":[36376,3e3],"./locales/Italotreno/da-DK.json":[23217,9561],"./locales/Italotreno/de-AT.json":[98314,10092],"./locales/Italotreno/de-CH.json":[2454,21098],"./locales/Italotreno/de-DE.json":[47290,63813],"./locales/Italotreno/en-GB.json":[3986,26053],"./locales/Italotreno/en-US.json":[6620,63384],"./locales/Italotreno/es-ES.json":[83662,78935],"./locales/Italotreno/fr-CH.json":[70031,35872],"./locales/Italotreno/fr-FR.json":[7010,2771],"./locales/Italotreno/it-CH.json":[71427,79888],"./locales/Italotreno/it-IT.json":[59221,45433],"./locales/Italotreno/nb-NO.json":[424,14058],"./locales/Italotreno/nl-NL.json":[71612,19990],"./locales/Italotreno/pl-PL.json":[52854,87781],"./locales/Italotreno/pt-BR.json":[97640,14536],"./locales/Italotreno/pt-PT.json":[39406,44176],"./locales/Italotreno/sv-SE.json":[27519,97640],"./locales/Italotreno/zh-CN.json":[41220,71517],"./locales/Leisure/cs-CZ.json":[41831,77439],"./locales/Leisure/da-DK.json":[24342,58993],"./locales/Leisure/de-AT.json":[20735,81832],"./locales/Leisure/de-CH.json":[79876,56330],"./locales/Leisure/de-DE.json":[54169,72496],"./locales/Leisure/en-GB.json":[41247,21521],"./locales/Leisure/en-US.json":[30367,92725],"./locales/Leisure/es-ES.json":[44027,22982],"./locales/Leisure/fr-CH.json":[93296,21877],"./locales/Leisure/fr-FR.json":[15331,4392],"./locales/Leisure/it-CH.json":[86940,49583],"./locales/Leisure/it-IT.json":[45053,15395],"./locales/Leisure/nb-NO.json":[423,2606],"./locales/Leisure/nl-NL.json":[53625,20897],"./locales/Leisure/pl-PL.json":[57307,47630],"./locales/Leisure/pt-BR.json":[90727,52174],"./locales/Leisure/pt-PT.json":[29572,94689],"./locales/Leisure/sv-SE.json":[13576,86433],"./locales/Leisure/zh-CN.json":[91199,29866],"./locales/LondonNorthwesternRailway/cs-CZ.json":[94330,1760],"./locales/LondonNorthwesternRailway/da-DK.json":[99300,95832],"./locales/LondonNorthwesternRailway/de-AT.json":[83790,3347],"./locales/LondonNorthwesternRailway/de-CH.json":[24569,99390],"./locales/LondonNorthwesternRailway/de-DE.json":[40193,10108],"./locales/LondonNorthwesternRailway/en-GB.json":[85810,57088],"./locales/LondonNorthwesternRailway/en-US.json":[61567,28531],"./locales/LondonNorthwesternRailway/es-ES.json":[57325,53210],"./locales/LondonNorthwesternRailway/fr-CH.json":[52065,39515],"./locales/LondonNorthwesternRailway/fr-FR.json":[5529,86549],"./locales/LondonNorthwesternRailway/it-CH.json":[44963,92517],"./locales/LondonNorthwesternRailway/it-IT.json":[83921,42395],"./locales/LondonNorthwesternRailway/nb-NO.json":[59164,5683],"./locales/LondonNorthwesternRailway/nl-NL.json":[29586,74415],"./locales/LondonNorthwesternRailway/pl-PL.json":[54395,22434],"./locales/LondonNorthwesternRailway/pt-BR.json":[63208,2927],"./locales/LondonNorthwesternRailway/pt-PT.json":[29598,15489],"./locales/LondonNorthwesternRailway/sv-SE.json":[17357,76101],"./locales/LondonNorthwesternRailway/zh-CN.json":[34455,5992],"./locales/NorthernRailway/cs-CZ.json":[93737,31690],"./locales/NorthernRailway/da-DK.json":[90465,86401],"./locales/NorthernRailway/de-AT.json":[68065,9592],"./locales/NorthernRailway/de-CH.json":[77485,52750],"./locales/NorthernRailway/de-DE.json":[3959,51147],"./locales/NorthernRailway/en-GB.json":[42642,91232],"./locales/NorthernRailway/en-US.json":[41726,18010],"./locales/NorthernRailway/es-ES.json":[89457,11781],"./locales/NorthernRailway/fr-CH.json":[42095,95688],"./locales/NorthernRailway/fr-FR.json":[38804,72537],"./locales/NorthernRailway/it-CH.json":[61249,55726],"./locales/NorthernRailway/it-IT.json":[80472,21981],"./locales/NorthernRailway/nb-NO.json":[29892,77940],"./locales/NorthernRailway/nl-NL.json":[90016,78383],"./locales/NorthernRailway/pl-PL.json":[56042,47357],"./locales/NorthernRailway/pt-BR.json":[48792,90248],"./locales/NorthernRailway/pt-PT.json":[72025,93502],"./locales/NorthernRailway/sv-SE.json":[30047,73598],"./locales/NorthernRailway/zh-CN.json":[73202,74239],"./locales/QJump/cs-CZ.json":[74229,60744],"./locales/QJump/da-DK.json":[11467,16427],"./locales/QJump/de-AT.json":[61676,14194],"./locales/QJump/de-CH.json":[87276,68110],"./locales/QJump/de-DE.json":[69470,54127],"./locales/QJump/en-GB.json":[92451,85368],"./locales/QJump/en-US.json":[22904,38743],"./locales/QJump/es-ES.json":[16022,10850],"./locales/QJump/fr-CH.json":[25551,53718],"./locales/QJump/fr-FR.json":[83618,48175],"./locales/QJump/it-CH.json":[36684,75224],"./locales/QJump/it-IT.json":[19750,5757],"./locales/QJump/nb-NO.json":[50622,69551],"./locales/QJump/nl-NL.json":[31048,42708],"./locales/QJump/pl-PL.json":[7498,96139],"./locales/QJump/pt-BR.json":[81038,21201],"./locales/QJump/pt-PT.json":[91656,58931],"./locales/QJump/sv-SE.json":[49616,75752],"./locales/QJump/zh-CN.json":[16340,96729],"./locales/ScotRail/cs-CZ.json":[59650,68827],"./locales/ScotRail/da-DK.json":[12200,89413],"./locales/ScotRail/de-AT.json":[11725,87164],"./locales/ScotRail/de-CH.json":[29766,68349],"./locales/ScotRail/de-DE.json":[43733,5786],"./locales/ScotRail/en-GB.json":[44448,37842],"./locales/ScotRail/en-US.json":[93671,25616],"./locales/ScotRail/es-ES.json":[33700,96018],"./locales/ScotRail/fr-CH.json":[83044,69666],"./locales/ScotRail/fr-FR.json":[32047,62133],"./locales/ScotRail/it-CH.json":[85421,7361],"./locales/ScotRail/it-IT.json":[81616,62539],"./locales/ScotRail/nb-NO.json":[89730,88331],"./locales/ScotRail/nl-NL.json":[92983,86584],"./locales/ScotRail/pl-PL.json":[41109,33454],"./locales/ScotRail/pt-BR.json":[18031,68041],"./locales/ScotRail/pt-PT.json":[90955,15307],"./locales/ScotRail/sv-SE.json":[34067,13875],"./locales/ScotRail/zh-CN.json":[15674,50573],"./locales/TrainHugger/cs-CZ.json":[29716,43264],"./locales/TrainHugger/da-DK.json":[24109,46232],"./locales/TrainHugger/de-AT.json":[50956,86935],"./locales/TrainHugger/de-CH.json":[78630,32786],"./locales/TrainHugger/de-DE.json":[7549,97003],"./locales/TrainHugger/en-GB.json":[95879,17422],"./locales/TrainHugger/en-US.json":[60446,62218],"./locales/TrainHugger/es-ES.json":[88093,14373],"./locales/TrainHugger/fr-CH.json":[35375,75733],"./locales/TrainHugger/fr-FR.json":[3664,43631],"./locales/TrainHugger/it-CH.json":[8913,61760],"./locales/TrainHugger/it-IT.json":[82130,97980],"./locales/TrainHugger/nb-NO.json":[31832,56415],"./locales/TrainHugger/nl-NL.json":[23691,53940],"./locales/TrainHugger/pl-PL.json":[30474,48259],"./locales/TrainHugger/pt-BR.json":[28792,15242],"./locales/TrainHugger/pt-PT.json":[71591,85255],"./locales/TrainHugger/sv-SE.json":[51431,3633],"./locales/TrainHugger/zh-CN.json":[38283,81698],"./locales/WestMidlandsRailway/cs-CZ.json":[79058,9755],"./locales/WestMidlandsRailway/da-DK.json":[76786,13299],"./locales/WestMidlandsRailway/de-AT.json":[8044,93539],"./locales/WestMidlandsRailway/de-CH.json":[20398,25544],"./locales/WestMidlandsRailway/de-DE.json":[34581,37290],"./locales/WestMidlandsRailway/en-GB.json":[91872,17123],"./locales/WestMidlandsRailway/en-US.json":[41609,33669],"./locales/WestMidlandsRailway/es-ES.json":[4080,41388],"./locales/WestMidlandsRailway/fr-CH.json":[15213,55020],"./locales/WestMidlandsRailway/fr-FR.json":[86729,42977],"./locales/WestMidlandsRailway/it-CH.json":[19495,92485],"./locales/WestMidlandsRailway/it-IT.json":[41544,49327],"./locales/WestMidlandsRailway/nb-NO.json":[71986,18281],"./locales/WestMidlandsRailway/nl-NL.json":[46824,57923],"./locales/WestMidlandsRailway/pl-PL.json":[38247,38341],"./locales/WestMidlandsRailway/pt-BR.json":[73737,62718],"./locales/WestMidlandsRailway/pt-PT.json":[33241,3086],"./locales/WestMidlandsRailway/sv-SE.json":[3566,73773],"./locales/WestMidlandsRailway/zh-CN.json":[80899,94820]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=30652,e.exports=n},59374:(e,r,t)=>{var a={"./CrossCountry/en-GB.json":[79706,85467],"./EastMidlandsRailway/en-GB.json":[81019,81086],"./GreaterAnglia/en-GB.json":[33358,51982],"./LondonNorthwesternRailway/en-GB.json":[35507,50665],"./NorthernRailway/en-GB.json":[11071,41061],"./ScotRail/en-GB.json":[30374,33968],"./TrainHugger/en-GB.json":[48069,98618],"./WestMidlandsRailway/en-GB.json":[87096,19072]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=59374,e.exports=n},89621:(e,r,t)=>{var a={"./cs-CZ.json":[50600,3433],"./da-DK.json":[26777,3929],"./de-AT.json":[71407,48986],"./de-CH.json":[59901,72784],"./de-DE.json":[91359,92074],"./en-GB.json":[21147,29255],"./en-US.json":[22332,94553],"./es-ES.json":[30411,87582],"./fr-CH.json":[2256,74298],"./fr-FR.json":[66617,69286],"./it-CH.json":[33300,98032],"./it-IT.json":[86306,50916],"./nb-NO.json":[60283,32652],"./nl-NL.json":[95413,5556],"./pl-PL.json":[77699,97047],"./portals/CrossCountry/cs-CZ.json":[10465,52557],"./portals/CrossCountry/da-DK.json":[5231,27593],"./portals/CrossCountry/de-AT.json":[88132,4254],"./portals/CrossCountry/de-CH.json":[66322,29062],"./portals/CrossCountry/de-DE.json":[84771,31545],"./portals/CrossCountry/en-GB.json":[79706,85467],"./portals/CrossCountry/en-US.json":[61303,58739],"./portals/CrossCountry/es-ES.json":[50520,2611],"./portals/CrossCountry/fr-CH.json":[44109,17529],"./portals/CrossCountry/fr-FR.json":[28193,66429],"./portals/CrossCountry/it-CH.json":[81770,6103],"./portals/CrossCountry/it-IT.json":[83461,11641],"./portals/CrossCountry/nb-NO.json":[87640,31958],"./portals/CrossCountry/nl-NL.json":[50689,65945],"./portals/CrossCountry/pl-PL.json":[85390,64627],"./portals/CrossCountry/pt-BR.json":[42695,98675],"./portals/CrossCountry/pt-PT.json":[4164,48499],"./portals/CrossCountry/sv-SE.json":[77027,13915],"./portals/CrossCountry/zh-CN.json":[9801,43929],"./portals/EastMidlandsRailway/cs-CZ.json":[36127,90745],"./portals/EastMidlandsRailway/da-DK.json":[5686,47562],"./portals/EastMidlandsRailway/de-AT.json":[46127,80083],"./portals/EastMidlandsRailway/de-CH.json":[54578,47783],"./portals/EastMidlandsRailway/de-DE.json":[84765,87080],"./portals/EastMidlandsRailway/en-GB.json":[81019,81086],"./portals/EastMidlandsRailway/en-US.json":[68113,53728],"./portals/EastMidlandsRailway/es-ES.json":[79084,45406],"./portals/EastMidlandsRailway/fr-CH.json":[83887,29102],"./portals/EastMidlandsRailway/fr-FR.json":[25070,75467],"./portals/EastMidlandsRailway/it-CH.json":[12721,29989],"./portals/EastMidlandsRailway/it-IT.json":[14311,97676],"./portals/EastMidlandsRailway/nb-NO.json":[97490,10240],"./portals/EastMidlandsRailway/nl-NL.json":[57776,61525],"./portals/EastMidlandsRailway/pl-PL.json":[81602,97632],"./portals/EastMidlandsRailway/pt-BR.json":[34396,33274],"./portals/EastMidlandsRailway/pt-PT.json":[29566,55229],"./portals/EastMidlandsRailway/sv-SE.json":[18778,88],"./portals/EastMidlandsRailway/zh-CN.json":[63583,2294],"./portals/GreaterAnglia/cs-CZ.json":[99221,56587],"./portals/GreaterAnglia/da-DK.json":[45502,14228],"./portals/GreaterAnglia/de-AT.json":[54270,35941],"./portals/GreaterAnglia/de-CH.json":[74041,48172],"./portals/GreaterAnglia/de-DE.json":[20558,3338],"./portals/GreaterAnglia/en-GB.json":[33358,51982],"./portals/GreaterAnglia/en-US.json":[63163,20454],"./portals/GreaterAnglia/es-ES.json":[27456,97616],"./portals/GreaterAnglia/fr-CH.json":[16348,2890],"./portals/GreaterAnglia/fr-FR.json":[40735,4709],"./portals/GreaterAnglia/it-CH.json":[64032,71887],"./portals/GreaterAnglia/it-IT.json":[89862,64148],"./portals/GreaterAnglia/nb-NO.json":[22942,83009],"./portals/GreaterAnglia/nl-NL.json":[48799,45854],"./portals/GreaterAnglia/pl-PL.json":[31039,75565],"./portals/GreaterAnglia/pt-BR.json":[70285,68844],"./portals/GreaterAnglia/pt-PT.json":[90755,6341],"./portals/GreaterAnglia/sv-SE.json":[17536,69637],"./portals/GreaterAnglia/zh-CN.json":[9310,17001],"./portals/LondonNorthwesternRailway/cs-CZ.json":[27226,67775],"./portals/LondonNorthwesternRailway/da-DK.json":[59657,71219],"./portals/LondonNorthwesternRailway/de-AT.json":[20223,98517],"./portals/LondonNorthwesternRailway/de-CH.json":[68413,22595],"./portals/LondonNorthwesternRailway/de-DE.json":[73029,80823],"./portals/LondonNorthwesternRailway/en-GB.json":[35507,50665],"./portals/LondonNorthwesternRailway/en-US.json":[78932,21746],"./portals/LondonNorthwesternRailway/es-ES.json":[24132,65955],"./portals/LondonNorthwesternRailway/fr-CH.json":[65580,49577],"./portals/LondonNorthwesternRailway/fr-FR.json":[1081,95638],"./portals/LondonNorthwesternRailway/it-CH.json":[94539,54968],"./portals/LondonNorthwesternRailway/it-IT.json":[1808,71909],"./portals/LondonNorthwesternRailway/nb-NO.json":[32223,72658],"./portals/LondonNorthwesternRailway/nl-NL.json":[39303,37036],"./portals/LondonNorthwesternRailway/pl-PL.json":[33678,29723],"./portals/LondonNorthwesternRailway/pt-BR.json":[7558,43786],"./portals/LondonNorthwesternRailway/pt-PT.json":[71366,29448],"./portals/LondonNorthwesternRailway/sv-SE.json":[74048,31836],"./portals/LondonNorthwesternRailway/zh-CN.json":[78215,75463],"./portals/NorthernRailway/cs-CZ.json":[25197,55908],"./portals/NorthernRailway/da-DK.json":[16817,55088],"./portals/NorthernRailway/de-AT.json":[10675,88822],"./portals/NorthernRailway/de-CH.json":[88865,20],"./portals/NorthernRailway/de-DE.json":[47040,78227],"./portals/NorthernRailway/en-GB.json":[11071,41061],"./portals/NorthernRailway/en-US.json":[23757,61770],"./portals/NorthernRailway/es-ES.json":[5225,99678],"./portals/NorthernRailway/fr-CH.json":[87848,17682],"./portals/NorthernRailway/fr-FR.json":[36356,84931],"./portals/NorthernRailway/it-CH.json":[46285,54315],"./portals/NorthernRailway/it-IT.json":[95308,25839],"./portals/NorthernRailway/nb-NO.json":[32026,47683],"./portals/NorthernRailway/nl-NL.json":[62022,57495],"./portals/NorthernRailway/pl-PL.json":[50687,95380],"./portals/NorthernRailway/pt-BR.json":[78553,89458],"./portals/NorthernRailway/pt-PT.json":[49380,39257],"./portals/NorthernRailway/sv-SE.json":[85409,37601],"./portals/NorthernRailway/zh-CN.json":[61929,75514],"./portals/ScotRail/cs-CZ.json":[40090,87540],"./portals/ScotRail/da-DK.json":[39054,75995],"./portals/ScotRail/de-AT.json":[24558,2336],"./portals/ScotRail/de-CH.json":[96454,35263],"./portals/ScotRail/de-DE.json":[79416,30938],"./portals/ScotRail/en-GB.json":[30374,33968],"./portals/ScotRail/en-US.json":[19981,2809],"./portals/ScotRail/es-ES.json":[97198,68548],"./portals/ScotRail/fr-CH.json":[91054,50937],"./portals/ScotRail/fr-FR.json":[43758,35570],"./portals/ScotRail/it-CH.json":[79422,1308],"./portals/ScotRail/it-IT.json":[96751,7386],"./portals/ScotRail/nb-NO.json":[55995,19886],"./portals/ScotRail/nl-NL.json":[54062,54889],"./portals/ScotRail/pl-PL.json":[64494,26509],"./portals/ScotRail/pt-BR.json":[2935,26856],"./portals/ScotRail/pt-PT.json":[9295,87536],"./portals/ScotRail/sv-SE.json":[68772,57225],"./portals/ScotRail/zh-CN.json":[53464,50951],"./portals/TrainHugger/cs-CZ.json":[36408,71473],"./portals/TrainHugger/da-DK.json":[70258,65536],"./portals/TrainHugger/de-AT.json":[39894,96659],"./portals/TrainHugger/de-CH.json":[86025,2395],"./portals/TrainHugger/de-DE.json":[10604,66349],"./portals/TrainHugger/en-GB.json":[48069,98618],"./portals/TrainHugger/en-US.json":[75417,57288],"./portals/TrainHugger/es-ES.json":[29481,3879],"./portals/TrainHugger/fr-CH.json":[57648,51323],"./portals/TrainHugger/fr-FR.json":[885,84815],"./portals/TrainHugger/it-CH.json":[63348,37678],"./portals/TrainHugger/it-IT.json":[58423,45439],"./portals/TrainHugger/nb-NO.json":[53812,60764],"./portals/TrainHugger/nl-NL.json":[38928,15508],"./portals/TrainHugger/pl-PL.json":[43786,93481],"./portals/TrainHugger/pt-BR.json":[74182,11629],"./portals/TrainHugger/pt-PT.json":[15834,62681],"./portals/TrainHugger/sv-SE.json":[3204,20692],"./portals/TrainHugger/zh-CN.json":[15822,13843],"./portals/WestMidlandsRailway/cs-CZ.json":[88591,11434],"./portals/WestMidlandsRailway/da-DK.json":[90315,80433],"./portals/WestMidlandsRailway/de-AT.json":[23786,84120],"./portals/WestMidlandsRailway/de-CH.json":[49601,53821],"./portals/WestMidlandsRailway/de-DE.json":[5591,70576],"./portals/WestMidlandsRailway/en-GB.json":[87096,19072],"./portals/WestMidlandsRailway/en-US.json":[73430,3106],"./portals/WestMidlandsRailway/es-ES.json":[73473,10029],"./portals/WestMidlandsRailway/fr-CH.json":[72171,40323],"./portals/WestMidlandsRailway/fr-FR.json":[84284,35049],"./portals/WestMidlandsRailway/it-CH.json":[61869,48627],"./portals/WestMidlandsRailway/it-IT.json":[18221,91948],"./portals/WestMidlandsRailway/nb-NO.json":[6129,31636],"./portals/WestMidlandsRailway/nl-NL.json":[95428,68832],"./portals/WestMidlandsRailway/pl-PL.json":[56406,17279],"./portals/WestMidlandsRailway/pt-BR.json":[97882,15901],"./portals/WestMidlandsRailway/pt-PT.json":[52038,17824],"./portals/WestMidlandsRailway/sv-SE.json":[94140,6312],"./portals/WestMidlandsRailway/zh-CN.json":[7901,62443],"./pt-BR.json":[32762,33336],"./pt-PT.json":[37253,72256],"./sv-SE.json":[8439,48233],"./zh-CN.json":[30644,25212]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=89621,e.exports=n},16861:(e,r,t)=>{var a={"./BrandedBusinessTravel/cs-CZ.json":[56995,46949],"./BrandedBusinessTravel/da-DK.json":[35643,64031],"./BrandedBusinessTravel/de-AT.json":[95040,25826],"./BrandedBusinessTravel/de-CH.json":[22638,41661],"./BrandedBusinessTravel/de-DE.json":[31753,71817],"./BrandedBusinessTravel/en-GB.json":[60298,57006],"./BrandedBusinessTravel/en-US.json":[11898,8695],"./BrandedBusinessTravel/es-ES.json":[1841,8178],"./BrandedBusinessTravel/fr-CH.json":[34861,55525],"./BrandedBusinessTravel/fr-FR.json":[37988,11479],"./BrandedBusinessTravel/it-CH.json":[35871,86506],"./BrandedBusinessTravel/it-IT.json":[26343,41158],"./BrandedBusinessTravel/nb-NO.json":[19638,8323],"./BrandedBusinessTravel/nl-NL.json":[91470,41891],"./BrandedBusinessTravel/pl-PL.json":[68104,2555],"./BrandedBusinessTravel/pt-BR.json":[36708,57897],"./BrandedBusinessTravel/pt-PT.json":[64017,89188],"./BrandedBusinessTravel/sv-SE.json":[33510,8200],"./BrandedBusinessTravel/zh-CN.json":[73580,63342],"./CrossCountry/en-GB.json":[30767,86725],"./EastMidlandsRailway/en-GB.json":[88532,36203],"./GreaterAnglia/en-GB.json":[43876,2224],"./LondonNorthwesternRailway/en-GB.json":[90928,21159],"./NorthernRailway/en-GB.json":[93463,99792],"./QJump/en-GB.json":[90845,38893],"./ScotRail/en-GB.json":[65783,8298],"./TrainHugger/en-GB.json":[45646,40741],"./WestMidlandsRailway/en-GB.json":[87317,24462]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=16861,e.exports=n},23189:(e,r,t)=>{var a={"./BrandedBusinessTravel/en-GB.json":[60298,57006],"./CrossCountry/en-GB.json":[30767,86725],"./EastMidlandsRailway/en-GB.json":[88532,36203],"./GreaterAnglia/en-GB.json":[43876,2224],"./LondonNorthwesternRailway/en-GB.json":[90928,21159],"./NorthernRailway/en-GB.json":[93463,99792],"./QJump/en-GB.json":[90845,38893],"./ScotRail/en-GB.json":[65783,8298],"./TrainHugger/en-GB.json":[45646,40741],"./WestMidlandsRailway/en-GB.json":[87317,24462]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=23189,e.exports=n},78190:(e,r,t)=>{var a={"./cs-CZ.json":[68235,28951],"./da-DK.json":[74121,54582],"./de-AT.json":[76101,52810],"./de-CH.json":[72313,59253],"./de-DE.json":[26407,2877],"./en-GB.json":[17599,25466],"./en-US.json":[42225,93684],"./es-ES.json":[98187,32674],"./fr-CH.json":[6579,43973],"./fr-FR.json":[66382,98179],"./it-CH.json":[12851,19694],"./it-IT.json":[83840,21927],"./nb-NO.json":[7241,5435],"./nl-NL.json":[14190,70321],"./pl-PL.json":[61979,42614],"./portals/BrandedBusinessTravel/cs-CZ.json":[56995,46949],"./portals/BrandedBusinessTravel/da-DK.json":[35643,64031],"./portals/BrandedBusinessTravel/de-AT.json":[95040,25826],"./portals/BrandedBusinessTravel/de-CH.json":[22638,41661],"./portals/BrandedBusinessTravel/de-DE.json":[31753,71817],"./portals/BrandedBusinessTravel/en-GB.json":[60298,57006],"./portals/BrandedBusinessTravel/en-US.json":[11898,8695],"./portals/BrandedBusinessTravel/es-ES.json":[1841,8178],"./portals/BrandedBusinessTravel/fr-CH.json":[34861,55525],"./portals/BrandedBusinessTravel/fr-FR.json":[37988,11479],"./portals/BrandedBusinessTravel/it-CH.json":[35871,86506],"./portals/BrandedBusinessTravel/it-IT.json":[26343,41158],"./portals/BrandedBusinessTravel/nb-NO.json":[19638,8323],"./portals/BrandedBusinessTravel/nl-NL.json":[91470,41891],"./portals/BrandedBusinessTravel/pl-PL.json":[68104,2555],"./portals/BrandedBusinessTravel/pt-BR.json":[36708,57897],"./portals/BrandedBusinessTravel/pt-PT.json":[64017,89188],"./portals/BrandedBusinessTravel/sv-SE.json":[33510,8200],"./portals/BrandedBusinessTravel/zh-CN.json":[73580,63342],"./portals/CrossCountry/en-GB.json":[30767,86725],"./portals/EastMidlandsRailway/en-GB.json":[88532,36203],"./portals/GreaterAnglia/en-GB.json":[43876,2224],"./portals/LondonNorthwesternRailway/en-GB.json":[90928,21159],"./portals/NorthernRailway/en-GB.json":[93463,99792],"./portals/QJump/en-GB.json":[90845,38893],"./portals/ScotRail/en-GB.json":[65783,8298],"./portals/TrainHugger/en-GB.json":[45646,40741],"./portals/WestMidlandsRailway/en-GB.json":[87317,24462],"./pt-BR.json":[37881,29630],"./pt-PT.json":[52752,84859],"./sv-SE.json":[84801,85565],"./zh-CN.json":[41698,19913]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=78190,e.exports=n},89914:(e,r,t)=>{"use strict";t.d(r,{U:()=>c,o:()=>l});var a=t(50093),n=t(29901),i=t(98184),o=t(88466),s=e=>n.createElement("span",{className:(0,a.css)(o.Z.hidden)},e),l=e=>n.createElement(i.FormattedMessage,e,s),c=e=>{var{children:r}=e;return n.createElement("span",{className:(0,a.css)(o.Z.hidden)},r)}},64553:(e,r,t)=>{"use strict";t.d(r,{EU:()=>m,Er:()=>y,Gh:()=>p,h5:()=>v,tM:()=>h,yL:()=>g});var a=t(23198),n=t(98318),i=t(50093),o=t(23394),s=t(52068),l={information:{backgroundColor:n.dp_app_info_brightest,borderColor:n.dp_app_info_bright},success:{backgroundColor:n.dp_app_positive_brightest,borderColor:n.dp_app_positive_bright},warning:{backgroundColor:n.dp_app_warning_brightest,borderColor:n.dp_app_warning_mid},error:{backgroundColor:n.dp_app_negative_brightest,borderColor:n.dp_app_negative_bright}},c={information:{backgroundColor:n.dp_app_info_mid},success:{backgroundColor:n.dp_app_positive_mid},warning:{backgroundColor:n.dp_app_warning_mid},error:{backgroundColor:n.dp_app_negative_mid}},d=(0,a.Z)((0,a.Z)({},l),{},{information:{backgroundColor:"#d9edf7",borderColor:"#bce8f1",color:"#31708f"},success:{backgroundColor:"#dff0d8",borderColor:"#d6e9c6",color:"#3c763d"},warning:{backgroundColor:"#fcf8e3",borderColor:"#faebcc",color:"#8a6d3b"},error:{backgroundColor:"#f2dede",borderColor:"#ebccd1",color:"#a94442"}}),u={message:{position:"relative",borderRadius:"0 ".concat(o.E0.m," ").concat(o.E0.m," 0"),whiteSpace:"pre-line",color:n.dp_app_text_base,display:"flex",alignItems:"center",flex:"1 1 auto",width:"100%"},leftBorder:{width:"16px",borderRadius:" ".concat(o.E0.m," 0 0 ").concat(o.E0.m," ")},textContent:{width:"100%"}},p=i.StyleSheet.create({container:{display:"flex"},message:(0,a.Z)((0,a.Z)({},u.message),{},{padding:o.W0.s4,borderWidth:1,borderStyle:"solid"}),textContent:(0,a.Z)({},u.textContent),information:d.information,success:d.success,warning:d.warning,error:d.error}),m=i.StyleSheet.create({container:{display:"flex"},message:(0,a.Z)((0,a.Z)({},u.message),{},{padding:o.W0.s4,border:"1px solid",borderLeftWidth:0}),textContent:(0,a.Z)({},u.textContent),information:l.information,success:l.success,warning:l.warning,error:l.error,timer:l.information}),g=i.StyleSheet.create({information:(0,a.Z)((0,a.Z)({},u.leftBorder),c.information),success:(0,a.Z)((0,a.Z)({},u.leftBorder),c.success),warning:(0,a.Z)((0,a.Z)({},u.leftBorder),c.warning),error:(0,a.Z)((0,a.Z)({},u.leftBorder),c.error)}),v=i.StyleSheet.create({message:{padding:o.W0.s4},leftBorder:{width:"8px"}}),h=i.StyleSheet.create({message:{margin:"".concat(o.W0.s4," 0"),padding:o.W0.s2,width:"fit-content"}}),y=i.StyleSheet.create({message:{color:n.dp_app_text_base,fontFamily:s.R.brand.face.fontFamily,fontSize:"0.75rem",lineHeight:"1.33",width:"100%",marginBottom:o.W0.s4,[o.cy.min.m]:{marginBottom:o.W0.s2,padding:"0.76rem 1.14rem 0.76rem ".concat(o.W0.s2)}},icon:{marginRight:"var(--DEPRECATED-14px)"}})},83661:(e,r,t)=>{"use strict";t.d(r,{Ik:()=>g,WY:()=>v,ZP:()=>p,gX:()=>m,hW:()=>h});var a=t(64321),n=t(29901),i=t(41344),o=t(33337),s=t(50093),l=t(14023),c=t(64553),d=e=>"error"===e?"assertive":"polite",u=(0,i.FZ)((e=>{var{children:r,level:t,minimal:a,styleSheet:i,testId:u,deviceType:p,compact:m,small:g,as:v="p"}=e,h=p===o.WO.MOBILE||m,y=a?c.Gh:c.EU,f=(0,s.css)(c.yL[t],h&&c.h5.leftBorder),E=(0,s.css)(y.message,h&&c.h5.message,y[t]),b=g?"small":h?"mini":"body";return n.createElement("div",{className:(0,s.css)(y.container,i),role:"alert","aria-live":d(t),"aria-atomic":!0,"data-test":u},!a&&n.createElement("div",{className:f}),n.createElement("div",{className:E,"data-test-id":"message","data-test":"alert-message"},n.createElement(l.Z,{as:v,textType:b,"data-test-id":"textContent",className:(0,s.css)(y[t],y.textContent)},r)))}));const p=u;var m=e=>n.createElement(u,(0,a.Z)({level:"information"},e)),g=e=>n.createElement(u,(0,a.Z)({level:"success"},e)),v=e=>n.createElement(u,(0,a.Z)({level:"warning"},e)),h=e=>n.createElement(u,(0,a.Z)({level:"error"},e))},69970:(e,r,t)=>{"use strict";t.d(r,{q$:()=>l,ZP:()=>p});var a=t(85924),n=t(23198),i=t(29901),o=t(10571);const s=t(50093).StyleSheet.create({base:{left:0,top:0,position:"fixed",zIndex:100}});var l=function(e){return e[e.START_START=1]="START_START",e[e.START_END=2]="START_END",e[e.START_CENTER=3]="START_CENTER",e[e.END_START=4]="END_START",e[e.END_END=5]="END_END",e[e.END_CENTER=6]="END_CENTER",e[e.CENTER_START=7]="CENTER_START",e[e.CENTER_END=8]="CENTER_END",e[e.CENTER_CENTER=9]="CENTER_CENTER",e}({}),c=-1e6,d=(e,r)=>(e=>({x:Math.round(e.x),y:Math.round(e.y)}))((0,n.Z)((0,n.Z)({},e),{},{x:e.x!==c?Math.min(Math.max(0,e.x),window.innerWidth-r):e.x}));class u extends i.PureComponent{constructor(){super(...arguments),(0,a.Z)(this,"updateRectTimestamp",void 0),(0,a.Z)(this,"animationFrameId",void 0),(0,a.Z)(this,"unmounted",!1),(0,a.Z)(this,"state",{positions:u.offscreenPositions}),(0,a.Z)(this,"getClientRects",(()=>{var{anchorPosition:e,element:r}=this.props,t=this.findDOMNode(),a=t&&t.getBoundingClientRect(),n=r&&r.getBoundingClientRect(),i=this.getAvailablePositions(a,n),o=this.calculatePositions("function"==typeof e?e(i):e,a,n),{width:s=0}=a||{};this.setState({clientRect:a,elementClientRect:n,positions:d(o,s)})})),(0,a.Z)(this,"updateClientRects",(e=>{this.updateRectTimestamp!==e&&(this.updateRectTimestamp=e,this.getClientRects())})),(0,a.Z)(this,"updateRectHandler",(()=>{this.animationFrameId=window.requestAnimationFrame(this.updateClientRects)})),(0,a.Z)(this,"calculatePositions",((e,r,t)=>{if(!r||!t)return u.offscreenPositions;var{left:a,top:n,height:i,width:o}=t,{height:s,width:c}=r,d=this.props.useOffset?c:0;switch(e){case l.START_START:return{x:a-d,y:n-s};case l.START_END:return{x:a-d,y:n+i};case l.START_CENTER:return{x:a-d,y:n-(s-i)/2};case l.END_START:return{x:a-c+o+d,y:n-s};case l.END_END:return{x:a-c+o+d,y:n+i};case l.END_CENTER:return{x:a-c+o+d,y:n-(s-i)/2};case l.CENTER_START:return{x:a-(c-o)/2,y:n-s};case l.CENTER_END:return{x:a-(c-o)/2,y:n+i};case l.CENTER_CENTER:return{x:a-(c-o)/2,y:n-(s-i)/2};default:return u.offscreenPositions}})),(0,a.Z)(this,"getAvailablePositions",((e,r)=>{if(!e||!r)return[];var{useOffset:t}=this.props,{height:a,width:n}=e,{left:i,top:o,height:s,width:c}=r,d=t?n:0,u=t?c:0,p=o-a>=0,m=o+s+a<=window.innerHeight,g=i+n+u<=window.innerWidth,v=i-d>=0,h=o-(a-s)/2>=0&&o+s+(a-s)/2<=window.innerHeight,y=i-(n-c)/2>=0&&i+c+(n-c)/2<=window.innerWidth,f=!t&&g||t&&v,E=!t&&v||t&&g;return[p&&f&&l.START_START,m&&f&&l.START_END,h&&f&&l.START_CENTER,p&&E&&l.END_START,m&&E&&l.END_END,h&&E&&l.END_CENTER,p&&y&&l.CENTER_START,m&&y&&l.CENTER_END,y&&y&&l.CENTER_CENTER].filter(Boolean)}))}findDOMNode(){return this.unmounted?void 0:o.findDOMNode(this)}componentDidUpdate(e){e.anchorPosition===this.props.anchorPosition&&e.useOffset===this.props.useOffset&&e.element===this.props.element||this.updateRectHandler()}componentDidMount(){window.addEventListener("resize",this.updateRectHandler,!1),document.addEventListener("scroll",this.updateRectHandler,!0),setTimeout(this.updateRectHandler,0)}componentWillUnmount(){this.unmounted=!0,window.cancelAnimationFrame(this.animationFrameId),window.removeEventListener("resize",this.updateRectHandler,!1),document.removeEventListener("scroll",this.updateRectHandler,!0)}render(){var{children:e}=this.props,r=i.Children.only(e),{positions:t}=this.state,a={transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")};return i.cloneElement(r,{style:(0,n.Z)((0,n.Z)({},a),r.props.style),styleSheet:[s.base,r.props.styleSheet]})}}(0,a.Z)(u,"offscreenPositions",{x:c,y:c});const p=u},13779:(e,r,t)=>{"use strict";t.d(r,{v:()=>g,Z:()=>v});var a=t(23198),n=t(85924),i=t(29901),o=t(10571),s=t(50093),l={start:{left:0},startOffset:{transform:"translateX(-100%)"},center:{left:"-100%",marginLeft:"auto",marginRight:"auto",right:"-100%"},end:{right:0},endOffset:{transform:"translateX(100%)"}},c={start:{top:0,transform:"translateY(-100%)"},center:{top:0},end:{}},d=(e,r)=>{var t=e.transform&&r.transform?{transform:"".concat(e.transform," ").concat(r.transform)}:{};return(0,a.Z)((0,a.Z)((0,a.Z)({},e),r),t)},u=["start","center","end"],p=u.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),u.reduce(((e,t)=>{var a=d(l[r],c[t]);return e["".concat(r,"H-").concat(t,"V")]=a,e["".concat(r,"HOffset-").concat(t,"V")]=d(a,l["".concat(r,"Offset")]||{}),e}),{}))),{});const m=s.StyleSheet.create((0,a.Z)({base:{position:"absolute",zIndex:100}},p));class g extends i.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"transformDebounceId",void 0),(0,n.Z)(this,"unmounted",!1),(0,n.Z)(this,"state",{offset:-1e6}),(0,n.Z)(this,"calcVerticalCenterOffset",(()=>{var e=0,r=this.findDOMNode(),t=r&&r.getBoundingClientRect().height,a=r&&r.parentElement;a&&void 0!==t&&(e=(a.getBoundingClientRect().height-t)/2);this.setState({offset:e})})),(0,n.Z)(this,"updateCenterTransformHandler",(()=>{clearTimeout(this.transformDebounceId),this.transformDebounceId=setTimeout(this.calcVerticalCenterOffset,250)}))}findDOMNode(){return this.unmounted?void 0:o.findDOMNode(this)}componentDidMount(){"center"===this.props.vAnchor&&"undefined"!=typeof window&&(window.addEventListener("resize",this.updateCenterTransformHandler,!1),setTimeout(this.calcVerticalCenterOffset,0))}componentWillUnmount(){this.unmounted=!0,"center"===this.props.vAnchor&&"undefined"!=typeof window&&(clearTimeout(this.transformDebounceId),window.removeEventListener("resize",this.updateCenterTransformHandler))}render(){var{children:e,vAnchor:r,hAnchor:t,anchorRight:n,anchorTop:o,useOffset:s}=this.props,l=i.Children.only(e),c=r||(!0===o?"start":"end"),d=s?"Offset":"",u=m["".concat(t||(!0===n?"end":"start"),"H").concat(d,"-").concat(c,"V")],p={};return"center"===c&&(p={transform:"translateY(".concat(this.state.offset,"px) ").concat(u._definition.transform||"")}),i.cloneElement(l,{style:(0,a.Z)((0,a.Z)({},p),l.props.style),styleSheet:[m.base,u,l.props.styleSheet]})}}const v=g},84752:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(50093),n=t(29901);const i=a.StyleSheet.create({root:{fontWeight:"bold"}});const o=e=>{var{children:r}=e;return n.createElement("span",{className:(0,a.css)(i.root)},r)}},55171:(e,r,t)=>{"use strict";t.d(r,{Fj:()=>p,Kj:()=>g,Mq:()=>m,QO:()=>f,Wo:()=>u,ZP:()=>E,bb:()=>b,h$:()=>h,nu:()=>S,vh:()=>y});var a=t(23198),n=t(50093),i=t(98318),o=t(91557),s=t(23394),l=t(52068),c=t(94878),d=t(4385),u=250,p=100,m=16,g=i.dp_brand_neutral_dullest,v=s.W0.s1,h=n.StyleSheet.create({appear:{[s.cy.max.s]:{opacity:0}},appearActive:{[s.cy.max.s]:{opacity:1,transition:"opacity ".concat(p,"ms ease-out")}},enter:{[s.cy.max.s]:{opacity:0}},enterActive:{[s.cy.max.s]:{opacity:1,transition:"opacity ".concat(p,"ms ease-out")}},exit:{[s.cy.max.s]:{opacity:1}},exitActive:{[s.cy.max.s]:{opacity:0,transition:"opacity ".concat(p,"ms ease-out")}}}),y=n.StyleSheet.create({appear:{[s.cy.max.s]:{transform:"translateY(100%)"},[s.cy.min.m]:{opacity:0}},appearActive:{[s.cy.max.s]:{transform:"translateY(0)",transition:"transform ".concat(u,"ms ease-out")},[s.cy.min.m]:{opacity:1,transition:"opacity ".concat(p,"ms ease-out")}},enter:{[s.cy.max.s]:{transform:"translateY(100%)"},[s.cy.min.m]:{opacity:0}},enterActive:{[s.cy.max.s]:{transform:"translateY(0)",transition:"transform ".concat(u,"ms ease-out")},[s.cy.min.m]:{opacity:1,transition:"opacity ".concat(p,"ms ease-out")}},exit:{[s.cy.max.s]:{transform:"translateY(0)"},[s.cy.min.m]:{opacity:1}},exitActive:{[s.cy.max.s]:{transform:"translateY(100%)",transition:"transform ".concat(u,"ms ease-out")},[s.cy.min.m]:{opacity:0,transition:"opacity ".concat(p,"ms ease-out")}}}),f=n.StyleSheet.create({appear:{opacity:0},appearActive:{opacity:1,transition:"opacity ".concat(u,"ms ease-out"),[s.cy.min.m]:{transitionDuration:"".concat(p,"ms")}},enter:{opacity:0},enterActive:{opacity:1,transition:"opacity ".concat(u,"ms ease-out"),[s.cy.min.m]:{transitionDuration:"".concat(p,"ms")}},exit:{opacity:1},exitActive:{opacity:0,transition:"opacity ".concat(u,"ms ease-out"),[s.cy.min.m]:{transitionDuration:"".concat(p,"ms")}}});const E=n.StyleSheet.create({root:{position:"fixed",top:0,left:0,right:0,zIndex:111,width:"100%",height:"100%",backgroundColor:(0,c.I)(d.ZP.dp_brand_neutral_dullest,.2),[s.cy.min.m]:{position:"absolute",width:"auto",height:"auto",backgroundColor:"transparent"}},wrapper:{[s.cy.max.s]:{position:"fixed",left:0,bottom:0,right:0}},bubbleContent:{margin:"initial",border:"initial",padding:"initial",insetInlineStart:"initial",insetInlineEnd:"initial",background:"initial",color:"initial",position:"static",width:"initial",height:"initial",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",wordBreak:"break-word"},title:(0,a.Z)({display:"flex",flex:1,color:i.dp_app_text_base},l.W.title4),closeButton:{display:"flex",padding:v,width:"calc(".concat(20,"px + ").concat(v," * 2)"),height:"calc(".concat(20,"px + ").concat(v," * 2)"),minHeight:20,borderRadius:"50%",marginLeft:"calc(".concat(s.W0.s2," - ").concat(v,")"),marginTop:"-".concat(v),marginBottom:"-".concat(v),[s.cy.min.m]:{marginRight:"calc(".concat(v," * -2)")}},closeButtonHide:{[s.cy.min.m]:{display:"none"}},children:(0,a.Z)({flexBasis:"100%",marginTop:s.W0.s2,color:i.dp_app_text_base},l.W.title5),childrenNoMargin:{[s.cy.min.m]:{marginTop:0}}});var b=e=>e===o.N.CENTER?0:e===o.N.LEFT?24:-24,S=(e,r)=>{var t=(e=>"margin".concat(e===o.N.BOTTOM?"Top":"Left"))(r),l=b(r);return n.StyleSheet.create({bubble:{backgroundColor:i.dp_app_backdrop_base,boxShadow:"0 4px 16px 0 rgba(0, 0, 0, 0.3)",borderRadius:s.E0.l,margin:m,padding:s.W0.s4,paddingTop:s.W0.s3,[s.cy.min.m]:(0,a.Z)({position:"absolute",right:"auto",padding:s.W0.s6,paddingTop:s.W0.s4,margin:0,[t]:l},e)}})}},13035:(e,r,t)=>{"use strict";t.d(r,{Z:()=>D});var a=t(64321),n=t(31616),i=t(41344),o=t(33337),s=t(50093),l=t(29901),c=t(10571),d=t(77304),u=t(73606),p=t(75788),m=t(29562),g=t(56590),v=t(62477),h=t(35382),y=t(15628),f=t(78113),E=t(6131),b=t(89426),S=t(72863),T=t(4524),C=t(55171),A=t(76223),I=["children"],_=["children"],P=["children"],R=380,k=e=>{var{children:r}=e,t=(0,n.Z)(e,I);return l.createElement(d.Z,(0,a.Z)({},t,{mountOnEnter:!0,unmountOnExit:!0,classNames:(0,E._)(C.h$),onEntered:y.d}),r)},N=e=>{var{children:r}=e,t=(0,n.Z)(e,_);return l.createElement(d.Z,(0,a.Z)({},t,{appear:!0,classNames:(0,E._)(C.vh)}),r)},O=e=>{var{children:r}=e,t=(0,n.Z)(e,P);return l.createElement(d.Z,(0,a.Z)({},t,{appear:!0,classNames:(0,E._)(C.QO)}),r)},L=e=>{var{children:r}=e;return"undefined"!=typeof document&&document.body?c.createPortal(r,document.body):null},x=e=>e===o.WO.MOBILE?C.Wo:C.Fj;const D=(0,i.FZ)((e=>{var{width:r=R,trigger:t="click",isOpen:a=!1,anchor:n,close:i,title:c,deviceType:d,children:E}=e,I=()=>(0,A.F)({anchor:n,width:r,isOpen:a}),[_,P]=l.useState(l.useCallback(I,[n,r])),D=()=>P(I()),[w,Z]=l.useState(x(d)),F=l.useMemo((()=>(0,C.nu)(_,n.position.grow)),Object.values(_)),B=l.useRef(null),M=l.useRef(null),U=l.useRef(null),j=!!n.nubbin,H="hover"===t,W=e=>{B.current&&!B.current.contains(e.target)&&n.element&&!n.element.contains(e.target)&&i()};l.useEffect((()=>{if(a){D(),Z(x(d));var e=(H?(0,u.T)((0,p.R)(document,"mousedown"),(0,p.R)(document,"mouseover")).pipe((0,v.n)((e=>{var{type:r}=e;return d===o.WO.MOBILE&&"mouseover"===r})),(0,h.D)((e=>{var{type:r}=e;return"mouseover"===r?(0,m.H)(80):g.E}))):(0,p.R)(document,"mousedown")).subscribe(W),r=(0,y.j)(D,d===o.WO.MOBILE,120);return()=>{e.unsubscribe(),r.unsubscribe()}}}),[a,d]);var G=(0,l.useRef)(null);return l.useLayoutEffect((()=>{var e,r;a?requestAnimationFrame((()=>{var e,r;return null===(e=G.current)||void 0===e||null===(r=e.show)||void 0===r?void 0:r.call(e)})):null===(e=G.current)||void 0===e||null===(r=e.close)||void 0===r||r.call(e)}),[a]),l.createElement(L,null,l.createElement(k,{in:a,timeout:C.Fj},l.createElement("div",{className:(0,s.css)(C.ZP.root),onKeyUp:(0,T._n)(i),"data-bubble-root":!0},l.createElement(N,{in:a,timeout:w},l.createElement("div",{ref:B,className:(0,s.css)(C.ZP.wrapper)},j&&l.createElement(S.Z,{anchorElement:n.element,anchorPosition:n.position}),l.createElement("div",{className:(0,s.css)(F.bubble),ref:M,tabIndex:0,onKeyDown:(0,T.gp)(U)},l.createElement(O,{in:a,timeout:w},l.createElement("dialog",{className:(0,s.css)(C.ZP.bubbleContent),ref:G},c&&l.createElement("h3",{className:(0,s.css)(C.ZP.title)},c),l.createElement(b.gh,{styleSheet:[C.ZP.closeButton,H&&C.ZP.closeButtonHide],onClick:i},l.createElement(f.Z,{fill:C.Kj})),l.createElement("div",{className:(0,s.css)(C.ZP.children,H&&!c&&C.ZP.childrenNoMargin)},E),l.createElement("div",{ref:U,tabIndex:0,onKeyDown:(0,T.ED)(M)})))))))))}))},76223:(e,r,t)=>{"use strict";t.d(r,{F:()=>l,b:()=>s});var a=t(91557),n=t(23394),i=t(76521),o=t(55171),s=e=>{if(!e||"undefined"==typeof document)return!1;var r=document.querySelector("[data-bubble-root]");return!!r&&r.contains(e)},l=e=>{var{anchor:r,width:t,isOpen:s}=e,l=window.innerWidth,c={width:t,left:-t,top:"auto",bottom:"auto"};if(!r.element||!s||l<n.AV.min.m)return c;var{element:d,position:{align:u,grow:p},nubbin:m}=r,g=d.getBoundingClientRect(),v=m?i.c5:0;if(u===a.N.LEFT||u===a.N.RIGHT)c.top=g.top+window.pageYOffset,u===a.N.RIGHT&&(c.left=v+g.left+g.width+i.Ms,c.left+c.width+o.Mq>l&&(c.width=c.width-(c.left+c.width-l)-o.Mq)),u===a.N.LEFT&&(c.left=g.left-v-c.width-i.Ms,c.left<o.Mq&&(c.width=g.left-v-i.Ms-o.Mq,c.left=o.Mq));else{var h=(0,o.bb)(p);u===a.N.BOTTOM&&(c.top=v+g.top+g.height+i.Ms+window.pageYOffset),u===a.N.TOP&&(c.bottom=-window.pageYOffset-(g.top-v-i.Ms)),c.width+2*o.Mq>l&&(c.width=l-2*o.Mq),p===a.N.RIGHT&&(c.left=g.left),p===a.N.LEFT&&(c.left=g.left+g.width-c.width),p===a.N.CENTER&&(c.left=g.left-c.width/2+g.width/2),c.left+h<o.Mq&&(c.left=o.Mq-h),c.left+h+c.width+o.Mq>l&&(c.left=window.innerWidth-(c.width+h+o.Mq))}return c}},93332:(e,r,t)=>{"use strict";t.d(r,{HJ:()=>g,ZP:()=>u,wn:()=>m,xk:()=>p});var a=t(98318),n=t(50093),i=t(8888),o=t(23394),s=t(52068),l=t(94878),c=t(4385),d=t(89426);const u=n.StyleSheet.create({default:{border:"none",cursor:"pointer",backgroundColor:"transparent",fontFamily:s.R.brand.face.fontFamily,fontWeight:s.R.brand.weights.bold,borderRadius:o.E0.m,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingTop:"3px",paddingBottom:0,paddingLeft:24,paddingRight:24,maxWidth:"100%",":focus":{outline:"none",boxShadow:"0 0 0 4px ".concat((0,l.I)(c.ZP.dp_brand_secondary_dull,.5))}},disabled:{cursor:"not-allowed",backgroundColor:a.dp_app_action_disabled,color:a.dp_app_text_disabled,boxShadow:"none"},xs:{fontSize:i.Z.sizes.spacers.px16,lineHeight:1.5,letterSpacing:"normal",minHeight:32,paddingLeft:12,paddingRight:12},s:{fontSize:i.Z.sizes.spacers.px16,lineHeight:1.5,letterSpacing:"normal",minHeight:40},m:{fontSize:i.Z.sizes.spacers.px18,lineHeight:4/3,letterSpacing:"normal",minHeight:44},l:{fontSize:i.Z.sizes.spacers.px20,lineHeight:1.4,letterSpacing:"-0.0125rem",minHeight:48},xl:{fontSize:i.Z.sizes.spacers.px24,lineHeight:4/3,letterSpacing:"-0.02502rem",minHeight:56},primary:{color:a.dp_app_text_inverted,backgroundColor:a.dp_app_action_primary,":hover:not(:disabled, :aria-disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_primary_background_hover},":active:not(:disabled, :aria-disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_primary_background_pressed}},secondary_blue:{color:a.dp_app_text_inverted,backgroundColor:a.dp_app_action_secondary,":hover:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_secondary_background_hover},":active:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_secondary_background_pressed}},secondary_pink:{color:a.dp_app_text_base,backgroundColor:a.dp_brand_tertiary_bright,":hover:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_brand_tertiary_mid},":active:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_brand_tertiary_brighter}},secondary_black:{color:a.dp_app_text_inverted,backgroundcolor:a.dp_brand_neutral_dullest,":hover:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_brand_neutral_duller},":active:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_brand_neutral_dull}},tertiary:{color:a.dp_app_text_base,boxShadow:"inset 0 0 0 1px ".concat(a.dp_brand_neutral_bright),backgroundColor:a.dp_comp_button_tertiary_background,":hover:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_tertiary_background_hover},":active:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_tertiary_background_pressed}},destructive:{color:a.dp_app_text_inverted,backgroundColor:a.dp_app_action_destructive,":hover:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_app_negative_duller},":active:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_app_negative_dullest}},withLoader:{position:"relative",[i.Z.breakpoints.small.min]:{paddingLeft:44,paddingRight:44}},loading:{cursor:"not-allowed",[i.Z.breakpoints.small.max]:{color:"transparent"}},link:{display:"inline-flex",justifyContent:"center",alignItems:"center",textDecoration:"none"},linkDisabled:{":hover:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_app_action_disabled},":focus:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_app_action_disabled},":active:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_app_action_disabled,boxShadow:"none"}},ghost:{color:a.dp_app_text_base,backgroundColor:"transparent",":hover:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_tertiary_background_hover},":focus:not(:disabled, :aria-disabled)":{backgroundColor:"transparent"},":active:not(:disabled, :aria-disabled)":{backgroundColor:a.dp_comp_button_tertiary_background_pressed}}});var p=n.StyleSheet.create({container:{position:"absolute",top:0,bottom:0,left:0,right:0,[i.Z.breakpoints.small.min]:{left:"auto",right:12}}}),m=e=>e===d.Ue.TERTIARY?a.dp_brand_neutral_dullest:a.dp_brand_white,g=(e,r)=>{if(r)return a.dp_brand_neutral_mid;switch(e){case d.Ue.PRIMARY:return a.dp_brand_primary_dull;case d.Ue.SECONDARY:return a.dp_brand_secondary_dullest;case d.Ue.TERTIARY:return a.dp_brand_neutral_bright;case d.Ue.DESTRUCTIVE:return a.dp_app_negative_dullest;default:return}}},65228:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p,f:()=>d});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(34214),c=t(52068),d={primary:"var(--DEPRECATED-54px)",secondary:"var(--DEPRECATED-34px)"},u={cursor:"not-allowed",backgroundColor:n.dp_comp_button_primary_background,opacity:.65,":hover:not(:disabled, :aria-disabled)":{backgroundColor:n.dp_comp_button_primary_background},":active":{backgroundColor:n.dp_comp_button_primary_background},":focus":{backgroundColor:n.dp_comp_button_primary_background}};const p=i.StyleSheet.create({default:{border:"none",cursor:"pointer",":disabled, :aria-disabled":{cursor:"not-allowed"},backgroundColor:"transparent"},primary:(0,a.Z)((0,a.Z)({},c.W.title2),{},{backgroundColor:n.dp_comp_button_primary_background,borderRadius:s.E0.m,color:n.dp_app_text_inverted,minHeight:d.primary,padding:0,width:"100%",":hover:not(:disabled, :aria-disabled)":{backgroundColor:n.dp_comp_button_primary_background_hover},":focus":{backgroundColor:n.dp_comp_button_primary_background_hover},":active":{backgroundColor:n.dp_comp_button_primary_background_hover},":disabled, :aria-disabled":u}),primaryDisabled:u,secondary:{borderRadius:s.E0.m,backgroundColor:n.dp_comp_button_secondary_background,color:n.dp_app_text_inverted,fontFamily:c.R.brand.face.fontFamily,fontSize:"var(--DEPRECATED-14px)",fontWeight:"bold",minHeight:d.secondary,padding:0,textAlign:"center",width:"100%",":hover:not(:disabled, :aria-disabled)":{backgroundColor:n.dp_comp_button_secondary_background_hover},":focus":{backgroundColor:n.dp_comp_button_secondary_background_pressed,color:n.dp_app_selection_brightest},":active":{backgroundColor:n.dp_comp_button_secondary_background_pressed,color:n.dp_app_selection_brightest},":disabled, :aria-disabled":{backgroundColor:n.dp_app_action_disabled}},tertiary:{backgroundColor:n.dp_comp_button_tertiary_background,border:"1px solid ".concat(n.dp_comp_button_tertiary_background_pressed),borderRadius:s.E0.m,borderWidth:1,color:n.dp_app_text_base,fontWeight:500,padding:"".concat(o.Z.sizes.spacers.xs," ").concat(o.Z.sizes.spacers.s),":hover:not(:disabled, :aria-disabled)":{backgroundColor:n.dp_comp_button_tertiary_background_hover},":focus":{backgroundColor:n.dp_comp_button_tertiary_background_pressed},":active":{backgroundColor:n.dp_comp_button_tertiary_background_pressed},":disabled, :aria-disabled":{backgroundColor:n.dp_app_action_tertiary}},destructive:{borderRadius:s.E0.m,backgroundColor:n.dp_comp_button_secondary_background,color:n.dp_app_text_inverted,fontFamily:c.R.brand.face.fontFamily,fontSize:"var(--DEPRECATED-14px)",fontWeight:"bold",minHeight:d.secondary,padding:0,textAlign:"center",width:"100%",":hover:not(:disabled, :aria-disabled)":{backgroundColor:n.dp_comp_button_secondary_background_hover},":focus":{backgroundColor:n.dp_comp_button_secondary_background_pressed,color:n.dp_app_selection_brightest},":active":{backgroundColor:n.dp_comp_button_secondary_background_pressed,color:n.dp_app_selection_brightest},":disabled, :aria-disabled":{backgroundColor:n.dp_app_action_disabled}},anchor:{textDecoration:"none",display:"inline-block",width:"auto"},small:(0,a.Z)((0,a.Z)({},l.Z.small),{},{backgroundColor:"transparent",color:n.dp_app_info_mid,":hover:not(:disabled, :aria-disabled)":{textDecoration:"underline",color:n.dp_comp_button_secondary_background_hover}}),isUnderline:{textDecoration:"underline"},multiline:{whiteSpace:"normal",wordWrap:"break-word",textAlign:"left"}})},89426:(e,r,t)=>{"use strict";t.d(r,{Bn:()=>g,C9:()=>C,HC:()=>S,KM:()=>b,Nt:()=>A,Qj:()=>E,Ue:()=>m,ZP:()=>f,eQ:()=>v,gh:()=>I,kq:()=>T,l6:()=>h});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(28770),l=t(93332),c=t(65228),d=["children","onClick","styleSheet","disabled","type","level","tabIndex","testId","ariaLabel","ariaExpanded","ariaHaspopup","saveInputRef","title","id","onMouseOver","onMouseOut","onKeyDown","depot","isMultiline"],u=["children","onClick","styleSheet","level","tabIndex","testId","ariaLabel","ariaExpanded","ariaHaspopup","title","id","href","target","disabled","depot","shouldPreventDefault","rel","linkRef"],p=["styleSheet"],m=function(e){return e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.DESTRUCTIVE="destructive",e}({}),g=function(e){return e.BLUE="blue",e.PINK="pink",e.BLACK="black",e}({}),v=e=>{var{size:r="l",loading:t,theme:a=g.BLUE}=e;return{size:r,loading:t,theme:a}},h=e=>{var{disabled:r,level:t,loading:a,size:n,theme:i}=e;return[l.ZP.default,n&&l.ZP[n],t&&l.ZP[t===m.SECONDARY?"".concat(t,"_").concat(i):t],r&&l.ZP.disabled,void 0!==a&&l.ZP.withLoader,a&&l.ZP.loading]},y=e=>{var{children:r,onClick:t,styleSheet:a,disabled:u=!1,type:p="button",level:m,tabIndex:g,testId:y,ariaLabel:f,ariaExpanded:E,ariaHaspopup:b=!1,saveInputRef:S,title:T,id:C,onMouseOver:A,onMouseOut:I,onKeyDown:_,depot:P=!1,isMultiline:R=!1}=e,k=(0,n.Z)(e,d),{size:N,loading:O,theme:L}=v(k),x=o.useMemo((()=>P?(0,i.css)(...h({disabled:u,level:m,loading:O,size:N,theme:L}),R&&c.Z.multiline,a):(0,i.css)(c.Z.default,m&&c.Z[m],R&&c.Z.multiline,a)),[u,m,P,N,O,L,R,a]);return o.createElement("button",{id:C,"aria-label":f,"aria-expanded":E,"aria-haspopup":b,type:p,className:x,onClick:u?void 0:t,"aria-disabled":u||O||!1,tabIndex:g,"data-test":y,ref:S,title:T&&T,onMouseOver:A,onMouseOut:I,onKeyDown:_},r,P&&O&&o.createElement(s.Z,{styleSheet:l.xk,borderWidth:3,size:20,borderColor:(0,l.wn)(m),spinnerColor:(0,l.HJ)(m,u)}))};const f=y;var E=e=>{var{children:r,onClick:t,styleSheet:a,level:s,tabIndex:d,testId:p,ariaLabel:m,ariaExpanded:g,ariaHaspopup:y=!1,title:f,id:E,href:b="#",target:S,disabled:T=!1,depot:C=!1,shouldPreventDefault:A=!0,rel:I,linkRef:_}=e,P=(0,n.Z)(e,u),R=t&&A?e=>{e.preventDefault(),t(e)}:t,{size:k,theme:N}=v(P),O=o.useMemo((()=>C?(0,i.css)(...h({disabled:T,level:s,size:k,theme:N}),l.ZP.link,T&&l.ZP.linkDisabled,a):(0,i.css)(c.Z.default,c.Z.anchor,s&&c.Z[s],T&&c.Z.primaryDisabled,a)),[T,s,C,k,N,a]);return o.createElement("a",{ref:_,href:T?void 0:b,target:S,id:E,"aria-label":m,"aria-expanded":g,"aria-haspopup":y,className:O,onClick:R,tabIndex:d,"data-test":p,title:f&&f,rel:I},r)},b=e=>o.createElement(y,(0,a.Z)({},e,{level:m.PRIMARY})),S=e=>o.createElement(E,(0,a.Z)({},e,{level:m.PRIMARY})),T=e=>o.createElement(y,(0,a.Z)({},e,{level:m.SECONDARY})),C=e=>o.createElement(y,(0,a.Z)({},e,{level:m.TERTIARY})),A=e=>o.createElement(E,(0,a.Z)({},e,{level:m.TERTIARY})),I=e=>{var{styleSheet:r}=e,t=(0,n.Z)(e,p);return o.createElement(y,(0,a.Z)({},t,{depot:!0,size:"xs",styleSheet:[l.ZP.ghost,r]}))}},94675:(e,r,t)=>{"use strict";t.d(r,{Vz:()=>m,zT:()=>g,Fn:()=>v,$p:()=>h,U:()=>u,Ys:()=>p});var a=t(8888),n=t(23198),i=t(98318),o=t(23394),s=t(50093),l={width:"var(--DEPRECATED-14px)",padding:"0 ".concat(a.Z.sizes.spacers.s)};const c=s.StyleSheet.create({root:{position:"relative"},calendar:{userSelect:"none",margin:"".concat(a.Z.sizes.spacers.xs," ").concat(a.Z.sizes.spacers.s," ").concat(a.Z.sizes.spacers.s),WebkitTouchCallout:"none",flex:1},calendarTop:{alignItems:"center",display:"flex",flexDirection:"row",marginBottom:"var(--DEPRECATED-14px)"},calendarMonth:(0,n.Z)((0,n.Z)({},o.cp.large),{},{color:i.dp_app_text_base,cursor:"default",fontWeight:"bold",padding:0,textAlign:"center"}),calendarRow:{borderBottom:"1px solid ".concat(i.dp_brand_primary_brightest)},disabledCalendarRow:{borderBottom:"1px solid ".concat(i.dp_app_border_bright)},disabledMonthTitle:{color:i.dp_brand_neutral_mid},disabledCalendarDate:{color:i.dp_brand_neutral_bright},calendarGrid:{borderCollapse:"collapse",borderSpacing:0,tableLayout:"fixed",width:"100%"},calendarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",textTransform:"capitalize"},calendarHeading:{color:i.dp_app_text_base,cursor:"default",fontWeight:700,textAlign:"center"},calendarHeadingTitle:{textTransform:"capitalize",textDecoration:"none !important"},calendarButton:{display:"flex",background:"transparent",cursor:"pointer",borderRadius:"50%",outlineOffset:-4},calendarButtonDisabled:{cursor:"not-allowed"},balancingSpan:(0,n.Z)({},l)});var d=s.StyleSheet.create({root:{position:"relative"},calendarTop:{alignItems:"center",display:"flex",flexDirection:"row",marginBottom:"var(--DEPRECATED-14px)"},disabledCalendarRow:{borderBottom:"1px solid ".concat(i.dp_app_border_bright)},disabledMonthTitle:{color:i.dp_brand_neutral_mid},disabledCalendarDate:{color:i.dp_brand_neutral_bright},calendarGrid:{borderCollapse:"collapse",borderSpacing:0,tableLayout:"fixed",width:"100%"},calendarHeadingTitle:(0,n.Z)((0,n.Z)({},o.cp.mini),{},{color:i.dp_app_text_subdued,fontWeight:400,textTransform:"capitalize",textDecoration:"none !important"}),calendar:{userSelect:"none",":not(:first-child)":{marginLeft:"24px"},WebkitTouchCallout:"none",flex:1},calendarRow:{borderBottom:"none",display:"flex"},calendarMonth:{padding:0,paddingBottom:a.Z.sizes.spacers.m,cursor:"default",textAlign:"center"},calendarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:a.Z.sizes.spacers.s,textTransform:"capitalize"},calendarHeading:(0,n.Z)((0,n.Z)({},o.cp.large),{},{color:i.dp_brand_neutral_core,cursor:"default",textAlign:"center",flexGrow:1}),calendarButtonAlignment:{margin:"0px ".concat(o.W0.s4)}}),u={styles:{stylesheet:[c.root],calendarRow:c.calendarRow,weekdayName:[a.Z.typography.small,c.calendarHeadingTitle],weekdayNames:[c.calendarRow],balancingSpan:c.balancingSpan,calendar:c.calendar,calendarGrid:c.calendarGrid,calendarHeader:c.calendarHeader,calendarHeading:c.calendarHeading,calendarButton:c.calendarButton,calendarButtonDisabled:c.calendarButtonDisabled,calendarButtonAlignment:c.calendarButtonAlignment}},p={styles:{stylesheet:[d.root],calendarRow:d.calendarRow,weekdayName:[a.Z.typography.small,d.calendarHeadingTitle],weekdayNames:[d.calendarRow],balancingSpan:c.balancingSpan,calendar:d.calendar,calendarGrid:d.calendarGrid,calendarHeader:d.calendarHeader,calendarHeading:d.calendarHeading,calendarButton:c.calendarButton,calendarButtonDisabled:c.calendarButtonDisabled,calendarButtonAlignment:d.calendarButtonAlignment}},m=function(e){return e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e}({}),g="YYYY-MM-DD",v=1,h=function(e){return e.ENTER="Enter",e.SPACE=" ",e.ARROWUP="ArrowUp",e.ARROWDOWN="ArrowDown",e.ARROWLEFT="ArrowLeft",e.ARROWRIGHT="ArrowRight",e.PAGEUP="PageUp",e.PAGEDOWN="PageDown",e.HOME="Home",e.END="End",e}({})},20705:(e,r,t)=>{"use strict";t.d(r,{P3:()=>b,QX:()=>T,Xr:()=>E,ZP:()=>C});var a=t(23198),n=t(98318),i=t(35779),o=t(6575),s=t(50093),l=n.dp_brand_primary_brightest,c={color:n.dp_app_text_base,fontWeight:"bold",position:"relative"},d={color:n.dp_app_text_base},u={backgroundColor:l},p={backgroundColor:l},m={backgroundColor:n.dp_app_action_primary,color:n.dp_app_text_inverted},g={width:"100%",background:"transparent",color:n.dp_app_text_base,cursor:"pointer",display:"block",lineHeight:1.5,margin:"".concat(1,"px 0px"),padding:"var(--DEPRECATED-7px)",position:"relative",textAlign:"center",textDecoration:"none",":focus-visible":{outline:"4px solid ".concat(n.dp_comp_focus_ring)},":hover":{outline:"none"}},v={color:n.dp_app_action_disabled,cursor:"default"},h=s.StyleSheet.create({empty:{background:"transparent",color:"transparent",cursor:"default",border:"0.07rem solid transparent"},calendarDay:{background:"transparent",boxSizing:"border-box",cursor:"pointer",margin:0,padding:0,width:"2%",flexBasis:"100%",flexGrow:1},other:d,today:c,inBetween:u,hovering:p,selected:m,calendarDayLink:g,disabledCalendarDayLink:v}),y={backgroundColor:n.dp_brand_secondary_brighter},f={backgroundColor:n.dp_brand_secondary_dull,color:n.dp_app_text_inverted,fontWeight:"bold"},E=s.StyleSheet.create({horizontalSearchCalendarDay:(0,a.Z)((0,a.Z)({},h.calendarDay),{},{border:"0.07rem solid ".concat(n.dp_brand_neutral_brighter),flexBasis:"100%",flexGrow:1}),hoveringSW:y,selectedSW:f,horizontalSearchCalendarDayLink:(0,a.Z)((0,a.Z)({},h.calendarDayLink),{},{margin:0,fontSize:16})}),b=s.StyleSheet.create({horizontalSearchCalendarDay:{border:void 0},horizontalSearchCalendarDayLink:{borderRadius:i.LS}}),S=(0,a.Z)((0,a.Z)({},f),{},{backgroundColor:n.dp_brand_secondary_brighter,color:n.dp_app_text_base,border:"2px solid ".concat(n.dp_brand_secondary_duller),borderRadius:o.sC}),T=s.StyleSheet.create({horizontalSearchCalendarDay:(0,a.Z)((0,a.Z)({},h.calendarDay),{},{flexBasis:"100%"}),hoveringSW:y,today:(0,a.Z)((0,a.Z)({},c),{},{fontWeight:400}),selectedSW:S,horizontalSearchCalendarDayLink:(0,a.Z)((0,a.Z)({},h.calendarDayLink),{},{fontSize:16,border:"2px solid transparent",padding:"0px"}),disabledCalendarDayLink:(0,a.Z)((0,a.Z)({},v),{},{color:n.dp_brand_neutral_bright})});const C=h},16505:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(23198),n=t(64321),i=t(31616),o=t(50093),s=t(41855),l=t(29901),c=t(31024),d=t(20705),u=["type","invisibleTableCellBorders"],p=e=>{var{name:r,date:t,isDisabled:a,isSelected:n,isHovered:i,autoFocusOnHover:c,onSelect:d,onHover:u,styles:p,children:m,testId:g}=e,v=n&&!a?"calendar-selected-date":"calendar-date",h=()=>{a||u(t)},y=(0,l.useRef)(null);return(0,l.useEffect)((()=>{var e;c&&i&&(null===(e=y.current)||void 0===e||e.focus())}),[c,i]),l.createElement("td",{key:t,className:(0,o.css)(p.calendarDay),"data-test":g},l.createElement("div",{"data-test":v},l.createElement("button",{type:"button",ref:y,className:(0,o.css)(...p.calendarLink,a?p.disabledCalendarDayLink:void 0,i?p.hovering:void 0,n?p.selected:void 0),tabIndex:i?0:-1,"aria-current":n,"aria-disabled":a,"aria-label":(0,s.p6)(t,"dddd, D MMMM YYYY"),disabled:a,id:r+(0,s.p6)(t,"M-D"),"data-test":(0,s.p6)(t,"M-D"),onClick:()=>{a||d(t)},onMouseOver:h,onFocus:h},m||(0,s.p6)(t,"D"))))};const m=e=>{var{type:r,invisibleTableCellBorders:t}=e,o=(0,i.Z)(e,u);switch(r){case c.th.PriceCalendar:return l.createElement(p,(0,n.Z)({},o,{styles:c.tg.styles}));case c.th.Horizontal:return l.createElement(p,(0,n.Z)({},o,{styles:(0,a.Z)((0,a.Z)({},c.Ys.styles),{},{calendarDay:[c.Ys.styles.calendarDay,t&&d.P3.horizontalSearchCalendarDay].filter(Boolean),calendarLink:[...c.Ys.styles.calendarLink,t&&d.P3.horizontalSearchCalendarDayLink].filter(Boolean)})}));case c.th.Vertical:default:return l.createElement(p,(0,n.Z)({},o,{styles:c.U.styles}))}}},31024:(e,r,t)=>{"use strict";t.d(r,{U:()=>o,Ys:()=>s,tg:()=>l,th:()=>c});var a=t(23198),n=t(8888),i=t(20705),o={styles:{calenderDayEmpty:[i.ZP.calendarDay,i.ZP.empty],today:i.ZP.today,disabledCalendarDayLink:i.ZP.disabledCalendarDayLink,other:i.ZP.other,hovering:i.ZP.hovering,selected:i.ZP.selected,calendarDay:i.ZP.calendarDay,calendarLink:[n.Z.typography.small,i.ZP.calendarDayLink]}},s={styles:(0,a.Z)((0,a.Z)({},o.styles),{},{calendarDay:i.Xr.horizontalSearchCalendarDay,hovering:i.Xr.hoveringSW,selected:i.Xr.selectedSW,calendarLink:[...o.styles.calendarLink,i.Xr.horizontalSearchCalendarDayLink]})},l={styles:(0,a.Z)((0,a.Z)({},o.styles),{},{calendarDay:i.QX.horizontalSearchCalendarDay,hovering:i.QX.hoveringSW,selected:i.QX.selectedSW,calendarLink:[...o.styles.calendarLink,i.QX.horizontalSearchCalendarDayLink],today:i.QX.today,disabledCalendarDayLink:i.QX.disabledCalendarDayLink})},c=function(e){return e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.PriceCalendar=2]="PriceCalendar",e}({})},20634:(e,r,t)=>{"use strict";t.d(r,{Z:()=>S});var a=t(23198),n=t(29901),i=t(94675),o=t(98184),s=t(41855),l=t(84025),c=t.n(l);const d=function(e){var{monthsToShow:r=1,minDate:t,maxDate:a,onChangeSelectedDate:o,onChangeCurrentMonth:l,currentMonth:d,selectedDate:u,onIsCalendarOpen:p}=e,[m,g]=(0,n.useState)(u),v=(0,n.useMemo)((()=>(0,s.Oy)({currentMonth:d,monthsToShow:r,selectedDate:u,minDate:t,maxDate:a})),[d,a,t,r,u]),h=(0,n.useMemo)((()=>(0,s.w4)(d,r,t,a)),[d,a,t,r]),y=m&&m!==h.firstVisibleDate&&(c()(m).isAfter(h.lastVisibleDate)||c()(m).isBefore(h.firstVisibleDate));m&&"Invalid date"!==m&&!y||g(h.firstVisibleDate),(0,n.useEffect)((()=>(p&&p(!0,{firstVisibleDate:h.firstVisibleDate,lastVisibleDate:h.lastVisibleDate}),()=>{p&&p(!1)})),[]);var f=(0,n.useMemo)((()=>c()(d).isAfter(t,"month")),[d,t]),E=(0,n.useMemo)((()=>{var e=(0,s.Zz)(d,r),t=c()(e).startOf("month"),n=c()(a).startOf("month"),o=t.isBefore(n,"months"),l=e.isBefore(a,"month");return r===i.Fn?o:l}),[d,a,r]),b=(0,n.useCallback)((()=>{if(f){var e=c()(d).subtract(1,"month").format(i.zT);null==l||l(e,(0,s.w4)(e,r,t,a))}}),[f,d,a,t,r,l]),S=(0,n.useCallback)((()=>{if(E){var e=c()(d).add(1,"month").format(i.zT);null==l||l(e,(0,s.w4)(e,r,t,a))}}),[E,d,a,t,r,l]),T=(0,n.useCallback)((e=>{var r=c().max(c()(t),c().min(c()(a),c()(e)));g(r.format(i.zT));var n=c()(d).startOf("month"),o=r.isBefore(n),l=(0,s.Zz)(d,i.Fn).endOf("month"),u=r.isAfter(l);o&&b(),u&&S()}),[d,S,b,a,t]),C=(0,n.useCallback)((()=>{var e=c()(m).subtract(1,"month").format(i.zT);T(e)}),[m,T]),A=(0,n.useCallback)((()=>{var e=c()(m).add(1,"month").format(i.zT);T(e)}),[m,T]),I=(0,n.useCallback)((()=>{var e=c()(m).startOf("month").format(i.zT);T(e)}),[m,T]),_=(0,n.useCallback)((()=>{var e=c()(m).endOf("month").format(i.zT);T(e)}),[m,T]),P=(0,n.useCallback)((()=>{var e=c()(m).subtract(1,"day").format(i.zT);T(e)}),[m,T]),R=(0,n.useCallback)((()=>{var e=c()(m).add(1,"day").format(i.zT);T(e)}),[m,T]),k=(0,n.useCallback)((()=>{var e=c()(m).subtract(7,"days").format(i.zT);T(e)}),[m,T]),N=(0,n.useCallback)((()=>{var e=c()(m).add(7,"days").format(i.zT);T(e)}),[m,T]),O=(0,n.useCallback)((e=>{var n=c()(e),u=n.format(i.zT);1===r&&n.get("month")!==c()(d).get("month")&&(null==l||l(u,(0,s.w4)(u,r,t,a))),null==o||o(u,(0,s.w4)(u,r,t,a)),g(e)}),[d,a,t,r,o,l]),L=(0,n.useCallback)((()=>{m&&O(m)}),[m,O]);return(0,n.useMemo)((()=>({range:v,hoveredDate:m,canGoPreviousMonth:f,canGoNextMonth:E,onNextMonth:S,onPreviousMonth:b,selectDate:O,setHoveredDateAsSelectedDate:L,setHoveredDate:g,moveHoverDateNextDay:R,moveHoverDatePreviousDay:P,moveHoverDateNextWeek:N,moveHoverDatePreviousWeek:k,moveHoverDateNextMonth:A,moveHoverDatePreviousMonth:C,moveHoverDateBeginningMonth:I,moveHoverDateEndMonth:_})),[E,f,S,b,m,v,_,R,A,N,P,C,k,I,O,L])};var u=t(50093),p=t(82768),m=t(8888),g=t(31024),v=t(98318),h=e=>{var{className:r,width:t,height:a,disabled:i}=e;return n.createElement("svg",{className:r,width:t||"40px",height:a||"40px",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},n.createElement("rect",{x:"4.5",y:"4.5",width:"31",height:"31",rx:"15.5",fill:i?v.dp_brand_neutral_brightest:v.dp_brand_white,stroke:v.dp_brand_neutral_bright}),n.createElement("path",{d:"M21.5858 20L18.2929 16.7071C17.9024 16.3166 17.9024 15.6834 18.2929 15.2929C18.6834 14.9024 19.3166 14.9024 19.7071 15.2929L23.7071 19.2929C24.0976 19.6834 24.0976 20.3166 23.7071 20.7071L19.7071 24.7071C19.3166 25.0976 18.6834 25.0976 18.2929 24.7071C17.9024 24.3166 17.9024 23.6834 18.2929 23.2929L21.5858 20Z",fill:i?v.dp_brand_neutral_mid:v.dp_brand_secondary_core}))},y=e=>{var{className:r,width:t,height:a,disabled:i}=e;return n.createElement("svg",{className:r,width:t||"40px",height:a||"40px",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},n.createElement("rect",{x:"35.5",y:"35.5",width:"31",height:"31",rx:"15.5",transform:"rotate(-180 35.5 35.5)",fill:i?v.dp_brand_neutral_brightest:v.dp_brand_white,stroke:v.dp_brand_neutral_bright}),n.createElement("path",{d:"M18.4142 20L21.7071 23.2929C22.0976 23.6834 22.0976 24.3166 21.7071 24.7071C21.3166 25.0976 20.6834 25.0976 20.2929 24.7071L16.2929 20.7071C15.9024 20.3166 15.9024 19.6834 16.2929 19.2929L20.2929 15.2929C20.6834 14.9024 21.3166 14.9024 21.7071 15.2929C22.0976 15.6834 22.0976 16.3166 21.7071 16.7071L18.4142 20Z",fill:i?v.dp_brand_neutral_mid:v.dp_brand_secondary_core}))},f=t(16505);const E=e=>{var{testId:r,title:t,disabled:a,onClick:i,styles:o,Icon:s}=e;return n.createElement("button",{"data-test":r,type:"button",className:(0,u.css)(o.calendarButton,a&&o.calendarButtonDisabled),onClick:i,"aria-label":t,disabled:a},n.createElement(s,{disabled:a}))};const b=e=>{var{name:r,onChangeMonth:t,currentMonth:a,monthsToShow:l=2,minDate:c,maxDate:v,selectedDate:b,onSelect:S,styles:T,disabled:C,focusGridOnMount:A,locale:I,onIsCalendarOpen:_,renderCalendarDate:P,type:R,invisibleTableCellBorders:k}=e,N=b&&(0,s.p6)(b,i.zT),O=(0,s.p6)(c,i.zT),L=(0,s.p6)(v,i.zT),{range:x,selectDate:D,canGoPreviousMonth:w,canGoNextMonth:Z,hoveredDate:F,moveHoverDatePreviousDay:B,moveHoverDateNextDay:M,moveHoverDatePreviousWeek:U,moveHoverDateNextWeek:j,moveHoverDatePreviousMonth:H,moveHoverDateNextMonth:W,moveHoverDateBeginningMonth:G,moveHoverDateEndMonth:V,setHoveredDate:Y,setHoveredDateAsSelectedDate:K}=d({monthsToShow:l,currentMonth:a,onChangeCurrentMonth:t,onChangeSelectedDate:S,minDate:O,maxDate:L,selectedDate:N,locale:I,onIsCalendarOpen:_}),z=g.Ys.styles,[J,q]=(0,n.useState)(!1),Q=(0,n.useRef)(null);(0,n.useEffect)((()=>{A&&requestAnimationFrame((()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.focus()}))}),[A]);var X=()=>n.createElement("span",{className:(0,u.css)(T.balancingSpan)}),$=l===i.Fn,ee=n.createElement("thead",{"aria-hidden":!0},n.createElement("tr",{className:(0,u.css)(T.weekdayNames)},(0,s.D1)(I).map((e=>n.createElement("th",{key:e,className:(0,u.css)(T.calendarHeading)},n.createElement("abbr",{"data-test":"weekday-abbr",className:(0,u.css)(...T.weekdayName)},e))))));return n.createElement(n.Fragment,null,J&&n.createElement("div",{role:"status",className:(0,u.css)(m.Z.accessibility.hidden)},n.createElement(o.FormattedMessage,{id:"components.calendar.navigation"})),n.createElement("div",{className:(0,u.css)(...T.stylesheet)},x.map(((e,r)=>{var t=(0,s.p6)(e.currentMonth,"MMMM YYYY",I),a=0===r,i=r===x.length-1;return n.createElement("div",{className:(0,u.css)(T.calendar),key:r},n.createElement("div",{className:(0,u.css)([T.calendarHeader,Boolean(P)&&T.calendarButtonAlignment])},a?n.createElement(E,{testId:"calendar-previous",title:"Go to the previous month",disabled:C||!w,onClick:H,styles:T,Icon:y}):n.createElement(X,null),n.createElement("h3",{className:(0,u.css)(T.calendarHeading),"data-test":"calendar-title"},t),i?n.createElement(E,{testId:"calendar-next",title:"Go to the next month",disabled:C||!Z,onClick:W,styles:T,Icon:h}):n.createElement(X,null)))}))),n.createElement("div",{role:"none",tabIndex:-1,ref:Q,className:(0,u.css)(...T.stylesheet),"data-test":"calendar-container Calendar",onKeyDown:e=>{var r=!1;switch(e.key){case i.$p.ENTER:case i.$p.SPACE:r=!0,K();break;case i.$p.ARROWUP:r=!0,U();break;case i.$p.ARROWDOWN:r=!0,j();break;case i.$p.ARROWLEFT:r=!0,B();break;case i.$p.ARROWRIGHT:r=!0,M();break;case i.$p.PAGEUP:r=!0,H();break;case i.$p.PAGEDOWN:r=!0,W();break;case i.$p.HOME:r=!0,G();break;case i.$p.END:r=!0,V()}r&&(e.preventDefault(),e.stopPropagation())},onFocus:e=>{e.currentTarget.contains(e.relatedTarget)||q(!0)},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||q(!1)}},x.map((e=>{var t=(0,s.p6)(e.currentMonth,"YYYY-MM"),a=(0,s.p6)(e.currentMonth,"MMMM YYYY",I),o=(0,p.MeV)(7,e.days);return n.createElement("div",{"data-test":t,key:t,className:(0,u.css)(T.calendar)},n.createElement("table",{className:(0,u.css)(T.calendarGrid),"aria-label":a,"data-test":"calendar-month-".concat(t)},ee,n.createElement("tbody",null,o.map(((e,t)=>n.createElement("tr",{key:"".concat(e[t].date,"-").concat(t),"data-test":"calendar-week-row",className:(0,u.css)(T.calendarRow)},e.map((e=>{var t=((e,r)=>1===r&&(e.isBeforeMinDate||e.isAfterMaxDate)||1!==r&&(!e.isCurrentMonth||e.isBeforeMinDate||e.isAfterMaxDate))(e,l);if(P){var a={typeName:"Calendar",date:e.date,name:r,isCurrentMonth:e.isCurrentMonth,isSelected:e.isSelected,isBeforeMinDate:e.isBeforeMinDate,isAfterMaxDate:e.isAfterMaxDate,isHoverDate:F===e.date,isDisabled:C||t,selectDate:D,setHoveredDate:Y,autoFocusOnHover:J,cssStyles:{styles:z},invisibleTableCellBorders:k,testId:e.date,isInbound:Boolean(null==r?void 0:r.includes("inbound"))};return P(a)}return e.isCurrentMonth||$?n.createElement(f.Z,{invisibleTableCellBorders:k,key:e.date,name:r,date:e.date,testId:e.date,isDisabled:C||t,isSelected:e.isSelected,isHovered:F===e.date,autoFocusOnHover:J,onSelect:e=>D(e),onHover:e=>Y(e),type:R===i.Vz.Horizontal?g.th.Horizontal:void 0}):n.createElement("td",{key:e.date,className:(0,u.css)(...z.calenderDayEmpty)})}))))))))}))))};const S=e=>{var{type:r,wrapperStyles:t=[],minDate:o,maxDate:s,currentMonth:l,onChangeMonth:d,selectedDate:u,onSelect:p,monthsToShow:m,disabled:g,locale:v,onIsCalendarOpen:h,renderCalendarDate:y,name:f,invisibleTableCellBorders:E}=e,S=r===i.Vz.Horizontal?i.Ys:i.U;switch(S.styles=(0,a.Z)((0,a.Z)({},S.styles),{},{stylesheet:S.styles.stylesheet.concat(t)}),r){case i.Vz.Horizontal:return n.createElement(b,{name:f,monthsToShow:m,maxDate:s,minDate:o,selectedDate:u,onSelect:p,currentMonth:l||c()().startOf("month").toISOString(),onChangeMonth:d,styles:S.styles,locale:v,disabled:g,focusGridOnMount:!0,invisibleTableCellBorders:E,onIsCalendarOpen:h,renderCalendarDate:y,type:i.Vz.Horizontal});case i.Vz.Vertical:default:return n.createElement(b,{name:f,monthsToShow:m,maxDate:s,minDate:o,selectedDate:u,onSelect:p,currentMonth:l||c()().startOf("month").toISOString(),onChangeMonth:d,styles:S.styles,locale:v,disabled:g,invisibleTableCellBorders:E})}}},41855:(e,r,t)=>{"use strict";t.d(r,{D1:()=>l,Oy:()=>p,Zz:()=>c,p6:()=>s,w4:()=>u});var a=t(84025),n=t.n(a),i=t(94675),o=t(18665);function s(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.zT,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Z;return n()(e).locale(t).format(r)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd";return[1,2,3,4,5,6,0].map((t=>n()().locale(e).day(t).format(r)))}function c(e,r){return n()(e).add(r-1,"month")}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=n()(e).isBefore(t)?n()(t).startOf("month"):n()(e);return r>1&&n()(e).isSame(a,"month")&&(i=n()(i).subtract(r-1,"month")),i}function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Fn,t=n()(e).startOf("month"),a=c(e,r).endOf("month");if(1===r){var o=t.startOf("isoWeek"),s=a.endOf("isoWeek");return{firstVisibleDate:o.format(i.zT),lastVisibleDate:s.format(i.zT)}}return{firstVisibleDate:t.format(i.zT),lastVisibleDate:a.format(i.zT)}}(d(e,r,t,a).toISOString(),r);if(n()(t).isAfter(a))return o;var l=n()(o.firstVisibleDate).isBefore(t)&&n()(t).isBefore(o.lastVisibleDate),u=n()(o.lastVisibleDate).isAfter(a)&&n()(a).isAfter(o.firstVisibleDate);return{firstVisibleDate:l?s(t,i.zT):o.firstVisibleDate,lastVisibleDate:u?s(a,i.zT):o.lastVisibleDate}}function p(e){for(var{currentMonth:r,monthsToShow:t,selectedDate:a,minDate:o,maxDate:l}=e,c=s(a,i.zT),u=[],p=d(r,t,o,l),m=0;m<t;m+=1){for(var g=[],v=n()(p).add(m,"month").format(i.zT),h=n()(p).add(m,"month").startOf("month"),y=n()(h).endOf("month"),f=n()(h).startOf("isoWeek"),E=n()(y).endOf("isoWeek"),b=h.diff(f,"days"),S=y.diff(h,"days"),T=n()(y).add(1,"day"),C=E.diff(T,"days"),A=0;A<b;A+=1){var I=n()(f).add(A,"days"),_=I.format(i.zT)===c,P=I.isBefore(s(o),"days"),R=I.isAfter(s(l),"days");g.push({date:I.format(i.zT),isCurrentMonth:!1,isSelected:_,isBeforeMinDate:P,isAfterMaxDate:R})}for(var k=0;k<=S;k+=1){var N=n()(h).add(k,"days"),O=N.format(i.zT)===c,L=N.isBefore(s(o),"days"),x=N.isAfter(s(l));g.push({date:N.format(i.zT),isCurrentMonth:!0,isSelected:O,isBeforeMinDate:L,isAfterMaxDate:x})}for(var D=0;D<=C;D+=1){var w=n()(T).add(D,"days"),Z=w.format(i.zT)===c,F=w.isBefore(s(o),"days"),B=w.isAfter(s(l),"days");g.push({date:w.format(i.zT),isCurrentMonth:!1,isSelected:Z,isBeforeMinDate:F,isAfterMaxDate:B})}u.push({days:g,currentMonth:v})}return u}},37754:(e,r,t)=>{"use strict";t.d(r,{nD:()=>E,U4:()=>f,dz:()=>I,YB:()=>C,ZP:()=>S});var a=t(23198),n=t(31616),i=t(85924),o=t(98318),s=t(50093),l=t(29901),c=t(78113),d=t(69970),u=t(13779),p=t(8888),m=t(23394),g={content:'""',display:"block",position:"absolute",right:"100%",width:0,height:0,border:"solid transparent",pointerEvents:"none"};const v=s.StyleSheet.create({container:{position:"relative"},callout:{border:"solid 1px ".concat(o.dp_brand_neutral_dull),margin:"0 auto",padding:p.Z.sizes.spacers.m,paddingTop:p.Z.sizes.spacers.s,position:"relative",borderRadius:m.E0.l,background:o.dp_app_backdrop_base,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",textAlign:"center",width:"100%",":before":Object.assign({},g,{borderColor:"transparent",borderWidth:"".concat(9,"px")}),":after":Object.assign({},g,{borderColor:"transparent",borderWidth:"".concat(7,"px")})},arrowTop:{":before":{borderBottomColor:o.dp_brand_neutral_dull,bottom:"100%",left:"-100%",marginLeft:"auto",marginRight:"auto",right:"-100%"},":after":{borderBottomColor:o.dp_app_backdrop_base,bottom:"100%",left:"-100%",marginLeft:"auto",marginRight:"auto",right:"-100%"}},arrowRight:{":before":{top:"calc(50% - ".concat(9,"px)"),right:"initial",left:"100%",borderLeftColor:o.dp_brand_neutral_dull},":after":{top:"calc(50% - ".concat(7,"px)"),right:"initial",left:"100%",borderLeftColor:o.dp_app_backdrop_base}},arrowBottom:{":before":{borderTopColor:o.dp_brand_neutral_dull,top:"100%",left:"-100%",marginLeft:"auto",marginRight:"auto",right:"-100%"},":after":{top:"100%",left:"-100%",borderTopColor:o.dp_app_backdrop_base,marginLeft:"auto",marginRight:"auto",right:"-100%"}},arrowLeft:{":before":{borderRightColor:o.dp_brand_neutral_dull,top:"calc(50% - ".concat(9,"px)")},":after":{borderRightColor:o.dp_app_backdrop_base,top:"calc(50% - ".concat(7,"px)")}},arrowTopRight:{":before":{borderBottomColor:o.dp_brand_neutral_dull,bottom:"100%",right:p.Z.sizes.spacers.s},":after":{borderBottomColor:o.dp_app_backdrop_base,bottom:"100%",right:"calc(".concat(p.Z.sizes.spacers.s," + ").concat(2,"px)")}},dismiss:{width:24,height:24,position:"absolute",top:p.Z.sizes.spacers.xs,right:p.Z.sizes.spacers.xs,border:0,background:"transparent"}});var h=s.StyleSheet.create({offsetWrapper:{position:"relative"},"offset-bottom":{top:"-".concat(9,"px")},"offset-top":{top:"".concat(9,"px")},"offset-left":{right:"-".concat(9,"px")},"offset-right":{left:"-".concat(9,"px")}}),y=["element","arrows"],f=e=>{var{onClick:r,dismissIconColor:t=o.dp_brand_secondary_dullest,styleSheet:a}=e;return l.createElement("button",{type:"button",onClick:r,className:(0,s.css)(v.dismiss,a),"aria-label":"Close"},l.createElement(c.Z,{fill:t}))},E=function(e){return e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_RIGHT="top-right",e}({});class b extends l.Component{render(){var{children:e,arrow:r,styleSheet:t,isDismissible:a,isDismissed:n,onDismiss:i,testId:o,divRef:c,dismissIconColor:d}=this.props,u=(0,s.css)(v.callout,"top"===r&&v.arrowTop,"right"===r&&v.arrowRight,"bottom"===r&&v.arrowBottom,"left"===r&&v.arrowLeft,"top-right"===r&&v.arrowTopRight,t&&t.callout,t&&t.arrowLeft);return l.createElement("div",{className:(0,s.css)(v.container,t&&t.container),"aria-hidden":n?"true":"false",ref:c},l.createElement("div",null,l.createElement("div",{className:u,"data-test":o},e),a&&l.createElement(f,{onClick:i,dismissIconColor:d})))}}const S=b;var T=e=>{var r,t,{children:a,arrow:n,isDismissible:i,styleSheet:o,style:c,divRef:d}=e,u=h["offset-".concat(n)];return Array.isArray(o)&&(r=o.map((e=>e&&(e.popup||e.container||e.callout)?e.popup:e)),t=o.filter((e=>e&&(e.popup||e.container||e.callout||e.arrowLeft)))[0]),l.createElement("div",{style:c,className:(0,s.css)(r)},l.createElement("div",{className:(0,s.css)(h.offsetWrapper,u)},l.createElement(b,{arrow:n,isDismissible:i,styleSheet:t,divRef:d},a)))},C=e=>{var{arrow:r}=e,{hAnchor:t,vAnchor:a}=(e=>{var r=["start","end"];return{hAnchor:r[["right","left"].indexOf(e)]||"center",vAnchor:r[["bottom","top"].indexOf(e)]||"center"}})(r);return l.createElement(u.Z,{vAnchor:a,hAnchor:t,useOffset:!0},l.createElement(T,e))},A={[E.TOP]:d.q$.CENTER_END,[E.RIGHT]:d.q$.START_CENTER,[E.LEFT]:d.q$.END_CENTER,[E.BOTTOM]:d.q$.CENTER_START};class I extends l.Component{constructor(e){super(e),(0,i.Z)(this,"getBestArrow",((e,r)=>e.filter((e=>r.indexOf(A[e])>-1))[0]||e[0])),(0,i.Z)(this,"getPreferredPositions",(e=>{var{arrow:r}=this.state,t=this.getBestArrow(this.props.arrows,e);return r!==t&&this.setState({arrow:t}),A[t]})),this.state={arrow:e.arrows[0]}}render(){var e=this.props,{element:r,arrows:t}=e,i=(0,n.Z)(e,y),{arrow:o}=this.state,s=(0,a.Z)((0,a.Z)({},i),{},{arrow:o||t[0]});return l.createElement(d.ZP,{element:r,anchorPosition:this.getPreferredPositions,useOffset:!0},l.createElement(T,s))}}},87005:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(98318),n=t(50093),i=t(8888),o=t(23394),s=t(52068),l=t(94878),c=t(4385);const d=n.StyleSheet.create({iconWrapDefault:{width:o.W0.s6,height:o.W0.s6,lineHeight:o.W0.s6,borderStyle:"solid",borderWidth:1,borderColor:a.dp_app_border_dull,borderRadius:o.E0.m,textAlign:"center",marginRight:o.W0.s2,":hover":{borderColor:a.dp_brand_secondary_dim,backgroundColor:a.dp_brand_secondary_brighter}},iconWrapChecked:{borderStyle:"solid",borderWidth:1,borderColor:a.dp_brand_secondary_duller,background:a.dp_brand_secondary_duller,color:a.dp_brand_white,objectFit:"contain",":hover":{borderColor:a.dp_brand_secondary_dull,backgroundColor:a.dp_brand_secondary_dull}},iconWrapDisabled:{borderColor:a.dp_app_border_dull,backgroundColor:a.dp_brand_neutral_brightest,pointerEvents:"none",":hover":{borderColor:a.dp_app_border_dull,backgroundColor:a.dp_brand_neutral_brightest}},iconWrapCheckedAndDisabled:{borderColor:a.dp_app_border_dull,backgroundColor:a.dp_brand_neutral_mid,":hover":{borderColor:a.dp_app_border_dull,backgroundColor:a.dp_brand_primary_dull}},iconDefault:{position:"relative",top:0,color:a.dp_brand_white,margin:"auto",fill:a.dp_brand_white,width:o.W0.s8,height:o.W0.s8},labelDefault:{display:"flex",alignItems:"center",color:a.dp_app_text_base,cursor:"pointer",outline:"0 none",fontFamily:s.R.body.face.fontFamily,marginBottom:i.Z.sizes.spacers.px12},labelDisabled:{color:a.dp_app_text_subdued,cursor:"not-allowed"},labelCopy:{fontSize:o.W0.s4,paddingLeft:o.W0.s2,paddingRight:o.W0.s1,verticalAlign:"middle"},inputDefault:{":active:not(:disabled) ~ div":{borderWidth:2,borderColor:a.dp_brand_secondary_dim,backgroundColor:a.dp_brand_secondary_bright},":focus ~ div":{outline:"none",boxShadow:"0 0 0 4px ".concat((0,l.I)(c.ZP.dp_brand_secondary_dim,.5)),borderWidth:2,borderColor:a.dp_brand_secondary_bright},":focus-visible ~ div":{outline:"4px solid ".concat(a.dp_comp_focus_ring)},":checked:active:not(:disabled) ~ div":{borderWidth:1,borderColor:a.dp_brand_secondary_dullest,backgroundColor:a.dp_brand_secondary_dullest},":checked:focus ~ div":{borderWidth:1,borderColor:a.dp_brand_secondary_duller,backgroundColor:a.dp_brand_secondary_duller}}})},30471:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(98318),n=t(50093),i=t(8888),o=t(23394),s=t(52068);const l=n.StyleSheet.create({iconWrapDefault:{width:20,height:20,lineHeight:"20px",borderStyle:"solid",borderWidth:1,borderColor:a.dp_brand_neutral_dull,borderRadius:o.E0.m,textAlign:"center",margin:i.Z.sizes.spacers.xs},iconWrapDisabled:{borderColor:a.dp_app_action_disabled,backgroundColor:a.dp_app_action_disabled},iconWrapChecked:{borderStyle:"solid",borderWidth:1,borderColor:a.dp_app_action_primary,background:a.dp_app_action_primary,color:a.dp_app_text_inverted},iconWrapCheckedAndDisabled:{},iconDefault:{position:"relative",top:0,color:a.dp_app_text_inverted,margin:"auto",fill:a.dp_brand_white,width:24,height:24},labelDefault:{display:"flex",alignItems:"center",color:a.dp_app_text_base,cursor:"pointer",outline:"0 none",fontFamily:s.R.body.face.fontFamily},labelDisabled:{color:a.dp_brand_neutral_mid,cursor:"default"},labelHover:{":hover > div":{background:a.dp_brand_primary_brightest}},labelCopy:{paddingRight:i.Z.sizes.spacers.xs,verticalAlign:"middle"},inputDefault:{":focus ~ div":{borderColor:a.dp_brand_neutral_dull,borderWidth:2},":focus-visible ~ div":{outline:"4px solid ".concat(a.dp_comp_focus_ring)}}})},56515:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(50093),n=t(29901);const i=e=>{var{className:r}=e;return n.createElement("svg",{viewBox:"0 0 24 24",className:r},n.createElement("g",{stroke:"none",fill:"currentColor"},n.createElement("path",{fillRule:"nonzero",d:"M4.72 12.53a.75.75 0 0 1 1.06-1.06l4.493 4.5a.75.75 0 0 1-1.061 1.06l-4.493-4.5zm13.5-5.56a.75.75 0 0 1 1.06 1.06l-9.007 9a.75.75 0 0 1-1.06-1.06l9.007-9z"})))};var o=t(8888),s=t(93588),l=t(14023),c=t(35779),d=a.StyleSheet.create({label:{display:"inline-block",cursor:"pointer"},input:{margin:o.Z.sizes.spacers.s},description:{position:"relative",left:"40px",top:"-10px",maxWidth:"85%",paddingRight:c.V_}});const u=e=>{var{name:r,innerLabel:t,disabled:c=!1,checked:u=!1,native:p,onChange:m,testId:g,labelTestId:v,styleSheet:h,labelAriaExpanded:y,tabIndex:f=0,hideInnerLabel:E=!1,isUncontrolledInput:b,inputRef:S,labelButtonRef:T,description:C}=e,A=(0,a.css)(h&&h.labelDefault,p?d.label:null,h&&h.labelDefault,!u&&!c&&h&&h.labelHover,c&&h&&h.labelDisabled),I=(0,a.css)(h&&h.iconWrapDefault,u&&h&&h.iconWrapChecked,c&&h&&h.iconWrapDisabled,u&&c&&h&&h.iconWrapCheckedAndDisabled),_=(0,a.css)(p?d.input:o.Z.accessibility.hidden,h&&h.inputDefault);return n.createElement(n.Fragment,null,n.createElement(s.Z,{target:r,className:A,ariaExpanded:y,testId:v},n.createElement("input",{id:r,name:r,type:"checkbox",checked:b?void 0:u,disabled:c,onChange:m,className:_,"data-test":g,tabIndex:f,ref:S}),!p&&n.createElement("div",{className:I},u&&n.createElement(i,{className:(0,a.css)(h&&h.iconDefault)})),!E&&n.createElement("span",{className:(0,a.css)(h&&h.labelCopy),"data-test":"checkbox-innerLabel",ref:T},t)),C&&n.createElement(l.Z,{as:"p",textType:"mini",textColor:"subdued2",testId:"".concat(r,"-description"),styleSheet:d.description},C))}},99112:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(85924),n=t(29901),i=t(10571),o=t(76223);class s extends n.Component{constructor(){super(...arguments),(0,a.Z)(this,"keyTimeoutId",void 0),(0,a.Z)(this,"unmounted",!1),(0,a.Z)(this,"handleOutsideClick",(e=>{if(!(0,o.b)(e.target)){var r=this.findDOMNode();r&&r.contains(e.target)||this.props.onDismiss(e)}})),(0,a.Z)(this,"onKeyDown",(e=>{switch(e.key){case"Escape":this.props.onDismiss(e);break;case"Tab":this.keyTimeoutId=setTimeout((()=>{if(!(0,o.b)(document.activeElement)){var r=this.findDOMNode();r&&r.contains(document.activeElement)||this.props.onDismiss(e)}}),100)}}))}findDOMNode(){return this.unmounted?void 0:i.findDOMNode(this)}componentDidMount(){setTimeout((()=>{document.body.addEventListener("click",this.handleOutsideClick,!0),document.body.addEventListener("touchend",this.handleOutsideClick,!0),document.body.addEventListener("keydown",this.onKeyDown)}),0)}componentWillUnmount(){this.unmounted=!0,this.keyTimeoutId&&clearTimeout(this.keyTimeoutId),document.body.removeEventListener("click",this.handleOutsideClick,!0),document.body.removeEventListener("touchend",this.handleOutsideClick,!0),document.body.removeEventListener("keydown",this.onKeyDown)}render(){var{children:e}=this.props;return e?n.Children.only(e):n.createElement("noscript",null)}}const l=s},93153:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o,x:()=>i});var a=t(50093),n=t(8888),i=200;const o=a.StyleSheet.create({fold:{overflow:"hidden"},transitioning:{transition:"height ".concat(i,"ms ease-in-out")},container:{transition:"opacity ".concat(i,"ms ease-in-out")},depotCollapsibleStyling:{border:"none",padding:"".concat(n.Z.sizes.spacers.m)}})},79239:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(85924),n=t(75788),i=t(56590),o=t(50093),s=t(29901),l=t(94431),c=t(93153);class d extends s.Component{constructor(){super(...arguments),(0,a.Z)(this,"container",void 0),(0,a.Z)(this,"transContainer",void 0),(0,a.Z)(this,"sub",void 0),(0,a.Z)(this,"state",{height:this.props.expanded?1:0,transitioning:!1}),(0,a.Z)(this,"updateCollapse",(e=>{this.setState({transitioning:!0,height:e?0:this.getHeight()}),setTimeout((()=>{var r=e?this.getHeight():0;this.setState({height:r}),this.props.onAnimationEnd&&this.props.onAnimationEnd()}),50)})),(0,a.Z)(this,"setContainer",(e=>{this.container=e})),(0,a.Z)(this,"setTransContainer",(e=>{this.transContainer=e})),(0,a.Z)(this,"getHeight",(()=>this.container&&this.container.getBoundingClientRect().height||0)),(0,a.Z)(this,"renderFold",(()=>{var{children:e,expanded:r,shouldAnimate:t,containerOverflow:a,setDisplayNone:n=!0,regionLevel:i,foldStyle:l}=this.props,{transitioning:d,height:u}=this.state;if(!t)return r?e:null;var p=d||0===u?u:"auto",m=n&&!r?"none":"block";return s.createElement("div",{ref:this.setTransContainer,className:(0,o.css)(l,(d||!r)&&c.Z.fold,d&&c.Z.transitioning),style:{height:p},"aria-hidden":!r,"aria-live":r&&i?i:void 0,"data-test":"collapsible-container"},s.createElement("div",{ref:this.setContainer,className:(0,o.css)(c.Z.container),style:{display:m,overflow:a||"auto",opacity:u>0?1:0}},e))}))}componentDidMount(){var{shouldAnimateOnMount:e,shouldAnimate:r,expanded:t}=this.props;this.sub=(this.transContainer?(0,n.R)(this.transContainer,"transitionend").pipe((0,l.h)((e=>{var{target:r}=e;return r===this.transContainer}))):(0,i.c)()).subscribe((()=>{this.setState({transitioning:!1})})),r&&e&&t&&this.updateCollapse(!!t)}componentDidUpdate(e){var{shouldAnimate:r,expanded:t}=this.props;r&&t!==e.expanded&&this.updateCollapse(!!t)}componentWillUnmount(){this.sub.unsubscribe()}render(){var{element:e}=this.props;return s.createElement("div",{className:(0,o.css)(this.props.styleSheet)},e,this.renderFold())}}const u=d},12218:(e,r,t)=>{"use strict";t.d(r,{wW:()=>C,ZP:()=>_});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(10571),l=t(98184),c=t(77304),d=t(6131),u=t(15628),p=t(89426),m=t(28220),g=t(88593),v=t(23394),h=t(94878),y=t(4385),f="opacity ".concat(100,"ms ease-out"),E=i.StyleSheet.create({appear:{[v.cy.max.s]:{opacity:0}},appearActive:{[v.cy.max.s]:{opacity:1,transition:f}},enter:{[v.cy.max.s]:{opacity:0}},enterActive:{[v.cy.max.s]:{opacity:1,transition:f}},exit:{[v.cy.max.s]:{opacity:1}},exitActive:{[v.cy.max.s]:{opacity:0,transition:f}}});const b=i.StyleSheet.create({root:{position:"fixed",top:0,left:0,right:0,zIndex:111,width:"100%",height:"100%",backgroundColor:(0,h.I)(y.ZP.dp_brand_neutral_dullest,.2),[v.cy.min.m]:{backgroundColor:(0,h.I)(y.ZP.dp_brand_neutral_dullest,.5)}},buttons:{display:"flex",flexDirection:"column",marginTop:v.W0.s6,[v.cy.min.m]:{flexDirection:"row"}},cancelButton:{flex:"1",order:2,marginRight:0,[v.cy.min.m]:{order:1,marginRight:v.W0.s4}},confirmationButton:{flex:"1",order:1,marginBottom:v.W0.s2,[v.cy.min.m]:{order:2,marginBottom:0}},button:{flex:"1"}});var S=["children"],T=380,C=function(e){return e.CONFIRMATION="CONFIRMATION",e.NUDGE="NUDGE",e}({}),A=e=>{var{children:r}=e,t=(0,n.Z)(e,S);return o.createElement(c.Z,(0,a.Z)({},t,{mountOnEnter:!0,unmountOnExit:!0,classNames:(0,d._)(E),onEntered:u.d}),r)},I=e=>{var{children:r}=e;return"undefined"!=typeof document&&document.body?s.createPortal(r,document.body):null};const _=e=>{var{width:r=T,isOpen:t,children:a,type:n,actionButton:s,testId:c}=e;return o.createElement(I,null,o.createElement(A,{in:t,timeout:100},o.createElement("div",{className:(0,i.css)(b.root),"data-test":c,"data-critical-overlay-root":!0},o.createElement(m.ZP,{type:m.j2.CRITICAL,close:()=>null,width:r},o.createElement(g.ZP,null,a,o.createElement("div",{className:(0,i.css)(b.buttons)},e.type===C.CONFIRMATION&&e.dismissButton&&o.createElement(o.Fragment,null,o.createElement(p.ZP,{level:e.dismissButton.level||p.Ue.TERTIARY,onClick:e.dismissButton.onClick,depot:!0,size:"m",testId:"dismiss-button",loading:e.dismissButton.loading,styleSheet:b.cancelButton,disabled:s.loading},e.dismissButton.label||o.createElement(l.FormattedMessage,{id:"components.cancel"})),o.createElement(p.ZP,{level:s.level||p.Ue.SECONDARY,onClick:s.onClick,depot:!0,size:"m",testId:"action-button",loading:s.loading,disabled:e.dismissButton.loading,styleSheet:b.confirmationButton},s.label||o.createElement(l.FormattedMessage,{id:"components.okGotIt"}))),n===C.NUDGE&&o.createElement(p.ZP,{level:s.level||p.Ue.SECONDARY,onClick:s.onClick,depot:!0,size:"m",testId:"action-button",loading:s.loading,styleSheet:b.button},s.label||o.createElement(l.FormattedMessage,{id:"components.okGotIt"}))))))))}},64047:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>C,q7:()=>S});var a=t(64321),n=t(85924),i=t(50093),o=t(29901),s=t(98184),l=t(56429),c=t(61666),d=t(47229),u=t(37754),p=t(23198),m=t(98318),g=t(8888),v=t(52068);const h=i.StyleSheet.create({container:{display:"inline-block"},icon:{position:"relative",marginRight:g.Z.sizes.spacers.px4,":before":{content:'""',position:"absolute",top:"-".concat(g.Z.sizes.spacers.px8),bottom:"-".concat(g.Z.sizes.spacers.px8),left:"-".concat(g.Z.sizes.spacers.px8),right:"-".concat(g.Z.sizes.spacers.px8)}},title:(0,p.Z)((0,p.Z)({textAlign:"left",marginBottom:g.Z.sizes.spacersValues.xxs},v.W.title4),{},{fontSize:"var(--DEPRECATED-14px)",color:m.dp_app_text_base}),content:(0,p.Z)((0,p.Z)({},v.W.body),{},{textAlign:"left",color:m.dp_app_text_base,width:g.Z.sizes.contentWidth.infoPopup}),itemContainer:{textAlign:"left"},separator:{border:"none",borderTop:"solid 1px ".concat(m.dp_brand_neutral_brighter)},link:g.Z.typography.small,alert:{height:g.Z.sizes.spacers.px17,width:g.Z.sizes.spacers.px17,fill:"#FFC508",position:"relative",top:g.Z.sizes.spacers.px3},popup:{marginLeft:"-3px",opacity:1},callToActionContainer:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},actionButton:{marginTop:g.Z.sizes.spacers.px20,fontSize:g.Z.sizes.spacers.px16,lineHeight:g.Z.sizes.spacers.px24,padding:"".concat(g.Z.sizes.spacers.px7," ").concat(g.Z.sizes.spacers.px16),minHeight:g.Z.sizes.spacers.px20,display:"inline-block",marginLeft:"auto",width:"auto"}});var y=t(89426);const f=(0,s.injectIntl)((e=>{var{intl:r}=e;return o.createElement("div",{className:(0,i.css)(h.itemContainer),onClick:e=>e.stopPropagation()},o.createElement("h4",{className:(0,i.css)(h.title)},o.createElement(s.FormattedMessage,{id:"components.disruptionAlert.callToAction.title"})),o.createElement("p",{className:(0,i.css)(h.content)},o.createElement(s.FormattedMessage,{id:"components.disruptionAlert.callToAction.message"})),o.createElement("div",{className:(0,i.css)(h.callToActionContainer)},o.createElement(y.HC,{href:r.formatMessage({id:"links.page.disruption.appMessage.appLink"}),styleSheet:h.actionButton},o.createElement(s.FormattedMessage,{id:"components.disruptionAlert.callToAction.button"}))))}));var E=[u.nD.TOP,u.nD.LEFT,u.nD.RIGHT,u.nD.BOTTOM],b=e=>{var{content:r,link:t,callToAction:a=!0}=e;return o.createElement("div",{className:(0,i.css)(h.itemContainer),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation()},o.createElement("p",{className:(0,i.css)(h.content)},r),a&&t?o.createElement("a",{href:t,className:(0,i.css)(h.link),target:"_blank"},o.createElement(s.FormattedMessage,{id:"components.journeyItinerary.moreInfo"})):null)},S=e=>e.filter((e=>0!==Object.keys(e).length)).map((e=>({content:e.message,link:e.disruptionUrl,severity:e.severity})));class T extends o.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{anchor:null,show:!1})}static getDerivedStateFromProps(e,r){var{items:t=[]}=e,{show:a,anchor:n}=r;return{show:a,anchor:t.length?n:null}}setAnchor(e){this.state.anchor||this.setState({anchor:e})}renderItems(e){var r,{callToAction:t=!0}=this.props,n=e.map((e=>()=>o.createElement(b,(0,a.Z)({},e,{callToAction:t}))));return t&&n.push(f),n.reduce((r=()=>o.createElement("hr",{className:(0,i.css)(h.separator)}),(e,t)=>[...e,...e.length?[r]:[],t]),[]).map(((e,r)=>o.createElement(e,{key:r})))}mouseEnter(){this.props.onMouseover&&this.props.onMouseover(),this.setState({show:!0})}render(){var{state:e,props:r}=this,{items:t=[],styleSheet:a,portal:n=l.h_.TRAINLINE}=r;return t.length?o.createElement("span",{className:(0,i.css)(h.container,a&&a.container),ref:e=>this.setAnchor(e),onMouseEnter:()=>this.mouseEnter(),onMouseLeave:()=>this.setState({show:!1})},o.createElement("span",{className:(0,i.css)(h.icon)},n===l.h_.TRAINLINE?o.createElement(c.Z,{className:(0,i.css)(h.alert)}):o.createElement(d.Z,{className:(0,i.css)(h.alert)})),this.state.show?o.createElement(u.dz,{styleSheet:{popup:h.popup},element:e.anchor,arrows:E},o.createElement("h4",{className:(0,i.css)(h.title)},o.createElement(s.FormattedMessage,{id:"components.disruptionAlert.title"})),this.renderItems(t)):null):null}}const C=T},29887:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(50093),n=t(29901),i=t(23198),o={backgroundColor:t(98318).dp_brand_secondary_mid,display:"inline-block",width:"4px",height:"4px",borderRadius:"50%",margin:"2px",animationName:[{"0%":{transform:"scale(1)",opacity:.6},"50%":{transform:"scale(1.8)",opacity:.8},"100%":{transform:"scale(1)",opacity:.6}}],animationDuration:"1s",animationFillMode:"both",animationIterationCount:"infinite"};const s=a.StyleSheet.create({container:{display:"inline-block"},dot1:(0,i.Z)((0,i.Z)({},o),{},{animationDelay:"0"}),dot2:(0,i.Z)((0,i.Z)({},o),{},{animationDelay:".15s"}),dot3:(0,i.Z)((0,i.Z)({},o),{},{animationDelay:".30s"})});const l=e=>{var{styleSheet:r}=e;return n.createElement("div",{className:(0,a.css)(s.container,r&&r.container),"data-test":"dots-loader"},n.createElement("div",{className:(0,a.css)(s.dot1,r&&r.baseDot,r&&r.dot1),"data-test":"dot-0"}),n.createElement("div",{className:(0,a.css)(s.dot2,r&&r.baseDot,r&&r.dot2),"data-test":"dot-1"}),n.createElement("div",{className:(0,a.css)(s.dot3,r&&r.baseDot,r&&r.dot3),"data-test":"dot-2"}))}},61065:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(98318),l=t(23394);const c=i.StyleSheet.create({root:{backgroundClip:"border-box",backgroundColor:s.dp_app_backdrop_base,border:"solid 1px ".concat(s.dp_app_border_base),borderRadius:l.E0.l,boxShadow:"0 2px 6px 0 rgba(0, 0, 0, 0.12)",overflow:"hidden",width:"fit-content"}});var d=["children","styleSheet"];const u=e=>{var{children:r,styleSheet:t}=e,s=(0,n.Z)(e,d);return o.createElement("div",(0,a.Z)({className:(0,i.css)(c.root,t),role:"dialog"},s),r)}},59230:(e,r,t)=>{"use strict";t.d(r,{bf:()=>g,hS:()=>m,ZP:()=>v});var a=t(90448),n=t(50093),i=t(29901),o=t(79239),s=t(23198),l=t(98318),c=t(23394),d="1px solid ".concat(l.dp_app_border_base),u={transitionDuration:"".concat(200,"ms"),transitionTimingFunction:"ease-in-out"};const p=n.StyleSheet.create({container:{display:"flex",flexDirection:"column",width:"100%"},marginBottom:{marginBottom:c.W0.s2},detailsContainer:(0,s.Z)((0,s.Z)({display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center",cursor:"pointer",width:"100%",transitionProperty:"border,border-radius"},u),{},{"::-webkit-details-marker":{display:"none"}}),detailsContainerCollapsed:{border:"1px solid ".concat(l.dp_app_border_bright),borderRadius:c.E0.l,transitionDelay:"".concat(200,"ms")},detailsContainerExpanded:{border:d,borderRadius:"".concat(c.E0.l," ").concat(c.E0.l," 0 0 ")},cannotToggle:{cursor:"default"},detailsWrapper:{width:"100%",overflow:"hidden"},iconChevron:(0,s.Z)({flexShrink:0,color:l.dp_app_text_base,transitionProperty:"transform"},u),iconChevronRotateUp:{transform:"rotate(-180deg)"},expandedBody:(0,s.Z)({display:"inline-block",width:"100%",border:d,borderTop:"none",borderRadius:"0 0 ".concat(c.E0.l," ").concat(c.E0.l),transitionProperty:"border,border-radius"},u)});var m=function(e){return e.EXPANDED="expanded",e.COLLAPSED="collapsed",e}({});var g=e=>{var{isExpanded:r}=e;return i.createElement(a.default,{size:32,className:(0,n.css)(p.iconChevron,r&&p.iconChevronRotateUp),"aria-hidden":!0})};const v=e=>{var{canToggle:r=!0,forceState:t,expandedOnMount:a,hideDefaultChevronIcon:s,onToggle:l,expandedBody:c,header:d,styleSheet:u,isMobile:v}=e,[h,y]=(0,i.useState)(a||!1),f=!r||!!t,E=t?t===m.EXPANDED:h,b=(0,i.useRef)(!0);(0,i.useEffect)((()=>{b.current?b.current=!1:l&&l(h)}),[l,h]);var S=(0,n.css)(p.detailsContainer,f&&p.cannotToggle,E?p.detailsContainerExpanded:p.detailsContainerCollapsed,null==u?void 0:u.detailsContainer,E?null==u?void 0:u.detailsContainerExpanded:null==u?void 0:u.detailsContainerCollapsed);return i.createElement("details",{className:(0,n.css)(p.container,null==u?void 0:u.container,v?void 0:p.marginBottom),open:E,"aria-disabled":f,"data-test":"details-element"},i.createElement("summary",{className:S,onClick:e=>{e.preventDefault(),f||y((e=>!e))},tabIndex:f?-1:0,"data-test":"details-container"},i.createElement("div",{className:(0,n.css)(p.detailsWrapper)},function(e,r){return"function"==typeof e?e({isExpanded:r}):r?e.collapsed:e.expanded||e.collapsed}(d,E)),!f&&!s&&i.createElement(g,{isExpanded:E})),i.createElement(o.Z,{expanded:E,shouldAnimate:!0},i.createElement("div",{className:(0,n.css)(p.expandedBody,null==u?void 0:u.expandedBody),"data-test":"collapsible-content"},c)))}},18212:(e,r,t)=>{"use strict";t.d(r,{w:()=>d,Z:()=>u});var a=t(50093),n=t(29901),i=t(8888),o=t(98318),s=t(23394),l=(e,r,t)=>({[e?"borderTopWidth":"borderBottomWidth"]:0,[e?"borderBottomColor":"borderTopColor"]:t,[e?"top":"bottom"]:0,[r?"left":"right"]:i.Z.sizes.spacers.xs});const c=a.StyleSheet.create({base:{padding:"calc(".concat(i.Z.sizes.spacers.xs," - 1px) 0 ").concat(i.Z.sizes.spacers.xs," 0"),position:"relative"},container:{lineHeight:"1.3em",minHeight:24,overflow:"hidden",position:"relative",wordBreak:"break-word"},dark:{borderRadius:s.E0.m,padding:"".concat(i.Z.sizes.spacers.xs," ").concat(i.Z.sizes.spacers.s)},error:{color:o.dp_app_text_negative},errorDark:{backgroundColor:o.dp_app_negative_brighter},warning:{color:o.dp_app_warning_mid},warningDark:{backgroundColor:o.dp_app_warning_brightest},information:{color:o.dp_app_info_mid},informationDark:{backgroundColor:o.dp_app_info_brighter},success:{color:o.dp_app_positive_dull},successDark:{backgroundColor:o.dp_app_positive_brightest},headsUp:{color:o.dp_app_text_subtle},bounceIn:{animationName:[i.Z.animations.bounceIn.keyframes],animationDuration:i.Z.animations.bounceIn.defaultTiming},connector:{border:"".concat(i.Z.sizes.spacers.s," solid transparent"),position:"absolute"},topLeftConnectorPadding:{paddingTop:"calc((".concat(i.Z.sizes.spacers.xs,"/4)*5)")},"topLeftConnector--error":l(!0,!0,o.dp_app_negative_brighter),"topLeftConnector--warning":l(!0,!0,o.dp_app_warning_brightest),"topLeftConnector--information":l(!0,!0,o.dp_app_info_brighter),"topLeftConnector--success":l(!0,!0,o.dp_app_positive_brightest),topRightConnectorPadding:{paddingTop:"calc((".concat(i.Z.sizes.spacers.xs,"/4)*5)")},"topRightConnector--error":l(!0,!1,o.dp_app_negative_brighter),"topRightConnector--warning":l(!0,!1,o.dp_app_warning_brightest),"topRightConnector--information":l(!0,!1,o.dp_app_info_brighter),"topRightConnector--success":l(!0,!1,o.dp_app_positive_brightest),bottomLeftConnectorPadding:{paddingBottom:"calc((".concat(i.Z.sizes.spacers.xs,"/4)*5)")},"bottomLeftConnector--error":l(!1,!0,o.dp_app_negative_brighter),"bottomLeftConnector--warning":l(!1,!0,o.dp_app_warning_brightest),"bottomLeftConnector--information":l(!1,!0,o.dp_app_info_brighter),"bottomLeftConnector--success":l(!1,!0,o.dp_app_positive_brightest),bottomRightConnectorPadding:{paddingBottom:"calc((".concat(i.Z.sizes.spacers.xs,"/4)*5)")},"bottomRightConnector--error":l(!1,!1,o.dp_app_negative_brighter),"bottomRightConnector--warning":l(!1,!1,o.dp_app_warning_brightest),"bottomRightConnector--information":l(!1,!1,o.dp_app_info_brighter),"bottomRightConnector--success":l(!1,!1,o.dp_app_positive_brightest)});var d=function(e){return e.TOP_LEFT="topLeft",e.TOP_RIGHT="topRight",e.BOTTOM_LEFT="bottomLeft",e.BOTTOM_RIGHT="bottomRight",e}({});const u=e=>{var r,{children:t,level:o,dark:s,connector:l,bounceIn:d,testId:u,ariaLabel:p,ariaRole:m="alert",id:g,"data-analytics-sensitive-element-redaction-flag":v,offset:h}=e,y=s&&l;if(y&&"number"==typeof h){var f=l&&l.toLowerCase().indexOf("left")>=0?h:-1*h;r={transform:"translate(".concat(f,"px, 0)")}}return n.createElement("div",{id:g,"aria-label":p,role:m,"data-test":u,className:(0,a.css)(c.base,d&&c.bounceIn,t?i.Z.transitions.visibilityVisible:i.Z.transitions.visibilityHidden,l&&c["".concat(l,"ConnectorPadding")]),"data-analytics-sensitive-element-redaction-flag":v},y&&n.createElement("div",{style:r,className:(0,a.css)(c.connector,c["".concat(l,"Connector--").concat(o)])}),n.createElement("div",{className:(0,a.css)(c.container,s&&c.dark,s&&c[o+"Dark"],c[o])},t))}},38554:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(50093),n=t(29901),i=t(98184),o=t(81867),s=t(98318),l=t(23394);const c=a.StyleSheet.create({container:{alignItems:"center",display:"flex",marginRight:0,[l.cy.max.s]:{justifyContent:"center",marginBottom:"10px",marginTop:"10px"}},logoIcon:{width:"140px",height:"24px"},logoWrapper:{color:s.dp_brand_primary_mid,marginLeft:"var(--DEPRECATED-7px)"}});const d=()=>n.createElement("div",{className:(0,a.css)(c.container),"data-test":"footer-powered-by-logo"},n.createElement(i.FormattedMessage,{id:"PoweredBy.label"}),n.createElement("div",{className:(0,a.css)(c.logoWrapper)},n.createElement(o.Z,{className:(0,a.css)(c.logoIcon)})))},72222:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var a=t(64321),n=t(82768),i=t(29901),o=t(98184);const s=e=>{var r="",t="",a="",n="",i=e.match(/^\D*/);i&&(r=i[0],e=e.replace(r,""));var o=e.match(/\D*$/);o&&(t=o[0],e=e.replace(t,""));var s=e.match(/^(\d{1,3}(?:[,.\s]{0,1}\d{3})?)([,.]\d{2})?$/);return s?(a=s[1],n=s[2]||""):console.error("Value does not match a supported currency format"),{prefix:r,units:a,decimals:n,suffix:t}};var l=t(50093),c=t(8888);const d=l.StyleSheet.create({chfCurrency:{fontSize:"0.72em",verticalAlign:"var(--DEPRECATED-5px)",[c.Z.breakpoints.large.max]:{fontSize:"0.7em",verticalAlign:"0.25em"}},currencyWrap:{display:"inline-flex",flexWrap:"wrap",justifyContent:"center"},twoLines:{flexDirection:"column"}});function u(e){return e.split("").join("")}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(e,t,a)=>n=>{var i=/\$/.test(n)?t:e;return n.replace(a,r?"":i)},a={USD:e=>e.replace(/\$?usd?\$?/i,"$"),AUD:t("A$","$1A$2",/(\$)?au?d?(\$)?/i),CAD:t("C$","$1C$2",/(\$)?ca?d?(\$)?/i),SEK:e=>e.replace(/sek/i,r?"":"kr"),CHF:e=>e.replace(/chf/i,r?"":"CHF"),GBP:e=>e.replace(/?gbp??/i,""),JPY:e=>e.replace(/?jpy??/i,""),NOK:e=>e.replace(/nok/i,r?"":"kr"),DKK:e=>e.replace(/dkk/i,r?"":"kr"),noOp:e=>e};return a[e]||a.noOp},m=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=>{var{prefix:o,units:l,decimals:c,suffix:d}=s(n);if(!e&&!r)return a?"".concat(u(o)).concat(l).concat(c).concat(u(d)):n;var p=e&&"00"===c.substring(1),m=r&&r.currencyCode===t?r.style:void 0,g=p?"":c,v="".concat(l).concat(g);return i.createElement(i.Fragment,null,o&&i.createElement("span",{className:m},a?u(o):o),v,d&&i.createElement("span",{className:m},a?u(d):d))}};const g=e=>{return i.createElement(o.FormattedNumber,(0,a.Z)({style:"currency"},e,{children:(0,n.qCK)((r=e.testId,t=e.forceCurrencyTwoLines,e=>{var a=t?[d.currencyWrap,d.twoLines]:[];return i.createElement("span",{"data-test":r,className:(0,l.css)(a)},e)}),m(e.hideDecimalsForIntegers,e.styleSymbol,e.currency,e.removeSpaceBeforeSymbolCurrency),p(e.currency,e.hideSymbol))}));var r,t}},20752:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var a=t(98318),n=t(50093),i=t(29901),o=t(23394),s=t(83367),l=n.StyleSheet.create({bordered:{borderRadius:o.E0.m,border:"solid 1px ".concat(a.dp_brand_neutral_brighter),padding:s.spacers.m}});const c=e=>{var{bordered:r,children:t,styles:a}=e;return i.createElement("div",{className:(0,n.css)(r&&l.bordered,a)},t)}},55989:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>w});var a=t(23198),n=t(41344),i=t(33337),o=t(98318),s=t(50093),l=t(82768),c=t(29901),d=t(98184),u=t(87332),p=t(95341),m=t(14023),g=t(60289),v=t(99366),h=t(83367),y=t(52068);const f=s.StyleSheet.create({wrapper:(0,a.Z)((0,a.Z)({display:"flex",alignItems:"flex-start",fontSize:"var(--DEPRECATED-18px)"},y.W.title3),{},{[g.ZP.small.max]:{alignItems:"unset"}}),arrowColumn:{[g.ZP.small.max]:{margin:"0 0 0 auto"}},icon:{width:"12px",height:"12px",strokeWidth:12,paddingTop:"2px"},timeContainer:{display:"flex",minWidth:"88px",marginRight:"8px",lineHeight:h.spacers.px16,[g.ZP.xxs.min]:{minWidth:"103px",marginRight:"12px"}},realTimeAlignment:{alignItems:"flex-start"},departureWithArrowContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between"}});var E=s.StyleSheet.create({realTimeInfo:(0,a.Z)((0,a.Z)({},v.cp.small),{},{fontWeight:y.R.body.weights.normal,color:o.dp_app_text_subdued})}),b=t(23394);const S=s.StyleSheet.create({wrapper:(0,a.Z)((0,a.Z)({display:"flex",alignItems:"flex-start",fontSize:"1.285rem"},y.W.title3),{},{[b.cy.max.s]:{alignItems:"unset"}}),arrowColumn:{[b.cy.max.s]:{margin:"0 auto"}},icon:{width:b.W0.s3,height:b.W0.s3,strokeWidth:b.W0.s3,paddingTop:"2px"},timeContainer:{display:"flex",lineHeight:b.W0.s4,minWidth:"96px",[b.cy.min.s]:{minWidth:"120px"},[b.cy.min.m]:{minWidth:"revert"}},departureWithArrowContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between"},realTimeAlignment:{alignItems:"flex-start"}});s.StyleSheet.create({realTimeInfo:(0,a.Z)((0,a.Z)({},b.cp.small),{},{fontWeight:y.R.body.weights.normal,color:o.dp_app_text_subdued})});var T=t(84025),C=t.n(T),A=t(99302),I="HH:mm",_=s.StyleSheet.create({base:(0,a.Z)((0,a.Z)({},b.cp.mini),{},{fontWeight:y.R.body.weights.normal,color:o.dp_app_text_subdued})}),P=s.StyleSheet.create({onTime:{fontFamily:y.R.body.face.fontFamily},delayed:{fontFamily:y.R.body.face.fontFamily,color:o.dp_app_text_negative},late:{fontFamily:y.R.body.face.fontFamily,fontWeight:y.R.body.weights.semiBold,color:o.dp_app_text_negative}});const R=e=>{var{info:r={},timeFormat:t,styleSheet:a,testId:n="realtime-time-value"}=e;if((0,l.xbD)(r))return null;var{isDelayed:i,isOnTime:o,isLate:u,at:p}=r,m=i?"components.FromTo.delayed":o?"components.FromTo.onTime":" ",g=i?P.delayed:o?P.onTime:P.late;return c.createElement("div",{className:(0,s.css)(_.base,a&&a.realTimeInfo,g)},i||o?c.createElement(d.FormattedMessage,{id:m}):u&&C()(p,A.f).isValid()?c.createElement("div",{"data-test":n},C().parseZone(p,A.f).format(t||I)):null)};var k=t(86977),N=t.n(k),O=t(52756);N().extend(O.Z);var L={opacity:0,position:"absolute",left:-1e4};const x=e=>{var{datetime:r,options:t,overrides:a}=e,n=N().parseZone(r).format(t);return a?c.createElement(c.Fragment,null,c.createElement("time",{"aria-hidden":"true","data-test":"machine-readable",dateTime:null==r?void 0:r.toString()},c.createElement("span",{"aria-hidden":"true"},"function"==typeof(null==a?void 0:a.visualText)?null==a?void 0:a.visualText(n):(null==a?void 0:a.visualText)||n)),c.createElement("span",{style:L},"function"==typeof(null==a?void 0:a.screenReaderText)?null==a?void 0:a.screenReaderText(n):(null==a?void 0:a.screenReaderText)||n)):c.createElement("time",{"data-test":"machine-readable",dateTime:null==r?void 0:r.toString()},c.createElement("span",null,n))};N().extend(O.Z);var D=e=>{var{departAt:r,arriveAt:t,timeFormat:n,testId:i,styleSheet:l,showRealTimeInfo:d,realTimeInfo:p={},intl:g}=e,v=d?S:f;return c.createElement("div",{className:(0,s.css)(v.wrapper)},c.createElement("div",{className:(0,s.css)(v.timeContainer)},c.createElement("div",null,c.createElement(m.Z,{as:"span",textType:d?"large":"title1","data-test":i&&"".concat(i,"-departure-time"),fontFamily:"systemFont"},c.createElement(x,{datetime:r,options:null!=n?n:I,overrides:{screenReaderText:e=>g.formatMessage({id:"page.journeys.departsAt"},{departAt:e})}})),d&&p.originDeparture&&c.createElement(R,{info:p.originDeparture,timeFormat:n,styleSheet:(0,a.Z)((0,a.Z)({},l),E),testId:"origin-real-time-status"})),c.createElement("div",{className:(0,s.css)(v.arrowColumn)},r&&c.createElement(u.Z,{fill:o.dp_brand_neutral_dim}))),c.createElement("div",{className:(0,s.css)(v.timeContainer,null==l?void 0:l.timeContainerRight)},c.createElement("p",null,c.createElement(m.Z,{as:"span",textType:d?"large":"title1","data-test":i&&"".concat(i,"-arrival-time"),fontFamily:"systemFont"},c.createElement(x,{datetime:t,options:null!=n?n:I,overrides:{screenReaderText:e=>g.formatMessage({id:"page.journeys.arrivesAt"},{arriveAt:e})}})),d&&p.destinationArrival&&c.createElement(R,{info:p.destinationArrival,timeFormat:n,styleSheet:(0,a.Z)((0,a.Z)({},l),E),testId:"destination-real-time-status"}))))};const w=(0,n.FZ)((0,d.injectIntl)((e=>{var{styleSheet:r,departAt:t,arriveAt:a,timeFormat:n,intl:d,testId:m,deviceType:g,showRealTimeInfo:v,realTimeInfo:h={},showUSFormatDateTime:y}=e,E=g===i.WO.MOBILE,b=v&&!(0,l.xbD)(h),T=v?S:f;return E?c.createElement(D,{styleSheet:r,departAt:t,arriveAt:a,intl:d,testId:m,deviceType:g,showRealTimeInfo:v,realTimeInfo:h,timeFormat:n}):c.createElement("div",{className:(0,s.css)(T.wrapper,b&&T.realTimeAlignment,null==r?void 0:r.wrapper)},c.createElement("div",{"data-test":"departure-time-column",className:(0,s.css)(null==r?void 0:r.departureTimeColumn)},c.createElement("div",{className:(0,s.css)(T.departureWithArrowContainer,null==r?void 0:r.departureWithArrowContainer)},c.createElement("div",{className:(0,s.css)(null==r?void 0:r.fromColumn,y&&(null==r?void 0:r.timeUSFormat)),"data-test":m&&"".concat(m,"-departure-time")},c.createElement("p",null,c.createElement(x,{datetime:t,options:null!=n?n:I,overrides:{screenReaderText:e=>d.formatMessage({id:"page.journeys.departsAt"},{departAt:e})}}))),c.createElement("div",{className:(0,s.css)(null==r?void 0:r.arrowColumn)},v?c.createElement(u.Z,{className:(0,s.css)(null==r?void 0:r.icon),fill:o.dp_brand_neutral_mid}):c.createElement(p.Z,{className:(0,s.css)(T.icon,null==r?void 0:r.icon),ariaLabel:d.formatMessage({id:"components.fromToTime.arrow.aria"})}))),b&&h.originDeparture?c.createElement(R,{info:h.originDeparture,timeFormat:n,styleSheet:r,testId:"origin-real-time-status"}):null),c.createElement("div",{"data-test":"arrival-time-column"},c.createElement("div",{className:(0,s.css)(null==r?void 0:r.toColumn,y&&(null==r?void 0:r.timeUSFormat)),"data-test":m&&"".concat(m,"-arrival-time")},c.createElement("div",null,c.createElement("p",null,c.createElement(x,{datetime:a,options:null!=n?n:I,overrides:{screenReaderText:e=>d.formatMessage({id:"page.journeys.arrivesAt"},{arriveAt:e})}})))),b&&h.destinationArrival?c.createElement(R,{info:h.destinationArrival,timeFormat:n,styleSheet:r,testId:"destination-real-time-status"}):null))})))},17836:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(50093),n=t(29901),i=t(23394),o=t(83367);const s=a.StyleSheet.create({default:{background:i.O9.palette.yellow_110},wrapper:{display:"inline-flex",justifyContent:"center",padding:"0 ".concat(o.spacers.xs),borderRadius:i.E0.m,textAlign:"center"}});const l=e=>{var{children:r,styleSheet:t}=e;return n.createElement("span",{className:(0,a.css)(s.wrapper,t?t.highlightTextCustomStyle:s.default)},r)}},55640:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(50093),n=t(29901),i=t(98318),o=t(8888);const s=a.StyleSheet.create({root:{width:"100%",height:1,background:"none",opacity:.5,marginTop:o.Z.sizes.spacers.s,marginBottom:o.Z.sizes.spacers.s,borderTop:"1px solid ".concat(i.dp_app_border_dull),borderLeft:"none",borderRight:"none",borderBottom:"none"}});const l=e=>{var{styleSheet:r}=e;return n.createElement("hr",{className:(0,a.css)(s.root,r)})}},93588:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(50093),n=t(29901),i=t(98318),o=t(8888);const s=a.StyleSheet.create({root:{padding:o.Z.sizes.spacers.s,fontSize:o.Z.typography.small.fontSize},disabled:{color:i.dp_brand_neutral_mid},dark:{color:i.dp_app_text_inverted}});const l=e=>{var{target:r,children:t,disabled:i,styleSheet:o,dark:l,className:c,ariaExpanded:d,testId:u}=e;return n.createElement("label",{"aria-expanded":d,htmlFor:r,className:c||"".concat((0,a.css)(s.root,o,l&&s.dark,i&&s.disabled)),"data-test":u},t)}},33750:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(98318),n=t(50093),i=t(8888),o=t(23394),s=t(52068);const l=n.StyleSheet.create({root:{color:a.dp_app_link_base,cursor:"pointer",textDecoration:"none",outlineOffset:3,":hover":{color:a.dp_app_link_hover,textDecoration:"underline"},":active":{color:a.dp_app_link_pressed,textDecoration:"underline"},":focus":{color:a.dp_app_link_pressed,textDecoration:"underline"}},borderHover:{borderBottom:"solid 1px transparent",transition:"border-color .1s ease-out",":hover":{borderBottomColor:a.dp_app_link_hover,textDecoration:"none"},":focus":{borderBottomColor:a.dp_app_link_pressed,textDecoration:"none"},":active":{borderBottomColor:a.dp_app_link_pressed,textDecoration:"none"}},backgroundHover:{border:"none",padding:"".concat(i.Z.sizes.spacers.xs," 0.871rem"),transition:"background-color .1s ease-out",textShadow:"0 0 2px rgba(0,0,0,0.5)",fontWeight:s.R.body.weights.semiBold,":hover":{border:"none",textDecoration:"none",background:"rgba(0,0,0,0.1)",borderRadius:o.E0.m},":focus":{border:"none",textDecoration:"none",background:"rgba(0,0,0,0.1)",borderRadius:o.E0.m}},backgroundHoverLight:{border:"none",padding:"".concat(i.Z.sizes.spacers.xs," 0.871rem"),transition:"background-color .1s ease-out",textShadow:"none",":hover":{border:"none",textDecoration:"none",background:"rgba(0,0,0,0.05)",borderRadius:o.E0.m},":focus":{border:"none",textDecoration:"none",background:"rgba(0,0,0,0.05)",borderRadius:o.E0.m}}})},49042:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(33750),l=["children","testId","withBorderHover","styleSheet","rel","linkRef"],c=e=>{13===e.which&&e.currentTarget&&e.currentTarget.click()};const d=e=>{var{children:r,testId:t,withBorderHover:d,styleSheet:u,rel:p,linkRef:m}=e,g=(0,n.Z)(e,l);return o.createElement("a",(0,a.Z)({className:(0,i.css)(s.Z.root,d&&s.Z.borderHover,u),onKeyPress:c,"data-test":t,rel:"_blank"!==g.target||p&&p.includes("noopener")?p||"":"noopener ".concat(p||""),ref:m,tabIndex:0},g),r)}},83707:(e,r,t)=>{"use strict";t.d(r,{HC:()=>S,vO:()=>b,V7:()=>T});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(97114),l=t(89426),c=t(93332),d=t(23198),u=t(98318),p=t(8888),m=t(23394),g=t(52068);const v=i.StyleSheet.create({default:{border:"none",cursor:"pointer",display:"inline-block",marginBottom:0,textAlign:"center",verticalAlign:"middle",textDecoration:"none",color:u.dp_app_text_base},primary:(0,d.Z)((0,d.Z)({},g.W.title2),{},{padding:"".concat(p.Z.sizes.spacers.s," ").concat(p.Z.sizes.spacers.m),backgroundColor:u.dp_comp_button_primary_background,borderRadius:m.E0.l,color:u.dp_app_text_inverted,minHeight:"var(--DEPRECATED-54px)",width:"100%",":hover":{backgroundColor:u.dp_comp_button_primary_background_hover},":focus":{backgroundColor:u.dp_comp_button_primary_background_hover},":active":{backgroundColor:u.dp_comp_button_primary_background_hover}}),secondary:{borderRadius:m.E0.m,backgroundColor:u.dp_comp_button_secondary_background,color:u.dp_app_text_inverted,fontFamily:g.R.brand.face.fontFamily,fontSize:"var(--DEPRECATED-14px)",fontWeight:"bold",minHeight:"var(--DEPRECATED-34px)",padding:0,textAlign:"center",width:"100%",":hover":{backgroundColor:u.dp_comp_button_secondary_background_hover},":focus":{backgroundColor:u.dp_comp_button_secondary_background_pressed},":active":{backgroundColor:u.dp_comp_button_secondary_background_pressed}},tertiary:{backgroundColor:u.dp_comp_button_tertiary_background,border:"1px solid ".concat(u.dp_comp_button_tertiary_background_pressed),borderRadius:m.E0.m,borderWidth:1,color:u.dp_app_text_base,fontWeight:500,padding:"".concat(p.Z.sizes.spacers.xs," ").concat(p.Z.sizes.spacers.s),":hover":{backgroundColor:u.dp_comp_button_tertiary_background_hover},":focus":{backgroundColor:u.dp_comp_button_tertiary_background_pressed},":active":{backgroundColor:u.dp_comp_button_tertiary_background_pressed}}});var h=i.StyleSheet.create({default:{cursor:"default"},primary:{backgroundColor:u.dp_comp_button_primary_background,opacity:.65,":hover":{backgroundColor:u.dp_comp_button_primary_background},":active":{backgroundColor:u.dp_comp_button_primary_background},":focus":{backgroundColor:u.dp_comp_button_primary_background}},secondary:{backgroundColor:u.dp_comp_button_tertiary_background},tertiary:{backgroundColor:u.dp_app_action_tertiary}}),y=["children","styleSheet","level","tabIndex","testId","ariaLabel","ariaExpanded","ariaHaspopup","title","href","target","rel","disabled","onClick","id","depot"],f=["children","styleSheet","level","tabIndex","testId","ariaLabel","ariaExpanded","ariaHaspopup","title","href","target","rel","disabled","onClick","depot"],E=e=>{var{children:r,styleSheet:t,level:a,tabIndex:s,testId:d,ariaLabel:u,ariaExpanded:p,ariaHaspopup:m=!1,title:g,href:f,target:E,rel:b,disabled:S=!1,onClick:T,id:C,depot:A=!1}=e,I=(0,n.Z)(e,y),{size:_,theme:P}=(0,l.eQ)(I),R=o.useMemo((()=>A?(0,i.css)(...(0,l.l6)({disabled:S,level:a,size:_,theme:P}),c.ZP.link,S&&c.ZP.linkDisabled,t):(0,i.css)(v.default,a&&v[a],S?a?h[a]:h.default:void 0,t)),[S,a,A,_,P,t]);return o.createElement("a",{id:C,href:S?void 0:f,target:E,rel:b,"aria-label":u,"aria-expanded":p,"aria-haspopup":m,className:R,tabIndex:s,"data-test":d,title:g&&g,onClick:T},r)},b=e=>{var{children:r,styleSheet:t,level:a,tabIndex:d,testId:u,ariaLabel:p,ariaExpanded:m,ariaHaspopup:g=!1,title:y,href:E,target:b,rel:S,disabled:T=!1,onClick:C,depot:A=!1}=e,I=(0,n.Z)(e,f),{size:_,theme:P}=(0,l.eQ)(I),R=o.useMemo((()=>A?(0,i.css)(...(0,l.l6)({disabled:T,level:a,size:_,theme:P}),c.ZP.link,T&&c.ZP.linkDisabled,t):(0,i.css)(v.default,a&&v[a],T?a?h[a]:h.default:void 0,t)),[T,a,A,_,P,t]);return o.createElement(s.rU,{to:E,target:b,rel:S,"aria-label":p,"aria-expanded":m,"aria-haspopup":g,className:R,tabIndex:d,"data-test":u,title:y&&y,onClick:C},r)};var S=e=>o.createElement(E,(0,a.Z)({},e,{level:l.Ue.PRIMARY})),T=e=>o.createElement(E,(0,a.Z)({},e,{level:l.Ue.SECONDARY}))},3487:(e,r,t)=>{"use strict";t.d(r,{UK:()=>m,ZP:()=>p});var a=t(64321),n=t(85924),i=t(50093),o=t(29901),s=t(98318),l=t(8888),c=t(52068),d={content:'""',color:s.dp_brand_neutral_mid,display:"inline-block",fontSize:"1.429em",marginRight:l.Z.sizes.spacers.m};const u=i.StyleSheet.create({list:{listStyleType:"none",marginLeft:l.Z.sizes.spacers.m},item:{display:"flex",":before":{content:'""',color:s.dp_brand_neutral_mid,display:"inline-block",fontSize:"1.429em",lineHeight:"1.2em",marginRight:l.Z.sizes.spacers.s}},horizontal:{display:"flex",flexWrap:"nowrap"},numbered:{listStyleType:"decimal"},bulletedListItem:{display:"flex",":before":d},customListItem:{display:"flex"},numberedListItem:{paddingLeft:l.Z.sizes.spacers.s},horizontalListItem:{display:"flex",alignItems:"center",marginLeft:l.Z.sizes.spacers.m,":before":d,":first-child":{":before":{display:"none"}},":last-child":{marginRight:0}},noBulletsListItem:{display:"flex",alignItems:"center",marginLeft:"0.65625rem",fontWeight:c.R.body.weights.semiBold,":last-child":{marginRight:0}},iconListItem:{display:"flex"},iconWrapper:{marginRight:l.Z.sizes.spacers.s},noBullets:{}});class p extends o.Component{constructor(){super(...arguments),(0,n.Z)(this,"renderListItems",(()=>{var{children:e,styleSheet:r={},icon:t,type:a="bulleted"}=this.props;return o.Children.map(e,((e,n)=>{var s=this.props.renderCustomIcon&&this.props.renderCustomIcon(n),l=s?"custom":a,c=(0,i.css)(u["".concat(l,"ListItem")],r.item);return e&&o.createElement("li",{className:c},s&&o.createElement("span",{className:(0,i.css)(r.customIcon)},s),t&&o.createElement("span",{className:(0,i.css)(u.iconWrapper)},o.cloneElement(t)),e)}))}))}render(){var{styleSheet:e={},type:r="bulleted",testId:t}=this.props;return o.createElement((e=>"numbered"===e?"ol":"ul")(r),{children:this.renderListItems(),className:(0,i.css)(u.list,u[r],e.list),"data-test":t})}}var m=e=>o.createElement(p,(0,a.Z)({},e,{type:"horizontal"}))},88220:(e,r,t)=>{"use strict";t.d(r,{Z:()=>h,c:()=>g});var a=t(50093),n=t(29901),i=t(23198),o=t(98318),s=t(8888),l=t(23394),c=t(52068),d="calc(".concat(s.Z.sizes.spacers.m," + 0.8rem)");const u=a.StyleSheet.create({root:{position:"relative",cursor:"pointer",backgroundColor:o.dp_app_backdrop_base,borderRadius:l.E0.m},disabled:{opacity:.5,cursor:"default"},label:(0,i.Z)((0,i.Z)({},l.cp.small),{},{fontWeight:"bold",display:"inline-block",marginBottom:l.W0.s2}),select:(0,i.Z)((0,i.Z)({},c.W.input),{},{lineHeight:"1.3",position:"relative",width:"100%",height:"calc(".concat(s.Z.sizes.spacers.s," * 2 + 1.3rem + 1.8px)"),appearance:"none",backgroundColor:o.dp_app_backdrop_base,color:o.dp_app_text_base,border:"solid 1px ".concat(o.dp_app_border_dull),borderRadius:l.E0.m,padding:"0 ".concat(s.Z.sizes.spacers.s),paddingRight:d,textOverflow:"ellipsis",margin:"0",":focus option":{color:"initial"},":focus":{outline:"0 none",borderWidth:2,paddingLeft:"calc(".concat(s.Z.sizes.spacers.s," - 1px)"),paddingRight:d},":disabled":{paddingRight:d,backgroundColor:o.dp_app_backdrop_dull}}),icon:{position:"absolute",top:"40%",right:s.Z.sizes.spacers.s,width:"var(--DEPRECATED-14px)",height:"var(--DEPRECATED-11px)",pointerEvents:"none"},iconWithLabel:{top:"65%"}});var p=t(41925),m=t(41966),g=e=>e&&e.length>0&&void 0!==e[0].optGroupId,v=(e,r)=>{var{id:t}=r;return n.createElement("option",{value:e.value,key:e.specifiedKey||e.value,disabled:e.disabled,id:"".concat(t,"-").concat(e.text),"aria-label":e.ariaLabel},e.text)};const h=e=>{var{id:r=(0,p.v4)(),ariaLabel:t,listLabel:i,name:o,onChange:s,onBlur:l,items:c,defaultOption:d,disabled:h,value:y,testId:f,onFocus:E,styleSheet:b={},inputRef:S,tabIndex:T=0,autoFocus:C=!1,role:A,"data-analytics-sensitive-element-redaction-flag":I}=e,_=d&&d.value===y&&b.defaultOption;return n.createElement("div",{className:(0,a.css)(u.root,h&&u.disabled,b.listbox)},i&&n.createElement("label",{className:(0,a.css)(u.label,i&&b.label),htmlFor:r},i),n.createElement("select",{id:r,"aria-label":t,role:A,name:o,onFocus:E,onChange:s,onBlur:l,disabled:h,className:(0,a.css)(u.select,b.select,_),value:y,"data-test":f,ref:S,tabIndex:T,"data-analytics-sensitive-element-redaction-flag":I,autoFocus:C},d&&n.createElement("option",{value:d.value,"aria-label":d.ariaLabel},d.text),c&&c.length>0&&(e=>{var r=(0,p.v4)();return g(e)?e.map((e=>n.createElement("optgroup",{key:"".concat(e.optGroupId,"-ta-components-optgroup"),label:e.optGroupLabel},e.options.map((e=>v(e,{id:r})))))):e.map((e=>v(e,{id:r})))})(c)),n.createElement(m.Z,{className:(0,a.css)(u.icon,b.icon,i&&u.iconWithLabel,i&&b.iconWithLabel),ariaHidden:!0}))}},86459:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(28770),l=["styleSheet"],c=i.StyleSheet.create({fullPage:{position:"fixed",top:0,right:0,bottom:0,left:0}});const d=e=>{var{styleSheet:r}=e,t=(0,n.Z)(e,l);return o.createElement(s.Z,(0,a.Z)({styleSheet:{container:[c.fullPage,r]},dataTest:"full-page-loader"},t))}},28770:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(23198),n=t(98318),i=t(50093),o=t(82768),s=t(29901),l=t(78809),c=t(52068),d=i.StyleSheet.create({container:{flexDirection:"column",alignItems:"center",justifyContent:"center",display:"flex"},spinner:(0,a.Z)({flexShrink:0,borderRadius:"50%",borderStyle:"solid"},l.spin),message:(0,a.Z)((0,a.Z)({},c.W.title3),{},{marginTop:"12px"})}),u=(0,o.HPs)(((e,r,t,a)=>({borderWidth:r,borderColor:t,borderTopColor:a,width:e,height:e}))),p=(0,o.HPs)((e=>({color:e})));const m=e=>{var{size:r=100,borderWidth:t=10,borderColor:a=n.dp_brand_primary_brightest,spinnerColor:o=n.dp_brand_primary_mid,messageColor:l=n.dp_app_text_inverted,message:c,styleSheet:m,dataTest:g}=e;return s.createElement("div",{className:(0,i.css)(d.container,m&&m.container),"data-test":g},s.createElement("div",{className:(0,i.css)(d.spinner),style:u(r,t,a,o)}),c&&s.createElement("div",{className:(0,i.css)(d.message,m&&m.message),style:p(l)},c))}},20456:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n=t(28770);const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){return t=>t.isLoading?a.createElement(n.Z,{message:t.message,size:e.size,borderWidth:e.borderWidth,borderColor:e.borderColor,spinnerColor:e.spinnerColor,messageColor:e.messageColor,dataTest:"loading-spinner"}):a.createElement(r,t)}}},76521:(e,r,t)=>{"use strict";t.d(r,{Ms:()=>o,ZP:()=>c,c5:()=>l,wb:()=>d});var a=t(98318),n=t(50093),i=t(60289),o=4,s=21,l=Math.round(441/Math.sqrt(882));const c=n.StyleSheet.create({nubbin:{backgroundColor:a.dp_app_backdrop_base,display:"block",position:"absolute",width:s,height:s,transform:"translate(-50%, -50%) rotate(45deg) "}});var d=e=>n.StyleSheet.create({container:{display:"none",[i.ZP.small.min]:{display:"block",position:"absolute",zIndex:1,transform:e,":before":{display:"block",position:"absolute",width:s+o,height:s+o,content:'""',transform:"translate(-50%, -50%) scale(".concat(Math.sqrt(2),")")}}}})},72863:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(50093),n=t(29901),i=t(4524),o=t(76521);const s=e=>{var{anchorElement:r,anchorPosition:t,popoverWidth:s}=e;return n.createElement("div",{className:(0,a.css)((0,o.wb)((0,i.vr)(r,t,s)).container)},n.createElement("div",{className:(0,a.css)(o.ZP.nubbin)}))}},17693:(e,r,t)=>{"use strict";t.d(r,{Dt:()=>m,Mz:()=>p,g9:()=>c,il:()=>u});var a=t(23198),n=t(98318),i=t(50093),o=t(91557),s=t(60289),l=t(23394),c=600,d={margin:"initial",border:"initial",padding:"initial",insetInlineStart:"initial",insetInlineEnd:"initial",background:"initial",color:"initial",position:"static",width:"initial",height:"initial"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r="undefined"!=typeof window?window.innerHeight:"100vh";return i.StyleSheet.create({root:{position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:110},container:{display:"flex",justifyContent:"center"},component:(0,a.Z)((0,a.Z)({},d),{},{backgroundColor:n.dp_app_backdrop_base,position:"fixed",bottom:0,left:0,width:"100%",borderTopLeftRadius:l.E0.xl,borderTopRightRadius:l.E0.xl,maxHeight:"75vh",display:"flex",flexDirection:"column",[s.ZP.small.min]:{height:"auto",position:"relative",boxShadow:"0 4px 16px 0 rgba(0, 0, 0, 0.3)",maxHeight:"calc(100vh - (".concat(l.W0.s20," * 2))"),borderRadius:l.E0.xl,margin:"".concat(l.W0.s20," ").concat(l.W0.s12),maxWidth:"calc(100vw - ".concat(l.W0.s24,")"),width:e},transition:"max-height 0.2s ease-in-out, height 0.2s ease-in-out"}),fullHeight:{[s.ZP.small.max]:{maxHeight:r,height:r,borderTopLeftRadius:0,borderTopRightRadius:0}},fullHeightDesktop:{[s.ZP.medium.min]:{height:"calc(100vh - (".concat(l.W0.s20," * 2))")}}})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return i.StyleSheet.create({root:{position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:110},container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},component:(0,a.Z)((0,a.Z)({},d),{},{backgroundColor:n.dp_app_backdrop_base,position:"fixed",bottom:0,left:0,width:"calc(100% - (".concat(l.W0.s4," * 2))"),borderRadius:l.E0.l,margin:"0 ".concat(l.W0.s4," ").concat(l.W0.s4),maxHeight:"75vh",display:"flex",flexDirection:"column",[s.ZP.small.min]:{height:"auto",position:"relative",boxShadow:"0 4px 16px 0 rgba(0, 0, 0, 0.3)",maxHeight:"calc(100vh - (".concat(l.W0.s20," * 2))"),borderRadius:l.E0.xl,margin:"".concat(l.W0.s20," ").concat(l.W0.s12),maxWidth:"calc(100vw - ".concat(l.W0.s24,")"),width:e},transition:"max-height 0.2s ease-in-out, height 0.2s ease-in-out"}),withoutMaxHeight:{maxHeight:"unset"},fullHeight:{},fullHeightDesktop:{}})},m=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,u=arguments.length>3?arguments[3]:void 0,p=r===o.N.BOTTOM?"marginTop":"marginLeft",m=r===o.N.LEFT?l.W0.s6:"-".concat(l.W0.s6),g=r===o.N.LEFT?l.W0.s8:"-".concat(l.W0.s8);return i.StyleSheet.create({root:{position:"fixed",top:0,left:0,right:0,zIndex:109,[s.ZP.small.min]:{position:"absolute"}},container:{},component:(0,a.Z)((0,a.Z)({},d),{},{backgroundColor:n.dp_app_backdrop_base,boxShadow:"0 4px 16px 0 rgba(0, 0, 0, 0.3)",position:"fixed",top:0,left:0,bottom:0,right:0,borderRadius:0,display:"flex",flexDirection:"column",[p]:0,[s.ZP.small.min]:(0,a.Z)({position:"absolute",top:"auto",left:"auto",bottom:"auto",right:"auto",borderRadius:l.E0.xl,width:t,[p]:u?0:m},e),[s.ZP.medium.min]:{[p]:u?0:g}}),withoutMaxHeight:{maxHeight:"unset"},fullHeight:{},fullHeightDesktop:{}})}},28220:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>p,ie:()=>u,j2:()=>d});var a=t(50093),n=t(29901),i=t(76223),o=t(72863),s=t(21924),l=t(4524),c=t(17693),d=function(e){return e.MODAL="MODAL",e.POPOVER="POPOVER",e.CRITICAL="CRITICAL",e}({}),u=n.createContext({});const p=e=>{var r,{width:t=c.g9,close:p,type:m,testId:g,isForcedFullHeight:v=!1,isForcedFullHeightDesktop:h=!1,forceCloseUpdate:y=!1,flexibleFooter:f=!1,focusOnMount:E=!0,preventInitialFocus:b=!1,children:S,validateBeforeClose:T}=e,C=(0,n.useRef)(null),A=(0,n.useRef)(null),[I,_]=(0,n.useState)(!1),[P,R]=(0,n.useState)(!1),k=e.type===d.POPOVER?e.anchor:void 0,N=k&&k.nubbin,[O,L]=(0,n.useState)((0,l.sw)(k,t)),[x,D]=(0,n.useState)(0),w={[d.MODAL]:()=>(0,c.il)(t),[d.POPOVER]:()=>(0,c.Dt)(O,k.position.grow,t,k.position.yAlignmentEl),[d.CRITICAL]:()=>(0,c.Mz)(t)}[e.type](),Z=(0,n.useCallback)((()=>{var e,r;T&&!T()||(null===(e=C.current)||void 0===e||null===(r=e.close)||void 0===r||r.call(e),p())}),[p,T,k]),F=y?[Z]:[];return(0,s.Z)(Z,F,C.current),(0,n.useEffect)((()=>{(0,l.OV)(m);var r=()=>{L((0,l.sw)(k,t))},a=r=>{var t=C.current&&!C.current.contains(r.target),a=e.type===d.POPOVER&&k.element&&!k.element.contains(r.target);!t||(0,i.b)(r.target)||(e=>{if(!e||"undefined"==typeof document)return!1;var r=document.querySelector("[data-critical-overlay-root]");return!!r&&r.contains(e)})(r.target)||((e.type===d.MODAL||a)&&Z(),T&&T())};return window.addEventListener("resize",r),document.addEventListener("mousedown",a),()=>{(0,l.wI)(m),window.removeEventListener("resize",r),document.removeEventListener("mousedown",a)}}),F),(0,n.useEffect)((()=>{var e;!x&&null!==(e=C.current)&&void 0!==e&&e.clientHeight&&!P&&C.current.clientHeight<window.innerHeight&&D(C.current.clientHeight)}),[null===(r=C.current)||void 0===r?void 0:r.clientHeight,P,x]),(0,n.useLayoutEffect)((()=>{E&&requestAnimationFrame((()=>{var e,r,t,a;(null===(e=C.current)||void 0===e||null===(r=e.show)||void 0===r||r.call(e),b)&&(null===(t=C.current)||void 0===t||null===(a=t.focus)||void 0===a||a.call(t))}))}),[E,b]),n.createElement(u.Provider,{value:{isFullHeight:P,setIsFullHeight:R,isProcessing:I,setIsProcessing:_,close:Z,type:m,initialOverlayHeight:x,flexibleFooter:!!f}},n.createElement("div",{className:(0,a.css)(w.root),"data-test":g,"data-overlay-root":!0},n.createElement("div",{className:(0,a.css)(w.container)},k&&N&&n.createElement(o.Z,{anchorElement:k.element,anchorPosition:k.position,popoverWidth:t}),n.createElement("dialog",{className:(0,a.css)([w.component,(v||P)&&w.fullHeight,h&&w.fullHeightDesktop]),ref:C,tabIndex:0,onKeyDown:(0,l.gp)(A),"data-test":"overlayTypeStyles"},S,n.createElement("div",{ref:A,tabIndex:0,onKeyDown:(0,l.ED)(C)})))))}},5083:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>s,bB:()=>p,m0:()=>o});var a=t(50093),n=t(23394),i=n.W0.s2,o={xs:n.W0.s4,s:n.W0.s6,m:n.W0.s8};const s=a.StyleSheet.create({content:{marginTop:"-".concat(i),flex:"1 1 auto",overflowY:"scroll",msOverflowStyle:"none",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},padding:"".concat(o.xs," ").concat(o.xs," 0 ").concat(o.xs),[n.cy.min.s]:{padding:"".concat(o.s," ").concat(o.s," 0 ").concat(o.s)},[n.cy.min.l]:{padding:"".concat(o.m," ").concat(o.m," 0 ").concat(o.m)},":after":{content:'""',display:"block",width:"100%",paddingBottom:n.W0.s4,[n.cy.min.m]:{paddingBottom:n.W0.s6},[n.cy.min.l]:{paddingBottom:n.W0.s8}}},noPaddingContent:{marginTop:"-".concat(i),flex:"1 1 auto",overflowY:"scroll",msOverflowStyle:"none",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},":after":{content:'""',display:"block",width:"100%"}},flexibleFooterContent:{flex:"0 1 auto"},headerShadowEl:{flexShrink:0,zIndex:1,height:8,pointerEvents:"none",borderTopLeftRadius:n.E0.xl,borderTopRightRadius:n.E0.xl},footerShadowEl:{pointerEvents:"none",flexShrink:0,zIndex:1,height:i,marginTop:"-".concat(i),borderBottomLeftRadius:n.E0.xl,borderBottomRightRadius:n.E0.xl},hasHeader:{paddingTop:n.W0.s2,[n.cy.min.m]:{paddingTop:n.W0.s2},[n.cy.min.l]:{paddingTop:n.W0.s2}},hasFooter:{":after":{paddingBottom:n.W0.s2,[n.cy.min.m]:{paddingBottom:n.W0.s2},[n.cy.min.l]:{paddingBottom:n.W0.s2}}},shadows:{position:"absolute",left:0,top:0,width:"100%",height:"100%",transition:"box-shadow 300ms",backgroundColor:"rgba(0,0,0,0)",pointerEvents:"none"}});var l="inset 0 12px 8px -8px rgba(0,0,0,0.12)",c="inset 0 -12px 8px -8px rgba(0,0,0,0.12)",d="inset 0 12px 8px -8px rgba(0,0,0,0)",u="inset 0 -12px 8px -8px rgba(0,0,0,0)",p=(e,r)=>{var t=e&&r?"".concat(l,", ").concat(c):e?"".concat(l,", ").concat(u):r?"".concat(d,", ").concat(c):"none";return a.StyleSheet.create({contentInsetShadow:{boxShadow:t},header:{boxShadow:e?l:d},footer:{boxShadow:r?c:u}})}},88593:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>g});var a=t(36841),n=t(29901),i=t(75788),o=t(60119),s=t(57243),l=t(52767),c=t(15628),d=t(28220),u=t(5083),p=(e,r)=>!(!e||!e.attributes["data-overlay"]||e.attributes["data-overlay"].value!==r),m=e=>r=>{if(e.setIsFullHeight&&e.type===d.j2.MODAL){var t=(e.initialOverlayHeight||0)-r.currentTarget.clientHeight+r.currentTarget.scrollHeight>window.innerHeight;e.isFullHeight&&(t=!0),t&&0!==r.currentTarget.scrollTop||!e.isFullHeight||e.setIsFullHeight(!1),t&&r.currentTarget.scrollTop>0&&!e.isFullHeight&&e.setIsFullHeight(!0)}};const g=e=>{var r,t,{noPaddingContent:g,children:v}=e,h=n.useRef(null),y=n.useRef(null),f=n.useRef(null),E=n.useContext(d.ie),[b,S]=n.useState(void 0),[T,C]=n.useState(void 0),[A,I]=n.useState(void 0);return n.useLayoutEffect((()=>{if(null!=h&&h.current&&null!=y&&y.current){var{previousSibling:e}=h.current,{nextSibling:r}=y.current,t=p(e,"overlay-header"),a=p(r,"overlay-footer");S({header:t,footer:a})}}),[h,y,null==h||null===(r=h.current)||void 0===r?void 0:r.previousSibling,null==y||null===(t=y.current)||void 0===t?void 0:t.nextSibling]),n.useEffect((()=>{var e,r=()=>{if(f&&f.current&&b){var{scrollTop:e,scrollHeight:r,clientHeight:t}=f.current;C({scrollTop:e,scrollHeight:r,clientHeight:t})}};r(),f&&f.current&&(e=(0,i.R)(f.current,"scroll").pipe((0,o.p)(80),(0,s.U)((e=>(r(),e))),(0,l.b)(100)).subscribe(r));var t=(0,c.j)(r,!1,200);return()=>{e&&e.unsubscribe(),t.unsubscribe()}}),[b,f]),n.useEffect((()=>{((e,r,t)=>{if(t&&r){var{scrollTop:a,scrollHeight:n,clientHeight:i}=t,o=a+i;n>=i&&e({header:r.header&&a>0,footer:r.footer&&o<n})}})(I,b,T)}),[b,T]),n.createElement(n.Fragment,null,n.createElement("div",{ref:h,className:(0,a.css)(u.ZP.headerShadowEl,A&&(0,u.bB)(A.header,A.footer).header)}),n.createElement("div",{"data-test":"scroll",ref:f,className:(0,a.css)(g?u.ZP.noPaddingContent:u.ZP.content,E.flexibleFooter&&u.ZP.flexibleFooterContent,b&&b.header&&u.ZP.hasHeader,b&&b.footer&&u.ZP.hasFooter),onScroll:m(E)},v),n.createElement("div",{ref:y,className:(0,a.css)(u.ZP.footerShadowEl,A&&(0,u.bB)(A.header,A.footer).footer)}))}},15318:(e,r,t)=>{"use strict";t.d(r,{Z:()=>b});var a=t(50093),n=t(29901),i=t(28220),o=t(89426),s=t(8888);const l=a.StyleSheet.create({wrapper:{width:"100%",maxWidth:"100%",[s.Z.breakpoints.small.min]:{display:"flex",alignSelf:"end",width:"auto"}},button:{width:"100%",[s.Z.breakpoints.small.min]:{width:"auto"}}});var c=e=>{var{label:r,disabled:t=!1,level:s=o.Ue.SECONDARY,testId:c,buttonStyle:d=null,loading:u,onClick:p,type:m,styleSheet:g={}}=e;return n.createElement("div",{className:(0,a.css)(l.wrapper,g.wrapper)},n.createElement(i.ie.Consumer,null,(e=>{var{close:a}=e;return n.createElement(o.ZP,{disabled:t,testId:c,depot:!0,level:s,loading:u,onClick:p||a||void 0,styleSheet:[l.button,g.button,d],type:m},r)})))},d=t(36841),u=t(98184),p=t(98318),m=t(52068);const g=d.StyleSheet.create({wrapper:{display:"flex",width:"100%",[s.Z.breakpoints.small.min]:{alignSelf:"flex-end",width:"auto"}},wrapperWithDelete:{justifyContent:"space-between",width:"100%",flexWrap:"wrap",[s.Z.breakpoints.small.min]:{justifyContent:"space-between",width:"100%"}},confirmDeleteMessage:{display:"flex",flexBasis:"100%",fontSize:s.Z.sizes.spacers.px18,fontWeight:m.R.brand.weights.bold,lineHeight:4/3,letterSpacing:"-0.0125rem",color:p.dp_app_text_base,marginBottom:16}});var v=d.StyleSheet.create({button:{width:"100%",[s.Z.breakpoints.small.min]:{width:"auto"}}}),h=d.StyleSheet.create({wrapper:{width:"calc(50% - 8px)",[s.Z.breakpoints.small.min]:{width:"calc(50% - 8px)"}},button:{width:"100%",[s.Z.breakpoints.small.min]:{width:"100%"}}}),y=t(23394);const f=a.StyleSheet.create({footer:{marginTop:"auto",display:"flex",flex:"0 0 auto",justifyContent:"space-between",alignItems:"center",flexDirection:"column",padding:"".concat(y.W0.s4," ").concat(y.W0.s4," ").concat(y.W0.s6),[y.cy.min.s]:{padding:"".concat(y.W0.s4," ").concat(y.W0.s6," ").concat(y.W0.s6)},[y.cy.min.m]:{marginTop:0},[y.cy.min.l]:{padding:"".concat(y.W0.s4," ").concat(y.W0.s8," ").concat(y.W0.s8)}},flexibleFooter:{flex:"1 0 auto"},removeMarginAuto:{marginTop:0}});var E=e=>{var{children:r,actionButtonLabel:t,actionButtonTestId:o,actionButtonLevel:s,actionButtonOnClick:l,actionButtonIsLoading:d,actionButtonType:u,footerFollowsContent:p,styleSheet:m,testId:g}=e;return n.createElement(i.ie.Consumer,null,(e=>{var{type:v,flexibleFooter:h}=e,y=v!==i.j2.MODAL&&(void 0!==p&&p);return n.createElement("div",{className:(0,a.css)(f.footer,h&&f.flexibleFooter,y&&f.removeMarginAuto,m&&m.footer),"data-test":g,"data-overlay":"overlay-footer"},r||(t?n.createElement(c,{type:u,label:t,testId:o,level:s,onClick:l,loading:d}):null))}))};E.ActionButton=c,E.EditButtons=e=>{var{saveLabel:r,deleteLabel:t,cancelLabel:a,confirmDeleteLabel:i,confirmDeleteMessage:s,isFormInvalid:l,deleteEnabled:p,promptDeleteConfirmation:m,isSaving:y,isDeleting:f,onSave:E,onDelete:b}=e,[S,T]=n.useState(!1);return n.createElement("div",{className:(0,d.css)(g.wrapper,p&&g.wrapperWithDelete)},S?n.createElement(n.Fragment,null,n.createElement("p",{className:(0,d.css)(g.confirmDeleteMessage),"data-test":"confirmDeleteMessage"},s||n.createElement(u.FormattedMessage,{id:"components.saveDeleteButtons.areYouSure"})),n.createElement(c,{level:o.Ue.TERTIARY,label:a||n.createElement(u.FormattedMessage,{id:"components.saveDeleteButtons.cancel"}),styleSheet:h,onClick:()=>T(!1),disabled:f,testId:"cancelDeleteButton"}),n.createElement(c,{level:o.Ue.DESTRUCTIVE,onClick:b,loading:f,styleSheet:h,label:i||n.createElement(u.FormattedMessage,{id:"components.saveDeleteButtons.yesDelete"}),testId:"confirmDeleteButton"})):n.createElement(n.Fragment,null,p&&n.createElement(c,{level:o.Ue.DESTRUCTIVE,label:t||n.createElement(u.FormattedMessage,{id:"components.saveDeleteButtons.delete"}),styleSheet:h,loading:m?void 0:f,onClick:m?()=>T(!0):b,disabled:y,testId:"deleteButton"}),n.createElement(c,{disabled:l||f,onClick:E,loading:y,styleSheet:p?h:v,label:r||n.createElement(u.FormattedMessage,{id:"components.saveDeleteButtons.save"}),testId:"saveButton"})))};const b=E},45350:(e,r,t)=>{"use strict";t.d(r,{TL:()=>p,W6:()=>d,X8:()=>m,ZP:()=>c,kU:()=>g});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(52068);const c=i.StyleSheet.create({header:{display:"flex",flex:"0 0 auto",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",padding:"".concat(s.W0.s4," ").concat(s.W0.s1," ").concat(s.W0.s4," ").concat(s.W0.s4),[s.cy.min.s]:{padding:"".concat(s.W0.s6," ").concat(s.W0.s2," ").concat(s.W0.s4," ").concat(s.W0.s4)},[s.cy.min.m]:{padding:"".concat(s.W0.s6," ").concat(s.W0.s3," ").concat(s.W0.s4," ").concat(s.W0.s6),":nth-last-child(2)":{paddingBottom:s.W0.s6}},[s.cy.min.l]:{padding:"".concat(s.W0.s8," ").concat(s.W0.s4," ").concat(s.W0.s4," ").concat(s.W0.s8),":nth-last-child(2)":{paddingBottom:s.W0.s8}}}});var d=i.StyleSheet.create({title:{fontFamily:l.R.brand.face.fontFamily,fontWeight:l.R.brand.weights.bold,fontSize:o.Z.sizes.spacers.px20,lineHeight:1.8,letterSpacing:"-0.01838rem",color:n.dp_app_text_base,[s.cy.minMax.s]:{":first-child":{paddingLeft:s.W0.s2}},[s.cy.min.m]:{fontSize:o.Z.sizes.spacers.px24}}}),u={[s.cy.minMax.s]:{paddingLeft:"".concat(s.W0.s2)}},p=i.StyleSheet.create({wrapper:(0,a.Z)({width:"100%"},u)}),m=i.StyleSheet.create({actionButton:{flexShrink:0,textTransform:"capitalize",marginLeft:s.W0.s2,marginRight:0,[s.cy.min.s]:{marginLeft:s.W0.s3,marginRight:s.W0.s1}}}),g=i.StyleSheet.create({backButton:{marginLeft:"-".concat(s.W0.s2),marginRight:s.W0.s2,width:s.W0.s8,height:s.W0.s8,cursor:"pointer",backgroundColor:"transparent"},backIcon:{transform:"rotate(90deg)"},wrapper:(0,a.Z)({},u)});i.StyleSheet.create({header:{justifyContent:"flex-end",[s.cy.min.s]:{paddingBottom:0}}})},13111:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(50093),n=t(29901),i=t(41966),o=t(89426),s=t(73769),l=t(28220),c=t(45350),d=e=>{var{children:r,styleSheet:t}=e;return n.createElement("div",{className:(0,a.css)(c.ZP.header,t&&t.header),"data-overlay":"overlay-header"},r)};d.Title=e=>{var{text:r}=e;return n.createElement("h2",{className:(0,a.css)(c.W6.title)},r)},d.ActionButton=e=>{var{label:r,testId:t,onClick:a,disabled:i,styleSheet:s}=e;return n.createElement(l.ie.Consumer,null,(e=>{var{close:l}=e;return n.createElement(o.gh,{testId:t,onClick:a||l||void 0,styleSheet:[c.X8.actionButton,s&&s.actionButton],disabled:i},"string"==typeof r?r:n.createElement(r,null))}))},d.BackButton=e=>{var{back:r}=e;return n.createElement("div",{className:(0,a.css)(c.kU.wrapper)},n.createElement("button",{onClick:()=>{r()},"data-test":"overlay-header-back-button",className:(0,a.css)(c.kU.backButton)},n.createElement(i.Z,{className:(0,a.css)(c.kU.backIcon)})))},d.Input=e=>n.createElement("div",{className:(0,a.css)(c.TL.wrapper)},n.createElement(s.Z,e));const u=d},60141:(e,r,t)=>{"use strict";t.d(r,{P:()=>o});var a=t(50093),n=t(23394),i=t(5083),o=a.StyleSheet.create({position:{width:"calc(100% + ".concat(i.m0.xs," + ").concat(i.m0.xs,")"),marginLeft:"-".concat(i.m0.xs),[n.cy.min.s]:{width:"calc(100% + ".concat(i.m0.s," + ").concat(i.m0.s,")"),marginLeft:"-".concat(i.m0.s)},[n.cy.min.m]:{width:"calc(100% + ".concat(i.m0.m," + ").concat(i.m0.m,")"),marginLeft:"-".concat(i.m0.m)}}})},4524:(e,r,t)=>{"use strict";t.d(r,{ED:()=>m,OV:()=>h,_n:()=>v,gp:()=>g,sw:()=>p,vr:()=>u,wI:()=>y});var a=t(91557),n=t(23394),i=t(89142),o=t(76521),s=t(28220),l=t(17693),c=e=>"number"==typeof e?e:e.includes("px")?parseInt(e,10):e.includes("rem")?parseFloat(e)*i.X:0,d=(e,r,t,a)=>{var n=e.left+e.width+c(t)+a,i=c(r),o=document.documentElement.clientWidth-32;return n+i>o?n+i-o:0},u=(e,r,t)=>{var n=e.getBoundingClientRect(),i=!!r.offset,{offset:s=o.Ms}=r,l=0,u=0;if(r.align===a.N.BOTTOM&&(l=n.left+n.width/2,u=o.c5+n.top+n.height+c(s)),r.align===a.N.TOP&&(l=n.left+n.width/2,u=n.top-o.c5-o.Ms),r.align===a.N.LEFT&&(l=n.left-o.c5-o.Ms,u=n.top+n.height/2),r.align===a.N.RIGHT){var p=t&&d(n,c(t),s,i?0:o.c5),m=i?n.left+n.width+c(s):o.c5+n.left+n.width+c(s);l=p?m-p:m,u=n.top+n.height/2}return"translate(".concat(l,"px, ").concat(u+window.pageYOffset,"px)")},p=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.g9;if(e){var t,i,{element:s,position:u,nubbin:p}=e,m=!!u.offset,{offset:g=o.Ms,yAlignmentEl:v}=u,h=u.align===a.N.RIGHT&&m||!p?0:o.c5,y=s.getBoundingClientRect(),f=c(g);if(u.align===a.N.RIGHT){t=y.left+y.width+h+f;var E=d(y,r,g,h),b=y.top,S=0;if(v){var T=v.getBoundingClientRect();b=T.top;var C=n.TM.s12;S="".concat(y.top+y.height/2+o.c5+C-T.top,"px")}return{left:E?"auto":"".concat(t,"px"),right:E?"".concat(32,"px"):"auto",top:"".concat(b+window.pageYOffset,"px"),minHeight:S}}return u.align===a.N.BOTTOM&&u.grow===a.N.RIGHT?(i=h+y.top+y.height+f+window.pageYOffset,{left:"".concat(y.left,"px"),top:"".concat(i,"px")}):(i=h+y.top+y.height+f+window.pageYOffset,{left:"".concat(y.left+y.width,"px"),top:"".concat(i,"px"),transform:"translateX(-100%)"})}},m=e=>r=>{!r.shiftKey&&9===r.keyCode&&r.currentTarget&&e&&e.current&&e.current.focus()},g=e=>r=>{r.shiftKey&&9===r.keyCode&&r.currentTarget===r.target&&e&&e.current&&e.current.focus()},v=e=>r=>{27===r.keyCode&&e()},h=e=>{if(e===s.j2.MODAL||e===s.j2.POPOVER&&document.documentElement.clientWidth<n.AV.min.m){var r="-".concat(window.pageYOffset,"px");document.body.style.position="fixed",document.body.style.top=r,document.body.style.left="0px",document.body.style.right="0px"}},y=e=>{if(e===s.j2.MODAL||e===s.j2.POPOVER&&document.documentElement.clientWidth<n.AV.min.m){var r=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,-parseInt(r||"0",10))}}},82171:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var a=t(50093),n=t(29901),i=t(23198),o=t(23394),s=t(52068);const l=a.StyleSheet.create({PageTitle:(0,i.Z)((0,i.Z)({},s.W.title1),{},{fontWeight:"bold",paddingTop:"var(--DEPRECATED-20px)",height:"var(--dp_s80)",[o.cy.max.xs]:{marginTop:o.W0.s2,marginBottom:o.W0.s4},[o.cy.minMax.s]:{marginTop:o.W0.s2,marginBottom:o.W0.s6},[o.cy.max.s]:(0,i.Z)((0,i.Z)({},s.W.title2),{},{height:"auto",padding:0})})});const c=e=>{var{children:r,styleSheet:t,testId:i,tabIndex:o,id:s}=e;return n.createElement("h1",{id:s,tabIndex:o,"data-test":i,className:(0,a.css)(l.PageTitle,t&&t)},r)}},73455:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>h});var a=t(64321),n=t(31616),i=t(29901),o=t(10571),s=t(77304),l=t(23394),c=t(6131),d=t(15628),u=t(50093),p=["onEntered","duration","children"],m=100,g=e=>{var r,{onEntered:t,duration:o,children:m}=e,g=(0,n.Z)(e,p);return i.createElement(s.Z,(0,a.Z)({},g,{mountOnEnter:!0,unmountOnExit:!0,timeout:o,classNames:(0,c._)((r=o,u.StyleSheet.create({appear:{opacity:0},appearActive:{opacity:1,transition:"opacity ".concat(r,"ms ease-in-out")},enter:{opacity:0},enterActive:{opacity:1,transition:"opacity ".concat(r,"ms ease-in-out")},exit:{opacity:1},exitActive:{opacity:0,transition:"opacity ".concat(r,"ms ease-in-out")}}))),onEntered:function(e){function r(r){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((e=>{(0,d.d)(e),e.lastElementChild&&e.lastElementChild.lastElementChild&&window.innerWidth<l.AV.min.m&&e.lastElementChild.lastElementChild.focus(),"function"==typeof t&&setTimeout(t)}))}),m)},v=e=>{var{children:r}=e;return"undefined"!=typeof document&&document.body?o.createPortal(r,document.body):null};const h=e=>{var{isOpen:r,transitionDuration:t=m,onEntered:a,children:n}=e;return i.createElement(v,null,i.createElement(g,{duration:t,in:r,onEntered:a},n))}},56674:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l,j:()=>s});var a=t(98318),n=t(50093),i=t(8888),o=t(8590),s={root:{marginBottom:i.Z.sizes.spacers.px8,fontSize:i.Z.sizes.spacers.px16,[i.Z.breakpoints.small.max]:{marginBottom:i.Z.sizes.spacers.px16,":last-of-type":{marginBottom:0}}},input:{position:"absolute",height:24,width:24,margin:0,opacity:0,zIndex:-1,":focus ~ div":{border:"2px solid ".concat(a.dp_brand_secondary_bright)},":focus-visible ~ div":{boxShadow:"0px 0px 0px 4px ".concat(a.dp_comp_focus_ring)},":checked ~ div":{border:"1px solid ".concat(a.dp_brand_secondary_mid)},":checked ~ div:before":{content:"''",display:"block",width:14,height:14,borderRadius:"49%",backgroundColor:"".concat(a.dp_brand_secondary_duller)},":checked:not(:disabled) ~ div:hover":{backgroundColor:a.dp_brand_white},":checked:not(:disabled) ~ div:hover:before":{backgroundColor:a.dp_brand_secondary_dull},":checked:not(:disabled) ~ div:active":{backgroundColor:"white",border:"2px solid ".concat(a.dp_brand_secondary_dim)},":checked:not(:disabled) ~ div:active:before":{backgroundColor:a.dp_brand_secondary_dullest},":disabled ~ div":{border:"1px solid ".concat(a.dp_app_border_dull),background:a.dp_brand_neutral_brightest},":disabled ~ div:before":{content:"''",backgroundColor:a.dp_brand_neutral_mid}},customInput:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",marginRight:o.W0.s4,width:24,height:24,border:"1px solid ".concat(a.dp_app_border_dull),background:a.dp_brand_white,":hover":{background:a.dp_brand_secondary_brighter,border:"1px solid ".concat(a.dp_brand_secondary_dim)},":active":{background:a.dp_brand_secondary_bright,border:"solid 2px ".concat(a.dp_brand_secondary_dim)}}};const l=n.StyleSheet.create(s)},93902:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(50093),n=t(29901),i=t(8888),o=t(98318);const s=a.StyleSheet.create({root:{display:"flex",flexDirection:"row",alignItems:"center",color:o.dp_app_text_base,cursor:"pointer"},rootDisabled:{color:o.dp_brand_neutral_mid,cursor:"not-allowed"},input:{margin:i.Z.sizes.spacers.s,cursor:"pointer"},customInput:{display:"none"},children:{flexGrow:1},error:{border:"1px solid ".concat(o.dp_app_negative_mid)}});const l=e=>{var{disabled:r,checked:t,name:o,ariaLabel:l,ariaLabelledBy:c,ariaDescribedBy:d,id:u,tabIndex:p=0,value:m,onChange:g,onClick:v,styleSheet:h={},children:y,testId:f,inputRef:E,isUncontrolledInput:b,error:S}=e,[T,C]=(0,n.useState)(!1),A=!!Object.keys(h).length,I=n.createElement("div",{className:(0,a.css)(h.inputContainer,r&&h.disabledContainer)},n.createElement("input",{type:"radio",name:o,id:u,value:m,checked:b?void 0:t,disabled:r,tabIndex:p,onChange:g,onClick:v,className:(0,a.css)(s.input,h.input),"data-test":f,readOnly:!g&&!v,"aria-label":l,"aria-labelledby":c,"aria-describedby":d,ref:E,onFocus:()=>C(!0),onBlur:()=>C(!1)}),A&&n.createElement("div",{className:(0,a.css)(s.customInput,h.customInput,S&&s.error)}));if(y){var _=(0,a.css)(i.Z.typography.body,s.root,h.root,!t&&!r&&h.rootEnabled,t&&h.rootChecked,r&&s.rootDisabled,r&&h.rootDisabled,T&&h.rootFocused);return n.createElement("label",{htmlFor:u,className:_},I,n.createElement("span",{className:(0,a.css)(h&&h.childrenTabs?h.childrenTabs:s.children)},y))}return I}},58705:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o,m:()=>i});var a=t(29901),n=()=>{var[e,r]=a.useState(!1);return a.useEffect((()=>{r(!0)}),[]),e},i=e=>r=>{var t=n();return a.createElement(a.Fragment,null,t&&a.createElement(e,r))};const o=e=>{var{children:r}=e,t=n();return a.createElement(a.Fragment,null,t&&r)}},73769:(e,r,t)=>{"use strict";t.d(r,{Z:()=>b});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(74999),l=t(23198),c=t(98318),d=t(8888),u=t(23394),p=t(52068),m={color:c.dp_app_text_subdued,fontWeight:p.R.body.weights.normal},g={paddingLeft:50,[d.Z.breakpoints.small.min]:{paddingLeft:50}},v={borderWidth:0,boxShadow:"inset 0 0 0 2px ".concat(c.dp_brand_secondary_dull)};const h=i.StyleSheet.create({inputWrapper:{backgroundColor:c.dp_brand_neutral_brightest,flexGrow:1,position:"relative",borderRadius:u.E0.m,":hover:not(:focus-within)":{backgroundColor:c.dp_brand_neutral_brighter}},input:{backgroundColor:"transparent",fontSize:d.Z.sizes.spacers.px16,fontWeight:p.R.brand.weights.normal,lineHeight:1.5,textOverflow:"ellipsis",textAlign:"start",whiteSpace:"nowrap",overflow:"hidden",position:"relative",color:c.dp_app_text_base,borderWidth:0,borderRadius:u.E0.m,outline:"none","-webkit-appearance":"none","::-webkit-input-placeholder":m,"::-moz-placeholder":m,":-moz-placeholder":m,":placeholder":m,":focus":v},initialOutline:{boxShadow:"inset 0 0 0 1px ".concat(c.dp_brand_neutral_bright)},inputAccent:v,inputError:{boxShadow:"inset 0 0 0 2px ".concat(c.dp_app_negative_mid),":focus":{boxShadow:"inset 0 0 0 2px ".concat(c.dp_app_negative_mid)}},inputWithIcon:(0,l.Z)((0,l.Z)({},g),{},{":focus":g}),icon:{width:"28px",height:"28px",position:"absolute",top:0,left:0,bottom:0,margin:"auto 0 auto 15px",stroke:c.dp_brand_neutral_mid,strokeWidth:1},label:{position:"absolute",whiteSpace:"nowrap",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",zIndex:0,fontSize:d.Z.sizes.spacers.px14,fontWeight:p.R.body.weights.normal,color:c.dp_app_text_subtle,lineHeight:1.43,top:0,left:0,paddingTop:0,paddingBottom:0,paddingLeft:12,paddingRight:12,[d.Z.breakpoints.small.min]:{paddingLeft:16,paddingRight:16}},invertedLabel:{bottom:0,top:"auto"},labelWithIcon:g});var y=e=>i.StyleSheet.create(Object.keys(e).reduce(((r,t)=>(0,l.Z)((0,l.Z)({},r),{},{[t]:(0,l.Z)((0,l.Z)({},e[t]),{},{":focus":e[t]})})),{})),f=e=>y((e=>{var r="padding".concat(e?"Bottom":"Top"),t="padding".concat(e?"Top":"Bottom"),a=19,n=5;return e&&(a++,n--),{m:{[r]:a,[t]:n,[d.Z.breakpoints.small.min]:{[r]:a+5,[t]:n+3}},l:{[r]:a+5,[t]:n+3,[d.Z.breakpoints.small.min]:{[r]:a+10,[t]:n+6}},xl:{[r]:a+10,[t]:n+6,[d.Z.breakpoints.small.min]:{[r]:a+20,[t]:n+12}}}})(e)),E=["label","icon","hasError","size","invertLabel","outlineOnFilled","initialOutline","active","styleSheet"];const b=e=>{var r,t,l,c,{label:u,icon:p,hasError:m,size:g="m",invertLabel:v=!1,outlineOnFilled:b=!0,initialOutline:S=!0,active:T,styleSheet:C}=e,A=(0,n.Z)(e,E),[I,_]=o.useState(!A.value),P=(t=null!==(r=A.id)&&void 0!==r&&r.startsWith("to.search")?16:0,{m:{paddingTop:12,paddingLeft:12,paddingBottom:12,paddingRight:12,[d.Z.breakpoints.small.min]:{paddingTop:16,paddingLeft:16,paddingBottom:16,paddingRight:16}},l:{paddingTop:16,paddingLeft:12,paddingBottom:16,paddingRight:12,[d.Z.breakpoints.small.min]:{paddingTop:20,paddingLeft:16+t,paddingBottom:20,paddingRight:16}},xl:{paddingTop:20,paddingLeft:12,paddingBottom:20,paddingRight:12,[d.Z.breakpoints.small.min]:{paddingTop:24,paddingLeft:16+t,paddingBottom:24,paddingRight:16}}}),R=y(P),k=o.createElement(s.Z,(0,a.Z)({},A,{styleSheet:[h.input,S&&h.initialOutline,(T||b&&!I)&&h.inputAccent,R[g],p&&h.inputWithIcon,u&&f(v)[g],m&&h.inputError,C],onChange:e=>{var r;return _(!e.target.value),null===(r=A.onChange)||void 0===r?void 0:r.call(A,e)}}));return o.createElement("div",{className:(0,i.css)(h.inputWrapper)},p&&o.createElement(p,{className:(0,i.css)(h.icon)}),u&&o.createElement("label",{className:(0,i.css)(h.label,(l=v,c="padding".concat(l?"Bottom":"Top"),i.StyleSheet.create({m:{[c]:5,[d.Z.breakpoints.small.min]:{[c]:8}},l:{[c]:8,[d.Z.breakpoints.small.min]:{[c]:11}},xl:{[c]:11,[d.Z.breakpoints.small.min]:{[c]:14}}}))[g],v&&h.invertedLabel,p&&h.labelWithIcon),htmlFor:A.id},u),k)}},85091:(e,r,t)=>{"use strict";t.d(r,{n:()=>u,Z:()=>p});var a=t(50093),n=t(29901),i=t(98184),o=t(98318),s=t(8888),l=t(23394),c=t(52068);const d=a.StyleSheet.create({link:{display:"block",color:o.dp_app_text_inverted,background:o.dp_brand_secondary_duller,fontSize:c.W.title4.fontSize,position:"absolute",left:"0",top:"0",textDecoration:"none",borderRadius:"0 0 ".concat(l.E0.m," ").concat(l.E0.m),padding:"".concat(s.Z.sizes.spacers.xs," ").concat(s.Z.sizes.spacers.s),transition:"transform 100ms",transform:"translateY(-110%)",":focus":{transform:"translateY(0%)"}}});var u="content";const p=()=>n.createElement("a",{className:(0,a.css)([d.link]),href:"#".concat(u),accessKey:"c"},n.createElement(i.FormattedMessage,{id:"components.header.skiplink.content"}))},94749:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var a=t(50093),n=t(29901);const i=e=>{var{className:r}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:r},n.createElement("path",{fillRule:"nonzero",d:"M5.5 13a.5.5 0 1 1 0-1h14a.5.5 0 1 1 0 1h-14z"}))};var o=t(78954),s=t(98318),l=t(23394),c=t(94878);const d=a.StyleSheet.create({stepper:{display:"flex",flexGrow:1,fontSize:l.cp.body.fontSize,alignItems:"center",justifyContent:"space-between"},buttonsWrapper:{display:"flex",alignItems:"center",position:"relative"},button:{backgroundColor:"white",width:32,height:32,position:"relative",borderRadius:"50%",border:"1px solid ".concat(s.dp_app_border_base),boxShadow:"0 2px 6px rgba(".concat((0,c.E)("#000000",.12),")"),cursor:"pointer",":hover":{backgroundColor:s.dp_brand_secondary_brighter,borderColor:s.dp_brand_secondary_dim},":focus":{outline:"none",borderColor:s.dp_brand_secondary_dim,boxShadow:"0 0 0 4px rgba(".concat((0,c.E)(s.dp_brand_secondary_dim,.5),")")},":active":{backgroundColor:s.dp_brand_secondary_brighter,borderWidth:2,borderColor:s.dp_brand_secondary_dim,boxShadow:"0 2px 6px rgba(".concat((0,c.E)("#000000",.12),")")}},buttonDisabled:{backgroundColor:s.dp_brand_neutral_brightest,boxShadow:"none",cursor:"not-allowed",":hover":{backgroundColor:s.dp_brand_neutral_brightest,borderColor:s.dp_app_border_base},":active":{backgroundColor:s.dp_brand_neutral_brightest,borderColor:s.dp_app_border_base,borderWidth:1,cursor:"not-allowed",boxShadow:"none"}},number:{width:44.8,textAlign:"center",background:"transparent",WebkitTextFillColor:s.dp_brand_neutral_dim,color:s.dp_brand_neutral_dim,fontSize:l.cp.body.fontSize,fontWeight:"bold",opacity:1},numberPositiveValue:{WebkitTextFillColor:s.dp_app_text_base,color:s.dp_app_text_base,opacity:1},icon:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fill:s.dp_brand_secondary_duller,width:24,height:24},iconDisabled:{fill:s.dp_brand_neutral_bright},labelRight:{paddingLeft:l.W0.s4},labelLeft:{paddingRight:l.W0.s4}});var u=(e,r)=>e===r;const p=e=>{var{name:r,value:t,min:s=0,max:l=1,onChange:c,testId:p,children:m,reverseLabel:g=!1,styleSheet:v,MinusButton:h,PlusButton:y}=e,f=e=>{var r=t+e;r<s||r>l||r===t||c&&c(r)},E=u(t,s),b=u(t,l),S=()=>f(-1),T=()=>f(1),C=n.createElement(i,{className:(0,a.css)(d.icon,E&&d.iconDisabled)}),A=n.createElement(o.Z,{className:(0,a.css)(d.icon,b&&d.iconDisabled)});return n.createElement("div",{"data-test":p,className:(0,a.css)(d.stepper)},g&&m&&n.createElement("div",{className:(0,a.css)(d.labelLeft)},m),n.createElement("div",{className:(0,a.css)(d.buttonsWrapper)},h?n.createElement(h,{disabled:E,styleSheet:d,onClick:S,icon:C}):n.createElement("button",{type:"button","data-test":"".concat(p,"-stepper-minus-button"),disabled:E,className:(0,a.css)(d.button,E&&d.buttonDisabled),onClick:S},C),n.createElement("input",{type:"text",disabled:!0,name:r,value:t,className:(0,a.css)(d.number,t>0&&d.numberPositiveValue,v&&v.number)}),y?n.createElement(y,{disabled:b,styleSheet:d,onClick:T,icon:A}):n.createElement("button",{type:"button","data-test":"".concat(p,"-stepper-plus-button"),disabled:b,className:(0,a.css)(d.button,b&&d.buttonDisabled),onClick:T},A)),!g&&m&&n.createElement("div",{className:(0,a.css)(d.labelRight)},m))}},44277:(e,r,t)=>{"use strict";t.d(r,{P:()=>n,U:()=>i});var a=t(51812),n=function(e){return e[e.Legacy=0]="Legacy",e[e.SearchWidget=1]="SearchWidget",e}({}),i={styles:{searchFieldStyle:[a.qg],dropDownStyle:[a.tR.dropdownContainer],suggestionFieldContainer:[]}}},51812:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>E,L6:()=>u,Rh:()=>h,S_:()=>v,TN:()=>d,X8:()=>m,cW:()=>c,d2:()=>p,jb:()=>b,qg:()=>g,r4:()=>f,tR:()=>y});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),{sizes:l}=o.Z,c=i.StyleSheet.create({container:{position:"relative"}}),d=i.StyleSheet.create({wrapper:(0,a.Z)((0,a.Z)({},s.cp.title3),{},{width:"100%",padding:"0 ".concat(s.W0.s4," ").concat(s.W0.s4," ").concat(s.W0.s4),color:n.dp_app_text_base,[s.cy.max.s]:{padding:"0 ".concat(s.W0.s3," ").concat(s.W0.s4," ").concat(s.W0.s3)}})}),u=i.StyleSheet.create({container:{flexGrow:1,[s.cy.min.m]:{paddingRight:"".concat(s.W0.s3)},[s.cy.min.l]:{paddingRight:"".concat(s.W0.s4)}}}),p=i.StyleSheet.create({actionButton:{alignSelf:"flex-start"}}),m=i.StyleSheet.create({actionButton:{alignSelf:"center"}}),g=i.StyleSheet.create({container:{padding:0},input:{padding:l.spacers.s,lineHeight:"var(--DEPRECATED-18px)","-webkit-appearance":"none",":focus":{padding:l.spacers.s}},inputContainer:{width:"auto"}}),v=i.StyleSheet.create({wrapper:{width:"100%",[s.cy.minMax.s]:{paddingLeft:"".concat(s.W0.s2)}}}),h=i.StyleSheet.create({inputContainer:{height:"auto"},input:{borderColor:n.dp_app_negative_mid,borderWidth:2,":focus":{padding:l.spacers.s}}}),y=i.StyleSheet.create({dropdownContainer:{padding:0,borderRadius:0,border:"0 none",boxShadow:"none",width:"100%"},horizontalSearchStyle:{marginTop:"var(--DEPRECATED-7px)",borderTop:"1px solid ".concat(n.dp_app_border_base),position:"unset"},viaAvoidStyle:{position:"unset"}}),f=i.StyleSheet.create({wrapper:{display:"flex",alignItems:"center",position:"relative"},label:(0,a.Z)((0,a.Z)({},s.cp.body),{},{position:"absolute",top:s.W0.s4,lineHeight:"inherit",zIndex:1,width:"66px",marginLeft:s.W0.s4,color:n.dp_app_text_base}),input:{[s.cy.min.m]:{paddingLeft:"86px",":focus":{paddingLeft:"86px"}}}}),E=i.StyleSheet.create({wrapper:{display:"flex",alignItems:"center",position:"relative"},label:(0,a.Z)((0,a.Z)({},s.cp.body),{},{position:"absolute",top:0,left:0,paddingLeft:s.W0.s4,paddingRight:s.W0.s4,paddingTop:"11px",lineHeight:"1.43",zIndex:1,width:"66px",color:n.dp_app_text_subtle,fontSize:"14px"}),input:{[s.cy.min.m]:{paddingLeft:s.W0.s4,paddingTop:"29px",paddingBottom:"11px",":focus":{paddingLeft:s.W0.s4,paddingTop:"29px",paddingBottom:"11px"}}}}),b=i.StyleSheet.create({wrapper:{display:"flex",alignItems:"center",position:"relative"},label:(0,a.Z)((0,a.Z)({},s.cp.body),{},{position:"absolute",top:0,left:0,paddingLeft:"26px",paddingRight:s.W0.s4,paddingTop:"11px",lineHeight:"1.43",zIndex:1,width:"66px",color:n.dp_app_text_subtle,fontSize:"14px"}),input:{[s.cy.min.m]:{paddingLeft:"26px",paddingTop:"29px",paddingBottom:"11px",":focus":{paddingLeft:"26px",paddingTop:"29px",paddingBottom:"11px"}}},overlayErrorAlert:{marginTop:"16px"}})},58401:(e,r,t)=>{"use strict";t.d(r,{Z:()=>b});var a=t(50093),n=t(29901),i=t(23198),o=t(98318),s=t(8888),l=t(23394),c=t(52068),d={width:"100%",backgroundColor:"transparent",textAlign:"left",outlineOffset:"-4px"},u=(0,i.Z)((0,i.Z)({},d),{},{alignItems:"center",backgroundColor:o.dp_brand_white,borderWidth:1,borderStyle:"solid",borderColor:o.dp_app_info_mid,color:o.dp_app_info_mid,cursor:"pointer",display:"flex",flex:1,height:28,justifyContent:"center",fontFamily:c.R.brand.face.fontFamily,fontSize:"var(--DEPRECATED-14px)",fontWeight:"bold",letterSpacing:-.2,lineHeight:"var(--DEPRECATED-22px)",":first-child":{borderTopLeftRadius:4,borderBottomLeftRadius:4},":last-child":{borderTopRightRadius:4,borderBottomRightRadius:4},":hover":{backgroundColor:o.dp_brand_neutral_brightest}}),p={underline:(0,i.Z)((0,i.Z)((0,i.Z)({},d),s.Z.typography.title5),{},{alignItems:"center",color:o.dp_app_text_base,paddingLeft:s.Z.sizes.spacers.xxs,marginRight:s.Z.sizes.spacers.l,backgroundColor:o.dp_brand_white,borderBottom:"2px solid ".concat(o.dp_brand_white),cursor:"pointer",display:"flex",flexFlow:"row",height:"var(--DEPRECATED-42px)",":last-child":{marginRight:0},":hover":{backgroundColor:o.dp_brand_secondary_brighter}}),underlineActive:{borderBottom:"2px solid ".concat(o.dp_brand_primary_mid)},underlineDisabled:{color:o.dp_brand_neutral_mid,cursor:"default"}},m="6px",g="3px",v={underlineMobile:(0,i.Z)((0,i.Z)({},d),{},{display:"flex",cursor:"pointer",position:"relative",padding:s.Z.sizes.spacers.s,paddingTop:0,paddingLeft:"calc(".concat(l.W0.s4," - ").concat(g,")"),minWidth:"var(--DEPRECATED-133px)",minHeight:"46px",paddingBottom:"calc(".concat(s.Z.sizes.spacers.s," + ").concat(m,")"),[l.cy.min.s]:{paddingLeft:"calc(".concat(l.W0.s6," - ").concat(g,")")}}),underlineMobileActive:{"::after":{content:'""',background:o.dp_brand_primary_mid,position:"absolute",bottom:0,left:0,right:0,height:m,borderRadius:m},":first-of-type::After":{borderTopLeftRadius:0,borderBottomLeftRadius:0}},underlineMobileDisabled:{cursor:"default"}},h={underlineMobileShareableHeader:(0,i.Z)((0,i.Z)({},d),{},{display:"flex",cursor:"pointer",position:"relative",padding:s.Z.sizes.spacers.s,paddingTop:0,paddingLeft:"calc(".concat(l.W0.s4," - ").concat(g,")"),minWidth:"var(--DEPRECATED-133px)",minHeight:"2.51563rem",paddingBottom:"calc(".concat(s.Z.sizes.spacers.s," + ").concat(m,")"),[l.cy.min.s]:{paddingLeft:"calc(".concat(l.W0.s6," - ").concat(g,")")}}),underlineMobileShareableHeaderActive:{"::after":{content:'""',background:o.dp_brand_secondary_dull,position:"absolute",bottom:0,left:"calc(".concat(l.W0.s4," - ").concat(g,")"),right:0,width:"75%",height:m,borderRadius:m,[l.cy.min.s]:{left:"calc(".concat(l.W0.s6," - ").concat(g,")")}}},underlineMobileShareableHeaderDisabled:{cursor:"default"}};const y=a.StyleSheet.create((0,i.Z)((0,i.Z)((0,i.Z)({default:(0,i.Z)((0,i.Z)({},d),{},{backgroundColor:l.O9.palette.grey_60,borderWidth:1,borderStyle:"solid",borderColor:o.dp_brand_neutral_brighter,borderBottom:"none",borderRadius:"".concat(l.E0.m," ").concat(l.E0.m," 0 0"),boxShadow:"inset 0 -2px 4px 0 rgba(0, 0, 0, 0.1)",color:o.dp_app_text_base,cursor:"pointer",display:"flex",fontFamily:c.R.body.face.fontFamily,fontSize:"1rem",justifyContent:"center",alignItems:"center",alignSelf:"flex-end",height:44,width:270,lineHeight:1.75,textAlign:"center",":hover":{backgroundColor:o.dp_brand_neutral_brightest}}),defaultActive:{backgroundColor:o.dp_brand_white,borderColor:o.dp_app_border_dull,boxShadow:"0 -2px 4px 0 rgba(0, 0, 0, 0.1)",alignSelf:"center",height:51,marginBottom:-1},defaultDisabled:{cursor:"default"},indigoPill:(0,i.Z)((0,i.Z)({},u),{},{backgroundColor:o.dp_brand_white,borderColor:o.dp_brand_secondary_bright,color:o.dp_brand_secondary_duller,height:"40px",fontFamily:c.R.body.face.fontFamily,fontSize:c.W.body.fontSize,fontWeight:c.R.body.weights.semiBold,letterSpacing:c.W.body.letterSpacing,":first-child":{borderTopLeftRadius:4,borderBottomLeftRadius:4,borderRight:0},":last-child":{borderTopRightRadius:4,borderBottomRightRadius:4,borderLeft:0},":hover":{backgroundColor:o.dp_brand_secondary_brighter}}),indigoPillActive:{backgroundColor:o.dp_brand_secondary_duller,borderColor:o.dp_brand_secondary_duller,color:o.dp_brand_white,fontWeight:c.R.body.weights.bold,":hover":{backgroundColor:o.dp_brand_secondary_duller}},indigoPillDisabled:{backgroundColor:o.dp_brand_white,borderColor:o.dp_app_action_disabled,color:o.dp_app_text_disabled,cursor:"default",":first-child":{borderRight:"1px solid ".concat(o.dp_app_action_disabled)}},pill:u,pillActive:{backgroundColor:o.dp_app_info_mid,color:o.dp_app_text_inverted},pillDisabled:{backgroundColor:l.O9.palette.grey_60,borderColor:l.O9.palette.grey_60,color:o.dp_app_text_base,cursor:"default"}},p),v),h));var f=t(25875),E=e=>{var{children:r,disabled:t,to:i,id:o,tabPanelId:s,isActive:l,onClick:c,skin:d,styleSheet:u,styleSheetFn:p}=e,m=l?0:-1;return n.createElement("button",{onClick:()=>{t||l||!c||c(o||i)},className:(0,a.css)([y[d],l&&y["".concat(d,"Active")],t&&y["".concat(d,"Disabled")],u,null==p?void 0:p({isActive:l,disabled:t})]),type:"button",role:"tab",tabIndex:m,"aria-disabled":t,"aria-selected":l,id:o||(null==i?void 0:i.toString()),"aria-controls":s},r)};E.defaultProps=f.l;const b=E},28187:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(50093),n=t(29901),i=t(35779);const o=a.StyleSheet.create({default:{display:"flex"},pill:{display:"flex",justifyContent:"space-between",marginBottom:i.eR},underline:{display:"flex",alignItems:"flex-start",width:"100%"}});var s=t(25875);var l={ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",Home:"Home",End:"End"};function c(e){if(Object.values(l).includes(e.key)){e.preventDefault();var{firstTab:r,lastTab:t,previousTab:a,nextTab:n}=function(e){var r=Array.from(e.querySelectorAll("button[role=tab]")),t=r.filter((e=>e===document.activeElement))[0],a=r.indexOf(t),n=r[0],i=r[r.length-1];return{firstTab:n,lastTab:i,previousTab:a-1<0?i:r[a-1],nextTab:a+1>=r.length?n:r[a+1]}}(e.currentTarget);({[l.ArrowLeft]:a,[l.ArrowRight]:n,[l.Home]:r,[l.End]:t})[e.key].focus()}}var d=e=>{var{skin:r,children:t,styleSheet:i}=e;return n.createElement("div",{className:(0,a.css)(o[r],i),role:"tablist",tabIndex:-1,onKeyDown:c,"data-test":"tab-list"},t)};d.defaultProps=s.l,d.displayName="TabList";const u=d},25875:(e,r,t)=>{"use strict";t.d(r,{l:()=>a});var a={skin:"default"}},37977:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>u});var a=t(23198),n=t(64321),i=t(29901),o=t(98184),s=t(41925),l=(e,r,t)=>t&&t.length>0?e.split(t).filter(Boolean).map((e=>r[e]||e)):[e],c=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=0;return 0===e.length?l(r,t,a):e.reduce(((c,d,u)=>(o!==d.open.start&&(c=c.concat(l(r.substring(o,d.open.start),t,a))),c.push(function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,{component:o}=e,c={key:e.open.end},d=l(r.substring(e.open.end,e.close.start),t,a);return"string"==typeof o?i.createElement(o,c,d):i.createElement(o,(0,n.Z)({},c,{key:(0,s.v1)()}),d)}(d,r,t,a)),o=d.close.end,u===e.length-1&&o<r.length&&(c=c.concat(l(r.substring(o),t,a))),c)),[])};class d extends i.PureComponent{render(){var e,r,t,n,{id:o,tagsMap:l,values:d={},intl:u,testId:p}=this.props,m=Object.keys(l).reduce(((e,r)=>(e[r]="<".concat(r,">"),e["_".concat(r)]="<_".concat(r,">"),e)),{});if(d&&Object.keys(d).length>0){var g=Math.floor(1099511627776*Math.random()).toString(16),v=(n=0,()=>"ELEMENT-".concat(g,"-").concat(n+=1));e="@__".concat(g,"__@"),r={},t={},Object.keys(d).forEach((a=>{var n=d[a];if(i.isValidElement(n)){var o=v();r[a]=e+o+e,t[o]=n}else r[a]=n}))}var h=r||d,y=u.formatMessage({id:o},(0,a.Z)((0,a.Z)({},h),m)),f=((e,r)=>Object.keys(e).map((t=>{for(var a,n,i=new RegExp("<".concat(t,".*?>"),"g"),o=new RegExp("<_".concat(t,">"),"g"),s=[];null!==(a=i.exec(r))&&null!==(n=o.exec(r));)s.push({open:{start:a.index,end:i.lastIndex},close:{start:n.index,end:o.lastIndex},component:e[t]});return s})).reduce(((e,r)=>e.concat(r)),[]).sort(((e,r)=>e.open.start-r.open.start)))(l,y),E=c(f,y,t,e);return i.createElement("span",null,i.createElement("span",{key:(0,s.v1)(),"data-test":p},E))}}const u=(0,o.injectIntl)(d)},96669:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(23198),n=t(98318),i=t(50093),o=t(60289),s=t(23394),l=t(83367),c={fontFamily:t(52068).R.brand.face.fontFamily,letterSpacing:"-0.02625rem",fontWeight:"bold"};const d=i.StyleSheet.create({hero:(0,a.Z)((0,a.Z)({},c),{},{fontSize:l.spacers.px32,lineHeight:l.spacers.px40,[o.ZP.small.min]:{fontSize:l.spacers.px48,lineHeight:l.spacers.px56}}),title1:(0,a.Z)((0,a.Z)({},c),{},{fontSize:l.spacers.px24,lineHeight:l.spacers.px28,[o.ZP.small.min]:{fontSize:l.spacers.px32,lineHeight:l.spacers.px40}}),title2:(0,a.Z)((0,a.Z)({},c),{},{fontSize:l.spacers.px20,lineHeight:l.spacers.px28,[o.ZP.small.min]:{fontSize:l.spacers.px24,lineHeight:l.spacers.px32}}),title3:(0,a.Z)((0,a.Z)({},c),{},{fontSize:l.spacers.px20,lineHeight:l.spacers.px28}),large:{fontFamily:"unset",fontSize:l.spacers.px18,lineHeight:l.spacers.px24,letterSpacing:"0"},body:{fontFamily:"unset",fontSize:l.spacers.px16,lineHeight:l.spacers.px24,letterSpacing:"0"},small:{fontFamily:"unset",letterSpacing:"0",fontSize:l.spacers.px15,lineHeight:l.spacers.px20,[o.ZP.small.min]:{fontSize:l.spacers.px14,lineHeight:l.spacers.px20}},mini:{fontFamily:"unset",letterSpacing:"0",fontSize:l.spacers.px14,lineHeight:l.spacers.px20,[o.ZP.small.min]:{fontSize:l.spacers.px12,lineHeight:l.spacers.px16}},micro:{fontFamily:"unset",letterSpacing:"0",fontSize:l.spacers.px12,lineHeight:l.spacers.px16,[o.ZP.small.min]:{fontSize:l.spacers.px10,lineHeight:l.spacers.px12}},normal:{color:n.dp_app_text_base},white:{color:n.dp_app_text_inverted},subdued1:{color:n.dp_app_text_subtle},subdued2:{color:n.dp_app_text_subdued},brand:{fontFamily:s.cp.title1.fontFamily},textWeight400:{fontWeight:400},textWeight600:{fontWeight:600},textWeight700:{fontWeight:700},systemFont:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "PingFang SC", "Microsoft YaHei New", "Microsoft Yahei", "", STXihei, "", sans-serif'}})},14023:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(64321),n=t(31616),i=t(50093),o=t(51865),s=t.n(o),l=t(29901),c=t(96669),d=["as","textType","textColor","textWeight","fontFamily","className","testId","styleSheet"];const u=e=>{var{as:r="span",textType:t="body",textColor:o="normal",textWeight:u,fontFamily:p,className:m,testId:g,styleSheet:v}=e,h=(0,n.Z)(e,d);return l.createElement(r,(0,a.Z)({"data-test":g,className:s()((0,i.css)(c.Z[t],c.Z[o],u&&c.Z["textWeight".concat(u)],p&&c.Z[p],v&&v),m)},h))}},98951:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(23198),n=t(98318),i=t(50093),o=t(88466),s=t(8888),l=t(23394),c=t(52068);const d=i.StyleSheet.create({outContainer:{display:"flex",alignItems:"flex-start",flex:"1 1 auto"},outContainerFullWidth:{display:"block"},inputContainer:{flex:"1 1 auto","-webkit-box-flex":"1",width:"100%"},label:{display:"flex",flexShrink:0,paddingRight:s.Z.sizes.spacers.s,marginTop:"calc(".concat(s.Z.sizes.spacers.s," + 1px)")},labelError:{color:n.dp_app_text_negative},inputWithMessage:{borderColor:n.dp_app_negative_mid,paddingLeft:"calc(".concat(s.Z.sizes.spacers.m," - 1px)"),":focus":{borderWidth:2,paddingLeft:"calc(".concat(s.Z.sizes.spacers.m," - 1px)")}},inputFullWidth:{width:"100%"},fakeInput:(0,a.Z)((0,a.Z)((0,a.Z)({},c.W.input),{},{backgroundColor:n.dp_app_backdrop_base,borderWidth:1,borderStyle:"solid",borderColor:n.dp_app_border_dull,borderRadius:l.E0.m,color:n.dp_app_text_base,paddingLeft:s.Z.sizes.spacers.m,display:"flex",alignItems:"center",width:"100%"},s.Z.transitions.borderColor),{},{":focus-within":{borderWidth:2,paddingLeft:"calc(".concat(s.Z.sizes.spacers.m," - 1px)")}}),fakeInputErrored:{borderColor:n.dp_app_negative_mid,borderWidth:2,paddingLeft:"calc(".concat(s.Z.sizes.spacers.m," - 1px)")},prefix:{flexShrink:0},prefixInput:{borderWidth:0,padding:"".concat(s.Z.sizes.spacers.s," ").concat(s.Z.sizes.spacers.m," ").concat(s.Z.sizes.spacers.s," 0"),":focus":{borderWidth:0,padding:"calc(".concat(s.Z.sizes.spacers.s," - 1px) calc(").concat(s.Z.sizes.spacers.m," - 1px) calc(").concat(s.Z.sizes.spacers.s," - 1px) 0")}},prefixInputErrored:{padding:"calc(".concat(s.Z.sizes.spacers.s," - 1px) calc(").concat(s.Z.sizes.spacers.m," - 1px) calc(").concat(s.Z.sizes.spacers.s," - 1px) 0")},hideLabel:o.a})},93422:(e,r,t)=>{"use strict";t.d(r,{K:()=>y,Z:()=>h});var a=t(64321),n=t(23198),i=t(50093),o=t(82768),s=t(29901),l=t(8888),c=t(18212),d=t(93588),u=t(37977),p=t(74999),m=t(98951),g=["dark","label","message","inputComponent"],v=e=>{var{name:r,dark:t,label:a,message:v,messageSpaceReserved:h=!0,fullWidth:y,connector:f,disabled:E,inputComponent:b=s.createElement(p.Z),styleSheet:S,bounceInMessage:T,showLabelErrorStyle:C,hideErrorMessage:A,hideLabel:I=!1,messageTestId:_,taggedMessages:P,prefix:R}=e,k=v?"formfield-errormessage-".concat(e.id||e.name):"",N=(0,n.Z)((0,n.Z)({},(0,o.CEd)(g,e)),{},{ariaDescribedby:k,ariaErrormessage:k,ariaInvalid:!!v,styleSheet:[l.Z.transitions.borderColor,y?m.Z.inputFullWidth:void 0,v?m.Z.inputWithMessage:void 0,S&&S.input]}),O=(0,n.Z)((0,n.Z)({},(0,o.CEd)(g,e)),{},{styleSheet:[m.Z.prefixInput,v?m.Z.prefixInputErrored:void 0]}),L=[y?m.Z.outContainerFullWidth:m.Z.outContainer,S&&S.container];return s.createElement(d.Z,{target:r,dark:t,styleSheet:L},a&&s.createElement("div",{className:(0,i.css)(!y&&m.Z.label,S&&S.label,I&&m.Z.hideLabel,C&&v&&m.Z.labelError)},a),s.createElement("div",{className:(0,i.css)(m.Z.inputContainer,S&&S.inputContainer)},R?s.createElement("div",{className:(0,i.css)(m.Z.fakeInput,v?m.Z.fakeInputErrored:void 0)},s.createElement("span",{className:(0,i.css)(m.Z.prefix)},"".concat(R," -")),s.cloneElement(b,O)):s.cloneElement(b,N),(h||v)&&!A&&s.createElement(c.Z,{bounceIn:T,dark:t,level:"error",connector:f,testId:_,id:k,ariaRole:"status"},!E&&v?v:void 0),!A&&P&&P.map(((e,r)=>s.createElement(u.ZP,{tagsMap:e.tagsMap,id:e.id,key:r})))))};const h=v;var y=e=>s.createElement(v,(0,a.Z)({},e,{fullWidth:!0}))},33764:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c,f:()=>l});var a=t(98318),n=t(50093),i=t(8888),o=t(23394),s={color:a.dp_comp_input_placeholder_text},l={root:{backgroundColor:a.dp_app_backdrop_base,borderWidth:1,borderStyle:"solid",borderColor:a.dp_app_border_dull,borderRadius:o.E0.m,color:a.dp_app_text_base,padding:"".concat(i.Z.sizes.spacers.s," ").concat(i.Z.sizes.spacers.m),width:"100%",":focus":{borderWidth:2,padding:"calc(".concat(i.Z.sizes.spacers.s," - 1px) calc(").concat(i.Z.sizes.spacers.m," - 1px)")},"::-webkit-search-decoration":{"-webkit-appearance":"none"},"::-webkit-input-placeholder":s,"::-moz-placeholder":s,":-moz-placeholder":s,":placeholder":s,"::-webkit-contacts-auto-fill-button":{display:"none !important",pointerEvents:"none",position:"absolute",right:0,visibility:"hidden"},"::-webkit-credentials-auto-fill-button":{pointerEvents:"none",position:"absolute",right:0,visibility:"hidden"}},widgetRoot:{background:"transparent",border:"none"},toInput:{width:"100%"},disabled:{borderColor:a.dp_app_action_disabled,color:a.dp_brand_neutral_mid},overlay:{width:"var(--DEPRECATED-14px)",height:"var(--DEPRECATED-28px)",position:"absolute",right:"2px",top:"3px"}};const c=n.StyleSheet.create(l)},74999:(e,r,t)=>{"use strict";t.d(r,{P:()=>c,Z:()=>u});var a=t(64321),n=t(50093),i=t(29901),o=t(48929),s=t(8888),l=t(33764),c=function(e){return e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e}({}),d=e=>{var{type:r,name:t,id:s,value:l,placeholder:d,minLength:u,maxLength:p,onChange:m,onFocus:g,onBlur:v,disabled:h,autoCorrect:y,autoComplete:f,spellCheck:E,onKeyDown:b,autoFocus:S,testId:T,ariaLabel:C,ariaDescribedby:A,ariaErrormessage:I,ariaOwns:_,ariaExpanded:P,ariaAutocomplete:R,ariaInvalid:k,ariaActivedescendant:N,readOnly:O=!1,onKeyPress:L,onClick:x,tabIndex:D,pattern:w,"data-analytics-sensitive-element-redaction-flag":Z,show:F,styles:B,orientationType:M,inputMode:U,isUncontrolledInput:j,inputRef:H,inputRefManaged:W,role:G}=e,V=(0,o.Jn)(),Y=V&&W&&(null==V?void 0:V.register)&&V.register(W);return i.createElement(i.Fragment,null,i.createElement("input",(0,a.Z)({"aria-label":C,"aria-disabled":h,"aria-describedby":A,"aria-errormessage":I,"aria-owns":_,"aria-expanded":P,"aria-autocomplete":R,"aria-invalid":k,"aria-activedescendant":N,ref:e=>{W?(e&&(W.current=e),H&&H(W.current)):H&&H(e)},type:r,role:G,name:t,id:s||t,value:j?void 0:l,placeholder:d,minLength:u,maxLength:p,onChange:m,onFocus:g,onBlur:v,onKeyPress:L,onClick:x,disabled:h,className:(0,n.css)(B.inputClass),autoCorrect:y,autoComplete:f,spellCheck:E,onKeyDown:b,autoFocus:S,"data-test":T,readOnly:O,tabIndex:D,pattern:w,"data-analytics-sensitive-element-redaction-flag":Z,inputMode:U||"text"},Y)),M===c.Horizontal&&!F&&i.createElement("div",{"data-test":"overlay",className:(0,n.css)([B.overlay])}))};d.defaultProps={name:"",value:"",onChange:()=>{},type:"text",styles:{inputClass:[]},orientationType:c.Vertical};const u=e=>{var r,t={styles:{inputClass:[s.Z.typography.input,l.Z.root,e.styleSheet]}};(e.disabled&&t.styles.inputClass.push(l.Z.disabled),e.isSearchWidget)&&(e.show||t.styles.inputClass.push(l.Z.widgetRoot),null!==(r=e.name)&&void 0!==r&&r.startsWith("to.search")&&t.styles.inputClass.push(l.Z.toInput),t.styles.overlay=l.Z.overlay);return i.createElement(d,(0,a.Z)({},e,{orientationType:e.orientationType,styles:t.styles}))}},21924:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=(e,r,t)=>{(0,a.useEffect)((()=>{var r=r=>{"Escape"===r.key&&(e(),r.stopPropagation())};return(t||window).addEventListener("keydown",r,!1),()=>(t||window).removeEventListener("keydown",r,!1)}),r)}},51756:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(98318),n=t(29901);const i=e=>{var{className:r,fill:t=a.dp_app_info_dull}=e;return n.createElement("svg",{className:r,width:"20",height:"14",viewBox:"0 0 20 14"},n.createElement("defs",null,n.createElement("path",{id:"railcard-a",d:"M0.5,14 C0.223857625,14 0,13.7761424 0,13.5 L0,0.5 C0,0.223857625 0.223857625,0 0.5,0 L19.5,0 C19.7761424,0 20,0.223857625 20,0.5 L20,13.5 C20,13.7761424 19.7761424,14 19.5,14 L0.5,14 Z M1,13 L19,13 L19,1 L1,1 L1,13 Z M3.5,11 C3.22385763,11 3,10.7761424 3,10.5 L3,4.5 C3,4.22385763 3.22385763,4 3.5,4 L9.5,4 C9.77614237,4 10,4.22385763 10,4.5 L10,10.5 C10,10.7761424 9.77614237,11 9.5,11 L3.5,11 Z M4,10 L9,10 L9,5 L4,5 L4,10 Z M12.5,11 C12.2238576,11 12,10.7761424 12,10.5 C12,10.2238576 12.2238576,10 12.5,10 L16.5,10 C16.7761424,10 17,10.2238576 17,10.5 C17,10.7761424 16.7761424,11 16.5,11 L12.5,11 Z M12.5,8 C12.2238576,8 12,7.77614237 12,7.5 C12,7.22385763 12.2238576,7 12.5,7 L14.5,7 C14.7761424,7 15,7.22385763 15,7.5 C15,7.77614237 14.7761424,8 14.5,8 L12.5,8 Z"})),n.createElement("use",{fill:t,href:"#railcard-a"}))}},90059:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t="#3367AB"}=e;return a.createElement("svg",{width:"100%",viewBox:"0 0 16 20",className:r},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{fill:t,d:"M12.6886167,12 L14,12 L14,10.0145006 C13.2303906,9.79686215 12.6665,9.08930463 12.6665,8.25 C12.6665,7.41069537 13.2303906,6.70313785 14,6.48549936 L14,4.5 L12.47795,4.5 L1.99995,4.5 L1.99995,6.51256655 C2.7549451,6.7294947 3.30745,7.42531075 3.30745,8.25 C3.30745,9.07468925 2.7549451,9.7705053 1.99995,9.98743345 L1.99995,12 L12.6886167,12 Z M12.6886167,13 L1.49995,13 C1.22380763,13 0.99995,12.7761424 0.99995,12.5 L0.99995,9.5575 C0.99995,9.28135763 1.22380763,9.0575 1.49995,9.0575 C1.94580763,9.0575 2.30745,8.69585763 2.30745,8.25 C2.30745,7.80414237 1.94580763,7.4425 1.49995,7.4425 C1.22380763,7.4425 0.99995,7.21864237 0.99995,6.9425 L0.99995,4 C0.99995,3.72385763 1.22380763,3.5 1.49995,3.5 L12.47795,3.5 L14.5,3.5 C14.7761424,3.5 15,3.72385763 15,4 L15,6.9165 C15,7.19264237 14.7761424,7.4165 14.5,7.4165 C14.0396424,7.4165 13.6665,7.78964237 13.6665,8.25 C13.6665,8.71035763 14.0396424,9.0835 14.5,9.0835 C14.7761424,9.0835 15,9.30735763 15,9.5835 L15,12.5 C15,12.7761424 14.7761424,13 14.5,13 L12.6886167,13 Z"})))}},87332:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t="#192325"}=e;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",className:r},a.createElement("path",{fill:t,d:"M15.354 9.146l3 3 .011.013c.012.012.023.025.033.039l-.044-.052c.026.027.05.056.069.087l.02.035.02.041.014.04c.005.015.009.03.012.046l.006.033.005.052v.04l-.005.052.005-.072c0 .036-.004.071-.011.105l-.012.046-.015.04c-.005.014-.012.027-.019.04-.006.013-.013.025-.02.036l-.025.035c-.01.014-.02.027-.033.04l-.011.012-3 3c-.196.195-.512.195-.708 0-.195-.196-.195-.512 0-.708L16.792 13H7c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h9.792l-2.146-2.146c-.195-.196-.195-.512 0-.708.196-.195.512-.195.708 0z"}))}},95341:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,ariaLabel:t}=e;return a.createElement("svg",{className:r,"aria-label":t,version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 160 160",width:"24px",height:"24px"},a.createElement("path",{d:"M11,72.1h115.5L81.9,27.5c-3.1-3.1-3.1-8.1,0-11.2c3.1-3.1,8.1-3.1,11.2,0L157,80l-63.8,63.8c-1.6,1.6-3.6,2.3-5.6,2.3\n      s-4.1-0.8-5.6-2.3c-3.1-3.1-3.1-8.1,0-11.2l44.6-44.6H11C6.6,87.9,3,84.4,3,80S6.6,72.1,11,72.1z"}))}},83823:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(98318),n=t(29901);const i=e=>{var{className:r,fill:t}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,viewBox:"0 0 20 20",width:"20",height:"20"},n.createElement("path",{fill:t||a.dp_brand_secondary_duller,fillRule:"evenodd",d:"M18.8 4.8h-.4v-2c0-.66-.4829911-1.44160714-1.0732143-1.73660714C17.3267857 1.06339286 15.2 0 10 0S2.67339286 1.06339286 2.67339286 1.06339286C2.08299106 1.35839286 1.6 2.14 1.6 2.8v2h-.4C.54 4.8 0 5.34 0 6v1.2c0 .66.54 1.2 1.2 1.2h.4v8.2c0 .5198214.3354018.9636161.8 1.1294196V18.4c0 .88.72 1.6 1.6 1.6.88 0 1.6-.72 1.6-1.6v-.6h8.8v.6c0 .88.72 1.6 1.6 1.6.88 0 1.6-.72 1.6-1.6v-.6705804c.4645982-.1658035.8-.6098214.8-1.1294196V8.4h.4c.66 0 1.2-.54 1.2-1.2V6c0-.66-.54-1.2-1.2-1.2zM6.36363636 2.27272727c0-.25.1840909-.45454545.4090909-.45454545h7.36363634c.225 0 .4090909.20454545.4090909.45454545v.9090909c0 .25-.1840909.45454547-.4090909.45454547H6.77272727c-.225 0-.4090909-.20454546-.4090909-.45454546v-.9090909zM4.54545456 16.3636364c-.50219157 0-.90909092-.4072646-.90909092-.9090909 0-.5018263.40689935-.909091.9090909-.909091.50198864 0 .9090909.4072647.9090909.909091 0 .5018263-.40710226.9090909-.9090909.9090909zm10.90909094 0c-.5021916 0-.909091-.4072646-.909091-.9090909 0-.5018263.4068994-.909091.909091-.909091.5021915 0 .9090909.4072647.9090909.909091 0 .5018263-.4068994.9090909-.9090909.9090909zm.9090909-4.949495c0 .2222222-.1684492.4040404-.3743316.4040404H4.0106952c-.20588237 0-.37433156-.1818182-.37433156-.4040404V4.94949495c0-.22222222.1684492-.4040404.37433155-.4040404h11.9786096c.2058824 0 .3743316.18181818.3743316.4040404v6.46464645z"}))}},95067:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(98318),n=t(29901);const i=e=>{var{className:r,fill:t,height:i="24",width:o="24"}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,viewBox:"0 0 24 24",width:o,height:i,"data-test":"IconBusType3"},n.createElement("path",{fill:t||a.dp_brand_secondary_duller,fillRule:"nonzero",d:"M18.86 3.505a.75.75 0 0 1 .64.742V6H21a.75.75 0 0 1 .75.75v1.5a.75.75 0 1 1-1.5 0V7.5h-.75v9.25c0 .74-.285 1.413-.75 1.909v1.592a.75.75 0 1 1-1.5 0l.001-.785c-.14.023-.283.035-.43.035H7.179c-.146 0-.289-.012-.428-.035v.785a.75.75 0 1 1-1.5 0v-1.591a2.783 2.783 0 0 1-.75-1.91V7.5h-.75v.75a.75.75 0 1 1-1.5 0v-1.5A.75.75 0 0 1 3 6h1.5V4.247a.75.75 0 0 1 .64-.742c4.55-.673 9.17-.673 13.72 0zm-.861 9.994h-12L6 16.749C6 17.447 6.534 18 7.178 18h9.644c.644 0 1.178-.554 1.178-1.25l-.001-3.251zM8.25 14.906a.844.844 0 1 1 0 1.688.844.844 0 0 1 0-1.688zm7.5 0a.844.844 0 1 1 0 1.688.844.844 0 0 1 0-1.688zM6 4.9V6.75l-.001.014v5.235h12l.001-7.1a45.31 45.31 0 0 0-12 0zm8.25 1.1a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 1 1 0-1.5h4.5z"}))}},41966:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{width:r,height:t,className:n,ariaHidden:i=!1}=e;return a.createElement("svg",{className:n,viewBox:"0 0 8 5",width:r||"16px",height:t||"10px",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":i},a.createElement("polyline",{points:"1 1 3.77984472 4 6.53846154 1"}))}},8415:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{width:r="24",height:t="24",className:n,ariaHidden:i=!1}=e;return a.createElement("svg",{width:r,height:t,viewBox:"0 0 24 24",fill:"none","aria-hidden":i,className:n,xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M10.4142 12L13.7071 15.2929C14.0976 15.6834 14.0976 16.3166 13.7071 16.7071C13.3166 17.0976 12.6834 17.0976 12.2929 16.7071L8.29289 12.7071C7.90237 12.3166 7.90237 11.6834 8.29289 11.2929L12.2929 7.29289C12.6834 6.90237 13.3166 6.90237 13.7071 7.29289C14.0976 7.68342 14.0976 8.31658 13.7071 8.70711L10.4142 12Z",fill:"#192325"}))}},40423:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{className:r,width:"24",height:"25",viewBox:"0 0 24 25","data-test":"icon-chevron-small"},a.createElement("path",{d:"M12.586 12L9.293 8.707a1 1 0 1 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 1 1-1.414-1.414L12.586 12z"}))}},78113:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(98318),n=t(29901);const i=e=>{var{className:r,fill:t=a.dp_brand_neutral_dullest}=e;return n.createElement("svg",{width:"32px",height:"32px",viewBox:"0 0 32 32",className:r,"aria-label":"cross icon"},n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M16,17.4142136 L8.70710678,24.7071068 C8.31658249,25.0976311 7.68341751,25.0976311 7.29289322,24.7071068 C6.90236893,24.3165825 6.90236893,23.6834175 7.29289322,23.2928932 L14.5857864,16 L7.29289322,8.70710678 C6.90236893,8.31658249 6.90236893,7.68341751 7.29289322,7.29289322 C7.68341751,6.90236893 8.31658249,6.90236893 8.70710678,7.29289322 L16,14.5857864 L23.2928932,7.29289322 C23.6834175,6.90236893 24.3165825,6.90236893 24.7071068,7.29289322 C25.0976311,7.68341751 25.0976311,8.31658249 24.7071068,8.70710678 L17.4142136,16 L24.7071068,23.2928932 C25.0976311,23.6834175 25.0976311,24.3165825 24.7071068,24.7071068 C24.3165825,25.0976311 23.6834175,25.0976311 23.2928932,24.7071068 L16,17.4142136 Z",fill:t,fillRule:"nonzero"})))}},833:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:r,viewBox:"0 0 24 24",width:"24px",height:"24px"},a.createElement("path",{fill:"currentColor",d:"M12.1923882,9.36396103 L7.23638633,4.4079592 C6.45752161,3.62909448 5.19526215,3.63316498 4.41421356,4.41421356 C3.62771965,5.20070747 3.63036481,6.45879193 4.4079592,7.23638633 L9.36396103,12.1923882 L4.4079592,17.14839 C3.62909448,17.9272547 3.63316498,19.1895142 4.41421356,19.9705627 C5.20070747,20.7570567 6.45879193,20.7544115 7.23638633,19.9768171 L12.1923882,15.0208153 L17.14839,19.9768171 C17.9272547,20.7556818 19.1895142,20.7516113 19.9705627,19.9705627 C20.7570567,19.1840688 20.7544115,17.9259844 19.9768171,17.14839 L15.0208153,12.1923882 L19.9768171,7.23638633 C20.7556818,6.45752161 20.7516113,5.19526215 19.9705627,4.41421356 C19.1840688,3.62771965 17.9259844,3.63036481 17.14839,4.4079592 L12.1923882,9.36396103 Z"}))}},3957:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{className:r,width:"32px",height:"56px",viewBox:"0 0 32 56",version:"1.1"},a.createElement("title",null,"Group 6"),a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(-500.000000, -167.000000)"},a.createElement("g",{id:"Group-3",transform:"translate(500.000000, 167.000000)"},a.createElement("g",{id:"Group-2"},a.createElement("g",{id:"Group-6"},a.createElement("path",{d:"M0,49 C0,53.375 2.66666667,56 7.11111111,56 L24.8888889,56 C29.3333333,56 32,53.375 32,49 L32,7 C32,2.625 29.3333333,0 24.8888889,0 L7.11111111,0 C2.66666667,0 0,2.625 0,7 L0,49 Z",id:"Fill-1",fill:"#192325"}),a.createElement("path",{d:"M2,7.2 C2,3.95 3.96875,2 7.25,2 L24.75,2 C28.03125,2 30,3.95 30,7.2 L30,48.8 C30,52.05 28.03125,54 24.75,54 L7.25,54 C3.96875,54 2,52.05 2,48.8 L2,7.2 Z",id:"Fill-3",fill:"#00A88F"}),a.createElement("path",{d:"M14.25,41.75 L17.75,41.75 L17.75,38.25 L14.25,38.25 L14.25,41.75 Z M12.5,43.5 L19.5,43.5 L19.5,36.5 L12.5,36.5 L12.5,43.5 Z M21.25,36.5 L21.25,38.25 L23,38.25 L23,40 L21.25,40 L21.25,41.75 L23,41.75 L23,43.5 L21.25,43.5 L21.25,45.25 L19.5,45.25 L19.5,47 L17.75,47 L17.75,45.25 L16,45.25 L16,47 L14.25,47 L14.25,45.25 L12.5,45.25 L12.5,47 L10.75,47 L10.75,45.25 L9,45.25 L9,43.5 L10.75,43.5 L10.75,41.75 L9,41.75 L9,40 L10.75,40 L10.75,38.25 L9,38.25 L9,36.5 L10.75,36.5 L10.75,34.75 L12.5,34.75 L12.5,33 L14.25,33 L14.25,34.75 L16,34.75 L16,33 L17.75,33 L17.75,34.75 L19.5,34.75 L19.5,33 L21.25,33 L21.25,34.75 L23,34.75 L23,36.5 L21.25,36.5 Z M21.25,47 L23,47 L23,45.25 L21.25,45.25 L21.25,47 Z M9,34.75 L10.75,34.75 L10.75,33 L9,33 L9,34.75 Z",id:"Fill-5",fill:"#FFFFFF"}),a.createElement("path",{d:"M17.75,19.3636364 C21.03125,19.3636364 23,21.3068182 23,24.5454545 L23,24.5454545 L23,28 L9,28 L9,24.5454545 C9,21.3068182 10.96875,19.3636364 14.25,19.3636364 L14.25,19.3636364 Z M16,9 C18.41675,9 20.375,10.9336818 20.375,13.3181818 C20.375,15.7026818 18.41675,17.6363636 16,17.6363636 C13.58325,17.6363636 11.625,15.7026818 11.625,13.3181818 C11.625,10.9336818 13.58325,9 16,9 Z",id:"Combined-Shape",fill:"#002C25"})))))))}},47229:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:r},a.createElement("path",{d:"M23.5,17L15,2.8C14.4,1.6,13.2,1,12,1S9.6,1.6,9,2.7L0.5,17c-0.7,1.1-0.7,2.4,0,3.5c0.6,1.1,1.8,1.8,3.1,1.8 h16.9c1.3,0,2.5-0.7,3.1-1.8C24.2,19.4,24.2,18.1,23.5,17L23.5,17z",fill:"#FFC508"}),a.createElement("path",{d:"M13.1,17.5c0,0.7-0.5,1.2-1.2,1.2c-0.7,0-1.2-0.5-1.2-1.2v-0.4c0-0.7,0.5-1.2,1.2-1.2c0.7,0,1.2,0.5,1.2,1.2V17.5z",fill:"#192325"}),a.createElement("path",{d:"M13.1,14.1c0,0.7-0.5,1.2-1.2,1.2c-0.7,0-1.2-0.5-1.2-1.2V7.8c0-0.7,0.5-1.2,1.2-1.2c0.7,0,1.2,0.6,1.2,1.2 C13.1,7.8,13.1,14.1,13.1,14.1z",fill:"#192325"}))}},7374:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(98318),n=t(29901);const i=e=>{var{className:r,fill:t}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,width:"24",height:"24",viewBox:"0 0 24 24"},n.createElement("path",{fill:t||a.dp_brand_secondary_duller,fillRule:"nonzero",d:"M6.335 18.83c.132.065.234.162.304.277.459.651 1.26 1.083 2.166 1.137L9 20.25c.978 0 1.859-.44 2.351-1.13.186-.31.586-.49.984-.29.132.065.234.162.304.277.459.651 1.26 1.083 2.166 1.137l.195.006c.978 0 1.859-.44 2.351-1.13.186-.31.586-.49.984-.29.132.065.234.162.304.277.491.698 1.377 1.143 2.361 1.143.414 0 .75.336.75.75s-.336.75-.75.75c-1.144 0-2.215-.412-3-1.119-.779.702-1.842 1.114-2.978 1.119H15c-1.144 0-2.215-.412-3-1.119-.728.656-1.704 1.059-2.756 1.113L9 21.75c-1.144 0-2.215-.412-3-1.119-.784.707-1.855 1.119-3 1.119-.414 0-.75-.336-.75-.75s.336-.75.75-.75c.978 0 1.859-.44 2.351-1.13.186-.31.586-.49.984-.29zM17.25 4.5c.414 0 .75.336.75.75V10l-.002.031 1.05.456c.485.21.607.841.235 1.216l-.165.167c-1.608 1.626-2.511 3.83-2.511 6.13 0 .414-.336.75-.75.75s-.75-.336-.75-.75c0-2.409.846-4.73 2.374-6.558L12 9.067l-5.482 2.376C8.046 13.27 8.893 15.59 8.893 18c0 .414-.336.75-.75.75s-.75-.336-.75-.75c0-2.3-.903-4.504-2.512-6.131l-.165-.167c-.37-.376-.248-1.006.236-1.215l1.049-.455L6 10V5.25c0-.414.336-.75.75-.75h10.5zM16.5 6h-9v3.382l4.202-1.82c.19-.083.406-.083.597 0l4.201 1.82V6zm-3-3.75c.414 0 .75.336.75.75s-.336.75-.75.75h-3c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h3z"}))}},59895:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{className:r,viewBox:"0 0 160 160",width:"16px",height:"16px",stroke:"currentColor",fill:"currentColor"},a.createElement("g",null,a.createElement("path",{d:"M80,155.7c-41.7,0-75.7-33.9-75.7-75.7S38.3,4.3,80,4.3s75.7,33.9,75.7,75.7S121.7,155.7,80,155.7z M80,21.1c-32.5,0-58.9,26.4-58.9,58.9c0,32.5,26.4,58.9,58.9,58.9c32.5,0,58.9-26.4,58.9-58.9C138.9,47.5,112.5,21.1,80,21.1z"}),a.createElement("path",{d:"M80,44.2c4.5,0,8,3.6,8,8.1c0,4.3-3.5,7.9-8,7.9c-4.4,0-8-3.6-8-7.9C72,47.8,75.6,44.2,80,44.2z M73.6,115.8V68h12.9v47.8H73.6z"})))}},388:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t="#1A5A92"}=e;return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:r,stroke:"none",fill:t,fillRule:"evenodd"},a.createElement("g",{transform:"translate(3.000000, 5.000000)"},a.createElement("path",{d:"M18.2523364,5.24137931 L17.8411215,5.24137931 C17.0186916,1.10344828 13.317757,-2 9,-2 C4.68224299,-2 0.981308411,1.10344828 0.158878505,5.24137931 L-0.252336449,5.24137931 C-1.17757009,5.24137931 -2,6.06896552 -2,7 C-2,7.93103448 -1.17757009,8.75862069 -0.252336449,8.75862069 L0.158878505,8.75862069 C0.981308411,12.8965517 4.68224299,16 9,16 C13.317757,16 17.0186916,12.8965517 17.8411215,8.75862069 L18.2523364,8.75862069 C19.1775701,8.75862069 20,7.93103448 20,7 C20,6.06896552 19.1775701,5.24137931 18.2523364,5.24137931 Z M9,1.51724138 C11.4672897,1.51724138 13.4205607,3.06896552 14.2429907,5.24137931 L3.75700935,5.24137931 C4.57943925,3.06896552 6.53271028,1.51724138 9,1.51724138 Z M9,12.4827586 C6.53271028,12.4827586 4.57943925,10.9310345 3.75700935,8.75862069 L14.2429907,8.75862069 C13.4205607,10.9310345 11.4672897,12.4827586 9,12.4827586 Z"})))}},22389:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t="#000000"}=e;return a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",className:r,"data-test":"icon-magnifying-glass"},a.createElement("path",{fill:t,d:"M15.9772,8.9889 C15.9772,5.12895528 12.8486858,1.9999 8.9892,1.9999 C5.12925532,1.9999 1.9992,5.12941416 1.9992,8.9889 C1.9992,12.8483858 5.12925532,15.9779 8.9892,15.9779 C12.8486858,15.9779 15.9772,12.8488447 15.9772,8.9889 Z M16.0127748,14.5984612 L21.6791068,20.2647932 C22.0696311,20.6553175 22.0696311,21.2884825 21.6791068,21.6790068 C21.2885825,22.0695311 20.6554175,22.0695311 20.2648932,21.6790068 L14.5986989,16.0128125 C13.061215,17.2425666 11.1111061,17.9779 8.9892,17.9779 C4.02476322,17.9779 -0.0008,13.9530328 -0.0008,8.9889 C-0.0008,4.02476724 4.02476322,-0.0001 8.9892,-0.0001 C13.9533327,-0.0001 17.9772,4.02446319 17.9772,8.9889 C17.9772,11.1107256 17.2421395,13.0608597 16.0127748,14.5984612 Z"}))}},87374:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,title:t}=e;return a.createElement("svg",{viewBox:"0 0 10 10",width:"10px",height:"10px",className:r},a.createElement("title",null,t),a.createElement("g",{stroke:"none",fill:"currentColor"},a.createElement("path",{d:"M4,1v3H1C0.4,4,0,4.4,0,5s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1V6h3c0.6,0,1-0.4,1-1S9.6,4,9,4H6V1c0-0.6-0.4-1-1-1 S4,0.4,4,1"})))}},78954:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:r},a.createElement("path",{fillRule:"nonzero",d:"M5.5 13a.5.5 0 1 1 0-1h14a.5.5 0 1 1 0 1h-14zm7-8a.5.5 0 0 1 .5.5v14a.5.5 0 1 1-1 0v-14a.5.5 0 0 1 .5-.5z"}))}},28856:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{styles:r}=e;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r&&r.width,height:r&&r.height,viewBox:r&&r.viewBox},a.createElement("path",{fill:r&&r.fill,d:"M18.333 10.833v7.5h-7.5v-7.5h7.5zm-12.5 3.334v4.166H1.667v-4.166h4.166zm3.334 1.666v2.5H7.5v-2.5h1.667zm8.333-4.166h-5.833V17.5H17.5v-5.833zM5 15H2.5v2.5H5V15zm10.833-1.667v2.5h-2.5v-2.5h2.5zm-6.666-2.5v3.334H5.833v-3.334h3.334zm-5 0V12.5h-2.5v-1.667h2.5zm5-9.166v7.5h-7.5v-7.5h7.5zm9.166 0v7.5h-7.5v-7.5h7.5zm-10 .833H2.5v5.833h5.833V2.5zm9.167 0h-5.833v5.833H17.5V2.5zM6.667 4.167v2.5h-2.5v-2.5h2.5zm9.166 0v2.5h-2.5v-2.5h2.5z"}))}},39555:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"-1 -1 18 18",fill:"currentColor"},a.createElement("path",{d:"M8 0c4.419 0 8 3.581 8 8 0 4.419-3.581 8-8 8-4.419 0-8-3.581-8-8 0-4.419 3.581-8 8-8zm0 .842C4.046.842.842 4.046.842 8S4.046 15.158 8 15.158 15.158 11.954 15.158 8 11.954.842 8 .842zm-.048 10.232c.468 0 .858.39.858.858 0 .468-.39.845-.858.845-.468 0-.845-.377-.845-.845 0-.468.377-.858.845-.858zM8.173 3.3c1.82 0 2.847 1.287 2.847 2.613 0 1.04-.572 1.755-1.326 2.262l-.598.403c-.403.273-.572.741-.572 1.248 0 .065 0 .117.013.247H7.393c-.013-.156-.013-.286-.013-.455 0-.858.312-1.508 1.079-2.028l.572-.39c.442-.299.689-.767.689-1.274 0-.767-.507-1.482-1.547-1.482-1.131 0-1.625.845-1.625 1.664 0 .221.039.494.091.637l-1.261-.156c-.052-.182-.078-.39-.078-.624 0-1.196.871-2.665 2.873-2.665z"}))}},49481:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{className:r,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 25C2 25.5523 2.44772 26 3 26H29C29.5523 26 30 25.5523 30 25V7C30 6.44772 29.5523 6 29 6H3C2.44772 6 2 6.44772 2 7V25ZM4 24V8H28V24H4ZM7 22C6.44772 22 6 21.5523 6 21V13C6 12.4477 6.44772 12 7 12H15C15.5523 12 16 12.4477 16 13V21C16 21.5523 15.5523 22 15 22H7ZM14 20H8V14H14V20ZM19 22C18.4477 22 18 21.5523 18 21C18 20.4477 18.4477 20 19 20H25C25.5523 20 26 20.4477 26 21C26 21.5523 25.5523 22 25 22H19ZM18 17C18 17.5523 18.4477 18 19 18H22C22.5523 18 23 17.5523 23 17C23 16.4477 22.5523 16 22 16H19C18.4477 16 18 16.4477 18 17Z",fill:"#192325"}))}},39086:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.createElement("path",{fill:"#8C9DA1",d:"M16,10.5 C16,7.46314237 13.5368576,5 10.5,5 C7.46314237,5 5,7.46314237 5,10.5 C5,13.5368576 7.46314237,16 10.5,16 C13.5368576,16 16,13.5368576 16,10.5 Z M15.4359517,14.7288449 L19.8537534,19.1466466 C20.0490155,19.3419088 20.0490155,19.6584912 19.8537534,19.8537534 C19.6584912,20.0490155 19.3419088,20.0490155 19.1466466,19.8537534 L14.7288449,15.4359517 C13.5920124,16.4108955 12.1146424,17 10.5,17 C6.91085763,17 4,14.0891424 4,10.5 C4,6.91085763 6.91085763,4 10.5,4 C14.0891424,4 17,6.91085763 17,10.5 C17,12.1146424 16.4108955,13.5920124 15.4359517,14.7288449 Z"}))}},4627:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t="#13181A"}=e;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,width:"100%",viewBox:"0 0 12 7"},a.createElement("path",{fill:t,fillRule:"nonzero",d:"M10.293 3L8.146.854a.5.5 0 0 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 4H.5a.5.5 0 1 1 0-1h9.793z"}))}},7017:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t,width:n,height:i,viewBox:o}=e;return a.createElement("svg",{width:n||"24",className:r,height:i||"24",viewBox:o||"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:t||"#EA581F"}),a.createElement("path",{d:"M18.2002 9.3999H9.9502C8.9502 9.3999 8.2002 8.5999 8.2002 7.6499C8.2002 6.6499 9.0002 5.8999 9.9502 5.8999H18.2002C19.2002 5.8999 19.9502 6.6999 19.9502 7.6499C19.9502 8.5999 19.1502 9.3999 18.2002 9.3999Z",fill:"white"}),a.createElement("path",{d:"M14.0498 17.6499H5.7998C4.7998 17.6499 4.0498 16.8499 4.0498 15.8999C4.0498 14.8999 4.8498 14.1499 5.7998 14.1499H14.0498C15.0498 14.1499 15.7998 14.9499 15.7998 15.8999C15.8498 16.8999 15.0498 17.6499 14.0498 17.6499Z",fill:"white"}),a.createElement("path",{d:"M18.0498 13.5503H5.7998C4.7998 13.5503 4.0498 12.7503 4.0498 11.8003C4.0498 10.8003 4.8498 10.0503 5.7998 10.0503H18.0498C19.0498 10.0503 19.7998 10.8503 19.7998 11.8003C19.8498 12.7503 19.0498 13.5503 18.0498 13.5503Z",fill:"white"}))}},65250:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,width:t="24",height:n="24"}=e;return a.createElement("svg",{width:t,height:n,className:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},a.createElement("title",null,"SplitSave"),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 14C22 17.869 19.869 20 16 20H10L14 8H22V14ZM8 6C3 6 0 9 0 14V22H16C21 22 24 19 24 14V6H8Z",fill:"#004FF9"}))}},66985:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n=t(98318);const i=e=>{var{className:r,width:t="24",height:i="24",fill:o=n.dp_app_text_base}=e;return a.createElement("svg",{width:t,height:i,className:r,viewBox:"0 0 24 24",fill:o,xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.5 18.75C22.425 19.2 22.125 19.5 21.675 19.5H2.325C1.875 19.5 1.5 19.125 1.5 18.675V14.325C1.5 13.875 1.875 13.5 2.325 13.5C2.625 13.5 3 13.425 3.3 13.2C3.525 12.975 3.75 12.6 3.75 12C3.75 11.4 3.525 11.025 3.225 10.8C2.925 10.575 2.55 10.5 2.325 10.5C1.875 10.5 1.5 10.125 1.5 9.675V5.325C1.5 4.875 1.875 4.5 2.325 4.5H21.675C22.125 4.5 22.5 4.875 22.5 5.325V8.925C22.5 9.375 22.125 9.75 21.675 9.75C21.3 9.75 20.7 9.9 20.25 10.275C19.875 10.575 19.5 11.1 19.5 12C19.5 12.9 19.875 13.425 20.25 13.725C20.7 14.1 21.225 14.175 21.675 14.25C22.125 14.25 22.5 14.625 22.5 15.075V18.75ZM3 6H15L6 18H3V14.925C3.375 14.85 3.75 14.7 4.125 14.4C4.8 13.875 5.25 13.125 5.25 12C5.25 10.875 4.8 10.125 4.125 9.6C3.75 9.3 3.375 9.15 3 9.075V6Z",fill:o}))}},52490:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n=t(98318);const i=e=>{var{className:r,width:t="32",height:i="32",fill:o=n.dp_app_text_base}=e;return a.createElement("svg",{width:t,height:i,className:r,fill:o,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M30 25C29.9 25.6 29.5 26 28.9 26H3.1C2.5 26 2 25.5 2 24.9V19.1C2 18.5 2.5 18 3.1 18C3.5 18 4 17.9 4.4 17.6C4.7 17.3 5 16.8 5 16C5 15.2 4.7 14.7 4.3 14.4C3.9 14.1 3.4 14 3.1 14C2.5 14 2 13.5 2 12.9V7.1C2 6.5 2.5 6 3.1 6H28.9C29.5 6 30 6.5 30 7.1V11.9C30 12.5 29.5 13 28.9 13C28.4 13 27.6 13.2 27 13.7C26.5 14.1 26 14.8 26 16C26 17.2 26.5 17.9 27 18.3C27.6 18.8 28.3 18.9 28.9 19C29.5 19 30 19.5 30 20.1V25ZM4 8H20L8 24H4V19.9C4.5 19.8 5 19.6 5.5 19.2C6.4 18.5 7 17.5 7 16C7 14.5 6.4 13.5 5.5 12.8C5 12.4 4.5 12.2 4 12.1V8Z",fill:o}))}},43763:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t,height:n="24",width:i="24"}=e;return a.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:i,height:n,viewBox:"0 0 32 32","data-test":"IconTrainType3"},a.createElement("path",{fill:t,fillRule:"evenodd",d:"M21.23 3c1.537 0 2.926.92 3.53 2.338l.296.692A24.318 24.318 0 0 1 26.074 22.2a3.845 3.845 0 0 1-3.46 2.792l1.28 2.56a1 1 0 0 1-1.788.894L20.382 25h-8.765l-1.723 3.447a1 1 0 0 1-1.788-.894l1.28-2.56a3.843 3.843 0 0 1-3.46-2.792A24.306 24.306 0 0 1 6.945 6.028l.294-.69A3.84 3.84 0 0 1 10.77 3h10.46zm2.311 4.62l-.04.196c-.98 4.723-3.904 8.184-7.5 8.184-3.648 0-6.602-3.557-7.542-8.38a22.305 22.305 0 0 0-.609 14.035A1.842 1.842 0 0 0 9.62 23H22.38c.82 0 1.542-.548 1.77-1.346a22.319 22.319 0 0 0-.61-14.034zM11.5 18.375a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm9 0a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zM21.23 5H10.77c-.21 0-.413.036-.605.103l-.007-.144C10.368 10.097 13.023 14 16 14c2.948 0 5.583-3.83 5.835-8.895A1.808 1.808 0 0 0 21.23 5z"}))}},7127:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(64321),n=t(23198),i=t(29901);const o=e=>{var{className:r,fill:t}=e,o={stroke:"currentColor",fill:"currentColor"},s={stroke:"none",fill:"currentColor"};return t?(s=(0,n.Z)((0,n.Z)({},s),{},{fill:t}),o=(0,n.Z)((0,n.Z)({},o),{},{stroke:"none"})):(s=(0,n.Z)({},s),o=(0,n.Z)((0,n.Z)({},o),{},{fill:"none",strokeWidth:1.5})),i.createElement("svg",{viewBox:"-1 -1 24 24",width:"24px",height:"24px",className:r,stroke:"currentColor",fill:"currentColor",fillRule:"evenodd"},i.createElement("g",null,i.createElement("circle",(0,a.Z)({},o,{cx:"11",cy:"11",r:"11"})),i.createElement("path",(0,a.Z)({},s,{d:"M11,12.5 C10.25,12.5 9.5,12.0102041 9.5,11.3571429 L9.5,5.80612245 C9.5,5.15306122 10.0625,4.5 11,4.5 C11.9375,4.5 12.5,4.98979592 12.5,5.80612245 L12.5,11.1938776 C12.5,12.0102041 11.75,12.5 11,12.5 L11,12.5 Z"})),i.createElement("circle",(0,a.Z)({},s,{cx:"11",cy:"15.5",r:"1.5"}))))}},71839:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r,fill:t}=e;return a.createElement("svg",{viewBox:"0 0 32 32",width:"32px",height:"32px",className:r,fill:"none"},a.createElement("path",{d:"M18.5 9C20.4333 9 22 7.43328 22 5.5C22 3.56672 20.4333 2 18.5 2C16.5667 2 15 3.56672 15 5.5C15 7.43328 16.5667 9 18.5 9ZM18.5 4C19.3287 4 20 4.67128 20 5.5C20 6.32872 19.3287 7 18.5 7C17.6713 7 17 6.32872 17 5.5C17 4.67128 17.6713 4 18.5 4Z",fill:t||"#192325"}),a.createElement("path",{d:"M25 21H22.9836C22.9945 21.1653 23 21.332 23 21.5C23 25.6421 19.6421 29 15.5 29C11.3579 29 8.00001 25.6421 8.00001 21.5C8.00001 17.8045 10.6728 14.7332 14.1908 14.1139L14.7873 11.7276L8.69582 10.2047L6.96154 16.2747C6.80981 16.8058 6.25633 17.1132 5.72529 16.9615C5.19426 16.8098 4.88677 16.2563 5.03849 15.7253L7.03849 8.72528C7.18665 8.20671 7.71934 7.89905 8.24255 8.02986L16.2425 10.0299C16.7783 10.1638 17.1041 10.7067 16.9702 11.2425L16.271 14.0391C19.1974 14.338 21.6257 16.3192 22.5732 19H26C26.5523 19 27 19.4477 27 20V26C27 26.5523 26.5523 27 26 27C25.4477 27 25 26.5523 25 26V21ZM21 21.5C21 18.4624 18.5376 16 15.5 16C12.4624 16 10 18.4624 10 21.5C10 24.5376 12.4624 27 15.5 27C18.5376 27 21 24.5376 21 21.5Z",fill:t||"#192325"}))}},81867:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(29901),n=t(18845),i=t(98184);const o=e=>{var{className:r,isLogoWhite:t=!1,staticContent:o,useNewLogoPathEnabled:s=!1,ariaLabel:l="Logo"}=e;try{var c=o?"".concat(o,t?"/logo-light.svg":s?"/logo-dark-new.svg":"/logo-dark.svg"):null;return c?a.createElement(n.Z,{className:r,cacheRequests:!1,src:c,role:"img","aria-label":l,onError:e=>console.log("SVG ERROR",e)},a.createElement(i.FormattedMessage,{id:"tooltip.header.HeaderLogoIcon"},(e=>a.createElement("title",{id:"LogoIcon-title"},e)))):null}catch(e){return null}}},18434:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n=t(59999);const i=e=>{var{className:r}=e;return a.createElement("img",{className:r,src:"".concat(n.kK,"/checkout/pay-pal-no-logo.svg"),alt:"",role:"presentation"})}},7489:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{width:"22",height:"18",className:r,viewBox:"0 0 22 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M14.5 3C14.7761 3 15 3.22386 15 3.5C15 3.74546 14.8231 3.94961 14.5899 3.99194L14.5 4H9.5C9.22386 4 9 3.77614 9 3.5C9 3.25454 9.17688 3.05039 9.41012 3.00806L9.5 3H14.5Z",fill:"#192325"}),a.createElement("path",{d:"M9.74028 0.00416453L10 0H14C18.4183 0 22 3.58172 22 8C22 10.8039 20.5445 13.3504 18.2265 14.7938L18.001 14.928L18 17C18 17.5128 17.614 17.9355 17.1166 17.9933L17 18H15C14.4477 18 14 17.5523 14 16.9998V16H10V17C10 17.5128 9.61396 17.9355 9.11662 17.9933L9 18H7C6.44772 18 6 17.5523 6 16.9999V15.5L5.8398 15.4323C4.38848 14.7806 3.22011 13.6125 2.56813 12.1613L2.5 12H1C0.487164 12 0.0644928 11.614 0.00672773 11.1166L0 11V7C0 6.44772 0.447715 6 1.00012 6H2.253L2.27775 5.9027C2.47524 5.17274 2.77216 4.48693 3.15227 3.85937L2.14645 2.85355C1.95118 2.65829 1.95118 2.34171 2.14645 2.14645C2.32001 1.97288 2.58944 1.9536 2.78431 2.08859L2.85355 2.14645L3.7328 3.02569C5.1574 1.2343 7.3277 0.0816199 9.74028 0.00416453ZM3.88362 4.59072C3.53983 5.20658 3.28569 5.88171 3.13996 6.59984L3.05865 7.00051L1 7V11L3.19524 11.0008L3.31305 11.334C3.86543 12.8962 5.1046 14.1352 6.66692 14.6873L7.00038 14.8051L7 17H9V15H14C14.1566 15 14.3126 14.9949 14.4677 14.9846L15.0008 14.9495L15 17H17L17.0012 14.3331L17.2673 14.1924C19.5449 12.988 21 10.623 21 8C21 4.13401 17.866 1 14 1H10C7.75774 1 5.73363 2.06236 4.44517 3.73806L5.85355 5.14645C6.04882 5.34171 6.04882 5.65829 5.85355 5.85355C5.67999 6.02712 5.41056 6.0464 5.21569 5.91141L5.14645 5.85355L3.88362 4.59072Z",fill:"#192325"}))}},61666:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var{className:r}=e;return a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",className:r,stroke:"currentColor",fill:"currentColor"},a.createElement("path",{stroke:"none",d:"M23.475 17.006L14.993 2.755C14.38 1.638 13.238 1 11.988 1s-2.393.638-3.03 1.728L.501 17.006a3.444 3.444 0 0 0-.027 3.537 3.552 3.552 0 0 0 3.085 1.781h16.884a3.498 3.498 0 0 0 3.084-1.781 3.386 3.386 0 0 0-.053-3.537zm-10.343.506c0 .664-.506 1.17-1.17 1.17-.665 0-1.17-.506-1.17-1.17v-.4c0-.664.505-1.17 1.17-1.17.664 0 1.196.506 1.17 1.17v.4zm0-3.404c0 .665-.506 1.17-1.17 1.17-.665 0-1.17-.505-1.17-1.17V7.807c0-.665.505-1.17 1.17-1.17.664 0 1.196.558 1.17 1.196v6.275z"}))}},91557:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var a=function(e){return e.TOP="TOP",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.CENTER="CENTER",e}({})},88466:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i,a:()=>n});var a=t(50093),n={position:"absolute",left:"-10000px",top:"auto",width:1,height:1,overflow:"hidden"};const i=a.StyleSheet.create({hidden:n})},78809:(e,r,t)=>{"use strict";t.r(r),t.d(r,{bounceIn:()=>n,fadeIn:()=>s,fadeOut:()=>l,pendingAnimationKeyFrames:()=>i,progressWidthKeyframes:()=>o,spin:()=>a});var a={animationName:{to:{transform:"rotate(360deg)"}},animationDuration:"750ms",animationIterationCount:"infinite",animationTimingFunction:"linear"},n={defaultTiming:"350ms",keyframes:{"0%":{opacity:0,visibility:"hidden",transform:"scale(0.3) translate3d(0,0,0)"},"50%":{opacity:.9,transform:"scale(1.3)"},"80%":{opacity:1,transform:"scale(0.91)"},"100%":{opacity:1,visbility:"visible",transform:"scale(1) translate3d(0,0,0)"}}},i={"0%":{opacity:1},"50%":{opacity:.5},"100%":{opacity:1}},o={"0%":{transform:"translateX(-95%)"},"100%":{transform:"none"}},s={animationName:[{"0%":{opacity:0},"100%":{opacity:1}}],animationFillMode:"forwards",animationDuration:"300ms",animationTimingFunction:"ease-in"},l={animationName:[{"0%":{opacity:1},"100%":{opacity:0}}],animationFillMode:"forwards",animationDuration:"300ms",animationTimingFunction:"ease-out"}},60289:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>n,iR:()=>a});var a="(min-width: 992px)";const n={xxs:{max:"@media (max-width: 375px)",min:"@media (min-width: 376px)"},xsmall:{max:"@media (max-width: 720px)",min:"@media (min-width: 721px)"},small:{max:"@media (max-width: 767px)",min:"@media (min-width: 768px)"},medium:{max:"@media ".concat("(max-width: 991px)"),min:"@media ".concat(a)},large:{max:"@media (max-width: 1199px)",min:"@media (min-width: 1200px)"},grid:"@media (max-width: 790px)",mobile:{small:"@media (max-width: 360px)",medium:"@media (max-width: 465px)",upper:"@media (min-width: 481px)"},modal:"@media (max-width: 768px)",notification:"@media (max-width: 992px)",oops:{mobile:"@media (max-width: 414px)",small:"@media (max-width: 600px)",mini:"@media (max-width: 375px)"},tablet:{max:"@media (max-width: 768px)",strict:"@media (min-width: 768px) and (max-width: 992px)",wide:"@media (min-width: 768px) and (max-width: 1024px)"},refund:"@media (max-width: 560px)",seo:"@media (max-width: 1023px)"}},72903:(e,r,t)=>{"use strict";t.d(r,{A:()=>a,c:()=>n});var a={min:{s:375,m:768,l:992,xl:1200},max:{xs:374,s:767,m:991,l:1199}},n={min:{s:"@media (min-width: ".concat(a.min.s,"px)"),m:"@media (min-width: ".concat(a.min.m,"px)"),l:"@media (min-width: ".concat(a.min.l,"px)"),xl:"@media (min-width: ".concat(a.min.xl,"px)")},max:{xs:"@media (max-width: ".concat(a.max.xs,"px)"),s:"@media (max-width: ".concat(a.max.s,"px)"),m:"@media (max-width: ".concat(a.max.m,"px)"),l:"@media (max-width: ".concat(a.max.l,"px)")},minMax:{s:"@media (min-width: ".concat(a.min.s,"px) and (max-width: ").concat(a.max.s,"px)"),m:"@media (min-width: ".concat(a.min.m,"px) and (max-width: ").concat(a.max.m,"px)"),l:"@media (min-width: ".concat(a.min.l,"px) and (max-width: ").concat(a.max.l,"px)")}}},23394:(e,r,t)=>{"use strict";t.d(r,{E0:()=>i.E0,AV:()=>a.A,O9:()=>n,cy:()=>a.c,W0:()=>i.W0,TM:()=>i.TM,cp:()=>o.cp});var a=t(72903),n={palette:{grey_50:"#FAFCFC",grey_60:"#F8FAFA",yellow_70:"#FDF7C9",yellow_100:"#FFDC50",yellow_110:"#FFC508",blue_100:"#3877FF"}},i=t(8590),o=t(99366)},8590:(e,r,t)=>{"use strict";t.d(r,{E0:()=>c,TM:()=>s,W0:()=>l});var a=t(23198),n=t(22368),{spacers:i,baseline:o}=n.variables.spacing,s=Object.values(i).reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{["s".concat(r)]:r*o})),{}),l=Object.entries(s).reduce(((e,r)=>{var[t,n]=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:"".concat(n,"px")})}),{}),c={s:"2px",m:"4px",l:"8px",xl:"12px"}},90189:(e,r,t)=>{"use strict";t.d(r,{L:()=>a});var a=["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Helvetica","Arial","PingFang SC","Microsoft YaHei New","Microsoft Yahei","","STXihei","","sans-serif"]},99366:(e,r,t)=>{"use strict";t.d(r,{Q1:()=>l,cp:()=>c});var a=t(56429),n=t(89142),i=t(4385),o=t(90189),s=t(88825),l=e=>{if("string"!=typeof e&&"number"!=typeof e||"string"==typeof e&&("number"==typeof(r=e)||!r.match("px")))return console.error("attempting to unsupported value to rem"),e;var r,t="string"==typeof e?parseFloat(e.slice(0,-2)):e;return"".concat(parseFloat((t/n.X).toFixed(4)),"rem")};var c=function(e){return{hero:{fontFamily:e===a.h_.TRAINLINE?s.qC:o.L,fontWeight:700,fontSize:"48px",lineHeight:"56px",letterSpacing:"-0.3px"},title1:{fontFamily:e===a.h_.TRAINLINE?s.lK:o.L,fontWeight:700,fontSize:"32px",lineHeight:"40px",letterSpacing:"-0.3px"},title2:{fontFamily:e===a.h_.TRAINLINE?s.hY:o.L,fontWeight:700,fontSize:"24px",lineHeight:"32px",letterSpacing:"-0.3px"},title3:{fontFamily:e===a.h_.TRAINLINE?s.z:o.L,fontWeight:700,fontSize:"20px",lineHeight:"28px",letterSpacing:"-0.3px"},large:{fontSize:"18px",lineHeight:"24px"},body:{fontSize:"16px",lineHeight:"24px"},small:{fontSize:"14px",lineHeight:"20px"},mini:{fontSize:"12px",lineHeight:"16px"},micro:{fontSize:"10px",lineHeight:"12px"}}}((0,i._0)())},8888:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var a={};t.r(a),t.d(a,{tint:()=>s});var n=t(88466),i=t(78809),o=t(60289),s={black06:"rgba(0, 0, 0, 0.06)",dimGray50:"rgba(153, 160, 173, 0.5)",white70:"rgba(255, 255, 255, 0.7)"},l=t(83367),c=t(31872),d="cubic-bezier(0.075, 0.820, 0.165, 1.000)";const u=t(50093).StyleSheet.create({transform:{transition:"transform 0.5s ".concat(d),willChange:"transform"},visibilityVisible:{transition:"opacity 1s ".concat(d),willChange:"visibility, opacity",visibility:"visible",opacity:1},visibilityHidden:{willChange:"visibility, opacity",visibility:"hidden",opacity:0},borderColor:{transition:"border-color 1s ".concat(d)}});const p={animations:i,colors:a,sizes:l,typography:t(34214).Z,transitions:u,breakpoints:o.ZP,accessibility:n.Z,skeleton:c}},83367:(e,r,t)=>{"use strict";t.r(r),t.d(r,{contentWidth:()=>s,contentWidthValues:()=>n,spacers:()=>o,spacersValues:()=>a});var a={xxl:3.10625,xl:2.00025,l:1.49975,m:1.00012,s:.49962,xs:.2499,xxs:.12495,px420:26.25,px419:26.1875,px418:26.125,px417:26.0625,px416:26,px415:25.9375,px414:25.875,px413:25.8125,px412:25.75,px411:25.6875,px410:25.625,px409:25.5625,px408:25.5,px407:25.4375,px406:25.375,px405:25.3125,px404:25.25,px403:25.1875,px402:25.125,px401:25.0625,px400:25,px399:24.9375,px398:24.875,px397:24.8125,px396:24.75,px395:24.6875,px394:24.625,px393:24.5625,px392:24.5,px391:24.4375,px390:24.375,px389:24.3125,px388:24.25,px387:24.1875,px386:24.125,px385:24.0625,px384:24,px383:23.9375,px382:23.875,px381:23.8125,px380:23.75,px379:23.6875,px378:23.625,px377:23.5625,px376:23.5,px375:23.4375,px374:23.375,px373:23.3125,px372:23.25,px371:23.1875,px370:23.125,px369:23.0625,px368:23,px367:22.9375,px366:22.875,px365:22.8125,px364:22.75,px363:22.6875,px362:22.625,px361:22.5625,px360:22.5,px359:22.4375,px358:22.375,px357:22.3125,px356:22.25,px355:22.1875,px354:22.125,px353:22.0625,px352:22,px351:21.9375,px350:21.875,px349:21.8125,px348:21.75,px347:21.6875,px346:21.625,px345:21.5625,px344:21.5,px343:21.4375,px342:21.375,px341:21.3125,px340:21.25,px339:21.1875,px338:21.125,px337:21.0625,px336:21,px335:20.9375,px334:20.875,px333:20.8125,px332:20.75,px331:20.6875,px330:20.625,px329:20.5625,px328:20.5,px327:20.4375,px326:20.375,px325:20.3125,px324:20.25,px323:20.1875,px322:20.125,px321:20.0625,px320:20,px319:19.9375,px318:19.875,px317:19.8125,px316:19.75,px315:19.6875,px314:19.625,px313:19.5625,px312:19.5,px311:19.4375,px310:19.375,px309:19.3125,px308:19.25,px307:19.1875,px306:19.125,px305:19.0625,px304:19,px303:18.9375,px302:18.875,px301:18.8125,px300:18.75,px299:18.6875,px298:18.625,px297:18.5625,px296:18.5,px295:18.4375,px294:18.375,px293:18.3125,px292:18.25,px291:18.1875,px290:18.125,px289:18.0625,px288:18,px287:17.9375,px286:17.875,px285:17.8125,px284:17.75,px283:17.6875,px282:17.625,px281:17.5625,px280:17.5,px279:17.4375,px278:17.375,px277:17.3125,px276:17.25,px275:17.1875,px274:17.125,px273:17.0625,px272:17,px271:16.9375,px270:16.875,px269:16.8125,px268:16.75,px267:16.6875,px266:16.625,px265:16.5625,px264:16.5,px263:16.4375,px262:16.375,px261:16.3125,px260:16.25,px259:16.1875,px258:16.125,px257:16.0625,px256:16,px255:15.9375,px254:15.875,px253:15.8125,px252:15.75,px251:15.6875,px250:15.625,px249:15.5625,px248:15.5,px247:15.4375,px246:15.375,px245:15.3125,px244:15.25,px243:15.1875,px242:15.125,px241:15.0625,px240:15,px239:14.9375,px238:14.875,px237:14.8125,px236:14.75,px235:14.6875,px234:14.625,px233:14.5625,px232:14.5,px231:14.4375,px230:14.375,px229:14.3125,px228:14.25,px227:14.1875,px226:14.125,px225:14.0625,px224:14,px223:13.9375,px222:13.875,px221:13.8125,px220:13.75,px219:13.6875,px218:13.625,px217:13.5625,px216:13.5,px215:13.4375,px214:13.375,px213:13.3125,px212:13.25,px211:13.1875,px210:13.125,px209:13.0625,px208:13,px207:12.9375,px206:12.875,px205:12.8125,px204:12.75,px203:12.6875,px202:12.625,px201:12.5625,px200:12.5,px199:12.4375,px198:12.375,px197:12.3125,px196:12.25,px195:12.1875,px194:12.125,px193:12.0625,px192:12,px191:11.9375,px190:11.875,px189:11.8125,px188:11.75,px187:11.6875,px186:11.625,px185:11.5625,px184:11.5,px183:11.4375,px182:11.375,px181:11.3125,px180:11.25,px179:11.1875,px178:11.125,px177:11.0625,px176:11,px175:10.9375,px174:10.875,px173:10.8125,px172:10.75,px171:10.6875,px170:10.625,px169:10.5625,px168:10.5,px167:10.4375,px166:10.375,px165:10.3125,px164:10.25,px163:10.1875,px162:10.125,px161:10.0625,px160:10,px159:9.9375,px158:9.875,px157:9.8125,px156:9.75,px155:9.6875,px154:9.625,px153:9.5625,px152:9.5,px151:9.4375,px150:9.375,px149:9.3125,px148:9.25,px147:9.1875,px146:9.125,px145:9.0625,px144:9,px143:8.9375,px142:8.875,px141:8.8125,px140:8.75,px139:8.6875,px138:8.625,px137:8.5625,px136:8.5,px135:8.4375,px134:8.375,px133:8.3125,px132:8.25,px131:8.1875,px130:8.125,px129:8.0625,px128:8,px127:7.9375,px126:7.875,px125:7.8125,px124:7.75,px123:7.6875,px122:7.625,px121:7.5625,px120:7.5,px119:7.4375,px118:7.375,px117:7.3125,px116:7.25,px115:7.1875,px114:7.125,px113:7.0625,px112:7,px111:6.9375,px110:6.875,px109:6.8125,px108:6.75,px107:6.6875,px106:6.625,px105:6.5625,px104:6.5,px103:6.4375,px102:6.375,px101:6.3125,px100:6.25,px99:6.1875,px98:6.125,px97:6.0625,px96:6,px95:5.9375,px94:5.875,px93:5.8125,px92:5.75,px91:5.6875,px90:5.625,px89:5.5625,px88:5.5,px87:5.4375,px86:5.375,px85:5.3125,px84:5.25,px83:5.1875,px82:5.125,px81:5.0625,px80:5,px79:4.9375,px78:4.875,px77:4.8125,px76:4.75,px75:4.6875,px74:4.625,px73:4.5625,px72:4.5,px71:4.4375,px70:4.375,px69:4.3125,px68:4.25,px67:4.1875,px66:4.125,px65:4.0625,px64:4,px63:3.9375,px62:3.875,px61:3.8125,px60:3.75,px59:3.6875,px58:3.625,px57:3.5625,px56:3.5,px55:3.4375,px54:3.375,px53:3.3125,px52:3.25,px51:3.1875,px50:3.125,px49:3.0625,px48:3,px47:2.9375,px46:2.875,px45:2.8125,px44:2.75,px43:2.6875,px42:2.625,px41:2.5625,px40:2.5,px39:2.4375,px38:2.375,px37:2.3125,px36:2.25,px35:2.1875,px34:2.125,px33:2.0625,px32:2,px31:1.9375,px30:1.875,px29:1.8125,px28:1.75,px27:1.6875,px26:1.625,px25:1.5625,px24:1.5,px23:1.4375,px22:1.375,px21:1.3125,px20:1.25,px19:1.1875,px18:1.125,px17:1.0625,px16:1,px15:.9375,px14:.875,px13:.8125,px12:.75,px11:.6875,px10:.625,px9:.5625,px8:.5,px7:.4375,px6:.375,px5:.3125,px4:.25,px3:.1875,px2:.125,px1:.0625},n={min:37.5,max:72.0948,infoPopup:14.4375,maxTablet:48.3088},i=e=>Object.keys(e).reduce(((r,t)=>(r[t]="".concat(e[t],"rem"),r)),{}),o=i(a),s=i(n)},31872:(e,r,t)=>{"use strict";t.r(r),t.d(r,{SkeletonContainer:()=>b,aphroditeStyles:()=>m,createElements:()=>u,defaultElements:()=>g,defaultStyle:()=>p,skeletonize:()=>E});var a=t(64321),n=t(31616),i=t(23198),o=t(98318),s=t(79116),l=t(50093),c=t(29901),d=["children","element"],u=e=>({H1:(0,s.createSkeletonElement)("h1",e),H2:(0,s.createSkeletonElement)("h2",e),H3:(0,s.createSkeletonElement)("h3",e),H4:(0,s.createSkeletonElement)("h4",e),H5:(0,s.createSkeletonElement)("h5",e),Div:(0,s.createSkeletonElement)("div",e),Span:(0,s.createSkeletonElement)("span",e)}),p={backgroundColor:"".concat(o.dp_comp_skeleton_background_duller," !important"),color:"".concat(o.dp_comp_skeleton_background_duller," !important"),borderRadius:"2px",userSelect:"none"},m=l.StyleSheet.create({default:(0,i.Z)({},p)}),g=u(p),v={opacity:0},h=(0,s.createSkeletonElement)("div",v),y=(0,s.createSkeletonElement)("span",v),f={display:"inline-block"};function E(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";return t=>"span"===r?c.createElement(g.Span,{style:f},c.createElement(y,null,c.createElement(e,t))):c.createElement(g.Div,null,c.createElement(h,null,c.createElement(e,t)))}var b=e=>{var{children:r,element:t="div"}=e,i=(0,n.Z)(e,d);return"span"===t?c.createElement(g.Span,(0,a.Z)({},i,{style:f}),c.createElement(y,null,r)):c.createElement(g.Div,null,c.createElement(h,i,r))}},33439:(e,r,t)=>{"use strict";t.d(r,{O:()=>n});var a=t(23394),n={paddingLeft:a.W0.s4,paddingRight:a.W0.s4,paddingBottom:a.W0.s2,[a.cy.min.s]:{paddingLeft:a.W0.s6,paddingRight:a.W0.s6},[a.cy.min.m]:{paddingLeft:0,paddingRight:0}}},34214:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(50093),n=t(52068);const i=a.StyleSheet.create({title1:n.W.title1,title2:n.W.title2,title3:n.W.title3,title4:n.W.title4,title5:n.W.title5,hero:n.W.hero,body:n.W.body,small:n.W.small,input:n.W.input})},52068:(e,r,t)=>{"use strict";t.d(r,{R:()=>l,W:()=>c});var a=t(56429),n=t(4385),i=t(60289),o=t(90189),s=(0,n._0)(),l={brand:{face:{fontFamily:s===a.h_.TRAINLINE?["TLCircular","Helvetica","Arial","sans-serif"]:o.L},weights:{book:500,normal:600,bold:"bold"}},body:{face:{fontFamily:o.L},weights:{normal:"normal",semiBold:600,bold:"bold"}}},c={hero:{fontFamily:l.brand.face.fontFamily,fontSize:"var(--DEPRECATED-42px)",lineHeight:1,letterSpacing:"-0.02502rem"},title1:{fontFamily:l.brand.face.fontFamily,fontSize:"2rem",fontWeight:l.brand.weights.bold,lineHeight:1.38,letterSpacing:"-0.0125rem"},title2:{fontFamily:l.brand.face.fontFamily,fontSize:"1.5rem",fontWeight:l.brand.weights.bold,lineHeight:1.42,letterSpacing:"-0.01872rem"},title3:{fontFamily:l.brand.face.fontFamily,fontSize:"var(--DEPRECATED-20px)",fontWeight:l.brand.weights.bold,lineHeight:1.5,letterSpacing:0},title4:{fontFamily:l.body.face.fontFamily,fontSize:"1rem",fontWeight:l.body.weights.bold,lineHeight:1.5,letterSpacing:0},title5:{fontFamily:l.body.face.fontFamily,fontSize:"1rem",lineHeight:1.5,letterSpacing:0},body:{fontFamily:l.body.face.fontFamily,fontSize:"var(--DEPRECATED-14px)",lineHeight:1.428,letterSpacing:0},input:{fontFamily:l.body.face.fontFamily,fontSize:"var(--DEPRECATED-14px)",lineHeight:1.428,letterSpacing:0,[i.ZP.small.max]:{fontSize:"1rem",lineHeight:1.5}},small:{fontFamily:l.body.face.fontFamily,fontSize:"0.75rem",lineHeight:1.5,letterSpacing:0}}},39884:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(31616),n=t(23198),i=t(29901),o=t(48157),s=["ref"];const l=e=>{var{register:r,registerOptions:t,controlled:l,children:c}=e;if(!r&&!l||!i.isValidElement(c)||!c.props.name)return i.createElement(i.Fragment,null,c);if(l)return i.createElement(o.Qr,{name:c.props.name,render:e=>{var{field:{onChange:r,onBlur:t,value:a,ref:o}}=e;return i.cloneElement(c,(0,n.Z)((0,n.Z)({},c.props),{},{isUncontrolledInput:!1,value:a,onChange:r,onBlur:t,checked:a,inputRef:o}))},rules:t});if(r){var d=r(c.props.name,t),{ref:u}=d,p=(0,a.Z)(d,s);return i.createElement(i.Fragment,null,i.cloneElement(c,(0,n.Z)((0,n.Z)((0,n.Z)({},c.props),p),{},{inputRef:u,isUncontrolledInput:!0})))}return null}},94878:(e,r,t)=>{"use strict";t.d(r,{E:()=>a,I:()=>n});var a=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[(e=e&&e.replace("#",""))&&parseInt(e.substring(0,2),16),e&&parseInt(e.substring(2,4),16),e&&parseInt(e.substring(4,6),16),r].toString()},n=(e,r)=>{if(!e.match(/rgb/gi))return console.error("invalid rgb/rgba passed to setRGBAlpha"),e;var[,t,a,n]=e.match(/rgba*\((\d+), *(\d+), *(\d+)/i)||[];return"rgba(".concat(t,", ").concat(a,", ").concat(n,", ").concat(r,")")}},6131:(e,r,t)=>{"use strict";t.d(r,{_:()=>n});var a=t(50093),n=e=>{var{appear:r,appearActive:t,enter:n,enterActive:i,exit:o,exitActive:s}=e;return{appear:(0,a.css)(r),appearActive:(0,a.css)(t),enter:(0,a.css)(n),enterActive:(0,a.css)(i),exit:(0,a.css)(o),exitActive:(0,a.css)(s)}}},18665:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var a="en-GB"},15628:(e,r,t)=>{"use strict";t.d(r,{d:()=>o,j:()=>s});var a=t(75788),n=t(62477),i=t(52767),o=e=>{e&&e.lastElementChild&&e.lastElementChild.focus()},s=(e,r,t)=>(0,a.R)(window,"resize").pipe((0,n.n)((()=>r)),(0,i.b)(t)).subscribe(e)},59999:(e,r,t)=>{"use strict";t.d(r,{JT:()=>o,JW:()=>s,kK:()=>a,rw:()=>n});var a="https://static.trainlinecontent.com/content/WEB/images",n="https://www.thetrainline.com/content/WEB/images",i="".concat(a,"/carriers/"),o=("".concat(i,"v2/color/"),"".concat(a,"/icon/")),s="".concat(a,"/home/");"".concat(a,"/depot")},89142:(e,r,t)=>{"use strict";t.d(r,{X:()=>a});var a=16},4385:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>y,_0:()=>h});var a=t(92176),n=t(77423),i=t(71669),o=t(26857),s=t(12950),l=t(47547),c=t(25874),d=t(56433),u=t(3382),p=t(59717),m=t(88619),g=t(95864),v=t(56429),h=()=>{var e;return"undefined"!=typeof window&&window.__CLIENT_CONFIGURATION__&&window.__CLIENT_CONFIGURATION__.portal?window.__CLIENT_CONFIGURATION__.portal:null!==(e=process)&&void 0!==e&&null!==(e={BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0})&&void 0!==e&&e.PORTAL?{BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.PORTAL:void 0};const y=(e=>{switch(e){case v.h_.XC:return a;case v.h_.QJUMP:return u;case v.h_.WMR:return p;case v.h_.EMR:return n;case v.h_.NR:return c;case v.h_.LNR:return l;case v.h_.SR:return d;case v.h_.GA:return i;case v.h_.ITALO:return o;case v.h_.ITALOAG:return s;case v.h_.BBT:return m;case v.h_.TH:return g;case v.h_.TRAINLINE:default:return u}})(h())},49369:(e,r,t)=>{"use strict";t.d(r,{_:()=>n,l:()=>a});var a=(0,t(4385)._0)(),n=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a&&e[a]||r&&e.Leisure||{}}},71230:(e,r,t)=>{"use strict";t.d(r,{U:()=>d,h:()=>c});var a=t(64321),n=t(31616),i=t(29901),o=["children","ariaLabelledBy","type"],s=function(e){return e.SECTION="section",e.ASIDE="aside",e}(s||{}),l=e=>{var{children:r,ariaLabelledBy:t,type:s}=e,l=(0,n.Z)(e,o);return i.createElement(s,(0,a.Z)({},l,{"aria-labelledby":t}),r)},c=e=>i.createElement(l,(0,a.Z)({},e,{type:s.SECTION})),d=e=>i.createElement(l,(0,a.Z)({},e,{type:s.ASIDE}))},23149:(e,r,t)=>{"use strict";t.d(r,{Z:()=>I});var a=t(50093),n=t(29901),i=t(98184),o=t(49042),s=t(59999);const l=e=>{var{className:r,ariaHidden:t=!0}=e;return n.createElement("img",{className:r,src:"".concat(s.kK,"/error-page/FullTrain.svg"),alt:"",role:"presentation","aria-hidden":t})};const c=e=>{var{className:r,ariaHidden:t=!0}=e;return n.createElement("svg",{width:"226px",height:"73px",viewBox:"0 0 226 73",className:r,"aria-hidden":t},n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{transform:"translate(-1148.000000, -143.000000)",fill:"#FFFFFF"},n.createElement("path",{d:"M1369.04846,216 C1370.58298,216 1371.86174,215.484099 1372.88475,214.194346 C1373.90776,213.162544 1374.16351,211.614841 1373.90776,210.067138 C1373.90776,209.809187 1368.79271,184.530035 1337.8467,182.208481 C1335.54493,160.282686 1316.87503,143 1294.62459,143 C1274.42017,143 1257.54053,156.929329 1252.42549,175.759717 C1247.82195,172.14841 1240.66089,168.537102 1230.94231,168.537102 C1209.71488,168.795053 1202.80957,187.109541 1202.55382,187.883392 C1201.53081,190.462898 1202.80957,193.300353 1205.3671,194.074205 C1207.92462,195.106007 1210.73789,193.816254 1211.50515,191.236749 C1211.7609,190.720848 1216.62019,178.339223 1230.94231,178.081272 C1246.03169,178.081272 1251.40248,188.657244 1251.40248,188.915194 C1252.42549,190.978799 1254.72726,192.010601 1256.77328,191.4947 C1259.07505,190.978799 1260.60956,188.915194 1260.60956,186.85159 C1260.60956,168.021201 1275.69893,152.54417 1294.62459,152.54417 C1313.2945,152.54417 1328.63963,167.763251 1328.63963,186.85159 C1328.63963,189.431095 1330.68564,191.75265 1333.49892,191.75265 C1351.14582,191.75265 1358.81838,200.007067 1362.39891,205.939929 L1152.93791,205.939929 C1150.38039,205.939929 1148.07862,208.003534 1148.07862,210.840989 C1147.56711,213.678445 1149.61313,216 1152.4264,216 L1369.04846,216 Z"}))))};var d=t(81867),u=t(37977),p=t(23198),m=t(8888),g=t(52068);const v=a.StyleSheet.create({h2:(0,p.Z)((0,p.Z)({},g.W.hero),{},{marginBottom:m.Z.sizes.spacers.s}),h3:(0,p.Z)((0,p.Z)({},g.W.title2),{},{fontWeight:"normal",marginBottom:m.Z.sizes.spacers.xl}),h4:(0,p.Z)((0,p.Z)({},g.W.title2),{},{fontWeight:"normal"})});const h=e=>{var{title:r,subtitle:t,message:o,children:s,className:l,innerClassName:c,ariaLive:d="assertive"}=e;return n.createElement("div",{className:l,role:"alert","aria-live":d},n.createElement("div",{className:c},n.createElement("div",null,n.createElement("h2",{className:(0,a.css)(v.h2)},n.createElement(i.FormattedMessage,r)),n.createElement("h3",{className:(0,a.css)(v.h3)},n.createElement(i.FormattedMessage,t)),n.createElement("h4",{className:(0,a.css)(v.h4)},n.createElement(u.ZP,o))),s))};var y=t(98318),f=t(60289),E=t(23394),b=a.StyleSheet.create({pageWrapper:{display:"flex",flexDirection:"column",height:"100%",minHeight:"100vh",minWidth:m.Z.sizes.contentWidth.min,width:"100%",background:E.O9.palette.grey_60,color:"#303030",overflow:"hidden",position:"relative",padding:0,[f.ZP.oops.mobile]:{minHeight:"calc(100vh - 68px)",minWidth:"100%"}},nav:{display:"flex",alignItems:"center",width:"100%",height:80,marginTop:m.Z.sizes.spacers.xl,marginBottom:m.Z.sizes.spacers.m,padding:"0 "+m.Z.sizes.spacers.m,position:"relative",zIndex:2,[f.ZP.oops.small]:{marginTop:0,height:60}},logo:{color:y.dp_brand_primary_mid},logoLink:{width:140,margin:"0 auto"},body:{[f.ZP.oops.mobile]:{width:"80%",alignSelf:"center"}},main:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",flexGrow:1,position:"relative",padding:"0 0 150px 0"},content:{width:"100%",maxWidth:400,minHeight:240,margin:"0 auto",padding:m.Z.sizes.spacers.xl,borderRadius:E.E0.m,background:"white",overflow:"visible",position:"relative",zIndex:2,flexGrow:0,[f.ZP.oops.mobile]:{padding:m.Z.sizes.spacers.m}},cloudMain:{width:"220px",position:"absolute",left:"100%",zIndex:1,animationName:[{"0%":{transform:"translate3d(0, 0, 0)"},"100%":{transform:"translate3d(-125vw, 0, 0)"}}],animationDuration:"60s",animationTimingFunction:"linear",animationIterationCount:"infinite"},bigCloud:{top:88,animationDelay:"-10s"},lilCloud:{width:110,bottom:200,animationDuration:"120s",animationDelay:"10s",[f.ZP.oops.small]:{bottom:175}},trainTrack:{width:"100%",marginTop:m.Z.sizes.spacers.xxl,borderBottom:"3px solid "+y.dp_brand_secondary_duller,position:"absolute",bottom:0},trainWrapper:{width:"70%",[f.ZP.oops.small]:{width:"95%"},[f.ZP.oops.mobile]:{width:"160%"},[f.ZP.oops.mini]:{width:"calc(200% + 10vw)"},height:"20vw",maxHeight:100,margin:0,position:"relative",transform:"translate3d(-120%, 0, 0)",animationName:[{"0%":{transform:"translate3d(-120%, 0, 0)"},"100%":{transform:"translate3d(0, 0, 0)"}}],animationDuration:"4s",animationTimingFunction:"cubic-bezier(0, 0.3, 0.2, 1.02)",animationFillMode:"forwards"},train:{maxWidth:"none",height:"100%",position:"absolute",top:"0",right:"0"}}),S=a.StyleSheet.create({link:{color:y.dp_app_action_primary,textDecoration:"underline"},subtext:{color:y.dp_brand_neutral_mid},footer:{borderTop:"1px solid "+y.dp_brand_neutral_brighter,marginTop:m.Z.sizes.spacers.xl,paddingTop:m.Z.sizes.spacers.l}}),T=e=>{var{children:r,href:t}=e;return n.createElement(o.Z,{href:t,styleSheet:S.link},r)},C=e=>{var{children:r}=e;return n.createElement(i.FormattedMessage,{id:"errorPages.links.help"},(e=>n.createElement(T,{href:e},r)))},A=e=>{var{children:r}=e;return n.createElement(T,{href:"/"},r)};const I=e=>{var{is404:r,location:t,genericErrorAnalyticsFramework:i,staticContent:s,sendNewRelicPageAction:u,getLocaleCode:p,oopsPageAnimationEnabled:m,onEnter:g,redirectToMarketing:v,useNewLogoPathEnabled:y,homePageRedirectUrl:f}=e;(0,n.useEffect)((()=>{g&&g(),u&&p&&r&&u({language:p(),path:t&&t.pathname||"",message:"404 error"},"oops_error_page"),r||i&&i()}),[i,p,r,t,g,u]);var E={className:(0,a.css)(b.main),innerClassName:(0,a.css)(b.content),title:{id:"page.genericError.oops"},subtitle:{id:r?"page.genericError.404sorry":"page.genericError.sorry"},message:{id:"page.genericError.404links",tagsMap:{a_help:C,a_home:v?e=>{var{children:r}=e;return n.createElement(T,{href:f},r)}:A}}};return n.createElement("div",{className:(0,a.css)(b.pageWrapper)},n.createElement("nav",{className:(0,a.css)(b.nav)},n.createElement(o.Z,{href:v?f:"/",styleSheet:b.logoLink},n.createElement(d.Z,{className:(0,a.css)(b.logo),staticContent:s,useNewLogoPathEnabled:y}))),n.createElement("div",{className:(0,a.css)(b.body)},m&&n.createElement(n.Fragment,null,n.createElement("div",{className:(0,a.css)(b.cloudMain,b.bigCloud)},n.createElement(c,null)),n.createElement("div",{className:(0,a.css)(b.cloudMain,b.lilCloud)},n.createElement(c,null))),n.createElement(h,E)),m&&n.createElement("div",{className:(0,a.css)(b.trainTrack)},n.createElement("div",{className:(0,a.css)(b.trainWrapper)},n.createElement(l,{className:(0,a.css)(b.train)}))))}},18952:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var a=t(50093),n=t(29901),i=t(98184),o=t(88220),s=t(60654),l=t(56136),c=t(98318),d=t(8888);const u=a.StyleSheet.create({textInputWrapper:{backgroundColor:c.dp_app_backdrop_base,height:"calc(".concat(d.Z.sizes.spacers.s," * 2 + 1.3rem + 1.8px)"),lineHeight:"var(--DEPRECATED-35px)",paddingRight:"calc(".concat(d.Z.sizes.spacers.m," + 0.8rem)")},textInputWrapperSW:{fontSize:18,display:"inline-block",lineHeight:1.33},label:{display:"block"},afterLabel:{fontWeight:600},textInputWrapperDisabled:{opacity:.5},increasedRightPadding:{paddingRight:"calc(".concat(d.Z.sizes.spacers.px84," + 0.8rem)"),":focus":{paddingRight:"calc(".concat(d.Z.sizes.spacers.px84," + 0.8rem)")},":disabled":{paddingRight:"calc(".concat(d.Z.sizes.spacers.px84," + 0.8rem)")},fontWeight:600}});const p=(0,i.injectIntl)((e=>{var{hasEuropeExperience:r,timeInputId:t,disabled:i,beforeLabel:c,afterLabel:d,value:p,onChange:m,inputRef:g,styleSheet:v,intl:h,afterLabelStyle:y,isSearchWidget:f,increaseRightPadding:E}=e;return r?n.createElement("label",{"data-test":"after-text",htmlFor:t,className:(0,a.css)(u.label,f?u.textInputWrapperSW:u.textInputWrapper,i&&u.textInputWrapperDisabled,f&&u.afterLabel,y)},d):n.createElement(o.Z,{ariaLabel:h.formatMessage({id:"page.journeySearchForm.dateTimePicker.selectDateType.aria"}),name:"dateType",testId:"before-after-dropdown",id:"before-after-dropdown",items:[{text:d,value:s.TransitDefinitionDateType.DEPART_AFTER},{text:c,value:s.TransitDefinitionDateType.ARRIVE_BEFORE}],value:p?p.dateType:"",onChange:m,disabled:i,styleSheet:(0,l.y)(v,E&&{select:u.increasedRightPadding}),inputRef:g,role:"listbox"})}))},85768:(e,r,t)=>{"use strict";t.d(r,{B4:()=>p,KB:()=>u,NZ:()=>l,te:()=>d,yz:()=>c});var a=t(84025),n=t.n(a),i=t(18665),o=t(60654),s=function(e){return e[e.S=460]="S",e[e.M=538]="M",e[e.L=660]="L",e}({}),l=(e,r)=>e?s.M:r?s.S:s.L,c={date:"",hours:"",minutes:"",dateType:o.TransitDefinitionDateType.DEPART_AFTER},d=(e,r)=>r&&r.date?n()(r.date).set({hour:parseInt(r.hours,10),minute:parseInt(r.minutes,10)}).locale(e.locale||i.Z):void 0,u=()=>{var e=document.getElementById("page.journeySearchForm.inbound.title");e&&e.click()},p=e=>{var{intl:r,showAddReturnMessage:t,showOpenReturnMessage:a,currentInputValue:n,isUkHorizontalSearchEnabled:i,isOutbound:o,showUSFormatDateTime:s,isOpenReturnChangesForMWeb:l,openReturnLabelForMweb:c}=e;if(t){var d="page.journeySearchForm.combinedDatePicker.addReturnMessaging",u=r.formatMessage({id:d});return{ariaMessage:u,displayMessage:i?r.formatMessage({id:"".concat(d,".opti1426")}):"+ ".concat(u)}}if(a&&l&&c)return{ariaMessage:r.formatMessage({id:"page.journeySearchForm.openReturnLabel.aria"}),displayMessage:r.formatMessage({id:c})};if(a)return{ariaMessage:r.formatMessage({id:"page.journeySearchForm.openReturnLabel.aria"}),displayMessage:r.formatMessage({id:"page.journeySearchForm.openReturnLabel"})};var p=r.formatMessage({id:"page.journeySearchForm.combinedDatePicker.selectedDateTime.aria"},{dateTime:null==n?void 0:n.format("dddd Do MMMM, hh:mma")});return{ariaMessage:r.formatMessage({id:"page.journeySearchForm.combinedDatePicker.dateTimeMessage.aria"},{isOutbound:o,ariaSelectedDateTime:p}),displayMessage:null==n?void 0:n.format(s?"dd D MMM  h:mm A":"dd D MMM  HH:mm")}}},57223:(e,r,t)=>{"use strict";t.d(r,{I$:()=>E,SO:()=>v,ZP:()=>m,pq:()=>y,qI:()=>f,r4:()=>g,sK:()=>h});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(52068),c=t(49369),d=t(60654),u=t(52480),{sizes:p}=o.Z;const m=i.StyleSheet.create({dayButtonsContainer:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between"},dayButton:(0,a.Z)((0,a.Z)({},l.W.small),{},{display:"block",backgroundColor:"transparent",color:n.dp_app_text_inverted,":focus":{textDecoration:"underline"},":hover":{textDecoration:"underline"},":active":{textDecoration:"underline"},":disabled":{opacity:.5}}),disabledCover:(0,a.Z)({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:.5},(0,c._)({[d.Portal.TRAINLINE]:{backgroundColor:n.dp_comp_time_picker_disabled}},!1)),dayButtonDisabled:{":focus":{textDecoration:"none"},":hover":{textDecoration:"none"},":active":{textDecoration:"none"}},dateTimePickerWrapper:{color:n.dp_app_text_base,flex:1,":first-child":{marginRight:p.spacers.m},position:"relative"},dateTimePickerHeader:(0,a.Z)((0,a.Z)({},l.W.title4),{},{color:n.dp_app_text_inverted,textAlign:"center",textTransform:"uppercase",marginBottom:p.spacers.s}),beforeAfterWrapper:{marginTop:p.spacers.xs},timePickerWrapper:{display:"flex",flexWrap:"nowrap",marginTop:p.spacers.xs},textInputWrapper:{backgroundColor:n.dp_app_backdrop_base,height:"calc(".concat(p.spacers.s," * 2 + 1.3rem + 1.8px)"),lineHeight:"var(--DEPRECATED-35px)",padding:"0 ".concat(p.spacers.s),paddingRight:"calc(".concat(p.spacers.m," + 0.8rem)"),border:"solid 1px ".concat(n.dp_app_border_dull),borderRadius:s.E0.m},textInputWrapperDisabled:{opacity:.5},errorWrapper:l.W.small,afterLabel:{padding:"0 ".concat(p.spacers.s),border:"solid 1px ".concat(n.dp_app_border_dull),borderRadius:s.E0.m}});var g=i.StyleSheet.create({textInput:{borderColor:n.dp_app_negative_mid,borderWidth:2,":focus":{borderColor:n.dp_app_negative_mid,borderWidth:2}}}),v=i.StyleSheet.create({select:{borderColor:n.dp_app_negative_mid,borderWidth:2,":focus":{borderColor:n.dp_app_negative_mid,borderWidth:2,paddingTop:0,paddingBottom:0}}}),h=i.StyleSheet.create({select:{":focus":{outline:"none",borderColor:n.dp_brand_primary_mid,borderWidth:1,boxShadow:u.xO,paddingLeft:p.spacers.s}}}),y=i.StyleSheet.create({select:{":focus":{outline:"none",borderColor:n.dp_brand_primary_mid,borderWidth:1,boxShadow:u.xO,paddingLeft:p.spacers.s}},listbox:{flex:1,"-webkit-box-flex":"1",":first-child":{marginRight:p.spacers.xs}}}),f=i.StyleSheet.create({select:{":focus":{borderColor:n.dp_brand_secondary_duller,borderWidth:2,boxShadow:"unset",textOverflow:"clip",overflow:"hidden",whiteSpace:"nowrap"},":focus-visible":{outline:"4px solid ".concat(n.dp_comp_focus_ring),borderColor:n.dp_app_border_dull,borderWidth:1}}}),E=i.StyleSheet.create({select:{width:"100%"}})},5193:(e,r,t)=>{"use strict";t.d(r,{J6:()=>s,dS:()=>i,eu:()=>o,iB:()=>l,lz:()=>u,pN:()=>d,t4:()=>c});var a=t(82768),n=t(77962),i=9,o=0,s=function(e){return e.HOURS="hours",e.MINUTES="minutes",e}({}),l=e=>"0".concat(String(e)).substr(-2),c=e=>(0,n.ym)((0,n.uy)(e,!1)),d={hours:(0,a.w6H)(0,24).map((e=>l(e))).map((e=>({text:e,value:e}))),minutes:["00","15","30","45"].map((e=>({text:e,value:e})))},u=e=>e.map((e=>{var{slot:r,value:t,checked:a,disabled:n}=e;return{text:r,value:t,selected:a,disabled:n}}))},48216:(e,r,t)=>{"use strict";t.d(r,{Z:()=>y});var a=t(64321),n=t(36841),i=t(29901),o=t(16981),s=t(98318),l=t(50093),c=t(23394),d=t(4385),u=t(8888),p=t(52068),m=t(94878),g=u.Z.breakpoints.small.min;const v=l.StyleSheet.create({container:{margin:"".concat(c.W0.s1," 0"),height:"100%",[g]:{margin:"".concat(c.W0.s3," 0"),border:"1px solid transparent",width:"fit-content",padding:c.W0.s2,borderRadius:c.E0.m}},iconWrapDefault:{width:c.W0.s6,height:c.W0.s6,marginRight:"unset"},labelCopy:{fontFamily:p.R.brand.face.fontFamily,fontWeight:"normal",color:s.dp_app_text_subdued,padding:"0",textAlign:"center",[g]:{fontFamily:p.R.body.face.fontFamily,color:s.dp_brand_neutral_dullest,paddingLeft:c.W0.s2,paddingRight:c.W0.s2}},labelDefault:{margin:0,height:"100%"}});l.StyleSheet.create({labelCopy:{color:s.dp_brand_neutral_core,[g]:{paddingLeft:c.W0.s2,paddingRight:c.W0.s2,fontWeight:600}}});var h=l.StyleSheet.create({container:{marginTop:c.W0.s3,width:"100%",padding:"".concat(c.W0.s1," ").concat(c.W0.s2),borderRadius:c.E0.m,background:(0,m.I)(d.ZP.dp_brand_white,.12),":first-child > div input":{all:"revert"},":first-child > div svg":{display:"none"},":first-child > div label p":{fontSize:"0.875rem",color:s.dp_app_backdrop_base}},labelDefault:{display:"flex",alignItems:"center"}});const y=e=>{var{input:r,intl:t,native:s,disabled:l}=e;return i.createElement("div",{className:(0,n.css)(s?h.container:v.container)},i.createElement(o.Z,(0,a.Z)({},r,{disabled:l,id:"search-widget-direct-search-toc",checked:r.value||!1,label:t.formatMessage({id:"page.journeySearchForm.directSearch"}),value:r.name})))}},70249:(e,r,t)=>{"use strict";t.d(r,{C:()=>U,Z:()=>j});var a=t(50093),n=t(29901),i=t(98184),o=t(89426),s=t(23394);const l=a.StyleSheet.create({root:{padding:"".concat(s.W0.s1," ").concat(s.W0.s2),width:"auto",marginRight:s.W0.s2,marginBottom:s.W0.s2,height:"calc(".concat(s.W0.s6," + ").concat(s.W0.s1,")"),minHeight:"calc(".concat(s.W0.s6," + ").concat(s.W0.s1,")")}});const c=(0,i.injectIntl)((e=>{var{intl:r,userIndex:t,launchPRMDetailsModal:i}=e,[s,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[p,m]=(0,n.useState)(!1),g=(0,n.useMemo)((()=>r.formatMessage({id:p?"page.journeySearchForm.passengerPicker.addPRMDetails.edit":"page.journeySearchForm.passengerPicker.addPRMDetails.wheelchairUser"})),[p]),v=(0,n.useMemo)((()=>[l.root,s&&a.StyleSheet.create({hasHeight:{minHeight:s}}).hasHeight,d&&a.StyleSheet.create({hasWidth:{minWidth:d}}).hasWidth]),[d,s]),h=(0,n.useCallback)((e=>{null!==e&&(c(e.offsetHeight),u(e.offsetWidth+16))}),[]),y=(0,n.useCallback)((()=>{m(!0)}),[]),f=(0,n.useCallback)((()=>{m(!1)}),[]),E=(0,n.useCallback)((()=>{i({userIndex:t})}),[t]);return n.createElement(o.kq,{styleSheet:v,onMouseOver:y,onMouseOut:f,onClick:E,saveInputRef:h},g)}));var d=t(21847),u=t(36841),p=t(18212),m=t(28770),g=t(87374),v=t(26625),h=t(60654),y=t(23198),f=t(98318),E=t(8888),b=t(52068),S=a.StyleSheet.create({container:{marginLeft:E.Z.sizes.spacers.px4}}),T={height:10,width:10,color:f.dp_brand_neutral_dull};const C=a.StyleSheet.create({default:{fontWeight:600,fontFamily:b.R.brand.face.fontFamily,border:"none",borderRadius:s.E0.m,padding:"".concat(E.Z.sizes.spacers.px2," ").concat(E.Z.sizes.spacers.px8),display:"flex",alignItems:"center",color:f.dp_app_text_base,minHeight:"28px",":hover":{backgroundColor:f.dp_comp_button_tertiary_background_hover},":active":{backgroundColor:f.dp_comp_button_tertiary_background_pressed}},icon:(0,y.Z)((0,y.Z)({},T),{},{marginRight:E.Z.sizes.spacers.px6,paddingBottom:"0.0875rem"}),addLoyaltyAndRailcardsIcon:(0,y.Z)((0,y.Z)({},T),{},{padding:"0.4025rem",float:"left"})});var A=e=>{var{pendingClick:r,discountCardsLoadStatus:t}=e;return r&&t===h.LoadStatus.PENDING?n.createElement(m.Z,{size:18,borderWidth:3,styleSheet:S}):null},I=e=>{var{pendingClick:r,discountCardsLoadStatus:t,intl:a}=e;return t===h.LoadStatus.ERROR&&r?n.createElement("div",null,n.createElement(p.Z,{level:"error",dark:!0},n.createElement(v.fQ,{hooks:[v.OS.ON_RENDER],event:(0,v.C6)({format:"inline.validation.error",message:a.formatMessage({id:"page.journeySearchForm.europeanDiscountCardLoadingError"}),id:"page.journeySearchForm.europeanDiscountCardLoadingError",type:d.ErrorType.Customer})},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.europeanDiscountCardLoadingError"})))):null};const _=(0,i.injectIntl)((e=>{var{intl:r,isAddingAnotherCard:t,shouldDisplayIcon:a,isDisabled:s,onClick:l,userIndex:c,discountCardsLoadStatus:d}=e,[p,m]=n.useState(!1);n.useEffect((()=>{p&&d===h.LoadStatus.SUCCESS&&(l({userIndex:c}),m(!1))}),[p,d,l,c]);var v=()=>{m(!0)};return t?n.createElement(n.Fragment,null,n.createElement(o.gh,{onClick:v,testId:"add-another-discount-card",disabled:s},n.createElement(g.Z,{className:(0,u.css)(C.icon)}),n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.railCard.add"}),n.createElement(A,{pendingClick:p,discountCardsLoadStatus:d})),n.createElement(I,{pendingClick:p,discountCardsLoadStatus:d,intl:r})):n.createElement(n.Fragment,null,n.createElement(o.gh,{ariaLabel:r.formatMessage({id:"page.journeySearchForm.passengerPicker.addLoyaltyAndRailcards"}),onClick:v,testId:"add-singular-discount-card",disabled:s},!!a&&n.createElement(g.Z,{className:(0,u.css)(C.addLoyaltyAndRailcardsIcon)}),n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.addLoyaltyAndRailcards"}),n.createElement(A,{pendingClick:p,discountCardsLoadStatus:d})),n.createElement(I,{pendingClick:p,discountCardsLoadStatus:d,intl:r}))}));var P=t(85924),R=t(84025),k=t.n(R),N=t(86139),O=t(56515),L=t(87005),x=t(56136);const D=a.StyleSheet.create({default:(0,y.Z)((0,y.Z)((0,y.Z)({minHeight:"auto",height:"100%",width:"auto",fontSize:"0.75rem"},b.R.body.face),{paddingLeft:"var(--DEPRECATED-7px)",paddingRight:"var(--DEPRECATED-7px)",paddingBottom:0}),{},{overflow:"hidden",":before":{display:"flex",alignItems:"center",justifyContent:"center",color:f.dp_app_backdrop_base,height:"100%",fontSize:"0.75rem",position:"relative",marginTop:"-28px",visibility:"hidden"},":hover:before":{marginTop:0,visibility:"visible"}}),container:{borderRadius:s.E0.m,display:"flex",height:"28px"}});var w=a.StyleSheet.create({expired:{textDecoration:"line-through"}}),Z=a.StyleSheet.create({radius:{borderTopRightRadius:s.E0.m,borderBottomRightRadius:s.E0.m,borderBottomLeftRadius:0,borderTopLeftRadius:0}});class F extends n.Component{constructor(){super(...arguments),(0,P.Z)(this,"handleClick",(()=>{var{card:e,onClick:r,userIndex:t,passengerId:a,isEditLinkMyAccount:n,intl:i}=this.props,{accountNumber:o,readOnly:s,notSavedToPassenger:l}=e;if(n){var c=i.formatMessage({id:"journeySearchForm.links.myAccountSavedPassengers"});window.open(c,"_blank","noopener noreferrer")}else r({userIndex:t,discountCard:e.id,accountNumber:o,readOnly:s,notSavedToPassenger:l,cardId:e.uuid,passengerId:a})})),(0,P.Z)(this,"handleToggleEnabled",(()=>{var{card:e,toggleDiscountCardEnabled:r,userIndex:t}=this.props;e.uuid&&r({userIndex:t,cardId:e.uuid})}))}render(){var{card:e,cardType:r,intl:t}=this.props,i=(0,x.y)(D,r&&r.color&&a.StyleSheet.create({default:{backgroundColor:r.color,":before":{content:"'".concat(t.formatMessage({id:"page.journeySearchForm.railCard.edit"}),"'")}}})).default;if(!r)return null;var l="".concat(t.formatMessage({id:"page.journeySearchForm.railCard.edit"})," ").concat(r.shortName||r.name),c=e.validityEnd&&k()(e.validityEnd).isValid()&&k()(e.validityEnd).isBefore(k()()),d=!!r&&r.canBeDisabled&&!0!==e.notSavedToPassenger&&!c,u=(0,x.y)(L.Z,a.StyleSheet.create({labelDefault:{backgroundColor:f.dp_brand_neutral_brightest,borderTopLeftRadius:s.E0.m,borderBottomLeftRadius:s.E0.m,marginBottom:0,width:"auto",height:"auto"},iconWrapDefault:{width:20,height:20,top:0,color:f.dp_app_text_inverted,lineHeight:0,borderStyle:"solid",borderWidth:1,borderColor:"rgb(0,0,0,0.24)",backgroundColor:f.dp_app_backdrop_base,marginLeft:E.Z.sizes.spacers.xs,marginRight:E.Z.sizes.spacers.xs},iconWrapChecked:{borderStyle:"solid",borderWidth:1,color:f.dp_app_text_inverted,height:"auto"},iconDefault:{width:18,height:18,top:0,marginRight:"auto",color:f.dp_brand_white,position:"relative",margin:"auto",fill:f.dp_brand_white},labelCopy:{paddingLeft:0,paddingRight:0}}));return n.createElement("div",{className:(0,a.css)(D.container)},d&&n.createElement(O.Z,{name:"jsf-card-toggle-".concat(e.uuid),checked:!!e.enabled,onChange:this.handleToggleEnabled,innerLabel:"",styleSheet:u}),n.createElement(o.kq,{styleSheet:d?[Z.radius,i]:c?[w.expired,i]:i,onClick:this.handleClick,ariaLabel:l},(0,N.B3)(r.shortName||r.name)))}}const B=(0,i.injectIntl)(F),M=a.StyleSheet.create({cardsWrapper:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start",flexGrow:1},card:{marginRight:s.W0.s2,marginBottom:s.W0.s2}});var U=e=>{var{disability:r,discountCards:t,availableCardTypes:i,launchDiscountCardModal:o,removeInvalidDiscountCards:s,passengerType:l,userIndex:d,toggleDiscountCardEnabled:u,passengerId:p,styleSheet:m,shouldDisplayIcon:g,isDisabled:v=!1,isEditLinkMyAccount:h,launchPRMDetailsModal:y,discountCardsLoadStatus:f}=e;return(0,n.useEffect)((()=>{t.forEach((e=>{i&&!i[e.id]&&s(l)}))}),[t,i,l,s]),n.createElement("div",{className:(0,a.css)(M.cardsWrapper)},t.map((e=>!!i[e.id]&&n.createElement("div",{className:(0,a.css)(M.card),key:e.uuid},n.createElement(B,{card:e,cardType:i[e.id],onClick:o,userIndex:d,passengerId:p,isEditLinkMyAccount:h,toggleDiscountCardEnabled:()=>{e.uuid&&u({userIndex:d,cardId:e.uuid})}})))),!!r&&n.createElement(c,{userIndex:d,launchPRMDetailsModal:y}),n.createElement(_,{onClick:o,userIndex:d,isAddingAnotherCard:Boolean(r)||t.length>0,styleSheet:m,shouldDisplayIcon:g,isDisabled:v,discountCardsLoadStatus:f}))};const j=(0,i.injectIntl)(U)},48064:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>he,px:()=>ve});var a=t(50093),n=t(29901),i=t(98184),o=t(78307),s=t(88543),l=t(57397),c=t(5001),d=t(89426);const u=e=>{var{className:r}=e;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",className:r},n.createElement("path",{fill:"currentColor",d:"M5 3.31L7.961.349a1.19 1.19 0 0 1 1.687.003c.466.467.469 1.221.003 1.687L6.691 5l2.96 2.961a1.19 1.19 0 0 1-.003 1.687c-.467.466-1.221.469-1.687.003L5 6.691 2.039 9.65a1.19 1.19 0 0 1-1.687-.003A1.192 1.192 0 0 1 .35 7.96L3.309 5 .35 2.039A1.19 1.19 0 0 1 .352.352 1.192 1.192 0 0 1 2.04.35L5 3.309z"}))};var p=t(60654),m=t(24955),g=t(85924),v=t(2031),h=t(45682),y=t(13035),f=t(91557),E=t(49042);const b=a.StyleSheet.create({body:{textAlign:"left"}});const S=()=>n.createElement("div",{className:(0,a.css)(b.body)},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.agePopover.body"}),". ",n.createElement(i.FormattedMessage,{id:"links.help.payForChildsTicket"},(e=>n.createElement(E.Z,{testId:"privacy-policy-link",href:e,target:"_blank"},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.agePopover.link"}),"."))));var T=t(98318),C=t(23394);const A=a.StyleSheet.create({wrapper:{position:"relative",marginTop:C.W0.s2},link:{fontSize:C.cp.small.fontSize,fontWeight:600,color:T.dp_brand_neutral_duller,textDecoration:"underline"},span:{fontSize:"var(--DEPRECATED-14px)",fontWeight:600,color:T.dp_brand_neutral_duller}});var I=e=>{var{switchAgePopoverDisplay:r,intl:t}=e;return n.createElement(h.Z,{text:t.formatMessage({id:"page.journeySearchForm.passengerTypeField.ageInput.explanation.why"}),onClick:r,className:(0,a.css)(A.link),"aria-label":t.formatMessage({id:"page.journeySearchForm.eupassengerPicker.pleaseEnterAge.aria"})})};class _ extends n.Component{constructor(){super(...arguments),(0,g.Z)(this,"whyRef",void 0),(0,g.Z)(this,"state",{isAgePopoverDisplayed:!1}),(0,g.Z)(this,"switchAgePopoverDisplay",(()=>{this.setState({isAgePopoverDisplayed:!this.state.isAgePopoverDisplayed})})),(0,g.Z)(this,"onDismiss",(()=>this.setState({isAgePopoverDisplayed:!1}))),(0,g.Z)(this,"storeWhyRef",(e=>this.whyRef=e))}hasError(){return this.props.hasError}render(){var{intl:e,error:r}=this.props,t=r&&r.error,o=this.hasError()&&t?t:"page.journeySearchForm.passengerTypeField.ageInput.explanation",s=n.createElement("span",{ref:this.storeWhyRef},n.createElement(I,{switchAgePopoverDisplay:this.switchAgePopoverDisplay,onDismiss:this.onDismiss,intl:e}));return n.createElement("div",{className:(0,a.css)(A.wrapper)},n.createElement("span",{className:(0,a.css)(A.span)},n.createElement(i.FormattedMessage,{id:o,values:{why:s}})),n.createElement(y.Z,{isOpen:this.state.isAgePopoverDisplayed,width:320,anchor:{element:this.whyRef,nubbin:!0,position:{align:f.N.TOP,grow:f.N.CENTER}},close:this.onDismiss},n.createElement(S,null)))}}const P=(0,v.compose)(i.injectIntl)(_);var R=t(70249),k=t(8888),{sizes:N}=k.Z,O=a.StyleSheet.create({labelDefault:{alignItems:"flex-start"},labelCopy:{padding:"0 ".concat(N.spacers.px12),fontWeight:"bold",lineHeight:"1.27"}});const L=a.StyleSheet.create({editButton:{color:T.dp_app_info_mid},passengerProfileEditLink:{backgroundColor:"transparent",border:"none",color:T.dp_app_link_base,paddingRight:"0.7875rem",fontWeight:"bold",":hover:not(:disabled)":{textDecoration:"underline"}},genericEditLink:{paddingRight:"calc(0.9rem - 1px)",fontWeight:"bold",color:T.dp_app_link_base,":hover":{textDecoration:"underline",color:T.dp_app_link_base}},container:{display:"flex",paddingBottom:"2px"},passengerContainer:{flex:1,alignItems:"baseline",marginBottom:N.spacers.px20,backgroundColor:T.dp_app_backdrop_base,minWidth:0},passengerTypeWrapper:{display:"flex",justifyContent:"space-between",borderRadius:C.E0.m,alignItems:"center",height:N.spacers.px40},savedPassengerTypeWrapper:{backgroundColor:T.dp_app_backdrop_dull},discountCardsContainer:{borderRadius:"0px 0px ".concat(C.E0.m," ").concat(C.E0.m),marginTop:k.Z.sizes.spacers.px6},deleteButton:{alignSelf:"start",minWidth:C.W0.s6,textAlign:"left",cursor:"pointer",backgroundColor:"transparent",display:"flex",justifyContent:"center",alignItems:"center",marginRight:C.W0.s3,height:N.spacers.px40},iconDelete:{width:"10px",height:"10px",color:T.dp_brand_neutral_dull}});var x=t(64321),D=t(31616),w=t(56515),Z=t(87005),F=t(56136),{sizes:B}=k.Z;const M=a.StyleSheet.create({labelDefault:{wordWrap:"break-word",alignItems:"baseline",margin:"".concat(B.spacers.px8," ").concat(B.spacers.px12),marginLeft:0},iconWrapDefault:{backgroundColor:T.dp_app_backdrop_base,borderWidth:"2px",marginLeft:0,minWidth:"24px",marginRight:0}});var U=["input","styleSheet"];const j=e=>{var{input:r,styleSheet:t}=e,a=(0,D.Z)(e,U);return n.createElement(w.Z,(0,x.Z)({styleSheet:(0,F.y)(Z.Z,M,t),checked:Boolean(r.value),hideInnerLabel:!0,tabIndex:0},r,a))};var H=t(36841),W=t(82768),G=t(88220),V=["input"];const Y=e=>{var{input:r}=e,t=(0,D.Z)(e,V);return n.createElement(G.Z,(0,x.Z)({role:"listbox"},r,t))};var K=t(52068),{sizes:z}=k.Z;const J=a.StyleSheet.create({genericEditLink:{paddingRight:"calc(0.9rem - 1px)",fontWeight:600,color:T.dp_app_text_subtle,":hover":{textDecoration:"underline",color:T.dp_app_text_subtle}}});var q=a.StyleSheet.create({listbox:{width:"66.66%",marginRight:z.spacers.s}}),Q=a.StyleSheet.create({listbox:{width:"33.33%",flexShrink:0}}),X=a.StyleSheet.create({listbox:{width:"100%",flexShrink:0}}),$=a.StyleSheet.create({listbox:{borderRadius:C.E0.m},select:{border:"1px solid ".concat(T.dp_brand_tertiary_dim)}}),ee=a.StyleSheet.create({label:{wordWrap:"break-word",alignItems:"center",color:T.dp_app_text_base,cursor:"pointer",outline:"0 none",fontFamily:K.R.body.face.fontFamily,paddingLeft:k.Z.sizes.spacers.px8,paddingRight:k.Z.sizes.spacers.xs,verticalAlign:"middle",padding:"0 ".concat(z.spacers.px12),fontWeight:"bold",lineHeight:"1.27"}}),re=(a.StyleSheet.create({select:{":hover":{backgroundColor:C.O9.palette.grey_60,boxShadow:"0 4px 10px 0 rgba(0, 0, 0, 0.12)"}},listbox:{color:"black",borderRadius:C.E0.m,border:"solid 1px",borderColor:T.dp_brand_neutral_brighter}}),a.StyleSheet.create({select:{height:"initial",backgroundColor:T.dp_brand_neutral_brightest,cursor:"pointer",padding:"".concat(z.spacers.px10," ").concat(z.spacers.px12),borderRadius:C.E0.m,fontWeight:600,fontSize:z.spacers.px16,":focus":{outline:"none",boxShadow:"inset 0 0 0 2px ".concat(T.dp_app_selection_dull),padding:"".concat(z.spacers.px10," ").concat(z.spacers.px12)},":hover":{backgroundColor:T.dp_brand_neutral_brighter},border:0},icon:{zIndex:1},listbox:{color:"black",width:"100%"},root:{width:"100%"}})),te=a.StyleSheet.create({select:{color:T.dp_app_text_subtle}}),ae=(a.StyleSheet.create({select:{borderTopRightRadius:0,borderBottomRightRadius:0,color:"rgba(0,0,0,0)",textShadow:"0 0 0 ".concat(T.dp_brand_neutral_dullest)}}),(e,r)=>r?[{text:e,value:"-1"},...(0,W.w6H)(0,30).map((e=>({value:e,text:e})))]:[{text:e,value:"-1"},...(0,W.w6H)(0,26).map((e=>({value:e,text:e})))]),ne=e=>isNaN(parseInt(e,10))?-1:Number(e),ie=e=>{var{fieldName:r,onChangePassengerGeneric:t,shouldDisplayAge:a,passengerTypesOptions:i,isAgeInputFocused:o,hasError:s,selected:c,intl:{formatMessage:d},shouldUseItalianYouthAgeRange:u}=e;return n.createElement(n.Fragment,null,n.createElement(l.Z,{component:Y,ariaLabel:d({id:"page.journeySearchForm.passengerTypeField.typePicker.aria"}),name:"".concat(r,".type"),testId:"passenger-type-field",onChange:e=>{t(e.currentTarget.value)},items:i,styleSheet:(0,F.y)(re,a&&o,!c&&te,a&&q),role:"none"}),a&&n.createElement(l.Z,{autoFocus:!0,component:Y,name:"".concat(r,".age"),testId:"passenger-age-field",items:ae(d({id:"page.journeySearchForm.eupassengerPicker.youthDefaultOption"}),u),parse:ne,styleSheet:(0,F.y)(re,s&&$,Q),ariaLabel:d({id:"page.journeySearchForm.eupassengerPicker.selectPassengerAge.aria"}),role:"none"}))},oe=e=>{var{fieldName:r,labelName:t,onEdit:a,isEditLinkMyAccount:o,isSavedPassenger:s,shouldDisplayAge:c,passengerAge:d,hasError:u,intl:{formatMessage:p}}=e;return!c||s||null!==d&&-1!==d?n.createElement(n.Fragment,null,n.createElement("label",{className:(0,H.css)(ee.label),htmlFor:"".concat(r,".selected")},t),n.createElement(E.Z,(0,x.Z)({},o?{href:p({id:"journeySearchForm.links.myAccountSavedPassengers"}),rel:"noopener noreferrer",target:"_blank"}:{onClick:()=>a(),rel:"help noopener noreferrer"},{styleSheet:J.genericEditLink,"data-test":"editButton"}),s?n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.passengerTypeField.edit"}):n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.passengerTypeField.addDetails"}))):n.createElement(l.Z,{autoFocus:!0,component:Y,name:"".concat(r,".age"),testId:"passenger-age-field",items:ae(p({id:"page.journeySearchForm.eupassengerPicker.selectYouthAge"})),parse:ne,styleSheet:(0,F.y)(re,u&&$,X),ariaLabel:p({id:"page.journeySearchForm.eupassengerPicker.selectPassengerAge.aria"}),role:"none"})},se=(0,i.injectIntl)((e=>{var{availableCardTypes:r,disabled:t,error:i,fieldName:o,formMeta:s,intl:c,launchPRMDetailsModal:g,launchDiscountCardModal:v,passenger:{name:h,type:y,discountCards:f,age:E,isAgeSubmitted:b,isSavedPassenger:S,selected:T,disability:C},removeInvalidDiscountCards:A,toggleDiscountCardEnabled:I,userIndex:_,isGuest:k,passengerId:N,deletePassenger:x,shouldAllowPassengerDelete:D,onRequestOpenPassengerProfileModal:w,isRecognisedUser:Z,discountCardsLoadStatus:F,shouldUseItalianYouthAgeRange:B}=e,{formatMessage:M}=c,U=s&&s.age&&s.age.active,H=s&&s.age&&s.age.touched,W=i&&Object.keys(i).length>0&&!!H,G=y===p.PassengerType.YOUTH&&(!b||W),V=((e,r,t)=>{var a=t?m.cL:m.C2,n=null!==r&&-1!==Number(r)&&a(r)?"page.journeySearchForm.eupassengerPicker.youthWithAge":(e=>e?"page.journeySearchForm.eupassengerPicker.youth.italian":"page.journeySearchForm.eupassengerPicker.youth")(t);return[{value:p.PassengerType.YOUTH,text:e({id:n},{age:r}),ariaLabel:e({id:"".concat(n,".aria")},{age:r})},{value:p.PassengerType.ADULT,text:e({id:"page.journeySearchForm.eupassengerPicker.adult".concat(t?".italian":"")}),ariaLabel:e({id:"page.journeySearchForm.eupassengerPicker.adult.aria".concat(t?".italian":"")})},{value:p.PassengerType.SENIOR,text:e({id:"page.journeySearchForm.eupassengerPicker.senior"}),ariaLabel:e({id:"page.journeySearchForm.eupassengerPicker.senior.aria"})}]})(M,E,B),Y=V.filter((e=>e.value===y)),K=k||S?h:Y[0].text,z=k?ie:oe;return n.createElement("div",{className:(0,a.css)(L.container),"data-test":"eu-passenger"},S&&n.createElement("span",null,n.createElement(l.Z,{component:j,name:"".concat(o,".selected"),label:K,disabled:t,styleSheet:O})),n.createElement("div",{className:(0,a.css)(L.passengerContainer)},n.createElement("div",{className:(0,a.css)(L.passengerTypeWrapper,!k&&L.savedPassengerTypeWrapper)},n.createElement(z,{fieldName:o,labelName:K,shouldDisplayAge:G,disabled:t,isAgeInputFocused:U,hasError:W,selected:T,isSavedPassenger:!!S,passengerTypesOptions:V,passengerAge:E,onEdit:()=>w(N),isEditLinkMyAccount:Z&&!!h,onChangePassengerGeneric:e=>{A(e)},intl:c,shouldUseItalianYouthAgeRange:B})),!G||S||E&&-1!==Number(E)?n.createElement("div",{className:(0,a.css)(L.discountCardsContainer)},n.createElement(R.Z,{disability:C,launchPRMDetailsModal:g,discountCards:f,availableCardTypes:r,passengerType:y,userIndex:_,removeInvalidDiscountCards:A,toggleDiscountCardEnabled:I,launchDiscountCardModal:v,passengerId:N,discountCardsLoadStatus:F,isEditLinkMyAccount:Z&&!!h})):n.createElement(P,{age:E})),D&&!S&&n.createElement(d.ZP,{onClick:x,styleSheet:L.deleteButton,ariaLabel:c.formatMessage({id:"page.journeySearchForm.passengerPicker.removePassenger.title.aria"},{passengerNumber:_+1})},n.createElement(u,{className:(0,a.css)(L.iconDelete)})))}));const le=(0,s.connect)(((e,r)=>{return{formMeta:(t=(0,c.Z)(o.Th)(e),a=r.userIndex,n=t&&t.euFlowPassengers,n&&n[a])};var t,a,n}))(se);var ce=t(23198),{sizes:de,typography:ue}=k.Z;a.StyleSheet.create({copy:{display:"block",paddingTop:"var(--DEPRECATED-1px)",alignSelf:"center",width:"95%"}});const pe=a.StyleSheet.create({title:{color:T.dp_app_text_base,fontWeight:"bold",fontSize:"16px",lineHeight:1.5},noSavedPassengers:{fontSize:"16px",paddingLeft:de.spacers.xs,paddingRight:de.spacers.xs},youthAgeLabel:{flexGrow:1,fontWeight:"bold"},youthAgeHelpLink:{fontSize:K.W.small.fontSize},youthAgeDropdown:{minWidth:"96px"},ageOnDayOfTravel:(0,ce.Z)((0,ce.Z)({},K.W.title5),{},{color:"black",fontWeight:"normal",marginBottom:de.spacers.s}),iconWrapper:{height:"120px",display:"flex",margin:de.spacers.m,flexDirection:"column",justifyContent:"center",alignItems:"center"},createPassengerProfileWrapper:{marginBottom:de.spacers.s},passengerTypeWrapper:{display:"flex",borderRadius:"".concat(C.E0.m,"rem ").concat(C.E0.m,"rem 0px 0px"),borderColor:T.dp_brand_neutral_brighter,alignItems:"center",position:"relative",zIndex:1},createPassengerProfleButton:(0,ce.Z)((0,ce.Z)({},ue.title3),{},{minHeight:42,display:"block",marginLeft:"auto",right:"var(--dp_s16)",bottom:"var(--dp_s16)",justifyContent:"center",flexGrow:1,fontSize:"".concat(de.spacersValues.px20,"rem"),fontWeight:600,letterSpacing:"-0.1px"}),addPassengerOrSpacer:{flex:"1 1 auto",display:"flex",justifyContent:"center",alignItems:"center"},addPassengerOrLabel:{color:T.dp_app_text_subtle},ageBracket:{border:"1px solid black",flexGrow:1,textAlign:"center",marginRight:"var(--DEPRECATED-7px)",marginLeft:"var(--DEPRECATED-7px)"},link:{":hover":{textDecoration:"none",color:T.dp_app_info_mid}},passengerListContainer:{flexGrow:1},addPassengerCopy:{color:T.dp_app_text_base,textAlign:"center",fontSize:"var(--DEPRECATED-14px)",fontWeight:600,marginBottom:"".concat(de.spacersValues.px16,"rem")},orCopy:{color:T.dp_app_text_subtle,fontSize:"var(--DEPRECATED-14px)",marginTop:"".concat(de.spacersValues.px28,"rem"),textAlign:"center"},deletePassengerProfileButton:{color:T.dp_brand_tertiary_mid,borderColor:T.dp_brand_tertiary_mid,width:"100%"},horizontalRule:{marginBottom:de.spacers.m,marginTop:de.spacers.m,borderColor:T.dp_brand_neutral_brighter},upperPanel:{padding:"var(--DEPRECATED-14px)"},headingContainer:{color:T.dp_app_text_base,marginBottom:de.spacers.s,display:"flex"},heading:{flexGrow:1,textAlign:"center",fontSize:"".concat(de.spacersValues.px20,"rem")},closeIconWrapper:{cursor:"pointer",width:"".concat(de.spacersValues.px20,"rem"),position:"absolute",right:"var(--DEPRECATED-14px)"}});var me=()=>{},ge=(e,r)=>Boolean(e&&e.name&&r&&e.name.toLowerCase().indexOf(r.toLowerCase())>-1),ve=(e,r)=>e&&r.some((r=>ge(r,e)));const he=(0,i.injectIntl)((e=>{var{fields:r,errors:t,launchDiscountCardModal:s,selectedPassengerCount:l,removeInvalidDiscountCards:c,toggleDiscountCardEnabled:d,availableCardTypes:u,isGuest:p,isRecognisedUser:m,onRequestOpenPassengerProfileModal:g,searchValue:v,launchPRMDetailsModal:h,discountCardsLoadStatus:y,shouldUseItalianYouthAgeRange:f}=e,E=l>=o.wF,b=r.map(((e,a)=>((e,r,t,a,i,o,s,l,c,d,u,p,m,g,v,h,y)=>{var f=a.get(r),E=t&&t.euPassengerErrors,b=E&&E[r];return d||!y||ge(f,y)?n.createElement(le,{key:f.id,launchPRMDetailsModal:g,userIndex:r,passenger:f,canBeRemoved:s>1&&!f.isSavedPassenger,disabled:!f.selected&&l,deletePassenger:()=>{((e,r)=>{var t=e.getAll().findIndex((e=>e.id===r));e.remove(t)})(a,f.id)},removeInvalidDiscountCards:h?h(r,f,o):me,toggleDiscountCardEnabled:c,fieldName:e,error:b,launchDiscountCardModal:i,availableCardTypes:o,isGuest:d,isRecognisedUser:p,passengerId:f.id,shouldAllowPassengerDelete:a.length>1,onRequestOpenPassengerProfileModal:u,discountCardsLoadStatus:m,shouldUseItalianYouthAgeRange:v}):null})(e,a,t&&t,r,s,u,l,E,d,p,g,m,y,h,f,c,v))).filter(Boolean);return n.createElement("div",{className:(0,a.css)(pe.passengerListContainer)},b,v&&!b.length&&n.createElement("div",{className:(0,a.css)(pe.noSavedPassengers)},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.eupassengerPicker.search.noSavedPassengersFound"})))}))},8074:(e,r,t)=>{"use strict";t.d(r,{II:()=>E,ZP:()=>b});var a=t(50093),n=t(29901),i=t(98184),o=t(89426),s=t(87374),l=t(60654),c=t(24955),d=t(99413),u=t(12708),p=t(98318),m=t(83367),g=t(52068);const v=a.StyleSheet.create({button:{padding:"".concat(m.spacers.px10," ").concat(m.spacers.px17),fontWeight:600,display:"flex",justifyContent:"center",borderColor:p.dp_app_border_dull,color:p.dp_app_text_base,position:"relative",fontFamily:g.R.brand.face.fontFamily,lineHeight:"1.43"},icon:{width:15,height:15,position:"absolute",left:m.spacers.px17,alignSelf:"center",color:p.dp_app_text_subtle},text:{width:"calc(100% - 32px)"},addPassengerButtonsHeader:{display:"flex"},addGenericPassengerButton:{width:"32%",border:"1px solid #cfd4d5",color:p.dp_app_text_base},passengerTypeLabel:{fontWeight:600,color:p.dp_app_text_base,fontSize:m.spacers.px14},genericAgeRangeLabel:{color:p.dp_app_text_subtle,marginTop:"-".concat(m.spacers.px4)},ageBracketWrapper:{color:p.dp_app_text_subtle,display:"flex",justifyContent:"space-between",fontSize:m.spacers.px13,marginTop:m.spacers.px12,marginBottom:m.spacers.s},selectGenericCopy:{color:p.dp_brand_neutral_duller,fontWeight:"bold",fontSize:m.spacers.px14,flex:1},deferAddPassengerButton:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:m.spacers.px8,position:"relative",width:"100%",border:"1px solid ".concat(p.dp_app_border_base),color:p.dp_app_text_base,fontWeight:"bold"},addPassengerButtonExperiment:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:m.spacers.px8,position:"relative",border:"1px solid ".concat(p.dp_app_border_base),color:p.dp_app_text_base,fontWeight:"bold"},iconPlus:{position:"absolute",left:m.spacers.px17,color:p.dp_app_text_subtle},iconPlusPadding:{paddingRight:m.spacers.px5},helpCalloutWrapper:{display:"flex",justifyContent:"flex-end",marginBottom:m.spacers.px12}});var h=e=>{var{onClick:r,titleId:t,testId:l,rangeAgeId:c,isEnableEUAddPassenger:d=!1,ariaLabel:u,buttonRef:p}=e;return n.createElement(o.C9,{saveInputRef:p,onClick:r,styleSheet:v.addGenericPassengerButton,testId:l,ariaLabel:u},n.createElement("div",{className:(0,a.css)(v.passengerTypeLabel)},d&&n.createElement(s.Z,{className:(0,a.css)(d&&v.iconPlusPadding)}),n.createElement(i.FormattedMessage,{id:t})),n.createElement("div",{className:(0,a.css)(v.genericAgeRangeLabel)},n.createElement(i.FormattedMessage,{id:c,values:{isEU:!0}})))},y=e=>{var{titleId:r,testId:t,rangeAgeId:a,onClick:i,isEnableEUAddPassenger:o,ariaLabel:s,buttonRef:l}=e;return n.createElement(h,{titleId:r,testId:t,rangeAgeId:a,onClick:i,isEnableEUAddPassenger:o,ariaLabel:s,buttonRef:l})},f=(e,r,t)=>{e((0,c.HL)(!1,t)),r()},E=e=>{var{onAddPassenger:r,launchPassengerList:t,intl:l}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:(0,a.css)(v.helpCalloutWrapper)},n.createElement(u.Z,{links:d.u,translationHeadingId:"page.journeySearchForm.eupassengerPicker.help.title",intl:l})),n.createElement(o.C9,{onClick:()=>{r((0,c.HL)().id),t()},styleSheet:v.deferAddPassengerButton},n.createElement(s.Z,{className:(0,a.css)(v.iconPlus)}),n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.eupassengerPicker.addEUFlowPassenger"})))};const b=e=>{var{onAddPassenger:r,launchPassengerList:t,intl:o,isEnableEUAddPassenger:s,shouldUseItalianYouthAgeRange:c}=e;return n.createElement("div",null,n.createElement("div",{className:(0,a.css)(v.addPassengerButtonsHeader)},n.createElement("div",{role:"heading","aria-level":2,className:(0,a.css)(v.selectGenericCopy)},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.eupassengerPicker.addEUFlowPassenger"})),n.createElement(u.Z,{links:d.u,translationHeadingId:"page.journeySearchForm.eupassengerPicker.help.title",intl:o})),n.createElement("div",{className:(0,a.css)(v.ageBracketWrapper)},n.createElement(y,{onClick:()=>f(r,t,l.PassengerType.YOUTH),testId:"add-youth-passenger-btn",titleId:"page.journeySearchForm.eupassengerPicker.addGenericPassenger.youth",rangeAgeId:"page.journeySearchForm.passengerPicker.ageRange.youths".concat(c?".italian":""),isEnableEUAddPassenger:s,ariaLabel:o.formatMessage({id:"page.journeySearchForm.eupassengerPicker.addYouth.aria".concat(c?".italian":"")})}),n.createElement(y,{onClick:()=>f(r,t,l.PassengerType.ADULT),testId:"add-adult-passenger-btn",titleId:"page.journeySearchForm.eupassengerPicker.addGenericPassenger.adult",rangeAgeId:"page.journeySearchForm.passengerPicker.ageRange.adults".concat(c?".italian":""),isEnableEUAddPassenger:s,ariaLabel:o.formatMessage({id:"page.journeySearchForm.eupassengerPicker.addAdult.aria".concat(c?".italian":"")})}),n.createElement(y,{onClick:()=>f(r,t,l.PassengerType.SENIOR),testId:"add-senior-passenger-btn",titleId:"page.journeySearchForm.eupassengerPicker.addGenericPassenger.senior",rangeAgeId:"page.journeySearchForm.passengerPicker.ageRange.seniors",isEnableEUAddPassenger:s,ariaLabel:o.formatMessage({id:"page.journeySearchForm.eupassengerPicker.addSenior.aria"})})))}},66593:(e,r,t)=>{"use strict";t.d(r,{Z:()=>y});var a=t(50093),n=t(29901),i=t(98184),o=t(89426),s=t(87374),l=t(56136),c=t(23198),d=t(98318),u=t(8888),p=t(23394),m=t(52068),{sizes:g}=u.Z,v={fontWeight:600,fontFamily:m.R.brand.face.fontFamily,border:"1px solid ".concat(d.dp_app_border_base),borderRadius:p.E0.m,padding:"0 ".concat(g.spacers.px8),color:d.dp_app_text_base,height:"28px",minHeight:"auto",width:"auto",overflow:"hidden",":hover":{backgroundColor:d.dp_comp_button_tertiary_background_hover},":active":{backgroundColor:d.dp_comp_button_tertiary_background_pressed}};const h=a.StyleSheet.create({container:{display:"flex",alignItems:"center",justifyContent:"center",margin:"".concat(g.spacers.px8," 0")},button:v,buttonWithVoucher:(0,c.Z)((0,c.Z)({},v),{},{fontSize:"0.75rem",":before":{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",position:"relative",marginTop:"-28px",visibility:"hidden"},":hover:before":{marginTop:0,visibility:"visible"}}),icon:{color:d.dp_brand_neutral_dull,width:10,height:10,marginRight:g.spacers.px8}});const y=(0,i.injectIntl)((e=>{var{onRequestOpenVoucherModal:r,hasVoucher:t,intl:c,passengers:d}=e,u=t?"page.journeySearchForm.eupassengerPicker.discountVoucherAdded":"page.journeySearchForm.eupassengerPicker.addDiscountVoucher";return d.every((e=>{var{selected:r}=e;return!1===r}))?null:n.createElement("div",{className:(0,a.css)(h.container)},n.createElement(o.ZP,{onClick:r,styleSheet:t?(0,l.y)(h,a.StyleSheet.create({buttonWithVoucher:{":before":{content:"'".concat(c.formatMessage({id:"page.journeySearchForm.eupassengerPicker.editDiscountVoucher"}),"'")}}})).buttonWithVoucher:h.button,testId:"add-voucher-btn"},!t&&n.createElement(s.Z,{className:(0,a.css)(h.icon)}),n.createElement(i.FormattedMessage,{id:u})))}))},12708:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var a=t(36841),n=t(29901),i=t(98184),o=t(13035),s=t(89426),l=t(91557),c=t(49042),d=t(39555),u=t(98318),p=t(50093),m=t(23394),g=p.StyleSheet.create({buttonContainer:{display:"flex",alignItems:"center"},button:{backgroundColor:"transparent",":hover":{cursor:"pointer"},color:u.dp_app_text_base,width:m.W0.s4,height:m.W0.s4,display:"flex"},linksContainer:{display:"flex",flexDirection:"column",listStyleType:"none"},linkItem:{marginBottom:m.W0.s3,":first-child":{marginTop:m.W0.s2}}});const v=e=>{var{translationHeadingId:r,intl:t,links:u,styleSheet:p}=e,m=n.useRef(null),[v,h]=n.useState(!1);return n.createElement(n.Fragment,null,n.createElement("div",{className:(0,a.css)(g.buttonContainer,p&&p.buttonContainer)},n.createElement(s.ZP,{styleSheet:g.button,saveInputRef:m,onClick:()=>h(!v),testId:"help-callout-button",ariaLabel:t.formatMessage({id:"page.journeySearchForm.eupassengerPicker.addEUFlowPassenger.aria"})},n.createElement(d.Z,{className:(0,a.css)(p&&p.icon)}))),n.createElement(o.Z,{isOpen:v,width:330,title:t.formatMessage({id:r}),anchor:{element:m.current,nubbin:!0,position:{align:l.N.TOP,grow:l.N.CENTER}},close:()=>h(!1)},n.createElement("ol",{className:(0,a.css)(g.linksContainer)},u.map((e=>{var{linkHref:r,linkTranslationKey:o}=e;return n.createElement("li",{key:o,className:(0,a.css)(g.linkItem)},n.createElement(c.Z,{href:t.formatMessage({id:r}),rel:"help noopener noreferrer",target:"_blank"},n.createElement(i.FormattedMessage,{id:o})))})))))}},49661:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>g,o6:()=>v});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(52068),c=t(52480),d=t(78361),{sizes:u}=o.Z,p={borderColor:n.dp_brand_primary_mid,left:"var(--DEPRECATED-14px)",overflow:"visible",padding:"var(--DEPRECATED-14px)",width:"calc(100% - 1.8rem)",minHeight:"calc(100% - 2rem)",top:"var(--DEPRECATED-14px)",borderRadius:s.E0.l},m=(0,a.Z)((0,a.Z)({},d.LI),{},{borderColor:n.dp_brand_tertiary_dim,borderWidth:2});const g=i.StyleSheet.create({dropdownContainer:(0,a.Z)({},p),headingContainer:{color:n.dp_app_text_base,marginBottom:u.spacers.s,display:"flex"},heading:{flexGrow:1,textAlign:"center",fontSize:u.spacers.px18,fontFamily:l.R.brand.face.fontFamily},help:{flex:"0 0 20%",textAlign:"right",alignSelf:"center",color:n.dp_app_link_base,fontWeight:600,":hover":{color:n.dp_app_link_base,textDecoration:"underline"}},closeIconWrapper:{cursor:"pointer",height:u.spacers.px24,position:"absolute",right:"var(--DEPRECATED-14px)"},noPadding:{padding:0,justifyContent:"space-between"},doneButton:(0,a.Z)((0,a.Z)({},l.W.title3),{},{minHeight:42,display:"block",marginLeft:"auto",right:u.spacers.m,bottom:u.spacers.m,justifyContent:"center",flexGrow:1,fontSize:"var(--DEPRECATED-14px)",fontWeight:600,letterSpacing:"-0.1px",marginTop:u.spacers.px8}),button:d.LI,errorButton:m,wrapper:{position:"relative",height:"100%"},bannerWrapper:{margin:u.spacers.m,marginBottom:0},chevronWrapper:{bottom:0,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:u.spacers.s,top:0},chevron:{width:"var(--DEPRECATED-14px)"},bottomWrapper:{display:"flex",flexDirection:"column"},horizontalRuleStyle:d.HL,maxPassengerAlertStyles:{padding:u.spacers.px16,paddingRight:u.spacers.px12,marginBottom:u.spacers.px20},addEUPassenger:{background:n.dp_brand_neutral_brightest,borderColor:n.dp_brand_neutral_brightest,marginLeft:u.spacers.px6,display:"inline-flex",alignItems:"center"},totalWidth:{width:"100%"},alignEUPassengerButton:{display:"flex"}});var v=i.StyleSheet.create({button:{cursor:"pointer",textAlign:"left"},spacer:{[s.cy.min.m]:{paddingLeft:"86px",":focus":{paddingLeft:"86px"}}},label:{[s.cy.min.m]:{paddingLeft:"70px"}},addPassengerWrapper:{zIndex:1},dropdownContainer:(0,a.Z)((0,a.Z)({},p),{},{width:"var(--DEPRECATED-420px)",borderColor:n.dp_app_border_dull,borderRadius:s.E0.m,top:"auto",left:"unset",right:0,boxShadow:"none",marginRight:d.hq,":focus":{outline:"none",borderColor:n.dp_app_border_dull,borderBottomColor:n.dp_brand_white,boxShadow:"none"},position:"absolute",marginTop:"-0.09975rem"}),activeButton:(0,a.Z)({},c.BL[":active"]),grayBackground:{backgroundColor:n.dp_app_backdrop_dull},horizontalViewErrorButton:(0,a.Z)((0,a.Z)({},m),{},{paddingLeft:u.spacers.px15,paddingRight:u.spacers.s,paddingTop:u.spacers.px6}),overlay:{borderRadius:"0px ".concat(s.E0.m," ").concat(s.E0.m," 0px"),width:u.spacers.l,height:"100%",position:"absolute",right:"0",top:"0"}})},69576:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(36841),n=t(29901),i=t(98184),o=t(83661),s=t(78307),l=t(98318),c=t(50093),d=t(83367),u=t(52068);const p=c.StyleSheet.create({warning:{fontFamily:u.R.brand.face.fontFamily,lineHeight:u.W.title2.lineHeight,color:l.dp_app_text_subdued,marginBottom:d.spacers.px8},title:{paddingBottom:d.spacers.px9,fontWeight:u.R.body.weights.semiBold,color:l.dp_app_text_base}});const m=e=>{var{selectedPassengerCount:r}=e;return r>=s.wF?n.createElement(o.gX,{styleSheet:p.warning},n.createElement("div",{className:(0,a.css)(p.title)},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.eupassengerPicker.maxPassengerLimitWarning",values:{passengers:s.wF}})),n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.eupassengerPicker.maxPassengerLimitWarningSubtext"})):null}},4582:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>f});var a=t(64321),n=t(85924),i=t(29901),o=t(98184),s=t(88543),l=t(44689),c=t(2031),d=t(18406),u=t(82758),p=t(64169),m=t(78307),g=t(79423),v=function(e){return e.SIGN_PROMPT_ALERT_DISMISSED="signInPromptDismissed",e}({}),h=e=>({pushEuFlowPassenger:r=>e((0,d.aj)(m.Th,"euFlowPassengers",r)),updateEuFlowPassenger:(r,t,a)=>{var n=r.findIndex((e=>e.id===t));e((0,d.Ab)(m.Th,"euFlowPassengers",n)),e((0,d.Zv)(m.Th,"euFlowPassengers",n,a))},removeEuFlowPassenger:(r,t)=>{var a=r.findIndex((e=>e.id===t));e((0,d.Ab)(m.Th,"euFlowPassengers",a))},onPassengerPickerOpened:()=>{e((0,g.Je)())}}),y=e=>class extends i.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{isOpen:!1,promptDismissed:Boolean(p.nP.getItem(v.SIGN_PROMPT_ALERT_DISMISSED)),searchValue:""}),(0,n.Z)(this,"hasError",(()=>this.props.errors&&Object.keys(this.props.errors).length>0||!1)),(0,n.Z)(this,"onSearchChange",(e=>{this.setState({searchValue:e.target.value})})),(0,n.Z)(this,"toggleClickedStatus",(e=>{this.props.inputRefManaged&&this.props.clickedStatusHandler(this.props.inputRefManaged,e)})),(0,n.Z)(this,"onToggle",(()=>{var{triggerPassengerPickerCompletedAnalytics:e,triggerPassengerPickerSavedPassengersAnalytics:r,savedPassengerCount:t=0,onPassengerPickerOpened:a}=this.props,{isOpen:n}=this.state;!n&&r&&t>0&&r(t),n||a(),e&&n&&e(),this.togglePicker()})),(0,n.Z)(this,"onLaunchPassengerList",(()=>{this.setState({isOpen:!0}),this.toggleClickedStatus(!0)})),(0,n.Z)(this,"onClose",(()=>{this.setState({isOpen:!1}),this.toggleClickedStatus(!1)})),(0,n.Z)(this,"onDismiss",((e,r,t)=>{this.props.shouldBlockPassengerPickerDismiss||e&&r&&(r.contains(e.target)||r.isSameNode(e.target))&&(!t||!t.contains(e.target)&&!t.isSameNode(e.target))||(this.props.triggerPassengerPickerCompletedAnalytics&&this.props.triggerPassengerPickerCompletedAnalytics(),this.state.searchValue&&this.setState({searchValue:""}),this.togglePicker(),(r&&e&&r.isSameNode(e.target)||e&&t&&t.isSameNode(e.target))&&this.scrollToTop())})),(0,n.Z)(this,"onSignInPromptDismissed",(()=>{p.nP.setItem(v.SIGN_PROMPT_ALERT_DISMISSED,"true"),this.setState({promptDismissed:!0})}))}componentDidMount(){var e=!(!this.props.forcePassengerPickerOpen||!this.props.forcePassengerPickerOpen.forceOpen)||this.hasError();this.setState({isOpen:e}),this.toggleClickedStatus(e)}componentDidUpdate(e){var r=(0,u.CD)(e.passengers,this.props.intl),t=(0,u.CD)(this.props.passengers,this.props.intl);r.length!==t.length&&this.props.onChangePassengerSelection(t)}togglePicker(){var{isOpen:e}=this.state;this.hasError()&&e||this.props.isPassengerProfileModalOpen||this.props.isVoucherModalOpen||(this.setState({isOpen:!e}),this.toggleClickedStatus(!e))}scrollToTop(){l.animateScroll.scrollToTop({duration:500})}render(){return i.createElement(e,(0,a.Z)({},this.props,{uiState:this.state,onToggle:this.onToggle,onDismiss:this.onDismiss,onClose:this.onClose,onLaunchPassengerList:this.onLaunchPassengerList,onSignInPromptDismissed:this.onSignInPromptDismissed,onSearchChange:this.onSearchChange}))}};const f=e=>(0,c.compose)(o.injectIntl,(0,s.connect)(null,h))(y(e))},15378:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>u});var a=t(50093),n=t(29901),i=t(98184),o=t(89426),s=t(71839),l=t(98318),c=t(23394);const d=a.StyleSheet.create({root:{width:"100%",display:"flex",justifyContent:"center",marginTop:c.W0.s8,marginBottom:c.W0.s12},button:{display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid ".concat(l.dp_app_border_base),borderRadius:c.E0.m},icon:{height:c.W0.s4,width:c.W0.s4,marginRight:c.W0.s2},criticalTitle:{display:"block",textAlign:"center",marginBottom:c.W0.s4},criticalText:{display:"block",textAlign:"center"},fillSpace:{display:"flex",flexDirection:"column",alignItems:"stretch",marginBottom:c.W0.s2}});const u=(0,i.injectIntl)((e=>{var{disabled:r,launchPRMDetailsModal:t,intl:l,fillSpace:c}=e,u=(0,n.useRef)(null),p=(0,n.useCallback)((()=>{r||t({})}),[r,t]);return n.createElement("div",{className:(0,a.css)(c?d.fillSpace:d.root)},n.createElement(o.gh,{disabled:r,isMultiline:!0,ariaLabel:l.formatMessage({id:"page.journeySearchForm.passengerPicker.addPRMDetails.button.label"}),styleSheet:d.button,onClick:p,testId:"add-prm-details",saveInputRef:u},n.createElement(s.Z,{className:(0,a.css)(d.icon)}),n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.addPRMDetails.button.label"})))}))},96391:(e,r,t)=>{"use strict";t.d(r,{Z:()=>y});var a=t(50093),n=t(29901),i=t(98184),o=t(37754),s=t(83707),l=t(37977),c=t(49407),d=t(23198),u=t(98318),p=t(23394),m=t(83367),g=t(94878),v=t(4385),h=a.StyleSheet.create({root:(0,d.Z)({position:"relative",borderRadius:p.E0.l,whiteSpace:"pre-line",color:u.dp_app_text_subdued,display:"flex",alignItems:"center",marginBottom:m.spacers.px20,marginRight:m.spacers.px64},p.cp.small),withDismissButton:{alignItems:"flex-start"},icon:{marginRight:m.spacers.px10,width:m.spacers.px19,height:m.spacers.px19,flexShrink:0},message:{flex:"1 1 auto",marginRight:"auto"},link:{color:u.dp_app_text_subdued,width:"fit-content",verticalAlign:"unset",textDecoration:"underline",":focus-visible":{borderRadius:p.E0.m,outline:"none",boxShadow:"0 0 0 4px ".concat((0,g.I)(v.ZP.dp_brand_secondary_dull,.5))}},dismiss:{width:16,height:16,position:"initial",flexShrink:0,cursor:"pointer"}});const y=(0,i.injectIntl)((e=>{var{onSignInPromptDismissed:r,href:t,enableDismissButton:i=!0,isRecognisedUser:d=!1,intl:u}=e;return n.createElement("div",{className:(0,a.css)([h.root,i&&h.withDismissButton])},n.createElement("div",{className:(0,a.css)(h.message)},n.createElement(l.ZP,{tagsMap:{a:e=>{var{children:r}=e;return n.createElement(s.vO,{id:"passenger-login-button",testId:"passenger-login-button",href:t||c.wm,styleSheet:h.link,ariaLabel:u.formatMessage({id:"page.journeySearchForm.eupassengerPicker.loggedOutAlert.aria"})},r)}},id:d?"page.journeySearchForm.eupassengerPicker.recognisedUserAlert":"page.journeySearchForm.eupassengerPicker.loggedOutAlert"})),i&&n.createElement(o.U4,{onClick:r,styleSheet:h.dismiss}))}))},34571:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(50093),n=t(83367),i=t(52068);const o=a.StyleSheet.create({errorWrapper:i.W.small,warningAlert:{marginBottom:n.spacers.m,padding:n.spacers.m},warningIcon:{marginRight:n.spacers.m}})},79076:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var a=t(85924),n=t(21847),i=t(50093),o=t(29901),s=t(98184),l=t(18212),c=t(26625),d=t(34571);class u extends o.Component{render(){var{meta:e,error:r,dark:t,connector:a,testId:u,bounceInMessage:p,useConnector:m,intl:g}=this.props,v=e&&e.error||r,h=m?a:void 0;return v?o.createElement("div",{className:(0,i.css)(d.Z.errorWrapper)},o.createElement(l.Z,{level:"error",dark:t,bounceIn:p,connector:h,testId:u},((e,r)=>e.map(((e,t)=>{var a,i;return"object"==typeof e?(a=e.id,i=e.message):(a=e,i=e),o.createElement("div",{key:t},o.createElement(c.fQ,{hooks:[c.OS.ON_RENDER],event:(0,c.C6)({format:"inline.validation.error",message:r.formatMessage({id:i}),id:a,type:n.ErrorType.Customer})},o.createElement(s.FormattedMessage,{id:i})))})))([].concat(v),g))):null}}(0,a.Z)(u,"defaultProps",{dark:!0,connector:l.w.TOP_LEFT,useConnector:!0});const p=(0,s.injectIntl)(u)},28620:(e,r,t)=>{"use strict";t.d(r,{Z:()=>pe});var a=t(64321),n=t(23198),i=t(85924),o=t(21847),s=t(29901),l=t(98184),c=t(31616),d=t(50093),u=t(56136),p=t(13779),m=t(99112),g=t(61065),v=t(74999),h=t(18212),y=t(93422),f=t(75788);const E=function(e){var r,t=e.keyCode;return"charCode"in e?0===(r=e.charCode)&&13===t&&(r=13):r=t,r>=32||13===r?r:0};var b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};const T=function(e){if(e.key){var r=b[e.key]||e.key;if("Unidentified"!==r)return r}if("keypress"===e.type){var t=E(e);return 13===t?"Enter":String.fromCharCode(t)}return"keydown"===e.type||"keyup"===e.type?S[e.keyCode]||"Unidentified":""};var C={altKey:"Alt",ctrlKey:"Control",shiftKey:"Shift"},A=(e,r)=>Object.keys(C).filter((t=>e[t]&&r!==C[t])).map((e=>C[e])).join("")+r;class I extends s.Component{constructor(){super(...arguments),(0,i.Z)(this,"subscription",void 0)}componentDidMount(){this.subscription=(0,f.R)(window,"keydown").subscribe((e=>{var r=A(e,T(e)),t=this.props.handlers[r];t&&t(e)}))}componentWillUnmount(){this.subscription&&this.subscription.unsubscribe()}render(){return s.Children.only(this.props.children)}}var _=t(44277),P=t(98318),R=t(23394),k=t(52068);const N=d.StyleSheet.create({root:{listStyle:"none",margin:0,padding:0,outline:0,border:"1px solid rgba(0,0,0,.15)",borderTop:"0.1429rem solid ".concat(P.dp_brand_primary_mid),background:P.dp_app_backdrop_base,fontSize:"var(--DEPRECATED-14px)"},item:{padding:0,borderBottom:"1px dotted ".concat(P.dp_brand_neutral_brighter),display:"block",listStyleImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",margin:0,minHeight:0,":last-child":{borderBottomStyle:"none"}},horizontalSearchStyle:{listStyle:"none",margin:0,padding:0,outline:0,background:"none",border:"none",fontSize:"var(--DEPRECATED-14px)"},stationsLabel:{fontFamily:k.R.body.face.fontFamily,backgroundColor:"#e7edf0",color:"#586265",fontSize:k.W.small.fontSize,lineHeight:.75,fontWeight:600,padding:"10px 10px 10px 8px"},euRecentStationsLabel:(0,n.Z)((0,n.Z)({},R.cp.title3),{},{padding:"0 ".concat(R.W0.s4," ").concat(R.W0.s2," ").concat(R.W0.s4),color:P.dp_app_text_base,[R.cy.max.s]:{padding:"0 ".concat(R.W0.s3," ").concat(R.W0.s2," ").concat(R.W0.s3)}}),euPopularStationsLabel:(0,n.Z)((0,n.Z)({},R.cp.title3),{},{padding:"".concat(R.W0.s4," ").concat(R.W0.s4," ").concat(R.W0.s2," ").concat(R.W0.s4),color:P.dp_app_text_base,[R.cy.max.s]:{padding:"".concat(R.W0.s4," ").concat(R.W0.s3," ").concat(R.W0.s2," ").concat(R.W0.s3)}}),horizontalSearchStationsLabel:{backgroundColor:"transparent",fontWeight:"bold",color:P.dp_app_text_base},noBorder:{border:"none"},tripFinderBannerContainer:{padding:"".concat(R.W0.s2," 0")}});var O=["type"];class L extends s.PureComponent{constructor(){super(...arguments),(0,i.Z)(this,"onClick",(()=>{var{onClick:e,item:r}=this.props;e(r)})),(0,i.Z)(this,"onMouseOver",(()=>{var{onMouseOver:e,index:r}=this.props;e(r)}))}render(){var{id:e,item:r,isFocused:t,hoverable:n,itemComponent:i,styles:o,suggestionFieldType:l,showFullCountryName:c=!1,isTrainline:u}=this.props;return s.createElement("li",{className:(0,d.css)(o.li),key:r.id,role:"option",id:t?e:void 0,"aria-selected":t,onClick:this.onClick,onMouseOver:this.onMouseOver},s.createElement(i,(0,a.Z)({isFocused:t,isHoverable:n},r,{suggestionFieldType:l,showFullCountryName:c,isTrainline:u})))}}const x=e=>{var{type:r}=e,t=(0,c.Z)(e,O),i={li:[N.item]};return r===_.P.SearchWidget&&i.li.push(N.noBorder),s.createElement(L,(0,a.Z)({},(0,n.Z)((0,n.Z)({},t),{},{styles:i}),{suggestionFieldType:r}))};class D extends s.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{currentIndex:0,hoveredIndex:-1,focusable:!0}),(0,i.Z)(this,"handleConfirmKey",(e=>{var r=Math.max(this.state.currentIndex,0);this.props.onConfirmKey(e,r),this.handleItemSelected({searchText:this.props.value&&this.props.value.toLowerCase(),index:r,items:this.props.value?this.props.items:this.props.items.concat(this.props.popularStationsItems,this.props.exploreEuropeStationsItems),recentItems:this.props.value?[]:this.props.items,popularStationsItems:this.props.value?[]:this.props.popularStationsItems,exploreEuropeStationsItems:this.props.value?[]:this.props.exploreEuropeStationsItems})})),(0,i.Z)(this,"handleBlur",(()=>{var{onDismiss:e}=this.props;e&&e()})),(0,i.Z)(this,"keyHandlers",{ArrowDown:this.handleNavigationKeyWithOffset(1),ArrowUp:this.handleNavigationKeyWithOffset(-1),Enter:this.handleConfirmKey,Tab:this.handleConfirmKey,ShiftTab:this.handleConfirmKey}),(0,i.Z)(this,"onMouseEnter",(()=>this.setState({focusable:!1}))),(0,i.Z)(this,"onMouseLeave",(()=>{this.setState({focusable:!0,hoveredIndex:-1})})),(0,i.Z)(this,"onMouseMove",(()=>{this.state.focusable&&this.setState({focusable:!1})})),(0,i.Z)(this,"onItemMouseOver",(e=>this.setState({hoveredIndex:e}))),(0,i.Z)(this,"onClickItem",(e=>{this.props.onItemClickConfirm(e);var r=this.props.value?this.props.items:this.props.items.concat(this.props.popularStationsItems,this.props.exploreEuropeStationsItems),t=r.findIndex((r=>{var{code:t}=r;return e.code===t}));this.handleItemSelected({searchText:this.props.value&&this.props.value.toLowerCase(),index:t,items:r,recentItems:this.props.value?[]:this.props.items,popularStationsItems:this.props.value?[]:this.props.popularStationsItems,exploreEuropeStationsItems:this.props.value?[]:this.props.exploreEuropeStationsItems})}))}handleItemSelected(e){var r,{items:t,index:a,recentItems:n,popularStationsItems:i,exploreEuropeStationsItems:o,searchText:s}=e;if(!(t.length<=1)&&this.props.onSuggestionSelected){var l="search";(n.length||i.length||o.length)&&(l=a>=n.length+i.length?"explore_europe":a>=n.length?"popular":"recent"),this.props.onSuggestionSelected({searchText:s,index:String(a),source:l,selectedStationName:null===(r=t[a])||void 0===r||null===(r=r.name)||void 0===r?void 0:r.toLowerCase()})}}handleNavigationKeyWithOffset(e){return r=>{var{currentIndex:t,hoveredIndex:a}=this.state;r.preventDefault(),this.setState({focusable:!0});var{items:n,popularStationsItems:i,exploreEuropeStationsItems:o}=this.props,s=[...n,...i,...o],l=((e,r,t)=>e<0&&-1===r?t+r:e===t-1&&1===r?-1:e+r)(a>-1?a:t,e,s.length);this.props.onItemSelect(s[l]),this.setState({currentIndex:l,hoveredIndex:-1})}}componentDidUpdate(e){e.items!==this.props.items&&this.setState({currentIndex:0})}render(){var{id:e,isSearchWidget:r,isTrainline:t,itemId:a,items:n,listRef:i,listUpdatePromise:o,popularStationsItems:c,exploreEuropeStationsItems:u,showFullCountryName:p,styles:m,type:g,value:v,tripFinderBanner:h}=this.props,{currentIndex:y}=this.state,f=g===_.P.SearchWidget||this.state.focusable,E=n.map(((e,r)=>s.createElement(x,{hoverable:!f,id:a,index:r,isFocused:f&&y===r,isTrainline:t,item:e,itemComponent:this.props.itemComponent,key:e.code,onClick:this.onClickItem,onMouseOver:this.onItemMouseOver,showFullCountryName:p,type:g}))),b=c.map(((e,r)=>s.createElement(x,{hoverable:!f,id:a,index:r+n.length,isFocused:f&&y===r+n.length,isTrainline:t,item:e,itemComponent:this.props.itemComponent,key:"popular-".concat(e.code),onClick:this.onClickItem,onMouseOver:this.onItemMouseOver,showFullCountryName:p,type:g}))),S=u.map(((e,r)=>s.createElement(x,{hoverable:!f,id:a,index:r+n.length,isFocused:f&&y===r+n.length,isTrainline:t,item:e,itemComponent:this.props.itemComponent,key:"explore-europe-".concat(e.code),onClick:this.onClickItem,onMouseOver:this.onItemMouseOver,showFullCountryName:p,type:g})));if(!E.length&&!b.length)return null;var T=S.length?8:10,C=b.slice(0,T),A=E.length>0?E:null,P=C.length>0?C:null,R=S.length>0?S:null,k=R&&!v,N="".concat(o?"updating-":"","suggestion-field-list");return s.createElement(I,{handlers:this.keyHandlers},s.createElement("ul",{id:e,role:"listbox",ref:i,className:(0,d.css)(m.root),tabIndex:-1,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,"data-test":N},v&&h,A&&!v&&s.createElement("div",{className:(0,d.css)(r?m.euRecentStationsLabel:m.stationsLabel),"data-test":"recentStationsLabel"},s.createElement(l.FormattedMessage,{id:r?"components.suggestionField.eu.recentStations.label":"components.suggestionField.recentStations.label"})),s.createElement("div",null,A),A&&P&&!v&&h,P&&!v&&s.createElement("div",null,s.createElement("div",{className:(0,d.css)(r?m.euPopularStationsLabel:m.stationsLabel),"data-test":"popularStationsLabel"},s.createElement(l.FormattedMessage,{id:r?"components.suggestionField.eu.popularStations.label":"components.suggestionField.popularStations.label"})),P),!v&&(!A||!P)&&h,k&&s.createElement("div",null,s.createElement("div",{className:(0,d.css)(m.stationsLabel),"data-test":"exploreEuropeStationsLabel"},s.createElement(l.FormattedMessage,{id:"components.suggestionField.exploreEuropeStations.label"})),R)))}}const w=e=>{var{type:r}=e,t={styles:{root:[N.root],stationsLabel:[N.stationsLabel],euRecentStationsLabel:[N.euRecentStationsLabel],euPopularStationsLabel:[N.euPopularStationsLabel]}};return r===_.P.SearchWidget&&(t.styles.root=[N.horizontalSearchStyle],t.styles.stationsLabel.push(N.horizontalSearchStationsLabel),t.styles.euRecentStationsLabel.push(N.euRecentStationsLabel),t.styles.euPopularStationsLabel.push(N.euPopularStationsLabel)),s.createElement(D,(0,a.Z)({},e,{type:r,styles:t.styles}))};var Z=t(41344),F=t(91557),B=t(28220),M=t(88593),U=t(13111),j=t(73455),H=t(73769),W=t(51812),G=t(83661),V=["children","suggestionFieldType"],Y=e=>{var{children:r,label:t,isStacked:a,isUkHorizontalSearchEnabled:n,name:i}=e,o=a?n?i&&"from"===i?W.Bw:W.jb:W.r4:void 0;return a?s.createElement("div",{className:(0,d.css)(null==o?void 0:o.wrapper)},t&&s.createElement("div",{className:(0,d.css)(null==o?void 0:o.label)},t),r):s.createElement(s.Fragment,null,r)},K=e=>{var{children:r,suggestionFieldType:t}=e,n=(0,c.Z)(e,V);return s.createElement("div",{className:(0,d.css)(W.cW.container)},s.createElement(v.Z,(0,a.Z)({},n,t===_.P.SearchWidget&&{orientationType:v.P.Horizontal})),r)},z=(e,r)=>{var{value:t,hasError:a}=e,{value:n,hasError:i}=r;return t===n&&a===i},J=s.memo(H.Z,z),q=s.memo(U.Z.Input,z);class Q extends s.Component{constructor(){super(...arguments),(0,i.Z)(this,"connectorOffset",0),(0,i.Z)(this,"connectorOffsetTimeout",void 0),(0,i.Z)(this,"state",{selectedItem:void 0,pressedKey:void 0,show:!1}),(0,i.Z)(this,"containerNode",void 0),(0,i.Z)(this,"textInput",void 0),(0,i.Z)(this,"headerInput",void 0),(0,i.Z)(this,"listNode",void 0),(0,i.Z)(this,"handleBlur",(()=>{this.hideSuggestions()})),(0,i.Z)(this,"itemClickConfirm",(e=>{var{onItemSelect:r,onConfirmKey:t,isViaAvoid:a}=this.props,n=()=>null==r?void 0:r(e),i=()=>{null==t||t(e),a?n():(this.onItemSelect(e,n),this.hideSuggestions())};a?i():setTimeout((()=>{i()}),0)})),(0,i.Z)(this,"saveContainer",(e=>this.containerNode=e)),(0,i.Z)(this,"saveInputRef",(e=>{this.props.inputRef&&this.props.inputRef(e),this.textInput=e})),(0,i.Z)(this,"saveHeaderInputRef",(e=>{this.headerInput=e})),(0,i.Z)(this,"saveListRef",(e=>this.listNode=e)),(0,i.Z)(this,"onItemSelect",((e,r)=>{this.setState({selectedItem:e},r)})),(0,i.Z)(this,"delayedBlur",(()=>{var e,r,t;null===(e=this.props)||void 0===e||e.onInputBlur((null===(r=this.state.selectedItem)||void 0===r?void 0:r.name)||(null===(t=this.textInput)||void 0===t?void 0:t.value)||"")})),(0,i.Z)(this,"onBlur",(()=>{var{listUpdatePromise:e}=this.state;e?e.then(this.delayedBlur):this.delayedBlur()})),(0,i.Z)(this,"delayedSelect",(e=>{var{items:r,popularStationsItems:t,exploreEuropeStationsItems:a,onItemSelect:n}=this.props,i=[...r,...t,...a][e];this.onItemSelect(i,(()=>{null==n||n(i||{name:this.textInput&&this.textInput.value||"",code:"",id:""}),this.hideSuggestions()}))})),(0,i.Z)(this,"onConfirmKey",((e,r)=>{var t=A(e,T(e)),{listUpdatePromise:a}=this.state,{onConfirmKey:n}=this.props;"ShiftTab"!==t&&e.preventDefault(),a||this.delayedSelect(r),n&&n({},t)})),(0,i.Z)(this,"onFocus",(e=>{var r,t;this.state.show||(null===(r=(t=this.props).onFocus)||void 0===r||r.call(t,e),this.setState({show:!0}))})),(0,i.Z)(this,"onDismiss",(()=>{this.state.show&&(this.onBlur(),this.hideSuggestions())})),(0,i.Z)(this,"hideSuggestions",(()=>{this.setState({show:!1})}))}UNSAFE_componentWillReceiveProps(e){var r;if(null===(r=e.setShowMethod)||void 0===r||r.call(e,this.onFocus.bind(this)),(this.props.value!==e.value&&this.state.selectedItem||e.updatingList)&&(this.setState({selectedItem:void 0}),!this.props.updatingList&&e.updatingList)){var t,a=new Promise(((e,r)=>{t={resolve:e,reject:r}}));this.setState({listUpdateResolver:t,listUpdatePromise:a})}}componentDidMount(){this.connectorOffsetTimeout=window.setTimeout((()=>{if(this.containerNode&&this.textInput){var e=this.textInput.getBoundingClientRect(),r=this.containerNode.getBoundingClientRect();this.connectorOffset=e.left-r.left}}))}componentWillUnmount(){this.connectorOffsetTimeout&&(window.clearTimeout(this.connectorOffsetTimeout),this.connectorOffsetTimeout=void 0)}componentDidUpdate(e,r){var{listUpdateResolver:t}=this.state;!this.props.updatingList&&e.updatingList&&r.listUpdatePromise&&t&&(t.resolve(),this.setState({listUpdateResolver:void 0,listUpdatePromise:void 0}))}render(){var{ariaAutocomplete:e,ariaDescribedby:r,ariaExpanded:t,ariaLabel:a,ariaOwns:n,autoFocus:i,deviceType:o,disabled:c,error:v,headerInjectedComponent:f,hideErrorMessage:E,inputMapper:b,inputRefManaged:S,isOrientationVertical:T,isSearchWidget:C,isStacked:A,isTrainline:I,isUkHorizontalSearchEnabled:P,isViaAvoid:k,itemComponent:N,itemId:O,items:L=[],label:x,messageTestId:D,name:Z,onPopoverClose:H,onPopoverOpen:V,onReset:z,placeholder:Q,popoverAnchor:X,popularStationsItems:$=[],exploreEuropeStationsItems:ee=[],renderInPopover:re,role:te,searchWidgetRef:ae,showLabelErrorStyle:ne,startShowing:ie,styles:oe,styleSheet:se,suggestionFieldType:le,tabIndex:ce,testId:de,updatingList:ue,value:pe,title:me,tripFinderBanner:ge}=this.props,ve=(0,u.y)(...oe.searchFieldStyle),he=!ue&&this.state.selectedItem?b(this.state.selectedItem).text||"":pe||"",ye=e=>{var r,t;this.setState({show:!0}),null===(r=(t=this.props).onChange)||void 0===r||r.call(t,e)},fe=s.createElement(w,{id:n,isSearchWidget:C,isTrainline:I,itemComponent:N,itemId:O,items:L,listRef:this.saveListRef,onConfirmKey:this.onConfirmKey,onItemClickConfirm:this.itemClickConfirm,onItemSelect:this.onItemSelect,onSuggestionSelected:this.props.onSuggestionSelected,popularStationsItems:$,exploreEuropeStationsItems:ee,showFullCountryName:le===_.P.SearchWidget&&!T,type:le,value:pe,tripFinderBanner:ge}),Ee=s.createElement(K,{isSearchWidget:C,show:this.state.show,suggestionFieldType:le},this.state.show&&!re&&s.createElement(p.v,{"data-test":"suggestions"},s.createElement(g.Z,{styleSheet:oe.dropDownStyle},fe))),be=(new Date).toISOString().split(":")[0],Se=s.createElement("div",{ref:this.saveContainer,className:(0,d.css)(se&&se.suggestionFieldContainer)},s.createElement(y.Z,{ariaActivedescendant:this.state.selectedItem?O:void 0,ariaAutocomplete:e,ariaDescribedby:r,ariaExpanded:t,ariaLabel:a,ariaOwns:n,autoComplete:"off",autoCorrect:"off",autoFocus:i,disabled:c,hideErrorMessage:!0,inputComponent:Ee,inputRef:this.saveInputRef,inputRefManaged:S,label:x,messageSpaceReserved:!1,name:Z+".search_"+be,onChange:ye,onFocus:this.onFocus,placeholder:Q||"",role:te,showLabelErrorStyle:ne,spellCheck:!1,styleSheet:ve,tabIndex:ce,testId:de,type:"text",value:he}),v&&!E&&s.createElement(h.Z,{bounceIn:!0,connector:h.w.TOP_LEFT,dark:!0,level:"error",offset:this.connectorOffset,testId:D},v)),Te=T?{align:F.N.RIGHT,grow:F.N.BOTTOM,offset:R.TM.s16,yAlignmentEl:ae}:{align:F.N.BOTTOM,grow:F.N.RIGHT};return re?s.createElement(s.Fragment,null,k?null:s.createElement("div",{ref:this.saveContainer},s.createElement(Y,{label:x,isStacked:A||P&&he,isUkHorizontalSearchEnabled:P,name:Z},s.createElement(J,{autoFocus:i,ariaActivedescendant:this.state.selectedItem?O:void 0,ariaAutocomplete:e,ariaDescribedby:r,ariaExpanded:t,ariaLabel:a,ariaOwns:n,autoComplete:"off",autoCorrect:"off",disabled:c,hasError:!!v,id:Z+".search",initialOutline:!1,inputRef:this.saveInputRef,inputRefManaged:S,name:Z+".search",onBlur:this.onBlur,onChange:ye,onFocus:this.onFocus,outlineOnFilled:!1,placeholder:Q||"",role:te,size:T&&"mobile"!==o?"m":"l",spellCheck:!1,styleSheet:P&&he?Z&&"from"===Z?W.Bw.input:W.jb.input:A?W.r4.input:void 0,tabIndex:ce,testId:de,type:"text",value:he}))),s.createElement(j.ZP,{transitionDuration:0,isOpen:(void 0===ie&&this.state.show||ie)&&("mobile"===o||L.length>0||$.length>0||k),onEntered:()=>{var e,r,t,a,n;null==V||V(!0),null===(e=this.headerInput)||void 0===e||null===(r=e.focus)||void 0===r||r.call(e),null!==(t=this.headerInput)&&void 0!==t&&t.value&&(null===(a=this.headerInput)||void 0===a||null===(n=a.select)||void 0===n||n.call(a))}},s.createElement(B.ZP,{testId:"".concat(Z,"-search-popover"),width:460,type:B.j2.POPOVER,focusOnMount:!1,anchor:{nubbin:T,element:X||this.containerNode,position:Te},close:()=>{this.setState({show:!1}),null==H||H(),null==V||V(!1),k&&z()}},(k||"mobile"===o)&&s.createElement(U.Z,null,me&&s.createElement("div",{className:(0,d.css)(W.TN.wrapper)},s.createElement(U.Z.Title,{text:me})),s.createElement("div",{className:(0,d.css)(W.L6.container)},f&&s.createElement("div",{className:(0,d.css)(W.S_.wrapper)},f),s.createElement(q,{autoFocus:i,ariaActivedescendant:this.state.selectedItem?O:void 0,ariaAutocomplete:e,ariaDescribedby:r,ariaExpanded:t,ariaLabel:a,ariaOwns:n,autoComplete:"off",autoCorrect:"off",disabled:c,hasError:!!v,id:Z+".search.responsive",inputRef:this.saveHeaderInputRef,name:Z+".search",onChange:ye,onFocus:this.onFocus,placeholder:Q,spellCheck:!1,tabIndex:ce,testId:"overlay-".concat(de),type:"text",value:he}),v&&s.createElement(G.hW,{testId:"suggestion-field-overlay-error-alert",styleSheet:W.jb.overlayErrorAlert},v)),"mobile"===o&&s.createElement(U.Z.ActionButton,{styleSheet:f?W.d2:W.X8,label:()=>s.createElement(l.FormattedMessage,{id:"components.modal.buttons.cancel"})})),(L.length>0||$.length>0||ee.length>0)&&s.createElement(M.ZP,null,fe)))):s.createElement(m.Z,{onDismiss:this.onDismiss},Se)}}const X=(0,Z.FZ)((e=>{var r,t,i={styles:(0,n.Z)((0,n.Z)({},_.U.styles),{},{searchFieldStyle:[..._.U.styles.searchFieldStyle,...e.error&&!e.hideErrorMessage?[W.Rh]:[],...e.styleSheet?[e.styleSheet]:[]],dropDownStyle:[..._.U.styles.dropDownStyle,...null!==(r=e.styleSheet)&&void 0!==r&&r.dropdownContainer?[e.styleSheet.dropdownContainer]:[]],suggestionFieldContainer:[...null!==(t=e.styleSheet)&&void 0!==t&&t.suggestionFieldContainer?[e.styleSheet.suggestionFieldContainer]:[]]})};return s.createElement(Q,(0,a.Z)({},e,{styles:i.styles,suggestionFieldType:e.isSearchWidget?_.P.SearchWidget:_.P.Legacy,renderInPopover:e.isSearchWidget}))}));var $=t(26625),ee=t(90781),re=t(52480),te={"::-webkit-search-cancel-button":{display:"none"}},ae={color:P.dp_app_text_subdued},ne={"::-webkit-search-decoration":{"-webkit-appearance":"none"},"::-webkit-input-placeholder":ae,"::-moz-placeholder":ae,":-moz-placeholder":ae,":placeholder":ae};const ie=d.StyleSheet.create({input:(0,n.Z)((0,n.Z)({},te),{},{":focus":{outline:"none",borderColor:P.dp_brand_primary_mid,borderWidth:1,boxShadow:re.xO}},ne)});var oe=d.StyleSheet.create({input:(0,n.Z)((0,n.Z)({},te),{},{":focus":{borderWidth:2}},ne)}),se=t(37977),le=t(84752),ce=t(51282),de=e=>e&&"".concat(e.toUpperCase(),"_FIELD");class ue extends s.Component{static getDerivedStateFromProps(e,r){var t,{code:a,name:i}=(null===(t=e.input)||void 0===t?void 0:t.value)||{};return r.initialFocusComplete||!i||a?r:(0,n.Z)((0,n.Z)({},r),{},{initialFocusComplete:!0})}constructor(e){super(e),(0,i.Z)(this,"showMethodResolve",void 0),(0,i.Z)(this,"showMethodPromise",void 0),(0,i.Z)(this,"valueOnFocus",void 0),(0,i.Z)(this,"hasChanged",!1),(0,i.Z)(this,"inputRef",void 0),(0,i.Z)(this,"delayId",void 0),(0,i.Z)(this,"state",{updating:!1,updatedOnInit:!1,initialFocusComplete:!1}),(0,i.Z)(this,"isSameAsFocusedValue",(e=>this.valueOnFocus&&this.valueOnFocus.name===e.name&&this.valueOnFocus.code===e.code)),(0,i.Z)(this,"onItemSelect",(e=>{var r=e.code?e:(0,ee.yo)(this.props.items,e.name||""),{onFocusOrBlur:t,input:a,onItemSelect:n}=this.props;null==a||a.onBlur(r);var i=(null==a?void 0:a.name)&&de(a.name);null==t||t(i,!1),this.isSameAsFocusedValue(r)&&!this.hasChanged||null==a||a.onChange(r),null==n||n()})),(0,i.Z)(this,"onBlur",(e=>{if(!this.state.updating){var{onFocusOrBlur:r,input:t,items:a}=this.props,n=(0,ee.yo)(a,e),i=this.isSameAsFocusedValue(n)?this.valueOnFocus:n;null!=n&&n.code&&(i===n||this.hasChanged)&&(null==t||t.onChange(n),null==t||t.onBlur(n));var o=(null==t?void 0:t.name)&&de(t.name);null==r||r(o,!1)}})),(0,i.Z)(this,"onChange",(e=>{var r,{updateSuggestions:t,input:a}=this.props,n=e.currentTarget.value;this.hasChanged=!0,null==a||null===(r=a.onChange)||void 0===r||r.call(a,{name:n,code:""}),null!=a&&a.name&&(null==t||t(a.name,n))})),(0,i.Z)(this,"onReset",(()=>{var e;return null===(e=this.props.input)||void 0===e?void 0:e.onChange({name:"",code:""})})),(0,i.Z)(this,"saveInputRef",(e=>{var r,t;null===(r=(t=this.props).inputRef)||void 0===r||r.call(t,e),this.inputRef=e})),(0,i.Z)(this,"onFocus",(e=>{var r,{onFocusOrBlur:t,input:a,updateSuggestions:n}=this.props;this.valueOnFocus=null==a?void 0:a.value,this.hasChanged=!1;var i=(null==a?void 0:a.name)&&de(a.name);null==t||t(i,!0),null==a||null===(r=a.onFocus)||void 0===r||r.call(a,e),null==n||n((null==a?void 0:a.value.city)||(null==a?void 0:a.name),this.valueOnFocus.name)})),this.showMethodPromise=new Promise((e=>this.showMethodResolve=e))}componentDidMount(){var e,r,t,a;(null===(e=(r=this.props).onMeasurePerformance)||void 0===e||e.call(r),this.inputRef&&this.inputRef.value!==(null===(t=this.props.input)||void 0===t?void 0:t.value.name))&&(this.inputRef.value=null===(a=this.props.input)||void 0===a?void 0:a.value.name)}componentWillUnmount(){window.clearTimeout(this.delayId)}componentDidUpdate(e,r){var t,a,{updating:n,input:i}=this.props,{input:o}=e,{updatedOnInit:s}=this.state;r.initialFocusComplete||null===(t=this.props.input)||void 0===t||!t.value.name||null!==(a=this.props.input)&&void 0!==a&&a.value.code||this.showMethodPromise.then((e=>e())),n!==this.state.updating&&this.setState({updating:n,updatedOnInit:!1},(()=>{document.activeElement===this.inputRef||(null==o?void 0:o.value.name)===(null==i?void 0:i.value.name)&&!s||this.onBlur(null==i?void 0:i.value.name)}))}render(){var{value:e,name:r}=this.props.input||{},{error:t}=this.props.meta||{},{ariaAutocomplete:n,ariaDescribedby:i,ariaExpanded:c,ariaLabel:d,ariaOwns:p,error:m,hasError:g,headerInjectedComponent:v,hideErrorMessage:h,inputRefManaged:y,intl:f,isOrientationVertical:E,isSearchWidget:b,isStacked:S,isTrainline:T,isUkHorizontalSearchEnabled:C,isViaAvoid:A,itemComponent:I,itemId:_,items:P,label:R,messageTestId:k,onConfirmKey:N,onPopoverClose:O,onPopoverOpen:L,onSuggestionSelected:x,placeholder:D,popoverAnchor:w,popularStationsItems:Z,exploreEuropeStationsItems:F,role:B,searchWidgetRef:M,showLabelErrorStyle:U,startShowing:j,styleSheet:H,suggestionFieldType:W,tabIndex:G,testId:V,title:Y,tripFinderBanner:K}=this.props,z=t||m||"",J=z.replace(ce.nJ,""),q=f.formatMessage({id:"page.journeySearchForm.suggestionField.aria"},{isDeparture:"from"===r,stationName:(null==e?void 0:e.name)||null}),Q={error:z&&s.createElement($.fQ,{hooks:[$.OS.ON_RENDER],event:(0,$.C6)({format:"inline.validation.error",message:f.formatMessage({id:J},{b:"",_b:""}),id:z,type:o.ErrorType.Customer})},s.createElement(se.ZP,{id:J,tagsMap:{b:le.Z}})),ariaAutocomplete:n,ariaDescribedby:i,ariaExpanded:c,ariaLabel:d,ariaOwns:p,hasError:g,headerInjectedComponent:v,hideErrorMessage:h,inputMapper:ee.l_,inputRef:this.saveInputRef,isOrientationVertical:E,isSearchWidget:b,isStacked:S,isTrainline:T,isUkHorizontalSearchEnabled:C,isViaAvoid:A,itemComponent:I,itemId:_,items:P,label:R&&s.createElement(l.FormattedMessage,{id:R}),messageTestId:k,name:r,onChange:this.onChange,onConfirmKey:N,onFocus:this.onFocus,onInputBlur:this.onBlur,onItemSelect:this.onItemSelect,onPopoverClose:O,onPopoverOpen:L,onReset:this.onReset,onSuggestionSelected:x,inputRefManaged:y,placeholder:D,popoverAnchor:w,popularStationsItems:Z,exploreEuropeStationsItems:F,role:B,searchWidgetRef:M||null,setShowMethod:this.showMethodResolve,showLabelErrorStyle:U,startShowing:j,styleSheet:(0,u.y)(z?oe:ie,H),suggestionFieldType:W,tabIndex:G,testId:V,title:Y,updatingList:this.state.updating,value:e.name,tripFinderBanner:K,intl:f};return s.createElement(X,(0,a.Z)({},Q,{ariaLabel:q}))}}const pe=(0,l.injectIntl)(ue)},25038:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>g});var a=t(21847),n=t(50093),i=t(29901),o=t(98184),s=t(83661),l=t(84752),c=t(37977),d=t(26625),u=t(7739),p=t(34571),m={[u.jF]:"warningMessage.bookingHorizon.generic",[u.xd]:"warningMessage.bookingHorizon.sncf",[u.YU]:"warningMessage.bookingHorizon.db",[u.BN]:"warningMessage.bookingHorizon.renfe",[u.Ae]:"warningMessage.noOpenReturnFaresForRoute.message",[u.jB]:"warningMessage.localTransportUnavailable",[u.wr]:"warningMessage.journeysNotFound.refine",[u.Ai]:"warningMessage.vouchers.voucherSystemUnavailable",[u.gl]:"warningMessage.vouchers.voucherNotValid",[u.jl]:"warningMessage.vouchers.voucherNotValidForPassengers",[u.tS]:"warningMessage.vouchers.noValidPromotions",[u.Qp]:"warningMessage.vouchers.voucherLimitExceeded",[u.lU]:"warningMessage.vouchers.voucherNotValidWithRailCard"};const g=(0,o.injectIntl)((e=>{var{warnings:r,testId:t,intl:o}=e,u=r&&r[0]&&r[0].code,g=u&&m[u]||"warningMessage.default";return u?i.createElement("div",{className:(0,n.css)(p.Z.errorWrapper)},i.createElement(d.fQ,{hooks:[d.OS.AFTER_FIRST_RENDER],event:(0,d.C6)({id:u,message:o.formatMessage({id:g},{b:"",_b:""}),format:"alert.warning",type:a.ErrorType.Platform})},i.createElement(s.WY,{testId:t,styleSheet:p.Z.warningAlert},i.createElement("div",null,i.createElement(c.ZP,{id:g,tagsMap:{b:l.Z}}))))):null}))},61829:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>Q});var a=t(64321),n=t(23198),i=t(85924),o=t(50093),s=t(29901),l=t(98184),c=t(88543),d=t(57397),u=t(18406),p=t(60654),m=t(78307),g=t(51282),v=(e,r)=>{var t;return Boolean(null==e||null===(t=e.connections)||void 0===t?void 0:t.some((e=>{var t;return null==r||null===(t=r.connections)||void 0===t?void 0:t.includes(e)})))},h=t(75648),y=t(37754),f=t(98318),E=t(8888),b=t(23394),S=t(52068),{sizes:T}=E.Z;const C=o.StyleSheet.create({title:(0,n.Z)((0,n.Z)({},S.W.title5),{},{color:f.dp_app_text_base,marginBottom:T.spacers.s,textAlign:"left"}),body:(0,n.Z)((0,n.Z)({},S.W.body),{},{color:f.dp_app_text_base,textAlign:"left"}),link:{color:f.dp_app_link_base,cursor:"pointer",":hover":{textDecoration:"underline",color:f.dp_app_link_hover},":focus":{textDecoration:"underline",color:f.dp_app_link_pressed},":visited":{color:f.dp_app_link_pressed}}});var A=o.StyleSheet.create({horizontalViewContainer:{position:"absolute",border:"1px solid ".concat(f.dp_app_border_dull),backgroundColor:f.dp_app_backdrop_base,padding:"0.35rem",paddingTop:T.spacers.px54,zIndex:100,width:"25%",borderRadius:b.E0.m,marginTop:"-".concat(T.spacers.px1),marginLeft:"-".concat(T.spacers.px1),[E.Z.breakpoints.large.max]:{top:"58px"}},horizontalViewBody:(0,n.Z)((0,n.Z)({},S.W.body),{},{color:f.dp_app_text_base,textAlign:"left",padding:T.spacers.px10,marginBottom:T.spacers.l}),horizontalViewTitle:(0,n.Z)((0,n.Z)({},S.W.title6),{},{padding:"".concat(T.spacers.px32," ").concat(T.spacers.px10," ").concat(T.spacers.px16),borderTop:"1px solid ".concat(f.dp_app_border_dull),marginTop:"-".concat(T.spacers.px2)}),height100:{height:"100%"}}),I=o.StyleSheet.create({popup:{width:"var(--DEPRECATED-420px)"},callout:{borderColor:b.O9.palette.grey_60,borderWidth:1,borderRadius:b.E0.l,padding:T.spacers.m},arrowLeft:{":before":{borderRightColor:f.dp_brand_white},":after":{borderRightColor:f.dp_brand_white}}}),_=function(e){return e.LONDON_ST_PANCRAS="londonStPancras",e.ASHFORD="ashford",e.EBBSFLEET="ebbsfleet",e}({}),P=function(e){return e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e}({}),R=Object.keys(_).map((e=>_[e])),k=e=>{var{intl:{formatMessage:r},onLinkClick:t}=e;return R.reduce(((e,a)=>{var i,l=r({id:"page.journeySearchForm.europeanAvailablePopover.stations.".concat(a)}),c="ashford"===a?"".concat(l):"".concat(l).concat(" International"),d=t&&t(c);return(0,n.Z)((0,n.Z)({},e),{},{[a]:s.createElement("a",{key:a,onClick:d,onKeyPress:(i=d,e=>{i&&13===e.which&&i()}),tabIndex:0,className:(0,o.css)(C.link)},l)})}),{})},N=e=>{var{intl:r,onLinkClick:t,formValues:a,styles:n,type:i}=e,c=a&&a.from&&a.from.connections&&a.from.connections.includes("urn:trainline:connection:atoc"),d=a&&a.from&&"IE"===a.from.countryCode||a&&a.to&&"IE"===a.to.countryCode,u=d?"page.journeySearchForm.genericRouteNotSupportedPopover.title":"page.journeySearchForm.europeanAvailablePopover.title",p=d?"page.journeySearchForm.genericRouteNotSupportedPopover.body":"page.journeySearchForm.europeanAvailablePopover.body.".concat(c?"fromUK":"fromEU"),m=s.createElement(s.Fragment,null,s.createElement("h3",{className:(0,o.css)(n.title),"data-test":"callout-title"},s.createElement(l.FormattedMessage,{id:u})),s.createElement("p",{className:(0,o.css)(n.body),"data-test":"callout-body"},s.createElement(l.FormattedMessage,{id:p,values:k({intl:r,onLinkClick:t})})));switch(i){case P.Horizontal:return s.createElement("div",{className:(0,o.css)(n.container),"data-test":"horizontal-eu-popover-container"},m);case P.Vertical:default:return s.createElement(y.YB,{styleSheet:I,arrow:y.nD.LEFT},m)}};const O=(0,l.injectIntl)((e=>{var r={styles:{title:C.title,body:C.body}};return e.type===P.Horizontal&&(r.styles={title:A.horizontalViewTitle,body:A.horizontalViewBody,container:A.horizontalViewContainer}),s.createElement(N,(0,a.Z)({},e,{styles:r.styles}))}));var L=t(28620),x=t(10190),D=t(11674),w=t(34214),Z=o.StyleSheet.create({root:{display:"flex",flexDirection:"column",justifyContent:"flex-end",position:"relative"},fromFieldWrapper:{position:"relative"},divider:{},toFieldWrapper:{position:"relative"},hiddenField:{display:"none"},defeatHover:{":hover":"none"},swapButtonWrapper:{}}),F=o.StyleSheet.create({suggestionFieldContainer:{fontSize:w.Z.small.fontSize,padding:"0 0 4px"},container:{lineHeight:"var(--DEPRECATED-20px)"},label:{minWidth:"var(--DEPRECATED-50px)",textAlign:"right"}}),B=t(89426);const M=e=>{var{className:r}=e;return s.createElement("svg",{height:"30px",width:"30px",viewBox:"0 0 29.3 29.6",className:r},s.createElement("path",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0.25",strokeMiterlimit:"10",d:"M18.3,7.6c0.1-0.1,0.1-0.1,0.2-0.1s0.2,0,0.2,0.1l0.1,0.1l1.6,1.7c0.1,0.2,0.1,0.3,0,0.5L20.3,10c-0.1,0.1-0.3,0.1-0.5-0.1l-0.9-1v3.2l-2.5,1.7l-0.8-0.5l2.4-1.6V9l-1,1c-0.2,0.2-0.3,0.2-0.4,0.1L16.6,10c-0.1-0.1-0.1-0.3,0-0.5l1.6-1.8L18.3,7.6z"}),s.createElement("path",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0.25",strokeMiterlimit:"10",d:"M17.9,17.6L10,12V7.9h0.9v3.7l7.8,5.6v3.2l1-1c0.2-0.2,0.3-0.2,0.4-0.1l0.1,0.1c0.1,0.1,0.1,0.3,0,0.5l-1.6,1.8l-0.1,0.1c-0.1,0.1-0.1,0.1-0.2,0.1c-0.1,0-0.2,0-0.2-0.1l-0.1-0.1l-1.6-1.7c-0.1-0.2-0.1-0.3,0-0.5l0.1-0.1c0.1-0.1,0.3-0.1,0.5,0.1l0.9,1V17.6z"}),s.createElement("polygon",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0.25",strokeMiterlimit:"10",points:"11.1,17.7 11.1,21.4 10.2,21.4 10.2,17.2 12.7,15.4 13.5,16 "}))};const U=e=>{var{className:r,fill:t="#2332C4"}=e;return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",className:r},s.createElement("g",{fill:"none",fillRule:"evenodd",transform:"rotate(90 18 18)"},s.createElement("circle",{cx:"18",cy:"18",r:"18",fill:"#F2F4F4"}),s.createElement("path",{fill:t,fillRule:"nonzero",d:"M17.707 15.707c-.39.39-1.024.39-1.414 0L14 13.414V25c0 .552-.448 1-1 1s-1-.448-1-1V13.414l-2.293 2.293c-.39.39-1.024.39-1.414 0-.39-.39-.39-1.024 0-1.414l4-4 .082-.073.008-.007-.09.08c.035-.036.073-.068.112-.097.024-.018.049-.034.074-.05l.037-.021c.02-.011.04-.022.06-.031l.053-.023.06-.021.045-.014.065-.016.053-.009.058-.007.07-.004h.038c.024 0 .048.002.071.004L13 10c.05 0 .1.004.149.011l.052.01c.022.004.043.009.065.015l.046.014.06.021.051.023.061.03.037.022c.025.016.05.032.074.05l.022.017c.031.025.062.051.09.08l4 4c.39.39.39 1.024 0 1.414zm10 6l-4 4c-.028.029-.059.055-.09.08l.09-.08c-.035.036-.073.068-.112.097-.024.018-.049.034-.074.05l-.037.021c-.02.011-.04.022-.06.031l-.053.023-.06.021-.045.014-.065.016-.053.009-.06.007-.056.003L23 26h-.033l-.052-.004L23 26c-.05 0-.1-.004-.149-.011l-.052-.01c-.022-.004-.043-.009-.065-.015l-.046-.014-.06-.021-.051-.023-.061-.03-.037-.022c-.025-.016-.05-.032-.074-.05l-.022-.017-.008-.007-.082-.073-4-4c-.39-.39-.39-1.024 0-1.414.39-.39 1.024-.39 1.414 0L22 22.585V11c0-.552.448-1 1-1s1 .448 1 1v11.585l2.293-2.292c.39-.39 1.024-.39 1.414 0 .39.39.39 1.024 0 1.414z"})))},j=o.StyleSheet.create({root:{height:0,overflow:"visible",position:"absolute",textAlign:"right",top:"calc(".concat(S.W.title1.fontSize,"/2)"),right:"-".concat(E.Z.sizes.spacers.s)},buttonAnimation:{":active":{transform:"scale(0.9)"}},button:{display:"inline-block",padding:0,fontSize:0,color:f.dp_brand_secondary_duller,border:"3px solid ".concat(f.dp_comp_swap_stations),borderRadius:"50%",backgroundColor:f.dp_brand_white,height:"2.3625rem",transition:"all .2s ease-out",width:"2.3625rem",":hover":{backgroundColor:"#e6e6e6"}},rootDepot:{overflow:"visible",position:"absolute",right:"calc(50% - ".concat(b.W0.s3,")"),top:"calc(50% - ".concat(b.W0.s4,")")},buttonDepot:{display:"flex",width:b.W0.s8,height:b.W0.s8,minHeight:b.W0.s8,padding:0,borderRadius:"50%",backgroundColor:f.dp_brand_neutral_brightest},icon:{color:f.dp_comp_swap_stations},isUkHorizontalSearchEnabledStyles:{right:"calc(50% - 16px)"}});var H=t(48929);const W=(0,l.injectIntl)((e=>{var{onClick:r,intl:t,animate:n=!1,useDepot:i,styleSheet:l,isUkHorizontalSearchEnabled:c}=e,d=i?B.gh:B.ZP,u=(0,H.Jn)(),p=(null==u?void 0:u.references)&&u.references.get("Swap"),m=u&&p&&(null==u?void 0:u.register)&&u.register(p);return s.createElement("div",{className:(0,o.css)(i?j.rootDepot:j.root,l,c&&j.isUkHorizontalSearchEnabledStyles)},s.createElement(d,(0,a.Z)({onClick:r,styleSheet:i?j.buttonDepot:[j.button,n&&j.buttonAnimation],testId:"swap-station-button",ariaLabel:t.formatMessage({id:"page.journeySearchForm.swapStations.aria"}),saveInputRef:p},m),i?s.createElement(U,{fill:f.dp_brand_secondary_core}):s.createElement(M,{className:(0,o.css)(j.icon)})))}));var G=function(e){return e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e}({}),V="init_instructions",Y=e=>"string"==typeof e&&[h.P.mixedInventoryFromEUToUK,h.P.mixedInventoryFromUKToEU].includes(e),K=e=>{var{enableArrow:r}=e;return r?x.Vw:x.ZP},z=e=>{var{name:r,onLinkClick:t,formValues:a}=e;return Y(r)?s.createElement(O,{onLinkClick:t,formValues:a}):null},J=()=>s.createElement(l.FormattedMessage,{id:"page.journeySearchForm.descriptionText"},(e=>s.createElement("span",{id:V,className:(0,o.css)(Z.hiddenField)},e)));class q extends s.Component{constructor(){super(...arguments),(0,i.Z)(this,"state",{fromFocused:!1,toFocused:!1}),(0,i.Z)(this,"sourceInputRef",void 0),(0,i.Z)(this,"destinationInputRef",void 0),(0,i.Z)(this,"focusedInput",(e=>"FROM_FIELD"===e?"fromFocused":"toFocused")),(0,i.Z)(this,"onFocusOrBlur",((e,r)=>{this.setState((0,n.Z)((0,n.Z)({},this.state),{},{[this.focusedInput(e)]:r}))})),(0,i.Z)(this,"saveSourceInputRef",(e=>{this.sourceInputRef=e,this.props.setFromInputRef&&this.props.setFromInputRef(e)})),(0,i.Z)(this,"saveDestinationInputRef",(e=>{this.destinationInputRef=e,this.props.setToInputRef&&this.props.setToInputRef(e)})),(0,i.Z)(this,"fromConfirmed",((e,r)=>{this.props.onFromInputConfirmKey?this.props.onFromInputConfirmKey(r):"ShiftTab"!==r&&this.destinationInputRef&&this.destinationInputRef!==document.activeElement&&this.destinationInputRef.focus()})),(0,i.Z)(this,"onLinkClick",((e,r)=>t=>()=>{e&&r&&this.destinationInputRef&&(this.props.changeFieldValue(e,r,t),requestAnimationFrame((()=>{"to"===r?this.destinationInputRef.focus():"from"===r&&this.sourceInputRef.focus()})))})),(0,i.Z)(this,"onFocus",(e=>e.currentTarget&&e.currentTarget.select())),(0,i.Z)(this,"onItemSelect",(()=>{var e,r,t,{formValues:{from:a,to:n,viaAvoidStation:i},isSearchWidget:o,fromPopoverToDisplay:s,toPopoverToDisplay:l}=this.props;o&&(t=i,!(v(e=a,r=n)&&null!=t&&t.connections&&v(e,t)&&v(r,t))||Y(s)||Y(l))&&this.props.clearViaAvoidField()}))}shouldShowSwap(){var{formValues:e,fromPopoverToDisplay:r,isSearchWidget:t,toPopoverToDisplay:a,updatingLists:n,isUkHorizontalSearchEnabled:i}=this.props,{from:o,to:s}=e,{toFocused:l,fromFocused:c}=this.state,d=o.code&&s.code,u=l||c,p=c&&s.code||l&&o.code,m=n.from||n.to,g=Y(r)||Y(a),v=!u&&!m&&!g;return i?t&&d||d&&v:t&&(d||p)||d&&v}render(){var e,r,t,n,{form:i,formValues:l,fromPopoverToDisplay:c,isSearchWidget:u,isUkHorizontalSearchEnabled:m,orientationType:g,portal:v,showDividerLine:h,styleSheet:y,swapStations:f,toPopoverToDisplay:E,useDepotSwapStationButton:b,enableStationPickerEnhancements:S,tripFinderBanner:T,intl:C}=this.props,A=g===G.Horizontal,{toFocused:I,fromFocused:_}=this.state,P=v===p.Portal.TRAINLINE,R=y||Z;return s.createElement("div",{className:(0,o.css)(R.root)},s.createElement(J,null),s.createElement("div",{className:(0,o.css)(R.fromFieldWrapper,_&&Z.defeatHover),"data-test":"horizontal-from-station-field"},s.createElement(d.Z,(0,a.Z)({type:"text",name:"from",component:L.Z,testId:"from-station-input"},(e=this.props,r=this.onFocusOrBlur,t=this.saveSourceInputRef,n=this.fromConfirmed,{label:"page.journeySearchForm.from",placeholder:e.fromPlaceholder,ariaDescribedby:V,ariaOwns:"stations_from",itemId:"selected_option",ariaExpanded:!!e.suggestionsForFrom.length,ariaAutocomplete:"both",ariaActivedescendant:"",hideErrorMessage:e.isSearchWidget||!!Y(e.fromPopoverToDisplay),items:e.suggestionsForFrom,itemComponent:K({enableArrow:!!e.enableStationPickerEnhancements}),styleSheet:!e.isSearchWidget&&F,messageTestId:"empty-from-station",updateSuggestions:e.updateSuggestions,updating:e.updatingLists.from,popularStationsItems:e.popularStationsForFrom,exploreEuropeStationsItems:e.exploreEuropeStationsForFrom,hasError:e.fromError,suggestionFieldType:e.orientationType,isSearchWidget:e.isSearchWidget,isOrientationVertical:e.isOrientationVertical,onMeasurePerformance:e.onMeasurePerformance,onFocusOrBlur:r,inputRef:t,onConfirmKey:n,onPopoverOpen:e.onFromPopoverOpen,onSuggestionSelected:e.onSuggestionSelected}),{onFocus:this.onFocus,isStacked:this.props.isStacked,searchWidgetRef:this.props.searchWidgetRef,isSearchWidget:u,onItemSelect:this.onItemSelect,isTrainline:P,inputRefManaged:this.props.fromInputRefManaged,isUkHorizontalSearchEnabled:m,tripFinderBanner:!1,role:"combobox",title:S?C.formatMessage({id:"page.journeySearchForm.from.title",defaultMessage:"Departure"}):void 0})),!u&&P&&s.createElement(z,{name:c,onLinkClick:this.onLinkClick(i,"from"),formValues:l})),h&&(A&&!this.shouldShowSwap()||!A)&&s.createElement("div",{className:(0,o.css)(R.divider)}),s.createElement("div",{className:(0,o.css)(R.toFieldWrapper,I&&Z.defeatHover),"data-test":"horizontal-to-station-field"},s.createElement(d.Z,(0,a.Z)({name:"to",component:L.Z,testId:"to-station-input"},((e,r,t)=>({label:"page.journeySearchForm.to",placeholder:e.toPlaceholder,ariaDescribedby:"init_instructions",ariaOwns:"stations_to",itemId:"selected_option",ariaExpanded:!!e.suggestionsForTo.length,ariaAutocomplete:"both",ariaActivedescendant:"",hideErrorMessage:e.isSearchWidget||!!Y(e.toPopoverToDisplay),items:e.suggestionsForTo,itemComponent:K({enableArrow:!!e.enableStationPickerEnhancements}),styleSheet:!e.isSearchWidget&&F,messageTestId:"empty-to-station",updateSuggestions:e.updateSuggestions,isSearchWidget:e.isSearchWidget,isOrientationVertical:e.isOrientationVertical,updating:e.updatingLists.to,popularStationsItems:e.popularStationsForTo,exploreEuropeStationsItems:e.exploreEuropeStationsForTo,hasError:e.toError,suggestionFieldType:e.orientationType,onFocusOrBlur:r,inputRef:t,onConfirmKey:e.onToInputConfirmKey,onPopoverOpen:e.onToPopoverOpen,onSuggestionSelected:e.onSuggestionSelected}))(this.props,this.onFocusOrBlur,this.saveDestinationInputRef),{onFocus:this.onFocus,isStacked:this.props.isStacked,searchWidgetRef:this.props.searchWidgetRef,isSearchWidget:u,onItemSelect:this.onItemSelect,isTrainline:P,inputRefManaged:this.props.toInputRefManaged,isUkHorizontalSearchEnabled:m,tripFinderBanner:T,role:"combobox",title:S?C.formatMessage({id:"page.journeySearchForm.to.title",defaultMessage:"Arrival"}):void 0})),!u&&P&&s.createElement(z,{name:E,onLinkClick:this.onLinkClick(i,"to"),formValues:l})),this.shouldShowSwap()&&s.createElement(W,{onClick:()=>f(l),useDepot:b,styleSheet:R.swapButtonWrapper,isUkHorizontalSearchEnabled:m}))}}const Q=(0,l.injectIntl)((0,c.connect)(((e,r)=>{var t=(0,g.hX)(e),a=(0,g.AX)(e);return{fromPopoverToDisplay:(0,g.uP)(e),toPopoverToDisplay:(0,g.ST)(e),toError:a,fromError:t,orientationType:r.orientationType}}),((e,r)=>({changeFieldValue:(r,t,a)=>{r&&t&&a&&e((0,u.m)(r,t,{name:a,code:""}))},onFromPopoverOpen:t=>r.form&&e((0,u.m)(r.form,"fromPopoverOpen",t)),onToPopoverOpen:t=>r.form&&e((0,u.m)(r.form,"toPopoverOpen",t)),clearViaAvoidField:()=>{e((0,u.m)(m.Th,"viaAvoidStation",m.C0)),e((0,u.m)(m.Th,"viaAvoidType",D.E_)),e((0,u.T6)("viaAvoidStation")),e((0,u.OP)(m.Th,"viaAvoidStation")),e((0,u.OP)(m.Th,"viaAvoidType"))}})))(q))},7726:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(29901),n=t(50093),i=t(3957),o=t(89426),s=t(98318),l=t(8590);const c=n.StyleSheet.create({banner:{alignItems:"center",backgroundColor:s.dp_brand_secondary_brightest,border:"1px solid ".concat(s.dp_app_selection_bright),borderRadius:l.E0.m,display:"flex",padding:l.W0.s4,width:"100%"},iconContainer:{marginRight:l.W0.s4},icon:{display:"block",width:"27px",height:"48px"},text:{flex:1,lineHeight:"18px"},buttonContainer:{marginLeft:l.W0.s6,width:"80px"}});const d=e=>{var{text:r,icon:t,buttonText:s,onClick:l}=e,d=i.Z;return a.createElement("div",{className:(0,n.css)(c.banner)},a.createElement("div",{className:(0,n.css)(c.iconContainer)},a.createElement(d,{className:(0,n.css)(c.icon)})),a.createElement("div",{className:(0,n.css)(c.text)},r),s?a.createElement("div",{className:(0,n.css)(c.buttonContainer)},a.createElement(o.kq,{onClick:l,type:"button"},s)):null)}},52480:(e,r,t)=>{"use strict";t.d(r,{BL:()=>y,Is:()=>v,ZP:()=>h,xO:()=>g});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(52068),c=t(4385),d=t(94878),{sizes:u}=o.Z,p={backgroundColor:n.dp_comp_journey_search_form_bg,color:n.dp_app_backdrop_base,minWidth:282,position:"relative"},m={display:"flex",borderRadius:s.E0.m,boxShadow:"0 0 ".concat(u.spacers.px4," 0 rgba(0, 0, 0, 0.06)"),width:"95%"},g="inset 0 ".concat(u.spacers.px1," ").concat(u.spacers.px1," rgba(0,0,0,.075), 0 0 ").concat(u.spacers.px8," ").concat((0,d.I)(c.ZP.dp_brand_primary_mid,.6)),v="inset 0 ".concat(u.spacers.px1," ").concat(u.spacers.px1," rgba(0,0,0,.075), 0 0 ").concat(u.spacers.px6," ").concat(n.dp_brand_tertiary_dim);const h=i.StyleSheet.create({root:(0,a.Z)((0,a.Z)({},p),{},{padding:u.spacers.m,borderRadius:s.E0.l}),rootFR:(0,a.Z)((0,a.Z)({},p),{},{padding:u.spacers.l,borderRadius:s.E0.m}),horizontalRule:{opacity:.2},dateTimePickerSection:{display:"flex",flexDirection:"row",flexWrap:"nowrap"},seasonsDatePickerWrapper:{height:u.spacers.px186},verticalDivider:{minWidth:u.spacers.px1,margin:"".concat(u.spacers.s," 0"),backgroundColor:n.dp_app_border_base},submitButtonContainer:{marginTop:u.spacers.m,position:"relative"},submitButton:(0,a.Z)((0,a.Z)({},l.W.title3),{},{minHeight:"auto",padding:u.spacers.s}),submitButtonChevronWrapper:{alignItems:"center",bottom:0,display:"flex",position:"absolute",right:u.spacers.m,top:0},submitButtonChevron:{height:"0.7875rem",stroke:n.dp_brand_white,transform:"rotate(270deg)"},formElementsContainer:(0,a.Z)((0,a.Z)({},m),{},{border:"solid ".concat(u.spacers.px1," ").concat(n.dp_app_border_base)}),error:{border:"".concat(u.spacers.px2," solid ").concat(n.dp_brand_tertiary_dim)}});i.StyleSheet.create({label:{minWidth:"15%",textAlign:"right",paddingRight:u.spacers.s}}),i.StyleSheet.create({listbox:{flex:1,marginLeft:u.spacers.xs}});var y={border:"".concat(u.spacers.px2," solid transparent"),":hover":{backgroundColor:n.dp_brand_neutral_brighter},":focus":{backgroundColor:n.dp_brand_neutral_brighter,border:"".concat(u.spacers.px2," solid ").concat(n.dp_brand_secondary_duller)},":active":{backgroundColor:n.dp_comp_button_tertiary_background_pressed,border:"".concat(u.spacers.px2," solid ").concat(n.dp_brand_secondary_duller)}}},5578:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>V});var a=t(23198),n=t(85924),i=t(21847),o=t(50093),s=t(82768),l=t(29901),c=t(98184),d=t(57397),u=t(73590),p=t(89426),m=t(18212),g=t(28770);const v=e=>{var{className:r}=e;return l.createElement("svg",{className:r,viewBox:"0 0 35.1 23.5",width:"35px",height:"24px"},l.createElement("path",{fill:"#48d5b5",d:"M31.2,23.5H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h27.2c2.2,0,4,1.8,4,4v15.5C35.1,21.7,33.4,23.5,31.2,23.5z M4,2C2.9,2,2,2.9,2,4v15.5c0,1.1,0.9,2,2,2h27.2c1.1,0,2-0.9,2-2V4c0-1.1-0.9-2-2-2H4z"}),l.createElement("path",{fill:"#48d5b5",d:"M29.5,11c0.2,0.2,0.2,0.4,0.2,0.6c0,0.3-0.1,0.5-0.2,0.6c-0.2,0.2-0.4,0.2-0.6,0.2h-2.6v2.6c0,0.3-0.1,0.5-0.2,0.6c-0.2,0.2-0.4,0.2-0.6,0.2c-0.3,0-0.5-0.1-0.6-0.2c-0.2-0.2-0.2-0.4-0.2-0.6v-2.6h-2.6c-0.3,0-0.5-0.1-0.6-0.2c-0.2-0.2-0.2-0.4-0.2-0.6c0-0.3,0.1-0.5,0.2-0.6c0.2-0.2,0.4-0.2,0.6-0.2h2.6V8.1c0-0.3,0.1-0.5,0.2-0.6c0.2-0.2,0.4-0.2,0.6-0.2c0.3,0,0.5,0.1,0.6,0.2c0.2,0.2,0.2,0.4,0.2,0.6v2.6h2.6C29.1,10.7,29.3,10.8,29.5,11"}),l.createElement("path",{fill:"#48d5b5",d:"M17,15.8c-0.1-0.1-0.1-0.2-0.2-0.2c-0.1-0.1-0.1-0.1-0.2-0.2c-0.1-0.1-0.2-0.1-0.2-0.1l-0.1,0l-3.1-1.7c0.5-0.4,0.9-1,1.1-1.7c0.2-0.7,0.4-1.4,0.4-2V7.7c0-0.7-0.4-1.3-1.1-2c-0.8-0.6-1.6-0.9-2.5-0.9c-0.9,0-1.8,0.3-2.5,0.9C7.7,6.4,7.3,7.1,7.3,7.7v2.1c0,0.6,0.1,1.2,0.4,1.9c0.3,0.7,0.6,1.3,1.1,1.7l-3.2,1.7c-0.6,0.2-0.8,0.5-0.8,0.8v1.2c0,0.2,0.1,0.4,0.2,0.6c0.2,0.2,0.4,0.2,0.6,0.2h10.6c0.2,0,0.4-0.1,0.6-0.2c0.2-0.2,0.2-0.4,0.2-0.6V16C17.1,15.9,17.1,15.8,17,15.8z M16.1,17.1H5.8v-0.9c0.1-0.1,0.2-0.1,0.2-0.2c0,0,0,0,0.1,0l3.2-1.7c0.3-0.2,0.5-0.4,0.5-0.8c0-0.4-0.1-0.6-0.4-0.8c-0.4-0.3-0.7-0.8-0.9-1.3c-0.2-0.6-0.3-1.1-0.3-1.6V7.7c0-0.4,0.3-0.8,0.9-1.2c0.6-0.4,1.2-0.7,1.9-0.7c0.7,0,1.3,0.2,1.8,0.7c0.6,0.4,0.8,0.9,0.8,1.2v2.1c0,0.5-0.1,1-0.3,1.6c-0.2,0.6-0.5,1-0.8,1.3c-0.3,0.2-0.4,0.5-0.4,0.8c0,0.4,0.2,0.6,0.5,0.8l3.1,1.7c0,0,0.1,0,0.1,0c0.1,0,0.1,0.1,0.2,0.1V17.1z"}))};var h=t(51756);const y=e=>{var{className:r}=e;return l.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",className:r,xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 21.53V27.4675H21.125V21.53H14ZM13.4063 19.155C12.4225 19.155 11.625 19.9525 11.625 20.9363V28.0613C11.625 29.045 12.4225 29.8425 13.4062 29.8425H21.7188C22.7025 29.8425 23.5 29.045 23.5 28.0613V20.9363C23.5 19.9525 22.7025 19.155 21.7188 19.155H13.4063ZM25.875 22.1238C25.875 21.304 26.5396 20.6395 27.3594 20.6395H33.8906C34.7104 20.6395 35.375 21.304 35.375 22.1238C35.375 22.9436 34.7104 23.6082 33.8906 23.6082H27.3594C26.5396 23.6082 25.875 22.9436 25.875 22.1238ZM27.3594 25.3894C26.5396 25.3894 25.875 26.054 25.875 26.8738C25.875 27.6936 26.5396 28.3582 27.3594 28.3582H31.5156C32.3354 28.3582 33 27.6936 33 26.8738C33 26.054 32.3354 25.3894 31.5156 25.3894H27.3594Z"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.5 13.5H7.5L7.5 35.5H39.5V13.5ZM7.5 10.5C5.84315 10.5 4.5 11.8431 4.5 13.5V35.5C4.5 37.1569 5.84315 38.5 7.5 38.5H39.5C41.1569 38.5 42.5 37.1569 42.5 35.5V13.5C42.5 11.8431 41.1569 10.5 39.5 10.5H7.5Z"}))};var f=t(26625),E=t(60654),b=t(79076),S=t(79239),T=t(88220),C=t(833),A=t(98318),I=t(8888),_=t(23394),P=t(52480),R={listbox:{flex:1,marginRight:I.Z.sizes.spacers.xs},select:{width:"100%",":focus":{outline:"none",borderColor:A.dp_brand_primary_mid,borderWidth:1,boxShadow:P.xO}}},k=(e,r)=>(r&&(e.select.borderColor=A.dp_brand_tertiary_dim,e.select.borderWidth=2,e.select[":focus"]={borderColor:A.dp_brand_tertiary_dim,borderWidth:2}),e),N=e=>{var r=(0,s.d9v)(R);return r.listbox.flex=.4,k(r,e)},O={outline:"none",borderRadius:_.E0.m,boxShadow:"0 0 0 0.214rem ".concat(A.dp_brand_primary_mid)};const L=o.StyleSheet.create({root:{display:"flex",alignItems:"center",marginBottom:I.Z.sizes.spacers.xs,":first-child":{marginTop:I.Z.sizes.spacers.s}},button:{backgroundColor:"transparent",display:"flex",flex:.085,marginLeft:I.Z.sizes.spacers.s,marginRight:I.Z.sizes.spacers.xs,width:"var(--dp_s32)",height:"var(--dp_s32)",":focus":O},buttonIcon:{color:A.dp_brand_primary_mid,width:"100%",height:"100%"}});var x=o.StyleSheet.create((0,s.d9v)(R)),D=o.StyleSheet.create(k((0,s.d9v)(R),!0)),w=o.StyleSheet.create(N(!1)),Z=o.StyleSheet.create(N(!0)),F=t(4234);class B extends l.PureComponent{constructor(){super(...arguments),(0,n.Z)(this,"onRailcardChange",(e=>{var{value:{count:r},onChange:t}=this.props.input,a=e.currentTarget.value;t({id:a,count:a?r||1:0})})),(0,n.Z)(this,"onPassengerChange",(e=>{var{value:{id:r},onChange:t}=this.props.input;t({id:r,count:Number(e.target.value)})})),(0,n.Z)(this,"onDelete",(()=>{var{removeField:e,fieldInstanceId:r}=this.props;setTimeout((()=>{e(r)}),0)}))}render(){var e,{hasError:r,input:t,fieldInstanceId:a,intl:n,shouldFocusDropdown:i,sortedDiscountCardOptions:c}=this.props,{value:d}=t;return l.createElement(S.Z,{shouldAnimate:!0,shouldAnimateOnMount:!0,expanded:!0},l.createElement("div",{className:(0,o.css)(L.root)},l.createElement(T.Z,{ariaLabel:n.formatMessage({id:"page.journeySearchForm.railcards.default.selectRailcardNumber"},{number:a+1}),testId:"railcardDropDown",id:"railcardRow".concat(a),value:d.id,onChange:this.onRailcardChange,styleSheet:r?D:x,name:"railcardOption".concat(a),defaultOption:{text:n.formatMessage({id:"page.journeySearchForm.railcards.default.selectRailcard"}),value:""},items:c,inputRef:e=>{e&&i&&setTimeout((()=>e.focus()),250)},role:"listbox"}),l.createElement(T.Z,{ariaLabel:n.formatMessage({id:"page.journeySearchForm.railcards.selectPassengers.aria"},{number:a+1}),testId:"railcardCount",value:d.count,onChange:this.onPassengerChange,styleSheet:r?Z:w,disabled:!d.id,name:"count",items:(e=d.id,e?(0,s.w6H)(0,F.mn).map((e=>({text:String(e+1),value:String(e+1)}))):[{text:"",value:""}]),role:"listbox"}),l.createElement(p.ZP,{ariaLabel:n.formatMessage({id:"page.journeySearchForm.railcards.removeRailcard.aria"},{number:a+1}),styleSheet:L.button,onClick:this.onDelete},l.createElement(C.Z,{className:(0,o.css)(L.buttonIcon)}))))}}const M=(0,c.injectIntl)(B);var U=o.StyleSheet.create({container:{display:"inline-block",marginLeft:I.Z.sizes.spacers.px6}});const j=o.StyleSheet.create({buttonIcon:{display:"inline-block",paddingRight:I.Z.sizes.spacers.xs,verticalAlign:"middle"},addCardTypeIcon:{height:"var(--DEPRECATED-14px)",width:"var(--DEPRECATED-14px)",fill:A.dp_brand_primary_core},addCardTypeIconToc:{fill:A.dp_brand_primary_core},button:{backgroundColor:A.dp_app_action_tertiary,color:A.dp_app_info_mid,":disabled":{color:A.dp_brand_neutral_mid},":focus":{textDecoration:"underline"}},ul:{marginBottom:I.Z.sizes.spacers.s},li:{listStyle:"none"},liWithSpace:{marginTop:I.Z.sizes.spacers.s},liCenterFlex:{alignItems:"center",display:"flex"},error:{margin:0,padding:0}});var H=e=>{var{discountCardsLoadStatus:r,fields:t}=e;return r===E.LoadStatus.PENDING&&t.length?l.createElement(g.Z,{size:18,borderWidth:3,styleSheet:U}):null},W=(0,c.injectIntl)((e=>{var{discountCardsLoadStatus:r,fields:t,intl:a}=e;return r===E.LoadStatus.ERROR&&t.length?l.createElement("div",null,l.createElement(m.Z,{level:"error",dark:!0},l.createElement(f.fQ,{hooks:[f.OS.ON_RENDER],event:(0,f.C6)({format:"inline.validation.error",message:a.formatMessage({id:"page.journeySearchForm.discountCardLoadingError"}),id:"page.journeySearchForm.discountCardLoadingError",type:i.ErrorType.Customer})},l.createElement(c.FormattedMessage,{id:"page.journeySearchForm.discountCardLoadingError"})))):null}));class G extends l.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{shouldFocusRailcardDropdown:!1}),(0,n.Z)(this,"setShouldFocusRailcardDropdown",(e=>{this.setState((()=>({shouldFocusRailcardDropdown:e})))}))}static getDerivedStateFromProps(e,r){var t=r.prevCardTypes&&e.cardTypes&&r.prevCardTypes.length<e.cardTypes.length;return(0,a.Z)((0,a.Z)({},r),{},{prevCardTypes:e.cardTypes,shouldFocusRailcardDropdown:t})}componentDidMount(){this.setShouldFocusRailcardDropdown(!0)}render(){var e,{portal:r,fields:t,passengerCount:a,error:n,testId:i,sortedDiscountCardOptions:u,horizontalSearchForm:m,discountCardsLoadStatus:g}=this.props;return l.createElement("ul",{className:(0,o.css)(j.ul)},g===E.LoadStatus.SUCCESS&&t.map(((e,r,s)=>l.createElement("li",{className:(0,o.css)(j.li),key:r},l.createElement(d.Z,{name:e,component:M,removeField:t.remove,passengerCount:a,hasError:Boolean(n),fieldInstanceId:"".concat(r),testId:i,shouldFocusDropdown:r===s.length-1&&this.state.shouldFocusRailcardDropdown,sortedDiscountCardOptions:u})))),n&&l.createElement("li",{className:(0,o.css)(j.li,j.liWithSpace,j.error)},l.createElement(b.Z,{error:n,bounceInMessage:!0,testId:"railcards-exceed-passengers"})),l.createElement("li",{className:(0,o.css)(j.li,j.liWithSpace)},l.createElement("div",{className:(0,o.css)(j.liCenterFlex)},l.createElement(p.ZP,{styleSheet:j.button,onClick:()=>{t.push({id:"",count:0})},disabled:(e=t.getAll(),!(!e||0===e.length)&&((0,s.YjB)((e=>{var{id:r}=e;return!r}))(e)||e.length>=3)),testId:"add-railcard"},l.createElement("span",{className:(0,o.css)(j.buttonIcon)},((e,r)=>{var t=r===E.Portal.TRAINLINE;return e?l.createElement(h.Z,{className:(0,o.css)(j.addCardTypeIcon)}):t?l.createElement(v,{className:(0,o.css)(j.addCardTypeIcon)}):l.createElement(y,{className:(0,o.css)(j.addCardTypeIcon,j.addCardTypeIconToc)})})(!!m,r)),l.createElement(c.FormattedMessage,{id:0===t.length?"page.journeySearchForm.passengerPicker.addFirstRailcard":"page.journeySearchForm.passengerPicker.addRailcard",values:{selected:t.length,max:3}})),l.createElement(H,{discountCardsLoadStatus:g,fields:t})),l.createElement(W,{discountCardsLoadStatus:g,fields:t})))}}const V=e=>{var{portal:r,passengerCount:t,cardTypes:a,error:n,horizontalSearchForm:i,sortedDiscountCardOptions:o,discountCardsLoadStatus:s}=e;return l.createElement(u.Z,{portal:r,name:"ukFlowCardTypes",component:G,passengerCount:t,cardTypes:a,error:n,horizontalSearchForm:i,sortedDiscountCardOptions:o,discountCardsLoadStatus:s})}},54176:(e,r,t)=>{"use strict";t.d(r,{K:()=>s,Z:()=>l});var a=t(23198),n=t(98318),i=t(50093),o=t(23394),s=i.StyleSheet.create({fullWidth:{width:"100%"}});const l=i.StyleSheet.create({label:(0,a.Z)((0,a.Z)({},o.cp.body),{},{fontWeight:"bold",color:n.dp_app_text_base}),disabled:{fontWeight:"normal"},fieldRow:{[o.cy.max.s]:{marginBottom:o.W0.s4},marginBottom:o.W0.s6},wrapper:{display:"flex",height:"calc(100% - ".concat(o.W0.s2,")"),justifyContent:"space-between",flexDirection:"column"},fieldsWrapper:{display:"flex",flexDirection:"column",justifyContent:"normal"}})},39908:(e,r,t)=>{"use strict";t.d(r,{Z:()=>F});var a=t(50093),n=t(29901),i=t(98184),o=t(57397),s=t(73590),l=t(60654),c=t(4234),d=t(54176),u=t(64321),p=t(36841),m=t(94749),g=t(82758),v=t(8590),h=t(99366),y=a.StyleSheet.create({number:{fontSize:(0,h.Q1)("24px")}});const f=a.StyleSheet.create({childrenInfo:{paddingTop:v.W0.s2,paddingBottom:v.W0.s8},select:{opacity:0,width:"100%",height:"100%"},iconWrapper:{position:"absolute",width:"100%",height:"100%"}});var E=(e,r)=>t=>{var{value:a,onChange:n}=e,i=r===l.PassengerType.ADULT?g.Ir:g.Ot;if(t>a.filter(i).length)n((a||[]).concat((0,g.Q9)().ADULT_DOB));else{var o=a||[],s=o.slice().reverse().findIndex((e=>r===l.PassengerType.CHILD?(0,g.Ot)(e):(0,g.Ir)(e))),c=o.length-1-s;c>-1&&n(o.slice(0,c).concat(o.slice(c+1)))}},b=(0,i.injectIntl)((e=>{var{intl:r}=e,t=[{label:"".concat(r.formatMessage({id:"page.journeySearchForm.passengerPicker.addAChild"})," ").concat(r.formatMessage({id:"page.journeySearchForm.passengerPicker.ageOnDayOfTravel"})),disabled:!0,value:"disabled"}].concat(Array(16).fill(0).map(((e,t)=>({value:t.toString(),label:r.formatMessage({id:"page.journeySearchForm.passengerPicker.age"},{age:t}),disabled:!1}))).reverse());return n.createElement(n.Fragment,null,t.map(((e,r)=>n.createElement("option",{key:"option-".concat(r),value:e.value,disabled:e.disabled,"data-test":"option-".concat(0===r?"title":r)},e.label))))})),S=e=>{var{disabled:r,styleSheet:t,input:a,icon:i}=e,{value:o,onChange:s}=a,l=n.useRef(null);n.useEffect((()=>{l&&l.current&&(l.current.options[0].selected=!0)}),[l]);return n.createElement("div",{className:(0,p.css)(t&&t.button,r&&t&&t.buttonDisabled)},n.createElement("div",{className:(0,p.css)(f.iconWrapper)},i),n.createElement("select",{"data-test":"passengers-child-stepper-plus-button",disabled:r,className:(0,p.css)(f.select,r&&t&&t.buttonDisabled),onChange:e=>{var r=parseInt(e.target.value,10),t=(0,g.GE)(r);s((o||[]).concat(t)),l&&l.current&&(l.current.options[0].selected=!0)},ref:l},n.createElement(b,null)))};const T=(0,i.injectIntl)((e=>{var{input:r,label:t,max:a,min:i,type:o,intl:s}=e,{adults:c,children:d}=(0,g.V6)(r.value),v=o===l.PassengerType.ADULT?c:d,h=o===l.PassengerType.CHILD?r.value.filter(g.Ot).map((e=>s.formatMessage({id:"page.journeySearchForm.passengerPicker.age"},{age:(0,g.CY)(e)}))).join(", "):"";return n.createElement(n.Fragment,null,n.createElement(m.Z,(0,u.Z)({min:i,max:a,testId:"".concat(r.name,"-").concat(o)},r,{onChange:E(r,o),value:v,name:"".concat(r.name,"-").concat(o),reverseLabel:!0,styleSheet:y,PlusButton:o===l.PassengerType.CHILD?e=>{var{disabled:t,styleSheet:a,onClick:i,icon:o}=e;return n.createElement(S,{disabled:t,styleSheet:a,input:r,icon:o,onClick:i})}:void 0}),t),h&&n.createElement("div",{className:(0,p.css)(f.childrenInfo)},n.createElement("span",null,h)))}));var C=t(10571),A=t(89426),I=t(49481),_=t(78113),P=t(23198),R=t(98318),k=t(23394),N=R.dp_brand_secondary_duller;const O=a.StyleSheet.create({railcardRow:{display:"flex",":not(:last-child)":{paddingBottom:k.W0.s2}},railcardText:(0,P.Z)((0,P.Z)({},k.cp.body),{},{fontWeight:"bold",backgroundColor:R.dp_app_backdrop_dull,borderRadius:k.E0.m,padding:k.W0.s2,flex:"1"}),deleteButton:{position:"relative",borderRadius:"50%",width:32,height:32,lineHeight:"1",padding:k.W0.s1,margin:"".concat(k.W0.s1," ").concat(k.W0.s1," ").concat(k.W0.s1," ").concat(k.W0.s3)},deleteIcon:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:24,height:24}});const L=e=>{var{testId:r,text:t,onDelete:i}=e;return n.createElement("div",{className:(0,a.css)(O.railcardRow)},n.createElement("div",{className:(0,a.css)(O.railcardText)},t),n.createElement(A.gh,{onClick:i,styleSheet:O.deleteButton,testId:r},n.createElement(_.Z,{fill:N,className:(0,a.css)(O.deleteIcon)})))};const x=a.StyleSheet.create({addRailcardButton:{display:"flex",alignItems:"center",width:"100%",marginBottom:k.W0.s4,[k.cy.min.m]:{marginBottom:0}},addRailcardMessage:{flex:1},railcardSection:{display:"flex",justifyContent:"flex-end",flexDirection:"column"},railcardTitle:{paddingBottom:k.W0.s2},railcardRow:{display:"flex",paddingBottom:k.W0.s2},railcardText:(0,P.Z)((0,P.Z)({},k.cp.body),{},{fontWeight:"bold",backgroundColor:R.dp_app_backdrop_dull,borderRadius:k.E0.m,padding:k.W0.s2,flex:"1"}),deleteButton:{borderRadius:"50%",minHeight:"20px",lineHeight:"1",padding:k.W0.s1,margin:"".concat(k.W0.s1," ").concat(k.W0.s1," ").concat(k.W0.s1," ").concat(k.W0.s3)},deleteIcon:{width:"20px",height:"20px"},marginTop:{marginTop:k.W0.s2}});var D=e=>{var{children:r}=e,t=document.getElementById&&document.getElementById("addRailcardsDiv");return t?C.createPortal(r,t):n.createElement("div",{className:(0,a.css)(x.marginTop)},r)},w=(e,r)=>{var t=e.get(r);1===t.count?e.remove(r):(e.remove(r),e.insert(r,{id:t.id,count:t.count-1}))};const Z=e=>{var{passengersCount:r,fields:t,discountCards:o,launchUKDiscountCardModal:s}=e,l=o.reduce(((e,r)=>[...e,...r.options]),[]),c=t.getAll(),d=c.reduce(((e,r)=>e+r.count),0);return n.createElement(D,null,n.createElement("div",{className:(0,a.css)(x.railcardSection)},t.length>0&&n.createElement("p",{key:"railcardTitle",className:(0,a.css)(x.railcardTitle)},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.ukPassengerPicker.railcard.railcards"})),c.map(((e,r)=>{var a=l.find((r=>r.value===e.id)),i=a?a.text:"";return 1===e.count?n.createElement(L,{key:"railcard-row-".concat(e.id),testId:"railcard-row-".concat(e.id),text:i,onDelete:()=>w(t,r)}):new Array(e.count).fill(0).map(((a,o)=>n.createElement(L,{key:"railcard-row-".concat(r,"-").concat(o),testId:"railcard-row-".concat(e.id),text:i,onDelete:()=>w(t,r)})))})),n.createElement(A.C9,{styleSheet:x.addRailcardButton,disabled:r===d,depot:!0,testId:"add-railcard-btn-done",size:"m",onClick:()=>s(o,(e=>((e,r)=>{var t=e.getAll().findIndex((e=>e.id===r));if(-1===t)e.push({id:r,count:1});else{var a=e.get(t).count+1;e.remove(t),e.insert(t,{id:r,count:a})}})(t,e)))},n.createElement(I.Z,null),n.createElement("span",{className:(0,a.css)(x.addRailcardMessage)},d>0?n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.ukpassengerPicker.addAnotherCard"}):n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.ukpassengerPicker.addRailcard"})))))};const F=e=>{var{children:r,adults:t,discountCards:u,launchUKDiscountCardModal:p}=e,m=((e,r)=>{if(r+e===1)return{min:{adults:r,children:e},max:{adults:c.mn,children:c.mn}};var t=c.mn-r-e;return{min:{adults:0,children:0},max:{adults:r+t,children:e+t}}})(r,t);return n.createElement("div",{className:(0,a.css)(d.Z.wrapper)},n.createElement("div",{className:(0,a.css)(d.Z.fieldsWrapper)},n.createElement("div",{className:(0,a.css)(d.Z.fieldRow)},n.createElement(o.Z,{component:T,type:l.PassengerType.ADULT,min:m.min.adults,max:m.max.adults,name:"passengers",label:n.createElement("label",{htmlFor:"passengers-adult",className:(0,a.css)(d.Z.label,(0===t||r===c.mn)&&d.Z.disabled)},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.adultsLabel"}))})),n.createElement("div",{className:(0,a.css)(d.Z.fieldRow)},n.createElement(o.Z,{component:T,type:l.PassengerType.CHILD,min:m.min.children,max:m.max.children,name:"passengers",label:n.createElement("label",{htmlFor:"passengers-child",className:(0,a.css)(d.Z.label,(t===c.mn||0===r)&&d.Z.disabled)},n.createElement(i.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.splitAgeChildrenLabel"}))}))),n.createElement(s.Z,{name:"ukFlowCardTypes",component:Z,discountCards:u,launchUKDiscountCardModal:p,passengersCount:t+r}))}},3963:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c,t:()=>l});var a=t(50093),n=t(29901),i=t(98184);const o=a.StyleSheet.create({root:{maxWidth:"270px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"bold"}});var s=["adults","children","youths","seniors"],l=e=>{var{isEUSearch:r,passengerNames:t=[],intl:a,isAria:n,noOfRailcards:i,shouldUseItalianYouthAgeRange:o}=e,l=t.filter((e=>!!e)).map((e=>e.split(" ")[0])),c=0,d=s.reduce(((r,t)=>{var a=e[t];return a&&(c+=a,r.push({type:t,amount:a})),r}),[]).map((e=>{var{type:t,amount:i}=e;return a.formatMessage({id:"page.journeySearchForm.passengerPicker.".concat(t)},{amount:i})+(1===c&&0===l.length?" "+a.formatMessage({id:"page.journeySearchForm.passengerPicker.ageRange.".concat(t).concat(n?".aria":"").concat(!o||"adults"!==t&&"youths"!==t?"":".italian")},{isEU:r}):"")})),u=l.filter((e=>!!e)).concat(d).map(((e,r,t)=>"".concat(r&&r<t.length?", ":"").concat(e))).join(""),p=a.formatMessage({id:"page.journeySearchForm.passengerPicker.noPassengers"}),m=u.length?u:p;return n?r?"".concat(m,". ").concat(a.formatMessage({id:"page.journeySearchForm.passengerPicker.railcards.aria"},{railcards:i})):a.formatMessage({id:"page.journeySearchForm.passengerPicker.passengerCountSummary.aria"},{passengerCountSummary:m}):m};const c=(0,i.injectIntl)((e=>n.createElement("div",{className:(0,a.css)(o.root)},l(e))))},78361:(e,r,t)=>{"use strict";t.d(r,{FR:()=>p,HL:()=>u,LI:()=>d,ZP:()=>f,hq:()=>h,m2:()=>m,o6:()=>y});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(52068),{sizes:c}=o.Z,d={backgroundColor:n.dp_app_action_tertiary,borderRadius:s.E0.m,lineHeight:"1.21625rem",padding:c.spacers.s,paddingRight:c.spacers.l,position:"relative",textAlign:"left",width:"100%",height:"100%",borderWidth:1,borderStyle:"solid",borderColor:"transparent",":active":{color:n.dp_app_text_base}},u={border:"0.5px solid ".concat(n.dp_brand_neutral_brighter),marginTop:"var(--DEPRECATED-7px)",position:"absolute",width:"80%",height:"unset"},p=i.StyleSheet.create({container:{display:"flex",alignItems:"center"}}),m=i.StyleSheet.create({buttonContainer:{marginLeft:s.W0.s3,height:s.W0.s4},icon:{fill:n.dp_brand_secondary_duller}}),g=(0,a.Z)((0,a.Z)({},d),{},{borderColor:n.dp_brand_tertiary_dim,borderWidth:2}),v=i.StyleSheet.create({root:{color:n.dp_app_text_base,position:"relative",height:"100%"},button:d,openButton:(0,a.Z)((0,a.Z)({},d),{},{borderColor:n.dp_brand_primary_mid,borderBottomColor:n.dp_app_border_dull}),errorButton:g,chevronWrapper:{bottom:0,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",right:c.spacers.s,top:0},chevron:{width:"var(--DEPRECATED-14px)"},dropdownContainer:{width:"var(--DEPRECATED-420px)",borderColor:n.dp_brand_primary_mid,borderRadius:0,overflow:"visible"},dropdownContainerWithErrors:{width:"var(--DEPRECATED-420px)",borderColor:n.dp_brand_primary_mid,borderRadius:0,overflow:"visible",bottom:"58px"},horizontalRuleStyle:u,railcards:(0,a.Z)({},l.W.small),newUkPassengerPickerWrapper:{width:"420px",overflow:"visible",padding:s.W0.s6},doneButton:{width:"100%",marginTop:s.W0.s4},overlayTitle:(0,a.Z)((0,a.Z)({},s.cp.title3),{},{textAlign:"center",padding:s.W0.s2}),overlayBody:(0,a.Z)((0,a.Z)({},s.cp.body),{},{textAlign:"center"})}),h="-".concat(c.spacers.px1),y=i.StyleSheet.create({button:{cursor:"pointer"},spacer:{[s.cy.min.m]:{paddingLeft:"86px"}},label:{[s.cy.min.m]:{paddingLeft:"70px"}}});const f=v},93500:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>c,pb:()=>d,zd:()=>u});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(52068),l=t(52480);const c=i.StyleSheet.create({root:{padding:o.Z.sizes.spacers.m,paddingTop:o.Z.sizes.spacers.s,width:"var(--DEPRECATED-420px)"},passengerSelectRow:{display:"flex",marginRight:"-".concat(o.Z.sizes.spacers.m),marginTop:o.Z.sizes.spacers.xs,":first-child":{marginTop:0}},passengerSelectWrapper:{flex:1,marginRight:o.Z.sizes.spacers.m,textAlign:"left"},passengerSelectHeader:(0,a.Z)((0,a.Z)({},s.W.small),{},{fontWeight:"normal"}),doneButton:(0,a.Z)((0,a.Z)({},s.W.title3),{},{minHeight:42,":disabled":{backgroundColor:n.dp_app_backdrop_dull,opacity:1,color:n.dp_app_text_disabled}}),passengerAgeWrapper:{marginBottom:o.Z.sizes.spacers.s,":last-child":{marginBottom:0}},disabledListHeader:{color:n.dp_brand_neutral_mid},horizontalSearchRoot:{width:"100%"},separator:{borderTop:"1px solid #d0d4d5",marginTop:"var(--DEPRECATED-20px)",opacity:"unset"}});var d=i.StyleSheet.create({select:{":focus":{outline:"none",borderColor:n.dp_brand_primary_mid,borderWidth:1,boxShadow:l.xO}}}),u=i.StyleSheet.create({select:{borderColor:n.dp_brand_tertiary_dim,borderWidth:2,":focus":{outline:"none",borderColor:n.dp_brand_tertiary_dim,borderWidth:2,boxShadow:l.Is}},warningForPromo:{color:n.dp_app_warning_duller}})},4234:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>S,dx:()=>h,e2:()=>y,mn:()=>v});var a=t(50093),n=t(82768),i=t(29901),o=t(98184),s=t(57397),l=t(89426),c=t(82323),d=t(5578),u=t(93500),p=t(86546),m=t(64025),g=t(81011),v=9,h=(e,r)=>(0,n.w6H)(e,r).map((e=>({text:(e+1).toString(),value:(e+1).toString()}))),y=e=>{var r=e?"0":"1";return{text:r,value:r}},f=h(0,9),E=y(!0);class b extends i.PureComponent{render(){var{portal:e,adultCount:r,childCount:t,cardTypes:n,errors:v={},onDone:h,forceShowCallout:y,intl:b,disableCoach:S,sortedDiscountCardOptions:T,discountCardsLoadStatus:C,enableUkVouchers:A,disabledPromoText:I=!1}=this.props,_=v&&Object.keys(v).length;return i.createElement("div",{className:(0,a.css)(u.ZP.root),role:"dialog","aria-label":b.formatMessage({id:"page.journeySearchForm.passengerPicker.ariaLabel"})},S?i.createElement(s.Z,{component:g.Z,name:"passengers",errors:v,defaultOption:E,passengerOptions:f}):i.createElement(s.Z,{component:m.Z,name:"passengers",errors:v,defaultOption:E,passengerOptions:f,forceShowCallout:y}),i.createElement(d.ZP,{portal:e,cardTypes:n,sortedDiscountCardOptions:(0,c.m)(T,b),passengerCount:r+t,error:v.cardTypeErrors,discountCardsLoadStatus:C}),A&&i.createElement(i.Fragment,null,i.createElement(s.Z,{intl:b,component:p.Z,name:"ukVoucherInput",disabledPromoText:I}),I&&i.createElement("div",{className:(0,a.css)(u.zd.warningForPromo)},i.createElement(o.FormattedMessage,{id:"warningMessage.vouchers.PerbookingLimit"})),i.createElement("br",null)),i.createElement(l.KM,{onClick:e=>{_||h(e)},styleSheet:u.ZP.doneButton,testId:"passenger-summary-btn-done",disabled:!!_},i.createElement(o.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.doneLabel"})))}}const S=(0,o.injectIntl)(b)},19133:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(50093),n=t(29901),i=t(98184),o=t(12218),s=t(78361);const l=e=>{var{displayValidationAlert:r,titleId:t,messageId:l,onClose:c}=e;return n.createElement(o.ZP,{isOpen:r,type:o.wW.NUDGE,actionButton:{onClick:c},testId:"passenger-picker-validation-overlay"},n.createElement("h2",{className:(0,a.css)(s.ZP.overlayTitle)},n.createElement(i.FormattedMessage,{id:t})),n.createElement("p",{className:(0,a.css)(s.ZP.overlayBody)},n.createElement(i.FormattedMessage,{id:l})))}},86546:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var a=t(64321),n=t(50093),i=t(29901),o=t(88543),s=t(18406),l=t(91046),c=t(78307),d=t(23394);const u=n.StyleSheet.create({wrapper:{display:"flex",flexDirection:"column",marginTop:d.W0.s1},container:{width:"100%"}});const p=(0,o.connect)(null,(e=>({clearPromotionalField:()=>{e((0,s.m)(c.Th,"ukVoucherInput",""))}})))((e=>{var{intl:r,input:t,clearPromotionalField:o,disabledPromoText:s=!1}=e;return i.createElement("div",{className:(0,n.css)(u.wrapper)},i.createElement(l.Z,(0,a.Z)({},t,{type:"text",clearable:!0,id:"promotional-code-input",disabled:s,testId:"journey-search-promotional-code-input",onClear:o,className:(0,n.css)(u.container),label:r.formatMessage({id:"page.journeySearchForm.passengerPicker.promotionalCode"})})))}))},64025:(e,r,t)=>{"use strict";t.d(r,{Z:()=>A});var a=t(85924),n=t(41344),i=t(33337),o=t(50093),s=t(29901),l=t(98184),c=t(13035),d=t(89426),u=t(88220),p=t(59895),m=t(91557),g=t(56136),v=t(82758),h=t(79076),y=t(93500),f=t(98318),E=t(8888),b=t(23394);const S=o.StyleSheet.create({infoIconSpan:{marginLeft:E.Z.sizes.spacers.xs,position:"relative"},calloutButton:{backgroundColor:"transparent",verticalAlign:"middle",":hover":{cursor:"pointer"}},infoIcon:{height:"0.7875rem",width:"0.7875rem"},infoIconDisabled:{color:f.dp_brand_neutral_mid,cursor:"auto"},callout:{borderWidth:"1px",borderRadius:b.E0.m,fontSize:"var(--DEPRECATED-14px)",padding:E.Z.sizes.spacers.m,width:"14.875rem",":before":{borderWidth:"12px",top:"50%",marginTop:"-12px",left:"-24px",right:"auto"},":after":{borderWidth:"11px",top:"50%",marginTop:"-11px",left:"-21px",right:"auto"}}});class T extends s.PureComponent{constructor(){super(...arguments),(0,a.Z)(this,"calloutButton",void 0),(0,a.Z)(this,"state",{showInfoCallout:!1}),(0,a.Z)(this,"onInfoIconClick",(()=>{this.props.disabled||this.setState({showInfoCallout:!this.state.showInfoCallout})})),(0,a.Z)(this,"onCalloutDismiss",(()=>this.setState({showInfoCallout:!1}))),(0,a.Z)(this,"storeButton",(e=>this.calloutButton=e))}componentDidMount(){this.setState({showInfoCallout:!!this.props.forceShowCallout})}render(){var{disabled:e,forceShowCallout:r}=this.props;return s.createElement("span",{className:(0,o.css)(S.infoIconSpan)},s.createElement(d.ZP,{ariaLabel:this.props.intl.formatMessage({id:"page.journeySearchForm.information"}),saveInputRef:this.storeButton,onClick:this.onInfoIconClick,styleSheet:S.calloutButton,disabled:e,tabIndex:e?-1:0},s.createElement(p.Z,{className:(0,o.css)(S.infoIcon,e&&S.infoIconDisabled)})),s.createElement(c.Z,{isOpen:this.state.showInfoCallout,width:250,anchor:{element:this.calloutButton,nubbin:!0,position:this.props.deviceType===i.WO.DESKTOP?{align:m.N.RIGHT,grow:m.N.BOTTOM}:{align:m.N.TOP,grow:m.N.RIGHT}},close:this.onCalloutDismiss},s.createElement(l.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.".concat(r?"refineCoachAges":"childrenAgeInfo")})))}}class C extends s.PureComponent{constructor(){super(...arguments),(0,a.Z)(this,"generateOnChangeHandler",((e,r)=>t=>{var{input:a}=this.props,n=Number(t.currentTarget.value),{value:i,onChange:o}=a,s=i.filter((r=>!e(r))),l=i.filter(e).slice(0,n),c=Array(Math.max(n-l.length,0)).fill(r);o(s.concat(l,c))})),(0,a.Z)(this,"onAdultsChange",this.generateOnChangeHandler(v.Ir,(0,v.Q9)().ADULT_DOB)),(0,a.Z)(this,"onChildrenChange",this.generateOnChangeHandler(v.Ot,(0,v.Q9)().CHILD_DOB)),(0,a.Z)(this,"generateOnChildAgeChangeHandler",(e=>r=>{var{input:t}=this.props,{value:a,onChange:n}=t,i=a.filter(v.Ir),o=a.filter(v.Ot).map(((t,a)=>a===e?r.currentTarget.value:t));n(i.concat(o))})),(0,a.Z)(this,"getChildAgeOptions",(e=>[{text:"0-2",value:e.YEAR_1},{text:"3-4",value:e.YEAR_4},{text:"5-15",value:e.CHILD_DOB}])),(0,a.Z)(this,"renderChildAges",(()=>{var{input:e,errors:r={},intl:t}=this.props,a=e.value.filter(v.Ot),n=(0,v.Q9)();return a.length?a.map(((e,a)=>s.createElement("div",{key:a,className:(0,o.css)(y.ZP.passengerAgeWrapper)},s.createElement(u.Z,{ariaLabel:t.formatMessage({id:"page.journeySearchForm.passengerPicker.selectChildAge.aria"}),name:"child-".concat(a),items:this.getChildAgeOptions(n),styleSheet:(0,g.y)(y.pb,r.passengerErrors&&y.zd),onChange:this.generateOnChildAgeChangeHandler(a),value:e,role:"listbox"})))):s.createElement(u.Z,{ariaLabel:t.formatMessage({id:"page.journeySearchForm.passengerPicker.selectChildAge.aria"}),name:"",items:[],styleSheet:(0,g.y)(y.pb,r.passengerErrors&&y.zd),disabled:!0,role:"listbox"})}))}render(){var{input:e,errors:r={},intl:t,deviceType:a,defaultOption:n,passengerOptions:i,forceShowCallout:c}=this.props,{adults:d,children:p}=(0,v.V6)(e.value);return s.createElement("div",null,s.createElement("div",{className:(0,o.css)(y.ZP.passengerSelectRow)},s.createElement("div",{className:(0,o.css)(y.ZP.passengerSelectWrapper)},s.createElement("h5",{className:(0,o.css)(y.ZP.passengerSelectHeader)},s.createElement(l.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.adultsLabel"})),s.createElement(u.Z,{testId:"passenger-picker-adults",ariaLabel:t.formatMessage({id:"page.journeySearchForm.passengerPicker.selectAdults.aria"}),name:"adults",defaultOption:n,items:i,styleSheet:(0,g.y)(y.pb,r.passengerErrors&&y.zd),onChange:this.onAdultsChange,value:String(d),role:"listbox"}))),s.createElement("div",{className:(0,o.css)(y.ZP.passengerSelectRow)},s.createElement("div",{className:(0,o.css)(y.ZP.passengerSelectWrapper)},s.createElement("h5",{className:(0,o.css)(y.ZP.passengerSelectHeader)},s.createElement(l.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.splitAgeChildrenLabel"})),s.createElement(u.Z,{testId:"passenger-picker-children",ariaLabel:t.formatMessage({id:"page.journeySearchForm.passengerPicker.selectChildren.aria"}),name:"children",defaultOption:n,items:i,styleSheet:(0,g.y)(y.pb,r.passengerErrors&&y.zd),onChange:this.onChildrenChange,value:String(p),role:"listbox"})),s.createElement("div",{className:(0,o.css)(y.ZP.passengerSelectWrapper)},s.createElement("h5",{className:(0,o.css)(y.ZP.passengerSelectHeader,0===p&&y.ZP.disabledListHeader)},s.createElement(l.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.childrenAgeLabel"}),s.createElement(T,{intl:t,deviceType:a,disabled:0===p,forceShowCallout:c})),this.renderChildAges())),r.passengerErrors&&s.createElement(h.Z,{error:r.passengerErrors,bounceInMessage:!0}))}}const A=(0,l.injectIntl)((0,n.FZ)(C))},81011:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(85924),n=t(50093),i=t(29901),o=t(98184),s=t(88220),l=t(56136),c=t(82758),d=t(79076),u=t(93500);class p extends i.PureComponent{constructor(){super(...arguments),(0,a.Z)(this,"generateOnChangeHandler",((e,r)=>t=>{var{input:a}=this.props,n=t.currentTarget.value,{value:i,onChange:o}=a;o(i.filter(e).concat(Array(Number(n)).fill(r)))})),(0,a.Z)(this,"onAdultsChange",this.generateOnChangeHandler(c.Ot,(0,c.Q9)().ADULT_DOB)),(0,a.Z)(this,"onChildrenChange",this.generateOnChangeHandler(c.Ir,(0,c.Q9)().CHILD_DOB))}render(){var{errors:e={},defaultOption:r,passengerOptions:t,input:a}=this.props,{adults:p,children:m}=(0,c.V6)(a.value);return i.createElement("div",null,i.createElement("div",{className:(0,n.css)(u.ZP.passengerSelectRow)},i.createElement("div",{className:(0,n.css)(u.ZP.passengerSelectWrapper)},i.createElement("label",{className:(0,n.css)(u.ZP.passengerSelectHeader),htmlFor:"passenger-picker-adults"},i.createElement(o.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.adultsLabel"})),i.createElement(s.Z,{testId:"passenger-picker-adults",id:"passenger-picker-adults",name:"adults",defaultOption:r,items:t,styleSheet:(0,l.y)(u.pb,e.passengerErrors&&u.zd),onChange:this.onAdultsChange,value:String(p),role:"listbox"})),i.createElement("div",{className:(0,n.css)(u.ZP.passengerSelectWrapper)},i.createElement("label",{className:(0,n.css)(u.ZP.passengerSelectHeader),htmlFor:"passenger-picker-children"},i.createElement(o.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.childrenLabel"})),i.createElement(s.Z,{testId:"passenger-picker-children",id:"passenger-picker-children",name:"children",defaultOption:r,items:t,styleSheet:(0,l.y)(u.pb,e.passengerErrors&&u.zd),onChange:this.onChildrenChange,value:String(m),role:"listbox"}))),e.passengerErrors&&i.createElement(d.Z,{error:e.passengerErrors,bounceInMessage:!0}))}}const m=p},70363:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(23198),n=t(98318),i=t(50093),o=t(52068);const s=i.StyleSheet.create({horizontalSearchRailcards:(0,a.Z)((0,a.Z)({},o.W.body),{},{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"288px",color:n.dp_app_text_base})})},42018:(e,r,t)=>{"use strict";t.d(r,{Z:()=>f});var a=t(50093),n=t(29901),i=t(98184),o=t(84752),s=t(37977),l=t(14023),c=t(3957),d=t(41966),u=t(26625),p=t(82758),m=t(23198),g=t(98318),v=t(8590),h={display:"flex",alignItems:"center",border:"1px solid ".concat(g.dp_app_selection_bright),borderRadius:v.E0.m,backgroundColor:g.dp_brand_secondary_brightest};const y=a.StyleSheet.create({bannerPassengerPicker:(0,m.Z)((0,m.Z)({},h),{},{margin:"".concat(v.W0.s8," 0"),padding:"".concat(v.W0.s3," ").concat(v.W0.s4),textDecoration:"none"}),bannerSRP:(0,m.Z)((0,m.Z)({},h),{},{padding:"".concat(v.W0.s4," ").concat(v.W0.s2," ").concat(v.W0.s4," ").concat(v.W0.s4)}),iconContainer:{marginRight:v.W0.s4},railcardIcon:{display:"block",width:"27px",height:"48px"},textFillWidth:{flex:1},chevronContainer:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},chevron:{transform:"rotate(-90deg)",display:"block",color:g.dp_comp_input_binary_selected_background_hover}});const f=(0,u.v8)((e=>{var{passengers:r,slimVariant:t,sendTracking:m}=e,g=(0,p.a4)(r);if(!g)return null;var v=(0,p.ik)(g),h=()=>{m((0,u.k1)({coreProperties:{},category:"discount card banner recommender",action:"cta click",label:(0,u.oZ)(v)}))},f=e=>{var r=e?"page.journeySearchForm.passengerPicker.recommendRailcardForPassengersBanner.generic":"page.results.recommendRailcardForPassengersBanner.generic",t=e?"page.journeySearchForm.passengerPicker.recommendRailcardForPassengersBanner.specificCard":"page.results.recommendRailcardForPassengersBanner.specificCard";return n.createElement(l.Z,{as:"p",textType:"small",styleSheet:y.textFillWidth},g===p.fm.GENERAL_RECOMMENDATION?n.createElement(i.FormattedMessage,{id:r}):n.createElement(s.ZP,{id:t,values:{cardName:g.toString()},tagsMap:{b:o.Z}}))},E=n.createElement("div",{className:(0,a.css)(y.iconContainer)},n.createElement(c.Z,{className:(0,a.css)(y.railcardIcon)}));return t?n.createElement("a",{className:(0,a.css)(y.bannerPassengerPicker),href:v,target:"_blank",onClick:h},E,f(t)):n.createElement("section",{className:(0,a.css)(y.bannerSRP)},E,f(t),n.createElement("div",{className:(0,a.css)(y.chevronContainer)},n.createElement("a",{href:v,target:"_blank",onClick:h},n.createElement(d.Z,{className:(0,a.css)(y.chevron)}))))}))},62555:(e,r,t)=>{"use strict";t.d(r,{Bb:()=>g,Fu:()=>y,Vz:()=>m,gw:()=>v,vv:()=>f,yu:()=>h});var a=t(23198),n=t(29901),i=t(10571),o=t(88543),s=t(18406),l=t(60654),c=t(78307),d=t(91557),u=t(8590),p=t(29089),m=(e,r,t)=>a=>{if("desktop"===e&&r===p.z.HORIZONTAL){var o=document.getElementById&&document.getElementById("portal-hsf-filters");if(!o)return null;if(t){var s=n.createElement("div",{style:{order:t}},a);return i.createPortal(s,o)}return i.createPortal(a,o)}return a},g=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e?{nubbin:!0,element:r,position:{align:d.N.RIGHT,grow:d.N.BOTTOM,offset:u.TM.s16,yAlignmentEl:t}}:{element:r,position:{align:d.N.BOTTOM,grow:d.N.LEFT}}},v=e=>new Promise((r=>setTimeout(r,e))),h=e=>Object.keys(e).reduce(((r,t)=>r||e[t]),!1),y=e=>e.from.code.length&&e.to.code.length,f=(e,r)=>{var t=e.map(((e,r)=>(e=>e.type===l.PassengerType.YOUTH&&e.age&&e.age>25&&e.age<30)(e)?r:-1)).filter((e=>-1!==e));t.length&&t.forEach((t=>{var n=(0,a.Z)((0,a.Z)({},e[t]),{age:null,type:l.PassengerType.ADULT});(0,o.batch)((()=>{r((0,s.Ab)(c.Th,"euFlowPassengers",t)),r((0,s.Zv)(c.Th,"euFlowPassengers",t,n))}))}))}},10190:(e,r,t)=>{"use strict";t.d(r,{Vw:()=>C,ZP:()=>T});var a=t(64321),n=t(31616),i=t(50093),o=t(29901),s=t(98184),l=t(44277),c=t(89914),d=t(23198),u=t(98318),p=t(8888),m=t(23394),g=t(52068),v=m.W0.s2;const h=i.StyleSheet.create({root:(0,d.Z)({display:"flex",justifyContent:"space-between",alignItems:"center",margin:0,padding:p.Z.sizes.spacers.s},p.Z.typography.body),focused:{backgroundColor:u.dp_comp_table_row_hover,":hover":{backgroundColor:u.dp_comp_table_row_hover}},hovered:{":hover":{backgroundColor:u.dp_comp_table_row_hover}},name:{color:u.dp_app_text_base,flex:1,fontWeight:400,paddingLeft:m.W0.s2,paddingRight:m.W0.s2},subtitle:{color:u.dp_app_text_subdued},TocBar:{backgroundColor:u.dp_app_selection_brightest,":hover":{backgroundColor:u.dp_app_selection_brightest}},code:{fontWeight:700,color:u.dp_app_text_subtle}});var y=i.StyleSheet.create({code:{fontWeight:600,color:u.dp_app_text_subdued,paddingRight:m.W0.s3,[p.Z.breakpoints.small.min]:{paddingRight:m.W0.s4}},root:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",borderRadius:m.E0.m,overflow:"hidden",":hover":{backgroundColor:u.dp_brand_neutral_brightest}},focused:{backgroundColor:u.dp_app_selection_brighter,":hover":{backgroundColor:u.dp_app_selection_brighter}},TocBar:{backgroundColor:u.dp_app_selection_brightest,":hover":{backgroundColor:u.dp_app_selection_brightest}},name:{color:u.dp_app_positive_dullest,fontWeight:600,fontFamily:g.R.body.face.fontFamily,lineHeight:1.5,fontSize:g.W.title4.fontSize,width:"100%",padding:"".concat(v," ").concat(m.W0.s4," ").concat(m.W0.s2," ").concat(m.W0.s3),[p.Z.breakpoints.small.min]:{paddingBottom:m.W0.s3,paddingLeft:m.W0.s4}},subtitle:{color:u.dp_app_text_subdued},arrow:{alignSelf:"stretch",width:m.W0.s10,flex:"0 0 auto",display:"flex",alignItems:"center",justifyContent:"center"},arrowFocused:{backgroundColor:u.dp_app_selection_brightest}}),f=t(45234),E=["enableArrow"];class b extends o.PureComponent{render(){var{name:e,properties:r,countryCode:t,styles:a,showFullCountryName:n,extraInfo:d,isTrainline:u,enableArrow:p}=this.props,m=r&&r.find((e=>"subtitle"===e.key));void 0===m&&(m=d&&d.subtitle&&{key:"subtitle",value:d.subtitle});var g="GB"!==t&&t,v=this.props.suggestionFieldType===l.P.Legacy&&this.props.isHoverable;return o.createElement("div",{className:(0,i.css)(a.root,v&&a.hovered,this.props.isFocused&&(u?a.focused:a.TocBar)),tabIndex:-1,"data-test":"suggested-station"},o.createElement("span",{className:(0,i.css)(a.name),"data-test":"suggested-station-name"},e,m&&o.createElement("span",{className:(0,i.css)(a.subtitle),"data-test":"suggested-station-name-subtitle"},", ",m.value))," ",g&&o.createElement("span",{className:(0,i.css)(a.code),"data-test":"suggested-station-code"},n?o.createElement(s.FormattedMessage,{id:"country.".concat(t)}):o.createElement(o.Fragment,null,o.createElement("span",{"data-test":"station-code","aria-hidden":"true"},g),o.createElement(c.o,{id:"components.ScreenReader.pause"}),o.createElement(c.o,{id:"country.".concat(t)}))),p&&o.createElement("span",{className:"".concat((0,i.css)(a.arrow,this.props.isFocused&&a.arrowFocused))},o.createElement(f.default,null)))}}var S=e=>{var r=e.suggestionFieldType!==l.P.SearchWidget?h:y,{enableArrow:t=!1}=e,i=(0,n.Z)(e,E);return o.createElement(b,(0,a.Z)({},i,{styles:r,enableArrow:t}))};const T=S;var C=e=>o.createElement(S,(0,a.Z)({},e,{enableArrow:!0}))},74981:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(29901),n=t(98184),i=t(88220),o=t(56136),s=t(5193),l=t(26625),c=t(12389),d=t(36841),u=t(8888);const p=d.StyleSheet.create({increasedRightPadding:{paddingRight:"calc(".concat(u.Z.sizes.spacers.px39," + 0.8rem)"),":focus":{paddingRight:"calc(".concat(u.Z.sizes.spacers.px39," + 0.8rem)")},":disabled":{paddingRight:"calc(".concat(u.Z.sizes.spacers.px39," + 0.8rem)")},fontWeight:600}});const m=(0,n.injectIntl)((e=>{var{name:r,id:t,value:n,items:d,disabled:u,addAriaLabel:m=!0,styleSheet:g,intl:v,onChange:h,onFocus:y,inputRef:f,increaseRightPadding:E}=e,{sendTracking:b}=(0,l.rS)(),S=a.useRef(!1),T=a.useRef(!1);a.useEffect((()=>{S.current&&null!=n&&n.hours?b((0,c.vk)(n,!1)):S.current=!0}),[null==n?void 0:n.hours,null==n?void 0:n.minutes]),a.useEffect((()=>{T.current&&null!=n&&n.dateType?b((0,c.vk)(n,!0)):T.current=!0}),[null==n?void 0:n.dateType]);var C=n?r===s.J6.HOURS?n.hours:n.minutes:"",A=m?v.formatMessage({id:"page.journeySearchForm.dateTimePicker.select".concat(r.charAt(0).toUpperCase()+r.slice(1),".aria")}):void 0;return a.createElement(i.Z,{ariaLabel:A,styleSheet:(0,o.y)(g,E&&{select:p.increasedRightPadding}),name:r,id:t,items:d,value:C,onChange:h,onFocus:y,disabled:u,inputRef:f,role:"listbox"})}))},12389:(e,r,t)=>{"use strict";t.d(r,{AZ:()=>d,g2:()=>u,vk:()=>c});var a=t(86026),n=t(26625),i=t(60654),o=function(e){return e.LEAVE="leave after selected",e.ARRIVE="arrive by selected",e}(o||{}),s="search widget calendar",l=(e,r)=>r?e===i.TransitDefinitionDateType.DEPART_AFTER?o.LEAVE:o.ARRIVE:null,c=(e,r)=>{return(0,n.k1)({coreProperties:{genericValue1:l(e.dateType,r)},category:s,action:"time selected",label:(t=e.hours,a=e.minutes,"0"===a?t+":00":t+":"+a)});var t,a},d=()=>(0,n.k1)({coreProperties:{},category:s,action:"information icon details viewed",label:"information icon details viewed"}),u=e=>({eventType:a.EventTypes.GENERIC_EVENT,eventProperties:{eventCategory:"search form",eventAction:"date time picker selected",eventLabel:e?"inbound":"outbound"}})},90878:(e,r,t)=>{"use strict";t.d(r,{kq:()=>F,d3:()=>Z,ZP:()=>U});var a=t(23198),n=t(85924),i=t(50093),o=t(29901),s=t(98184),l=t(57397),c=t(79239);const d=e=>{var{className:r}=e;return o.createElement("svg",{viewBox:"0 0 160 160",width:"16px",height:"16px",className:r},o.createElement("polygon",{fill:"none",stroke:"currentColor",points:"75,75.1 75,75 22.8,75.1 11.8,87.8 22.8,100.1 75.1,100 75.1,100 75.1,100 80.2,100 85.1,100 85.1,100 85.1,100 120.1,100.1 120.1,75.1 85,75.1 "}),o.createElement("polygon",{fill:"none",stroke:"currentColor",points:"85.1,20 75.1,20 75.1,20 40.1,20 40.1,45 75.1,45 85.1,45 85.1,45 136.9,45 148.1,32.3 137.2,19.9 "}),o.createElement("path",{fill:"currentColor",stroke:"currentColor",d:"M158.6,29l-15.5-17.5c-1-1-2.3-1.6-3.7-1.6L85.1,10V4.7c0-1.3-0.5-2.3-1.5-3.3c-1-0.9-1.9-1.4-3.3-1.4c-1.4,0-2.8,0.5-3.8,1.4c-0.9,0.9-1.4,2-1.4,3.3V10H35.1c-1.4,0-2.6,0.5-3.6,1.4c-0.9,0.9-1.4,2.1-1.4,3.6v35c0,1.3,0.5,2.4,1.4,3.4c0.9,1,2.1,1.6,3.6,1.6h40.1v10l-54.5,0.1c-1.5,0-2.7,0.5-3.7,1.6L1.4,84.5c-1.9,2.3-1.9,4.5,0,6.6l15.5,17.5c1,1,2.3,1.6,3.7,1.6l54.5-0.1v45.3c0,1.3,0.5,2.3,1.4,3.3c0.9,0.9,2.4,1.4,3.8,1.4c1.3,0,2.2-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.3V110l40,0.1c1.2,0,2.4-0.5,3.4-1.4c1-0.9,1.6-2.1,1.6-3.6v-35c0-1.5-0.5-2.7-1.6-3.6c-1-0.9-2.2-1.4-3.4-1.4H85V55l54.4-0.1c2.1,0,2.7-0.6,3.7-1.9l15.5-17.5C160.5,33.5,160.5,31.3,158.6,29z M120.1,75.1v25L85.1,100h0v0l-4.9,0l-5.1,0v0h0l-52.3,0.1l-11-12.4l11-12.6L75,75v0.1h10H120.1z M136.9,45L85.1,45v0h-10h-35V20h35v0l10,0l52.1-0.1l11,12.3L136.9,45z"}))};var u=t(78307),p=t(56515),m=t(30471),g=t(56136),v=t(28620),h=t(90781),y=t(10190),f=t(64321),E=t(88220),b=t(98318),S=t(8888),T=t(52480);const C=i.StyleSheet.create({listbox:{color:b.dp_app_text_base,marginRight:S.Z.sizes.spacers.xs,flex:3},select:{":focus":{outline:"none",borderColor:b.dp_brand_primary_mid,boxShadow:T.xO,borderWidth:1}}});var A="calc(".concat(S.Z.sizes.spacers.s," * 2 + 1.3rem + 3.8px)"),I=i.StyleSheet.create({select:{borderWidth:2,borderColor:b.dp_app_negative_mid,padding:S.Z.sizes.spacers.s,height:A,":focus":{borderColor:b.dp_app_negative_mid,borderWidth:2,height:A}}});const _=(0,s.injectIntl)((e=>{var{input:r,options:t,hasError:a,disabled:n,tabIndex:i,intl:s,inputRef:l,stylesheet:c}=e;return o.createElement(E.Z,(0,f.Z)({ariaLabel:s.formatMessage({id:"page.journeySearchForm.viaAvoid.selectRestriction.aria"}),onChange:()=>null,role:"listbox"},r,{name:"RouteRestriction",styleSheet:(0,g.y)(C,c,a&&I),items:t,disabled:n,tabIndex:i,inputRef:l,id:"viaAvoidSelect"}))}));var P=t(88466),R=t(23394),k=t(52068),N={":hover":{backgroundColor:b.dp_comp_button_secondary_background_hover,borderColor:b.dp_comp_button_secondary_background_hover,borderRadius:R.E0.m},":focus":{backgroundColor:b.dp_comp_button_secondary_background_pressed,borderColor:b.dp_comp_button_secondary_background_pressed,borderRadius:R.E0.m},":active":{backgroundColor:b.dp_comp_button_secondary_background_pressed,borderColor:b.dp_comp_button_secondary_background_pressed,borderRadius:R.E0.m}},O=i.StyleSheet.create({root:{display:"flex",flexDirection:"column"},toggleButton:(0,a.Z)((0,a.Z)({},k.W.small),{},{backgroundColor:"transparent",color:"".concat(b.dp_app_text_inverted," !important"),padding:S.Z.sizes.spacers.xs},N),iconWrapper:{display:"inline-block",paddingRight:S.Z.sizes.spacers.xs,position:"relative",top:S.Z.sizes.spacers.xs},icon:{height:"1.4em",width:"1.4em",color:b.dp_brand_primary_mid},labelDefault:(0,a.Z)((0,a.Z)({},k.W.small),{},{backgroundColor:"transparent",color:"".concat(b.dp_app_text_inverted," !important"),padding:S.Z.sizes.spacers.xs},N),inputDefault:(0,a.Z)((0,a.Z)({},P.a),{},{":focus-visible ~ span":{outline:"4px solid ".concat(b.dp_comp_focus_ring)}})}),L=i.StyleSheet.create({suggestionFieldContainer:{flex:7}}),x=i.StyleSheet.create({root:{display:"flex",flexDirection:"row",alignItems:"start"}}),D=i.StyleSheet.create({root:{display:"flex",flexDirection:"row",justifyContent:"flex-start"}}),w=i.StyleSheet.create({rule:{padding:0,borderRadius:0,border:"0 none",boxShadow:"none",width:"17.8125rem"}}),Z="VIA",F="AVOID",B=e=>{var{viaAvoidType:r,viaAvoidStationName:t,error:a}=e;return Boolean(!(!r||""===t)&&(!a||""===a))};class M extends o.Component{constructor(){super(...arguments),(0,n.Z)(this,"suggestionFieldRef",void 0),(0,n.Z)(this,"state",{show:this.props.forceShowForm||!1,isStationConfirmed:B(this.props)}),(0,n.Z)(this,"getListboxOptions",(()=>[{text:this.props.defaultLabel,value:""},{text:this.props.viaLabel,value:Z},{text:this.props.avoidLabel,value:F}])),(0,n.Z)(this,"saveStationInputRef",(e=>{this.suggestionFieldRef=e})),(0,n.Z)(this,"onSuggestionFieldConfirm",((e,r)=>{var{onStationConfirm:t}=this.props;t?t(r):this.suggestionFieldRef&&this.suggestionFieldRef.blur()})),(0,n.Z)(this,"isExpanded",(()=>this.state.show)),(0,n.Z)(this,"onToggleShow",(e=>{var{show:r}=this.state,t=!r;this.setState({show:t,isStationConfirmed:Boolean(e)})})),(0,n.Z)(this,"removeSelection",(()=>{var{change:e,untouch:r,clearAsyncError:t}=this.props;e&&r&&t&&(e("viaAvoidStation",u.C0),e("viaAvoidType",""),t("viaAvoidStation"),r("viaAvoidStation"),r("viaAvoidType"))})),(0,n.Z)(this,"onToggleDisplay",(()=>{var e=!this.state.show,{change:r,hasEuropeExperience:t}=this.props;e?e&&t&&r&&r("viaAvoidType",Z):this.removeSelection(),this.onToggleShow()}))}static getDerivedStateFromProps(e,r){var{forceShowForm:t}=e,n=t&&t!==r.show?t:r.show;return(0,a.Z)((0,a.Z)({},r),{},{show:n})}componentDidMount(){var{saveRef:e}=this.props;e&&e(this)}render(){var{show:e}=this.state,{error:r,placeholder:t,suggestions:a,updateSuggestions:n,updating:u,saveInputRef:f,saveViaAvoidLabelButtonRef:E,intl:b,hasEuropeExperience:S}=this.props,T=!S&&o.createElement(l.Z,{name:"viaAvoidType",component:_,type:"select",options:this.getListboxOptions(),hasError:Boolean(r),disabled:!e,tabIndex:e?void 0:-1,inputRef:f}),C=o.createElement(l.Z,{id:"viaAvoidStation",name:"viaAvoidStation",component:v.Z,disabled:!e,error:r,inputMapper:h.l_,inputRef:this.saveStationInputRef,itemComponent:y.ZP,items:a,ariaLabel:b.formatMessage({id:"page.journeySearchForm.viaAvoid.enterStation.aria"}),onConfirmKey:this.onSuggestionFieldConfirm,placeholder:t,showLabelErrorStyle:Boolean(r),styleSheet:L,styles:w,updateSuggestions:n,updating:u,tabIndex:e?void 0:-1,isViaAvoid:!1}),A=(0,g.y)(m.Z,O);return o.createElement("div",{className:(0,i.css)(O.root),"data-test":"via-avoid-default-UI"},o.createElement("div",{className:(0,i.css)(D.root)},o.createElement(p.Z,{native:!0,name:"viaAvoidCheckbox",checked:e,onChange:this.onToggleDisplay,styleSheet:A,labelButtonRef:E,innerLabel:[o.createElement("div",{className:(0,i.css)(O.iconWrapper),key:"via-avoid-icon","data-test":"via-avoid-toggle-icon"},o.createElement(d,{className:(0,i.css)(O.icon)})),o.createElement(s.FormattedMessage,{key:"via-avoid-label",id:"page.journeySearchForm.".concat(S?"via":"viaAvoid")})]})),o.createElement(c.Z,{shouldAnimate:!0,expanded:e,containerOverflow:"visible"},o.createElement("div",{className:(0,i.css)(x.root)},T,C)))}}const U=(0,s.injectIntl)(M)},11674:(e,r,t)=>{"use strict";t.d(r,{E_:()=>L,ZP:()=>Z});var a=t(23198),n=t(85924),i=t(50093),o=t(29901),s=t(98184),l=t(57397),c=t(44277),d=t(64321),u=t(78113),p=t(89426),m=t(14023),g=t(98318),v=t(94878),h=t(4385);const y=i.StyleSheet.create({root:{display:"flex",height:"100%"},buttonUkHorizontalSearch:{paddingLeft:"12px",paddingRight:"12px",fontWeight:600,fontSize:"16px",color:g.dp_app_text_base,borderColor:g.dp_app_border_base,borderRadius:"4px"},button:{fontWeight:"normal",color:g.dp_app_text_subdued,paddingLeft:"8px",paddingRight:"16px",paddingTop:"0",display:"flex",alignItems:"center"},active:{outline:"none",boxShadow:"0 0 0 4px ".concat((0,v.I)(h.ZP.dp_brand_secondary_dull,.5))},clearButton:{display:"flex",alignSelf:"center",width:"24px",minHeight:"24px",padding:0,borderRadius:"50%",marginLeft:"4px"},clearIcon:{height:"24px",width:"24px"}});var f=g.dp_brand_secondary_duller,E=t(25984);const b=e=>{var{label:r,isGhostButton:t,isSelected:a,isActive:n,onClick:s,style:l,isUkHorizontalSearchEnabled:c}=e,g=t?p.gh:p.C9;return o.createElement("div",{className:(0,i.css)(y.root)},o.createElement(g,(0,d.Z)({},t?{}:{depot:!0,size:"s"},{testId:"filter-button",styleSheet:[y.button,c&&y.buttonUkHorizontalSearch,n&&y.active,l],onClick:s}),!a&&o.createElement(E.default,{testId:"filter-button-plus-icon"}),o.createElement(m.Z,{as:"span",textType:"small",fontFamily:"systemFont"},r)),a&&o.createElement(p.gh,{styleSheet:y.clearButton,onClick:s},o.createElement(u.Z,{fill:f,className:(0,i.css)(y.clearIcon)})))};var S=t(78307),T=t(28620),C=t(90781),A=t(10190),I=t(58401),_=t(28187),P=t(29089),R=t(8888),k=i.StyleSheet.create({icon:{color:g.dp_brand_neutral_dim,width:10,height:10,marginRight:R.Z.sizes.spacers.px8},name:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},wrapper:{height:"100%"}}),N="VIA",O="AVOID",L="",x=e=>{var{viaAvoidType:r,viaAvoidStationName:t,error:a}=e;return Boolean(!(!r||""===t)&&(!a||""===a))},D=e=>{var{input:r,label:t,change:a}=e;return r?o.createElement(I.Z,{to:t,skin:"indigoPill",isActive:r.checked,onClick:()=>{a("viaAvoidType",r.value)}},t):null};class w extends o.Component{constructor(){super(...arguments),(0,n.Z)(this,"suggestionFieldRef",void 0),(0,n.Z)(this,"picker",void 0),(0,n.Z)(this,"state",{isShowingForm:this.props.forceShowForm||!1,isStationConfirmed:x(this.props)}),(0,n.Z)(this,"saveStationInputRef",(e=>{this.suggestionFieldRef=e})),(0,n.Z)(this,"onSuggestionFieldConfirm",((e,r)=>{var{viaAvoidStationName:t}=this.props;this.suggestionFieldRef&&this.suggestionFieldRef.blur(),this.onToggleShowForm(e.name||t)})),(0,n.Z)(this,"isExpanded",(()=>this.state.isShowingForm)),(0,n.Z)(this,"onToggleShowForm",(e=>{var{isShowingForm:r}=this.state,{change:t,untouch:a,viaAvoidType:n}=this.props,i=!r;this.setState({isShowingForm:i,isStationConfirmed:Boolean(e)}),t&&a&&(i?(t("viaAvoidType",e?n:N),a("viaAvoidStation")):t("viaAvoidType",e?n:L))})),(0,n.Z)(this,"removeSelection",(()=>{var{change:e,untouch:r,clearAsyncError:t}=this.props;e&&r&&t&&(e("viaAvoidStation",S.C0),e("viaAvoidType",L),t("viaAvoidStation"),r("viaAvoidStation"),r("viaAvoidType"))}))}static getDerivedStateFromProps(e,r){return r.isShowingForm?r:(0,a.Z)((0,a.Z)({},r),{},{isStationConfirmed:x(e)})}getRefElement(e){this.picker=e}render(){var{isShowingForm:e,isStationConfirmed:r}=this.state,{error:t,placeholder:a,suggestions:n,updateSuggestions:d,updating:u,intl:p,hasEuropeExperience:m,viaAvoidType:g,viaAvoidStationName:v,viaLabel:h,avoidLabel:y,orientation:f,containerRef:E,isUkHorizontalSearchEnabled:S}=this.props,I=g&&r?g===N?"page.journeySearchForm.via":"page.journeySearchForm.avoid":!m?S?"page.journeySearchForm.addViaAvoid":"page.journeySearchForm.addViaOrAvoid":"page.journeySearchForm.addVia",R=o.createElement(_.Z,{skin:"pill"},o.createElement(l.Z,{name:"viaAvoidType",component:D,type:"radio",value:N,label:h,checked:g===N,change:this.props.change}),o.createElement(l.Z,{name:"viaAvoidType",component:D,type:"radio",value:O,label:y,checked:g===O,change:this.props.change})),L=o.createElement(o.Fragment,null,o.createElement(s.FormattedMessage,{id:I}),r&&v&&o.createElement(o.Fragment,null,"",o.createElement("span",{className:(0,i.css)(k.name)},v))),x=()=>r?this.removeSelection():this.onToggleShowForm(),w=f===P.z.VERTICAL;return o.createElement("div",{"data-test":"via-avoid-filter-UI",className:(0,i.css)(k.wrapper),ref:e=>this.getRefElement(e)},o.createElement(b,{label:L,isGhostButton:w,isSelected:r&&!!v,isActive:e,onClick:x,isUkHorizontalSearchEnabled:S}),this.picker&&o.createElement(l.Z,{id:"viaAvoidStation",name:"viaAvoidStation",component:T.Z,disabled:!e,error:t,hideErrorMessage:!m,inputMapper:C.l_,inputRef:this.saveStationInputRef,itemComponent:A.ZP,items:n,ariaLabel:p.formatMessage({id:"page.journeySearchForm.viaAvoid.enterStation.aria"}),onConfirmKey:this.onSuggestionFieldConfirm,placeholder:a,showLabelErrorStyle:Boolean(t),updateSuggestions:d,updating:u,tabIndex:e?void 0:-1,suggestionFieldType:c.P.SearchWidget,isViaAvoid:!0,startShowing:e,searchWidgetRef:E,isSearchWidget:!0,popoverAnchor:this.picker,onPopoverClose:x,isOrientationVertical:w,headerInjectedComponent:m?void 0:R}))}}const Z=(0,s.injectIntl)(w)},90781:(e,r,t)=>{"use strict";t.d(r,{l_:()=>i,yo:()=>n});var a=e=>(r,t)=>r.filter(e).map((e=>({id:e.id,name:e.name,connections:e.connections,code:e.code})))[0],n=(e,r)=>{var t=r.trim(),n={code:"",name:t},i=a((e=>r=>r.code===e)(t)),o=a((e=>r=>!!r.shortName&&r.shortName.toLowerCase()===e.toLowerCase())(t)),s=a((e=>r=>r.name.toLowerCase()===e.toLowerCase())(t));return i(e,t)||o(e,t)||s(e,t)||n},i=e=>({code:e.code,text:e.name||""})},24955:(e,r,t)=>{"use strict";t.d(r,{C2:()=>g,HL:()=>u,Hz:()=>v,On:()=>E,RE:()=>f,cL:()=>m,q3:()=>p});var a=t(23198),n=t(84025),i=t.n(n),o=t(60654),s=t(82758),l=t(41925),c=t(77962),d=t(78307);function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.PassengerType.ADULT,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{id:(0,l.v4)(),age:t,type:r,discountCards:[],selected:!e}}var p=()=>({from:(0,a.Z)({},d.C0),fromUpdating:!1,fromPopoverOpen:!1,to:(0,a.Z)({},d.C0),toUpdating:!1,toPopoverOpen:!1,viaAvoidType:"",viaAvoidStation:(0,a.Z)({},d.C0),viaAvoidStationUpdating:!1,outbound:(0,c.ym)((0,c.uy)(!0,!1)),passengers:[(0,s.Q9)().ADULT_DOB],euFlowPassengers:[u()],inbound:{date:"",dateType:o.TransitDefinitionDateType.DEPART_AFTER,hours:"",minutes:""},ukFlowCardTypes:[],journeySearchType:d.ki.SINGLE,hotelSearchOption:!1,shouldUsePopoverValidation:!0,seasons:{seasonsStartDate:i()().format("YYYY-MM-DD")},applyFareDiscounts:void 0,directSearch:!1,ukVoucherInput:"",openReturnType:void 0}),m=e=>e<d.XD[o.PassengerType.ADULT],g=e=>e<d.__[o.PassengerType.ADULT],v=e=>{var r=(0,s.CY)(e);return g(r)?r:null},h=33,y=e=>e>25&&e<30?25:e;function f(e,r){var{age:t,type:a}=e,n=a===o.PassengerType.YOUTH&&r?y(Number(t)):t,i=a===o.PassengerType.ADULT?h:d.__[a];return(0,s.GE)(Number.isInteger(n)?n:i)}var E=e=>e.selected},79423:(e,r,t)=>{"use strict";t.d(r,{Je:()=>v,SL:()=>s,ZH:()=>m,gD:()=>u,hp:()=>h,ng:()=>l,p3:()=>d,rS:()=>c,t9:()=>o,ue:()=>p,xF:()=>g});var a=t(53066),n=t(18406),i=t(78307),o="".concat(i.Th,"_SUBMIT_SUCCEEDED"),s="".concat(i.Th,"_SEASONS_SUBMIT_SUCCEEDED"),l=a.Z(o),c=a.Z(s),d="FETCH_LOCATION_SEARCH_RESULTS",u=a.Z(d),p=(e,r,t)=>(0,n.q1)(t,"".concat(e,"Updating"),r),m=(e,r)=>p(e,!1,r),g="PASSENGER_PICKER_OPENED",v=a.Z(g),h=(e,r,t)=>(0,n.m)(e,r,t)},97646:(e,r,t)=>{"use strict";t.d(r,{C:()=>n,Z:()=>a});const a={"DesktopWeb.JourneySearch.InvalidLocation":"search.error.E01016","ItinerarySearch.FareSearch.Atoc.Locations.InvalidFormat":"search.error.E01001","ItinerarySearch.FareSearch.Pacon.Locations.InvalidFormat":"search.error.E01001","ItinerarySearch.FareSearch.Atoc.ReturnDate.OutsideRange":"search.error.E01002","ItinerarySearch.FareSearch.Pacon.ReturnDate.OutsideRange":"search.error.E01002","ItinerarySearch.FareSearch.Atoc.Date.OutsideRange":"search.error.E01003","ItinerarySearch.FareSearch.Pacon.Date.OutsideRange":"search.error.E01003","ItinerarySearch.FareSearch.Atoc.OutboundJourneys.NotFound":"search.error.E01004","ItinerarySearch.FareSearch.Pacon.OutboundJourneys.NotFound":"search.error.E01004","ItinerarySearch.FareSearch.Atoc.ReturnJourneys.NotFound":"search.error.E01005","ItinerarySearch.FareSearch.Pacon.ReturnJourneys.NotFound":"search.error.E01005","ItinerarySearch.FareSearch.Atoc.OutboundTickets.NotFound":"search.error.E01008","ItinerarySearch.FareSearch.Pacon.OutboundTickets.NotFound":"search.error.E01008","ItinerarySearch.FareSearch.Atoc.ReturnTickets.NotFound":"search.error.E01009","ItinerarySearch.FareSearch.Pacon.ReturnTickets.NotFound":"search.error.E01009","ItinerarySearch.FareSearch.Atoc.OutboundJourneyTickets.NotFound":"search.error.E01010","ItinerarySearch.FareSearch.Pacon.OutboundJourneyTickets.NotFound":"search.error.E01010","ItinerarySearch.FareSearch.Atoc.ReturnJourneyTickets.NotFound":"search.error.E01011","ItinerarySearch.FareSearch.Pacon.ReturnJourneyTickets.NotFound":"search.error.E01011","ItinerarySearch.FareSearch.Atoc.Tickets.NotFound":"search.error.E01012","ItinerarySearch.FareSearch.Pacon.Tickets.NotFound":"search.error.E01012","ItinerarySearch.FareSearch.Atoc.UnderlyingSystemUnavailable":"search.error.E01015","ItinerarySearch.FareSearch.Pacon.UnderlyingSystemUnavailable":"search.error.E01015","ItinerarySearch.FareSearch.Atoc.InvalidFormat":"search.error.E01016","ItinerarySearch.FareSearch.Pacon.InvalidFormat":"search.error.E01016","ItinerarySearch.FareSearch.Atoc.Railcard.InvalidFormat":"search.error.E01017","ItinerarySearch.FareSearch.Pacon.Railcard.InvalidFormat":"search.error.E01017","ItinerarySearch.FareSearch.Atoc.Railcards.InvalidFormat":"search.error.E01018","ItinerarySearch.FareSearch.Pacon.Railcards.InvalidFormat":"search.error.E01018","ItinerarySearch.FareSearch.Atoc.PassengerCount.OutsideRange":"search.error.E01019","ItinerarySearch.FareSearch.Pacon.PassengerCount.OutsideRange":"search.error.E01019","ItinerarySearch.FareSearch.Atoc.OutboundDate.OutsideRange":"search.error.E01021","ItinerarySearch.FareSearch.Pacon.OutboundDate.OutsideRange":"search.error.E01021","ItinerarySearch.FareSearch.Atoc.Railcards.OutsideRange":"search.error.E01024","ItinerarySearch.FareSearch.Pacon.Railcards.OutsideRange":"search.error.E01024","ItinerarySearch.FareSearch.Atoc.OriginLocation.InvalidFormat":"search.error.E01026","ItinerarySearch.FareSearch.Pacon.OriginLocation.InvalidFormat":"search.error.E01026","ItinerarySearch.FareSearch.Atoc.DestinationLocation.InvalidFormat":"search.error.E01027","ItinerarySearch.FareSearch.Pacon.DestinationLocation.InvalidFormat":"search.error.E01027","ItinerarySearch.FareSearch.Atoc.OutboundJourney.InvalidFormat":"search.error.E01028","ItinerarySearch.FareSearch.Pacon.OutboundJourney.InvalidFormat":"search.error.E01028","ItinerarySearch.FareSearch.Atoc.Journeys.NotFound":"search.error.E01032","ItinerarySearch.FareSearch.Pacon.Journeys.NotFound":"search.error.E01032","ItinerarySearch.FareSearch.Atoc.Missing":"search.error.00231012","ItinerarySearch.FareSearch.Pacon.Missing":"search.error.00231012","ItinerarySearch.FareSearch.Atoc.OutsideRange":"search.error.01171001","ItinerarySearch.FareSearch.Pacon.OutsideRange":"search.error.01171001","ItinerarySearch.FareSearch.Atoc.Date.InvalidFormat":"search.error.HolidayErrorCode","ItinerarySearch.FareSearch.Pacon.Date.InvalidFormat":"search.error.HolidayErrorCode","ItinerarySearch.Request.Unhandled.InvalidFormat":"search.error.E01003","ItinerarySearch.SearchCriteriaMapper.NotFound":"search.error.E01018","ItinerarySearch.FareSearch.Atoc.JourneysNotFound.Refine":"search.error.JourneysNotFound.Refine","ItinerarySearch.FareSearch.Pacon.JourneysNotFound.Refine":"search.error.JourneysNotFound.Refine","ItinerarySearch.FareSearch.Atoc.CardDuplicated":"search.error.CardDuplicated","ItinerarySearch.FareSearch.Pacon.CardDuplicated":"search.error.CardDuplicated","ItinerarySearch.FareSearch.Atoc.CardNumberDuplicated":"search.error.CardNumberDuplicated","ItinerarySearch.FareSearch.Pacon.CardNumberDuplicated":"search.error.CardNumberDuplicated","ItinerarySearch.FareSearch.Atoc.DeliveryOptions.NotFound":"search.error.default","ItinerarySearch.FareSearch.Pacon.DeliveryOptions.NotFound":"search.error.default","ItinerarySearch.Request.Unhandled.searchFailedTooManyLegs":"search.error.tooManyLegs","ItinerarySearch.Request.Unhandled.reservationNotAvailableOnDate":"search.error.reservationNotAvailableOnDate","ItinerarySearch.SearchController.NotSupported":"search.error.notSupported","ItinerarySearch.Request.Unhandled.NotSupported":"search.error.notSupported","ItinerarySearch.FareSearch.Pacon.InvalidLoyaltyCardNumber":"search.error.loyaltyCardNumber","ItinerarySearch.FareSearch.Pacon.InvalidCorporateCode":"search.error.invalidCorporateCode",default:"search.error.default"};var n={"ItinerarySearch.FareSearch.Atoc.Railcard.InvalidFormat":"cardTypeErrors","ItinerarySearch.FareSearch.Pacon.Railcard.InvalidFormat":"cardTypeErrors"}},51282:(e,r,t)=>{"use strict";t.d(r,{$T:()=>U,AX:()=>se,BN:()=>Ye,EC:()=>W,En:()=>Ae,GE:()=>A,HL:()=>Fe,Hw:()=>G,I6:()=>re,Ju:()=>ee,Ks:()=>ye,L6:()=>Re,LH:()=>K,NP:()=>Te,OF:()=>xe,PY:()=>pe,Pi:()=>Z,Qt:()=>j,S3:()=>ke,ST:()=>oe,VT:()=>ce,Vk:()=>we,XS:()=>he,YG:()=>x,YS:()=>ue,_j:()=>V,bt:()=>H,eG:()=>Le,en:()=>ae,fd:()=>Ce,gH:()=>L,gT:()=>ge,hX:()=>ie,i2:()=>X,i9:()=>w,it:()=>B,mN:()=>Q,nB:()=>_,nH:()=>Ne,nJ:()=>te,pw:()=>Y,ql:()=>D,rE:()=>R,rG:()=>Oe,sd:()=>F,tq:()=>P,tv:()=>C,uP:()=>ne,ue:()=>$,yd:()=>de,zL:()=>me});var a=t(23198),n=t(4411),i=t(3713),o=t(79834),s=t(94917),l=t(5001),c=t(51709),d=t(32034),u=t(53300),p=t(50693),m=t(85540),g=t(71695),v=t(82758),h=t(52103),y=t(86139),f=t(39832),E=t(51618),b=t(24955),S=t(78307),T=t(97646),C=n.Z(S.Th),A=i.Z(S.Th),I=o.Z(S.Th),_=s.Z(S.Th),P=l.Z(S.Th),R=c.Z(S.Th),k=e=>e?e.name:"",N=e=>e?e.id:"",O=e=>e?e.code:"",L=(0,d.P1)(C,(e=>e||(0,b.q3)())),x=(0,d.P1)(L,(e=>e.outbound)),D=(0,d.P1)(x,(e=>!(null==e||!e.date)&&(0,u.Z)(new Date,new Date(null==e?void 0:e.date)))),w=(0,d.P1)(L,(e=>e.inbound)),Z=(0,d.P1)(L,(e=>e.from)),F=(0,d.P1)(L,(e=>e.directSearch)),B=(0,d.P1)(L,(e=>e.to)),M=(0,d.P1)(L,(e=>e.viaAvoidStation)),U=(0,d.P1)(L,(e=>e.ukVoucherInput)),j=(0,d.P1)(Z,k),H=(0,d.P1)(Z,N),W=(0,d.P1)(Z,O),G=(0,d.P1)(B,k),V=(0,d.P1)(B,N),Y=(0,d.P1)(B,O),K=(0,d.P1)(M,k),z=(0,d.P1)(L,(e=>e.fromUpdating||!1)),J=(0,d.P1)(L,(e=>e.toUpdating||!1)),q=(0,d.P1)(L,(e=>e.viaAvoidStationUpdating||!1)),Q=(0,d.P1)(z,J,q,((e,r,t)=>({from:e,to:r,viaAvoid:t}))),X=(0,d.P1)(L,(e=>e.journeySearchType)),$=(0,d.P1)(L,(e=>e.journeySearchType===S.ki.OPEN_RETURN?e.openReturnType:void 0)),ee=((0,d.P1)(L,(e=>(0,v.vY)(e.euFlowPassengers.map((e=>e.type))))),(0,d.P1)(A,_,((e,r)=>{var t=(0,a.Z)((0,a.Z)({},e),r);if(t){var n=["euPassengerErrors"].reduce(((e,r)=>(t[r]&&(e[r]=t[r]),e)),{});return Object.keys(n).length>0?n:void 0}}))),re=(0,d.P1)(A,_,((e,r)=>{var t=(0,a.Z)((0,a.Z)({},e),r);if(t){var n=["passengerErrors","cardTypeErrors"].reduce(((e,r)=>(t[r]&&(e[r]=t[r]),e)),{});return Object.keys(n).length>0?n:void 0}})),te="__popover__/";function ae(e){return"".concat(te).concat(e)}var ne=(0,d.P1)(A,I,_,((e,r,t)=>{var n=(0,a.Z)((0,a.Z)((0,a.Z)({from:void 0},e),r),t);return"string"==typeof n.from&&n.from.startsWith(te)&&n.from.slice(te.length)})),ie=(0,d.P1)(A,I,_,((e,r,t)=>!!(0,a.Z)((0,a.Z)((0,a.Z)({from:void 0},e),r),t).from)),oe=(0,d.P1)(A,I,_,((e,r,t)=>{var n=(0,a.Z)((0,a.Z)((0,a.Z)({to:void 0},e),r),t);return"string"==typeof n.to&&n.to.startsWith(te)&&n.to.slice(te.length)})),se=(0,d.P1)(A,I,_,((e,r,t)=>!!(0,a.Z)((0,a.Z)((0,a.Z)({to:void 0},e),r),t).to)),le=((0,d.P1)(A,I,_,((e,r,t)=>{var n=(0,a.Z)((0,a.Z)((0,a.Z)({viaAvoidStation:void 0},e),r),t);return"string"==typeof n.viaAvoidStation&&n.viaAvoidStation.startsWith(te)&&n.viaAvoidStation.slice(te.length)})),(0,d.P1)(I,A,_,((e,r,t)=>e&&e.viaAvoidStation||r&&r.viaAvoidStation||t&&t.viaAvoidStation||""))),ce=(0,d.P1)(le,P,((e,r)=>r&&r.viaAvoidStation&&r.viaAvoidStation.touched?e:"")),de=(0,d.P1)(A,I,_,L,((e,r,t,n)=>{var i=(0,a.Z)((0,a.Z)((0,a.Z)({},e),r),t);delete i.euPassengerErrors;var o=Object.keys(i).map((e=>i[e].startsWith(te)?i[e].slice(te.length):i[e])),{euFlowPassengers:s}=n,l=s.filter(b.On).length;return Array.from(new Set(l<=0?[...o,"page.journeySearchForm.passengers.error.none"]:o))})),ue=(0,d.P1)(A,I,_,((e,r,t)=>!!(0,a.Z)((0,a.Z)((0,a.Z)({inbound:void 0},e),r),t).inbound)),pe=(0,d.P1)(A,I,_,((e,r,t)=>!!(0,a.Z)((0,a.Z)((0,a.Z)({outbound:void 0},e),r),t).outbound)),me=(0,d.P1)(((e,r)=>r.errorCodes),(e=>{var r=(e||[]).filter((e=>!T.C[e])).map((e=>({id:e,message:T.Z[e]||T.Z.default}))).filter(((e,r,t)=>t.findIndex((r=>r.id===e.id))===r));return r.length&&r||void 0})),ge=(0,d.P1)(I,A,_,((e,r,t)=>!(e||r||t))),ve=(e,r)=>e&&r?r[e.id]:void 0,he=(0,d.P1)(Z,((e,r)=>(0,E.Y)(e,r)),ve),ye=(0,d.P1)(B,((e,r)=>(0,E.Y)(e,r)),ve),fe=e=>r=>Object.keys(r).reduce(((t,a)=>{var n=r[a];return n&&n.connections&&n.connections.some((r=>e.includes(r.toLocaleLowerCase())))&&(t[n.id]=n),t}),{}),Ee=(0,d.P1)(((e,r)=>r.availableCardTypes),fe([p.yk])),be=(0,d.P1)(((e,r)=>r.availableCardTypes),(e=>fe(p.tp)(e))),Se=(0,d.P1)(((e,r)=>r.locale),(e=>e)),Te=(0,d.P1)(he,ye,Se,((e,r,t)=>{var a=!e&&!r,n=t!==g.vi.ENGLISH;return(0,f.Gg)(e,r)||a&&n})),Ce=(0,d.P1)(Ee,be,Te,((e,r,t)=>t?r:e)),Ae=(0,d.P1)(Ee,(e=>{var r=Object.values(e);return[{optGroupId:"popular-cards",optGroupLabel:"page.journeySearchForm.ukPassengerPicker.railcard.popularRailcards",options:m.M1.reduce(((e,t)=>{var a=r.find((e=>e&&e.code===t));return a?[...e,(0,y.n)(a)]:e}),[])},{optGroupId:"other-cards",optGroupLabel:"page.journeySearchForm.ukPassengerPicker.railcard.otherRailcards",options:r.reduce(((e,r)=>m.M1.includes(r.code)?e:[...e,(0,y.n)(r)]),[]).sort((0,h.d)("text"))}]})),Ie=e=>{var r;return null==e||null===(r=e.env)||void 0===r?void 0:r.clientConfiguration},_e=(0,d.P1)(Ie,(e=>(null==e?void 0:e.allowedPRMConnections)||[])),Pe=(0,d.P1)(Ie,(e=>(null==e?void 0:e.allowedPRMCountries)||[])),Re=(0,d.P1)((e=>e.auth),(e=>!(!e||!e.customerId||e.guest))),ke=(0,d.P1)(L,(e=>{var r,t=(null===(r=e.euFlowPassengers)||void 0===r?void 0:r.filter(b.On))||[],n=(0,v.vY)(t.filter((e=>e.isSavedPassenger&&e.selected)).map((e=>e.type))),i=(0,v.vY)(t.map((e=>e.type)));return(0,a.Z)((0,a.Z)({},i),{savedAdults:n.adults,savedSeniors:n.seniors,savedYouths:n.youths})})),Ne=(0,d.P1)(L,(e=>e.euFlowPassengers||[])),Oe=(0,d.P1)(Ne,(e=>e.filter((e=>e.isSavedPassenger)))),Le=(0,d.P1)(Ne,(e=>e.filter((e=>!e.isSavedPassenger)))),xe=(0,d.P1)(Ne,((e,r)=>r),((e,r)=>e.find((e=>e.id===r)))),De=(0,d.P1)(R,(e=>e&&e.viaAvoidStation)),we=(0,d.P1)(De,(e=>e&&!!e.id)),Ze=(0,d.P1)(R,(e=>e&&e.voucherInput)),Fe=(0,d.P1)(Ze,(e=>!!e)),Be=(0,d.P1)(E.C,_e,((e,r)=>{var t=r.reduce(((r,t)=>(e.filter((e=>{var r;return null===(r=e.connections)||void 0===r?void 0:r.includes(t)})).forEach((e=>r.add(e.cityLocal||e.name))),r)),new Set);return Array.from(t)})),Me=(e,r,t)=>{for(var a of t){var n;return!(null==e||null===(n=e.connections)||void 0===n||!n.includes(a))}return r.includes(null==e?void 0:e.name)},Ue=(e,r)=>{for(var t of r)if((null==e?void 0:e.countryCode)===t)return!0;return!1},je=(0,d.P1)(he,Be,_e,Me),He=(0,d.P1)(ye,Be,_e,Me),We=(0,d.P1)(he,Pe,Ue),Ge=(0,d.P1)(ye,Pe,Ue),Ve=(0,d.P1)(We,Ge,((e,r)=>e&&r)),Ye=(0,d.P1)(je,He,Ve,((e,r,t)=>e&&r&&t))},235:(e,r,t)=>{"use strict";t.d(r,{OY:()=>S,aA:()=>C,MI:()=>Z,$k:()=>T,ph:()=>N,Gu:()=>O,qF:()=>b,ZA:()=>h.Z});var a=t(23198),n=t(82768),i=t(61730),o=t(78307),s="urn:trainline:connection:atoc",l=["urn:trainline:generic:loc:182gb","urn:trainline:atoc:loc:182","urn:trainline:atoc:loc:STP1555","urn:trainline:atoc:loc:AFK5004","urn:trainline:atoc:loc:EBD5566"],c=[s,"urn:trainline:connection:pao_sncf","urn:trainline:connection:eurostardirect"],d=e=>e.filter((e=>{var{code:r="",connections:t=[]}=e;return t.some((e=>![s].includes(e.toLocaleLowerCase())||((e,r)=>l.includes(e)||(null==r?void 0:r.filter((e=>c.includes(e.toLocaleLowerCase()))).length)>=2)(r,t)))})),u=(e,r)=>{var t=[e,r];if(!(t.filter((e=>e&&e.name)).length<2)){var a=d(t),n=(e=>e.filter((e=>{var{connections:r=[]}=e;return r.some((e=>[s].includes(e.toLocaleLowerCase())))})))(t);return 1===a.length&&1===n.length?a[0]===e?"to":"from":void 0}},p=t(51282),m=e=>(r,t)=>Boolean(t&&t.formMeta&&t.formMeta[r]&&t.formMeta[r][e]),g=m("touched"),v=m("active"),h=t(20595),y=t(75648),f=function(e,r,t,a){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o={},s=g(e,t),l=a!==e&&v(e,t),c=((e,r)=>Boolean(r&&r.updatingLists&&r.updatingLists[e]))(e,t);return(s&&!l&&!c&&!i||n)&&(r.name?r.code||(o[e]=h.Z[e].invalidName):o[e]=h.Z[e].empty),o};var E=(e,r,t)=>{var{from:n,to:o,viaAvoidType:s,viaAvoidStation:l}=r,c={},d=t&&t.formMeta,u=t&&t.clearAsyncError,p=t&&t.updateSyncErrors,m=t&&t.hasEuropeExperience?"viaStation":"viaAvoidStation",v=!d||g("viaAvoidStation",t)&&g("viaAvoidType",t),y=d&&d.viaAvoidStation&&d.viaAvoidStation.active;if(v){l&&(l.name||s||t&&t.hasEuropeExperience)&&(y||!l.name||s?s&&(e===i.P.SYNC&&!y||e!==i.P.SYNC)&&(t&&!t.hasEuropeExperience&&""===l.name?c.viaAvoidStation=h.Z.viaAvoidStation.empty:""===l.name||l.id?n.id&&l.id===n.id?c.viaAvoidStation=h.Z[m].sameAsOrigin:o.id&&l.id===o.id&&(c.viaAvoidStation=h.Z[m].sameAsDestination):c.viaAvoidStation="viaStation"===m?h.Z.viaStation.invalidName:h.Z.viaAvoidStation.invalidName[s.toLowerCase()]):c.viaAvoidStation=h.Z.viaAvoidStation.noType),e!==i.P.ASYNC&&u&&!y&&u("viaAvoidStation");var f=t&&t.syncErrors||{};if(e===i.P.SYNC&&y&&!c.viaAvoidStation&&f.viaAvoidStation&&(c.viaAvoidStation=f.viaAvoidStation),e===i.P.ASYNC&&p){var E=(0,a.Z)((0,a.Z)({},f),{},{viaAvoidStation:c.viaAvoidStation});p(Object.keys(E).reduce(((e,r)=>(E[r]&&(e[r]=E[r]),e)),{}),c.viaAvoidStation)}}return c};const b=(e,r,t,n)=>{var o,s,{from:l,to:c,shouldUsePopoverValidation:d,fromPopoverOpen:m,toPopoverOpen:g}=r,v=e===i.P.SUBMIT,b=f("from",l,t,n,v,m),S=f("to",c,t,n,v,g);return(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},E(e,r,t)),function(e,r,t){var a=u(e,r);if(a){if(a){var n="from"===a?y.P.mixedInventoryFromUKToEU:y.P.mixedInventoryFromEUToUK;return{[a]:t?(0,p.en)(n):h.Z[a].invalidName}}return{}}}(l,c,d)),(o=l,""===(s=c).name&&s.name===o.name||(""===o.code&&""===s.code?o.name!==s.name:o.code!==s.code)?{}:{to:h.Z.to.sameAsOrigin})),b),S)};var S=["from","to","viaAvoidStation"],T=e=>{var{asyncErrors:r,trigger:t}=e;return Boolean(r||"blur"===t)};const C=(e,r,t,a)=>new Promise(((r,n)=>{var o=b(i.P.ASYNC,e,t,a);return Object.keys(o).length>0?n(o):r()}));var A=t(16744),I=t(77962);const _=(e,r,t)=>{var{journeySearchType:a,outbound:n,inbound:s}=r,l=t&&t.hasEuropeExperience,c=n&&(0,I.aD)(n),d=s&&(0,I.aD)(s),u=(0,I.v3)(l),p=(0,I.uy)(!0,!1),m=(0,I.uy)(!0,!1),v={};return c&&c.isValid()&&(c.isBefore(p,"minutes")&&e===i.P.SUBMIT?v.outbound=h.Z.outbound.past:c.isAfter(u,"day")&&(v.outbound=h.Z.outbound.late)),e!==i.P.SUBMIT&&t&&!g("inbound",t)||a!==o.ki.RETURN||(s&&s.date?!s||s.hours&&s.minutes?d&&d.isValid()&&(d.isBefore(m)?v.inbound=h.Z.inbound.past:d.isAfter(u,"day")&&(v.inbound=h.Z.inbound.late)):v.inbound=h.Z.inbound.timeEmpty:e===i.P.SUBMIT&&(v.inbound=h.Z.inbound.empty)),a===o.ki.RETURN&&c&&d&&d.isSameOrBefore(c)&&(v.inbound=h.Z.inbound.beforeOutbound),v};var P=t(42874),R=t(75695),k=S.reduce(((e,r)=>(e.push(r,"".concat(r,"Updating")),e)),[]),N=e=>{var{values:r,nextProps:t,props:a,initialRender:i}=e,s=((e,r)=>{var t=(0,n.CEd)(k,e.values),a=r&&(0,n.CEd)(k,r.values);return!!a&&((0,n.SpD)(Object.keys(t),Object.keys(a)).length>0||Object.keys(a).filter((e=>a[e]!==t[e])).length>0)})(a,t),l=Boolean(t&&t.values.journeySearchType===o.ki.RETURN&&r.journeySearchType!==o.ki.RETURN);if(s){var{clearSubmitErrors:c,stopAsyncValidation:d,submitErrors:u}=a;if(u&&Object.keys(u).length){var p=Object.keys(u).filter((e=>S.includes(e))).reduce(((e,r)=>(e[r]=u[r],e)),{});Object.keys(p).length&&d(p),c&&c()}}return!i&&(s&&!l||!s&&Boolean(a.asyncErrors))};const O=(e,r)=>(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},_(i.P.SYNC,e,r)),(0,R.y)(i.P.SYNC,e.passengers,r.enableNewUkPassengerPicker)),(0,P.ZP)(i.P.SYNC,e,r)),(0,A.Z)(i.P.SYNC,e)),E(i.P.SYNC,e,r));var L=t(14937),x=t(18406),D=t(79423);const w=(e,r,t)=>{var{from:a,to:n,viaAvoidType:i,viaAvoidStation:o}=r,s={};return a.name||(s.from=h.Z.from.empty),n.name||(s.to=h.Z.to.empty),(i||o&&o.name)&&(i?t||o&&""!==o.name||(s.viaAvoidStation=h.Z.viaAvoidStation.empty):s.viaAvoidStation=h.Z.viaAvoidStation.noType),s};const Z=(e,r,t)=>new Promise(((n,s)=>{var l=e,c=_(i.P.SUBMIT,e,t);if("page.journeySearchForm.outbound.error.inPast"===c.outbound){var d=(0,I.qT)();l=(0,a.Z)((0,a.Z)({},e),{},{outbound:(0,a.Z)((0,a.Z)({},e.outbound),d)}),c=_(i.P.SUBMIT,l,t)}var u,p=Boolean(Object.keys(c).length),m=w(i.P.SUBMIT,e,Boolean(t&&t.hasEuropeExperience)),g=b(i.P.SUBMIT,e,t),v=(0,R.y)(i.P.SUBMIT,e.passengers),y=(0,P.ZP)(i.P.SUBMIT,e,t),f=(0,A.Z)(i.P.SUBMIT,e),E=Boolean(m&&Object.keys(m).length),S=Boolean(g&&Object.keys(g).length),T=Boolean(v&&Object.keys(v).length),C=Boolean(y&&Object.keys(y).length),k=Boolean(f&&Object.keys(f).length);p&&e.journeySearchType===o.ki.RETURN&&c.inbound===h.Z.inbound.empty?u=c:(E||S||p||T||C||k)&&(u=(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m),g),c),v),y),f)),u?s(new L.t(u)):(r((0,x.j2)(o.Th,l,{keepDirty:!1,keepSubmitSucceeded:!0})),n(),e.journeySearchType===o.ki.SEASONS?r((0,D.rS)()):r((0,D.ng)(l)))}))},16744:(e,r,t)=>{"use strict";t.d(r,{R:()=>o,Z:()=>s});var a=t(82768),n=t(82758),i=t(20595),o=(e,r)=>{if(r&&0!==r.length){var{adults:t,children:o}=(0,n.V6)(e);return r.reduce(((e,r)=>e+r.count),0)>t+o?{titleId:i.Z.ukFlowCardTypes.tooManyRailcardsTitle,messageId:i.Z.ukFlowCardTypes.tooManyRailcardsBody}:(0,a.mNm)((e=>e.id))(r).length>3?{titleId:i.Z.ukFlowCardTypes.tooManyDifferentRailcardsTitle,messageId:i.Z.ukFlowCardTypes.tooManyDifferentRailcardsBody}:void 0}};const s=(e,r)=>{var{passengers:t,ukFlowCardTypes:o}=r,{adults:s,children:l}=(0,n.V6)(t),c={};return o&&(o.reduce(((e,r)=>e+r.count),0)>s+l?c.cardTypeErrors=i.Z.ukFlowCardTypes.passengersExceeded:(0,a.mNm)((e=>e.id))(o).length<o.length&&(c.cardTypeErrors=i.Z.ukFlowCardTypes.duplicate)),c}},42874:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>l,pN:()=>s});var a=t(60654),n=t(78307),i=t(20595),o=t(71695),s=e=>{var{originId:r,destinationId:t,locations:a,isGuest:n,isRecognisedUser:i}=e;if(r&&t&&a){var s,l,c=null===(s=a[r])||void 0===s?void 0:s.countryCode,d=null===(l=a[t])||void 0===l?void 0:l.countryCode;return(n||!i)&&c===o.Qd.ITALY&&d===o.Qd.ITALY}return!1};const l=(e,r,t)=>{var{euFlowPassengers:o,from:l,to:c}=r,d=s({locations:null==t?void 0:t.locations,isGuest:null==t?void 0:t.isGuest,isRecognisedUser:null==t?void 0:t.isRecognisedUser,originId:null==l?void 0:l.id,destinationId:null==c?void 0:c.id}),u=o.map((e=>{var{age:r,type:t}=e;return(e=>null==e||""===e.toString()||-1===e||"-1"===e.toString())(r)&&t===a.PassengerType.YOUTH?{error:i.Z.euFlowPassengers.ageNotFilled}:((e,r)=>!!e&&(r?e>=n.XD[a.PassengerType.ADULT]:e>=n.__[a.PassengerType.ADULT]))(r,d)&&t===a.PassengerType.YOUTH?{error:i.Z.euFlowPassengers.ageExceeded}:{}}));return u.filter((e=>Object.keys(e).length>0)).length>=1?{euPassengerErrors:u}:{}}},75695:(e,r,t)=>{"use strict";t.d(r,{N:()=>s,y:()=>o});var a=t(82758),n=t(4234),i=t(20595),o=(e,r,t)=>{var{adults:o,children:s}=(0,a.V6)(r);return o+s>n.mn?{passengerErrors:i.Z.passengers.countTooMany}:o+s===0?{passengerErrors:i.Z.passengers.noPassengersSelected}:t||(0,a.n7)(r)?{}:{passengerErrors:i.Z.passengers.tooManyBabies}},s=e=>{if(!(0,a.n7)(e))return{titleId:i.Z.passengers.pleaseAddAnAdult,messageId:i.Z.passengers.childrenYoungerThan5YearsCannotTravelAlone}}},20595:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});const a={from:{empty:"page.journeySearchForm.from.error.empty",invalidName:"page.journeySearchForm.from.error.invalidName"},to:{empty:"page.journeySearchForm.to.error.empty",invalidName:"page.journeySearchForm.to.error.invalidName",sameAsOrigin:"page.journeySearchForm.to.error.sameAsOrigin"},viaAvoidStation:{empty:"page.journeySearchForm.viaAvoid.error.empty",invalidName:{via:"page.journeySearchForm.viaAvoid.error.viaInvalidName",avoid:"page.journeySearchForm.viaAvoid.error.avoidInvalidName"},noType:"page.journeySearchForm.viaAvoid.error.noType",sameAsOrigin:"page.journeySearchForm.viaAvoid.error.sameAsOrigin",sameAsDestination:"page.journeySearchForm.viaAvoid.error.sameAsDestination"},viaStation:{invalidName:"page.journeySearchForm.via.error.invalidName",sameAsOrigin:"page.journeySearchForm.via.error.sameAsOrigin",sameAsDestination:"page.journeySearchForm.via.error.sameAsDestination"},outbound:{past:"page.journeySearchForm.outbound.error.inPast",late:"page.journeySearchForm.outbound.error.late"},inbound:{empty:"page.journeySearchForm.inbound.error.empty",timeEmpty:"page.journeySearchForm.inbound.error.emptyTime",beforeOutbound:"page.journeySearchForm.inbound.error.beforeOutbound",past:"page.journeySearchForm.inbound.error.inPast",late:"page.journeySearchForm.inbound.error.late",christmasDay:"page.journeySearchForm.inbound.error.christmas"},passengers:{countTooMany:"page.journeySearchForm.passengers.error.tooMany",noPassengersSelected:"page.journeySearchForm.passengers.error.none",tooManyBabies:"page.journeySearchForm.passengers.error.babies",pleaseAddAnAdult:"page.journeySearchForm.passengerPicker.pleaseAddAnAdult",childrenYoungerThan5YearsCannotTravelAlone:"page.journeySearchForm.passengerPicker.childrenYoungerThan5YearsCannotTravelAlone"},euFlowPassengers:{ageNotFilled:"page.journeySearchForm.eupassengerPicker.pleaseEnterAge",ageExceeded:"page.journeySearchForm.eupassengerPicker.ageExceededProfil"},ukFlowCardTypes:{duplicate:"page.journeySearchForm.railcards.error.duplicate",passengersExceeded:"page.journeySearchForm.railcards.error.passengersExceeded",tooManyRailcardsTitle:"page.journeySearchForm.railcards.error.tooManyRailcardsTitle",tooManyRailcardsBody:"page.journeySearchForm.railcards.error.tooManyRailcardsBody",tooManyDifferentRailcardsTitle:"page.journeySearchForm.railcards.error.tooManyDifferentRailcardsTitle",tooManyDifferentRailcardsBody:"page.journeySearchForm.railcards.error.tooManyDifferentRailcardsBody"}}},91937:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var a=t(16744),n=t(75695),i=(e,r)=>(0,n.N)(e)||(0,a.R)(e,r)},75648:(e,r,t)=>{"use strict";t.d(r,{P:()=>a});var a={mixedInventoryFromUKToEU:"page.journeySearchForm.horizontal.mixedInventoryWarningFromUKToEU",mixedInventoryFromEUToUK:"page.journeySearchForm.horizontal.mixedInventoryWarningFromEUToUK"}},78307:(e,r,t)=>{"use strict";t.d(r,{C0:()=>l,Th:()=>s,XD:()=>d,__:()=>c,ki:()=>i,wF:()=>n,xj:()=>o});var a=t(60654),n=9,i=function(e){return e.SINGLE="single",e.RETURN="return",e.OPEN_RETURN="openReturn",e.SEASONS="seasons",e}({}),o=function(e){return e.ONE_MONTH="oneMonth",e.SAME_DAY="sameDay",e}({}),s="form/JOURNEY_SEARCH_FORM",l={name:"",code:"",id:"",connections:[]},c={[a.PassengerType.YOUTH]:5,[a.PassengerType.ADULT]:26,[a.PassengerType.SENIOR]:60},d={[a.PassengerType.YOUTH]:5,[a.PassengerType.ADULT]:30,[a.PassengerType.SENIOR]:60}},55373:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(18406),n=t(78307),i=t(235),o=t(29089),s=(e,r,t,i)=>{var{directSearch:s}=e,{orientation:l,isEUInbound:c,toggleDirectSearchWithoutResubmit:d}=t,{directSearch:u}=i;l===o.z.HORIZONTAL&&s!==u&&(c?d():r((0,a.Ps)(n.Th)))};const l={form:n.Th,pure:!1,destroyOnUnmount:!1,touchOnChange:!0,onChange:s,onSubmit:i.MI,validate:i.Gu,shouldValidate:i.ph,shouldAsyncValidate:i.$k,asyncBlurFields:i.OY,asyncValidate:i.aA}},15685:(e,r,t)=>{"use strict";t.d(r,{SE:()=>U,qU:()=>D,YK:()=>F,Jz:()=>k,bN:()=>A,m:()=>j,ZL:()=>w,mk:()=>B,nQ:()=>N,El:()=>L});var a=t(23198),n=t(82768),i=t(32034),o=function(e){return e.RECENT="recent",e.POPULAR="popular",e.OTHER="other",e.EXPLORE_EUROPE="exploreEurope",e}({}),s=t(51282),l=t(51618),c=t(78059),d=(e,r)=>r.popularLocations,u=(e,r)=>r.popularLocationsToc,p=(e,r)=>r?e?e.filter((e=>!Object.keys(r).includes(e))):[]:e,m=(e,r)=>{if(!r)return e;if(e){var t=Object.entries(r).map((e=>{var[r,t]=e;return null==t?void 0:t.code}));return e.filter((e=>!t.includes(e.code)))}return[]},g=(0,i.P1)(d,c.TU,p),v=(0,i.P1)(d,c.uo,p),h=(0,i.P1)(u,c.TU,m),y=(0,i.P1)(u,c.uo,m),f=(e,r)=>r.exploreEuropeLocations,E=(e,r)=>r?e?e.filter((e=>!Object.keys(r).includes(e))):[]:e,b=(0,i.P1)(f,c.TU,E),S=(0,i.P1)(f,c.uo,E),T=(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{name:e.city&&e.locationType?"".concat(e.name," (").concat(e.city,")"):e.name,type:r}),C=(e,r,t,a,n)=>t.slice(0,e).filter((e=>e!==n)).map((e=>r[e]&&T(r[e],a))).filter((e=>!(!e||!e.name))),A=(e,r,t,a)=>0===e.length?C(5,r,t,o.RECENT):a.reduce(((e,t)=>{var a=r[t];return a&&e.push(T(a,o.OTHER)),e}),[]),I=(0,i.P1)(l.C,(e=>e.reduce(((e,r)=>("stationGroup"!==r.locationType&&(e[r.code]=r),e)),{}))),_=(e,r)=>r.suggestionLocationIndexes,P=(0,i.P1)(_,(e=>e.from)),R=(0,i.P1)(_,(e=>e.to)),k=(0,i.P1)(s.Qt,l.Y,c.Ur,P,A),N=(0,i.P1)(s.Hw,l.Y,c.jk,R,A),O=(0,i.P1)(_,(e=>e.viaAvoidStation)),L=(0,i.P1)(s.LH,I,(0,n.Bxt)([]),O,A),x=(e,r,t,a)=>0===e.length?C(10,t,a,o.POPULAR,r):[],D=(0,i.P1)(s.Qt,s.pw,l.Y,g,x),w=(0,i.P1)(s.Hw,s.EC,l.Y,v,x),Z=(e,r,t)=>0===e.length?((e,r,t,a)=>r.slice(0,e).filter((e=>e.code!==a)).map((e=>e.code&&T(e,t))).filter((e=>!(!e||!e.name))))(10,t,o.POPULAR,r):[],F=(0,i.P1)(s.Qt,s.pw,h,Z),B=(0,i.P1)(s.Hw,s.EC,y,Z),M=(e,r,t,a)=>0===e.length?C(4,t,a,o.EXPLORE_EUROPE,r):[],U=(0,i.P1)(s.Qt,s._j,l.Y,b,M),j=(0,i.P1)(s.Hw,s.bt,l.Y,S,M)},51618:(e,r,t)=>{"use strict";t.d(r,{C:()=>o,Y:()=>i});var a=t(82768),n=t(32034),i=(e,r)=>r.locations,o=(0,n.P1)(i,(e=>(0,a.VO0)(e).filter((e=>!!e))))},28394:(e,r,t)=>{"use strict";t.d(r,{c:()=>a});var a=(e,r)=>r.portal},78059:(e,r,t)=>{"use strict";t.d(r,{TU:()=>l,Ur:()=>u,jk:()=>p,tj:()=>o,uo:()=>c});var a=t(84025),n=t.n(a),i=t(32034),o=(e,r)=>{var t=r.count-e.count;return 0===t?n()(e.timestamp).isAfter(r.timestamp)?-1:1:t},s=(e,r)=>r.recentLocations,l=(0,i.P1)(s,(e=>e.from||{})),c=(0,i.P1)(s,(e=>e.to||{})),d=e=>Object.keys(e).map((r=>e[r])).filter((e=>!!e)).sort(o).map((e=>e.code)).filter(Boolean),u=(0,i.P1)(l,d),p=(0,i.P1)(c,d)},29089:(e,r,t)=>{"use strict";t.d(r,{z:()=>a});var a=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e}({})},61730:(e,r,t)=>{"use strict";t.d(r,{P:()=>a});var a=function(e){return e.ASYNC="async",e.SYNC="sync",e.SUBMIT="submit",e}({})},86139:(e,r,t)=>{"use strict";t.d(r,{B3:()=>a,n:()=>n});t(85540),(0,t(52103).d)("name");var a=e=>e.length>20?e.substring(0,20).trim()+"...":e,n=e=>({value:e.id,text:e.name||""})},39832:(e,r,t)=>{"use strict";t.d(r,{Gg:()=>i,mS:()=>o});var a=t(60654),n=t(82758),i=(t(24955),(e,r)=>(e||r)&&((e,r)=>[e,r].some((e=>!(!e||!e.connections||e.connections.includes("urn:trainline:connection:atoc"))))?a.Experiences.EU_TRAIN:a.Experiences.UK_TRAIN)(e,r)===a.Experiences.EU_TRAIN||!1),o=e=>!!(0,n.Ir)(e)},99413:(e,r,t)=>{"use strict";t.d(r,{u:()=>a});var a=[{linkHref:"journeySearchForm.links.help.wheelChair",linkTranslationKey:"page.journeySearchForm.eupassengerPicker.help.links.wheelChair"},{linkHref:"journeySearchForm.links.help.childTicket",linkTranslationKey:"page.journeySearchForm.eupassengerPicker.help.links.childTicket"},{linkHref:"journeySearchForm.links.help.pets",linkTranslationKey:"page.journeySearchForm.eupassengerPicker.help.links.pets"},{linkHref:"journeySearchForm.links.help",linkTranslationKey:"page.journeySearchForm.eupassengerPicker.help.links.faq"}]},77962:(e,r,t)=>{"use strict";t.d(r,{Bb:()=>o,KC:()=>E,KN:()=>c,Tx:()=>p,_q:()=>v,aD:()=>s,aN:()=>b,bJ:()=>g,cU:()=>u,lZ:()=>y,qT:()=>S,uy:()=>l,v3:()=>h,ym:()=>f});var a=t(84025),n=t.n(a),i=t(60654),o=15,s=e=>n()(e.date).hours(Number(e.hours)).minutes(Number(e.minutes)),l=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=15*Math.ceil(n()().minutes()/15)-n()().minutes(),a=(e?0:o)+(r?15:0);return n()().add(a+t,"minutes").startOf("minute")},c=e=>n()(e.date).hours(Number(e.hours)).minutes(Number(e.minutes)+o),d=e=>e?[{slot:"6:00 AM",value:"06",disabled:!1,checked:!1},{slot:"8:00 AM",value:"08",disabled:!1,checked:!1},{slot:"10:00 AM",value:"10",disabled:!1,checked:!1},{slot:"12:00 PM",value:"12",disabled:!1,checked:!1},{slot:"2:00 PM",value:"14",disabled:!1,checked:!1},{slot:"4:00 PM",value:"16",disabled:!1,checked:!1},{slot:"6:00 PM",value:"18",disabled:!1,checked:!1},{slot:"8:00 PM",value:"20",disabled:!1,checked:!1},{slot:"10:00 PM",value:"22",disabled:!1,checked:!1}]:[{slot:"06:00",value:"06",disabled:!1,checked:!1},{slot:"08:00",value:"08",disabled:!1,checked:!1},{slot:"10:00",value:"10",disabled:!1,checked:!1},{slot:"12:00",value:"12",disabled:!1,checked:!1},{slot:"14:00",value:"14",disabled:!1,checked:!1},{slot:"16:00",value:"16",disabled:!1,checked:!1},{slot:"18:00",value:"18",disabled:!1,checked:!1},{slot:"20:00",value:"20",disabled:!1,checked:!1},{slot:"22:00",value:"22",disabled:!1,checked:!1}],u=e=>d(e)[0],p=(e,r)=>d(r).find((r=>e>=Number(r.value)&&e<Number(r.value)+2||e<Number(r.value)&&"06"===r.value||e>Number(r.value)&&"22"===r.value))||d(r)[0],m=(e,r)=>e.find((e=>e.slot===r)),g=e=>{var r=n()(),t=p(n()().hours(),e);return r.hour(Number(t.value)).minute(0)},v=(e,r)=>{var t=s(e),a=p(t.hours(),r),n=a&&a.value===(e=>d(e)[8])(r).value?1:0,i=((e,r)=>{var t=d(r).findIndex((r=>r.slot===e.slot));return t<8?d(r)[t+1]:u(r)})(a,r);return t.add(n,"day").hour(Number(i.value)).minute(0)},h=e=>{var r=e?10:27,t=e?"months":"weeks";return n()().startOf("day").add(r,t).format()},y=e=>n()(e).add(27,"days").format("YYYY-MM-DD"),f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.TransitDefinitionDateType.DEPART_AFTER;return{date:e.isValid()?e.clone().startOf("day").format("YYYY-MM-DD[T]HH:mm:ss"):"",dateType:r,hours:e.isValid()?e.format("HH"):"",minutes:e.isValid()?e.format("mm"):""}},E=(e,r,t)=>r&&n()(e).isSame(n()(),"day")||!r&&n()(e).isSame(n()(t.date),"day"),b=(e,r,t,a,n)=>{var i=d(n);if(e&&E(e.date,a,r)){var o=a?g(n).hours():v(r,n).hours();return i.forEach((e=>{if(e.checked=!1,e.disabled=Boolean(Number(o)>Number(e.value)+1),t){var r=m(i,t);r&&!0!==r.disabled&&(r.checked=!0)}})),i}if(t){i[0].checked=!1;var s=m(i,t);s&&(s.checked=!0)}return i},S=()=>{var e=l(!0,!1);return{date:e.format("YYYY-MM-DD"),hours:e.hours().toString(),minutes:e.minutes().toString()}}},82323:(e,r,t)=>{"use strict";t.d(r,{m:()=>i});var a=t(23198),n=t(88220),i=(e,r)=>(0,n.c)(e)?e.map((e=>(0,a.Z)((0,a.Z)({},e),{},{optGroupLabel:r.formatMessage({id:e.optGroupLabel})}))):e},26625:(e,r,t)=>{"use strict";t.d(r,{fQ:()=>T,gl:()=>m,OS:()=>f,Jp:()=>C.Jp,C6:()=>C.C6,k1:()=>C.Mo,xl:()=>C.xl,hX:()=>C.hX,wY:()=>C.wY,zp:()=>C.zp,ml:()=>C.ml,u3:()=>C.u3,ZP:()=>h,Vv:()=>c,oZ:()=>C.oZ,rS:()=>g,v8:()=>h});var a=t(64321),n=t(29901),i=t(46206),o=t(23198),s=t(67487),l=(e,r)=>(0,o.Z)((0,o.Z)({},r),e.coreProperties);function c(e,r){return{eventType:"TRACK_"+e.eventType,analyticsEventType:i.EventTypes.ERROR_EVENT,analyticsEventPayload:{errorProperties:e.errorProperties,coreProperties:l(e,r),eventProperties:{eventCategory:s.PurpleEventCategory.Error,eventAction:e.errorProperties.errorType,eventLabel:["error format: ".concat(e.errorProperties.errorFormat),"error type: ".concat(e.errorProperties.errorType),"error id: ".concat(e.errorProperties.errorId).toLowerCase()].join(" | ")},event:s.IErrorEventEvent.ErrorEvent}}}var d=t(24404),u=n.createContext({track:()=>{}}),p=(e,r)=>{switch(r.eventType){case i.EventTypes.ERROR_EVENT:return c(r,e);case i.EventTypes.PAGE_LOAD:return function(e,r){return{eventType:e.eventType,analyticsEventType:i.EventTypes.PAGE_LOAD,analyticsEventPayload:{coreProperties:l(e,r),event:s.IHomepageEvent.PageLoad}}}(r,e);case i.EventTypes.GENERIC_EVENT:return function(e,r){return{eventType:e.eventProperties.eventCategory.replace(/\s+/g,"_").toUpperCase(),analyticsEventType:i.EventTypes.GENERIC_EVENT,analyticsEventPayload:{coreProperties:l(e,r),event:s.IGenericEventEvent.GenericEvent,eventProperties:{eventAction:e.eventProperties.eventAction,eventCategory:e.eventProperties.eventCategory,eventLabel:e.eventProperties.eventLabel}}}}(r,e);case i.EventTypes.PROMOTION_EVENT:return function(e,r){return{eventType:e.eventProperties.eventCategory.replace(/\s+/g,"_").toUpperCase(),analyticsEventType:i.EventTypes.PROMOTION_EVENT,analyticsEventPayload:{coreProperties:l(e,r),event:s.IPromotionEventEvent.PromotionEvent,eventProperties:e.eventProperties,promotionProducts:e.promotionProducts,minimalTicketProducts:e.minimalTicketProducts}}}(r,e);case i.EventTypes.TEST_ASSIGNED:return function(e,r){var t=e.eventProperties.eventCategory.replace(/\s+/g,"_").toUpperCase(),a=s.EventLabel[e.eventProperties.eventLabel]||s.EventLabel.Wasabi;return{eventType:t,analyticsEventType:i.EventTypes.TEST_ASSIGNED,analyticsEventPayload:{coreProperties:l(e,r),event:s.ITestAssignedEvent.TestsAssigned,eventProperties:{eventAction:s.ITestAssignedEvent.TestsAssigned,eventCategory:s.TentacledEventCategory.Testing,eventLabel:a},tests:e.tests}}}(r,e);case i.EventTypes.TEST_EXPERIENCED:return function(e,r){var t=e.eventProperties.eventCategory.replace(/\s+/g,"_").toUpperCase(),a=s.EventLabel[e.eventProperties.eventLabel]||s.EventLabel.Wasabi;return{eventType:t,analyticsEventType:i.EventTypes.TEST_EXPERIENCED,analyticsEventPayload:{coreProperties:l(e,r),event:s.ITestExperiencedEvent.TestExperienced,eventProperties:{eventAction:s.ITestExperiencedEvent.TestExperienced,eventCategory:s.TentacledEventCategory.Testing,eventLabel:a},tests:e.tests}}}(r,e);case i.EventTypes.RESULTS_EVENT:return function(e,r){return{eventType:e.eventProperties.eventCategory.replace(/\s+/g,"_").toUpperCase(),analyticsEventType:i.EventTypes.RESULTS_EVENT,analyticsEventPayload:{coreProperties:l(e,r),bookingFlowProperties:e.bookingFlowProperties,resultsProducts:e.resultsProducts||[],searchProperties:e.searchProperties,event:s.IResultsEventEvent.ResultsEvent,eventProperties:e.eventProperties}}}(r,e);case i.EventTypes.HOMEPAGE:return function(e,r){return{eventType:"HOME_PAGE_RENDERED",analyticsEventType:i.EventTypes.HOMEPAGE,analyticsEventPayload:{coreProperties:r,deliveryProducts:e.deliveryProducts,promotionProducts:e.promotionProducts,ticketProducts:e.ticketProducts,event:s.IHomepageEvent.PageLoad}}}(r,e);case i.EventTypes.BOOKING_FLOW:return function(e,r){return{eventType:e.eventTitle.replace(/\s+/g,"_").toUpperCase(),analyticsEventType:i.EventTypes.BOOKING_FLOW,analyticsEventPayload:{event:s.IBookingFlowEvent.BookingFlow,coreProperties:r,addOnProducts:e.addOnProducts,bookingFlowProperties:e.bookingFlowProperties,deliveryProducts:e.deliveryProducts,insuranceProducts:e.insuranceProducts,railcardProducts:e.railcardProducts,ticketProducts:e.ticketProducts}}}(r,e);case i.EventTypes.INSURANCE_EVENT:return function(e,r){return{eventType:i.EventTypes.INSURANCE_EVENT,analyticsEventType:i.EventTypes.INSURANCE_EVENT,analyticsEventPayload:{event:s.IInsuranceEventEvent.InsuranceEvent,eventProperties:e.eventProperties,coreProperties:r,insuranceProducts:e.insuranceProducts}}}(r,e);default:throw new Error("no matching event type for passed error event")}},m=e=>{var{children:r,coreProperties:t,track:a,cookieConsentEnabled:i}=e,o=n.useRef([]),s=n.useRef(!1),l=n.useCallback(((e,r)=>{if(s.current){var n=p(t,e);r&&r({optionsPassedToTrack:e,analyticsEventEmitted:n}),a(n)}else o.current.push({event:e,debug:r})}),[t,a]),c=()=>{s.current=!0,o.current.forEach((e=>l(e.event,e.debug))),o.current=[]};return i?(0,d.runWithConsent)(c):c(),n.createElement(u.Provider,{value:{track:l}},r)};const g=()=>{var{track:e}=n.useContext(u);return{sendTracking:e}};var v=e=>e.displayName||e.name||"Component";function h(e){var r=r=>{var{sendTracking:t}=g();return n.createElement(e,(0,a.Z)({sendTracking:t},r))};return r.displayName="WithTracking(".concat(v(e),")"),r}var y=t(82768),f=function(e){return e.ON_RENDER="onRender",e.AFTER_FIRST_RENDER="afterFirstRender",e.ON_UNMOUNT="onUnmount",e}({});function E(e,r){return"undefined"!=typeof window&&window.document.cookie.indexOf("debugTrackingComponent")>-1||e?e=>t=>{console.group("%c<Track /> component firing event for <".concat(r.displayName||r.name||r.type&&r.type.name||"nameless component"," />"),"background: #000; color: #fff; font-size: 16px;"),console.log(e),console.log(t),console.groupEnd()}:e=>e=>{}}function b(e,r){return e.filter((e=>e.hooks&&e.hooks.includes(r)))}function S(e){var r=n.useRef();return n.useEffect((()=>{r.current=e})),r.current}const T=h((e=>{var r=n.Children.only(e.children),t=E(!!e.debug,r),{eventsToSend:a,eventsPreviouslySent:i}=function(e){var[r]=n.useState(e.event),[t]=n.useState(e.events),[a]=n.useState(e.hooks),i=S(a),o=S(r),s=S(t),l=[],c=[];return"events"in e&&e.events?(l=s,c=e.events):"event"in e&&(l=[{event:o,hooks:i}],c=[{event:e.event,hooks:e.hooks}]),{eventsToSend:c,eventsPreviouslySent:l}}(e);a.length||t("One of events or event must be defined");var o=(r,a)=>{e.sendTracking(r.event,t(a)),e.onEventTracked&&e.onEventTracked(r)},s=b(a,f.AFTER_FIRST_RENDER);n.useEffect((()=>{s.length&&s.forEach((e=>{o(e,"sending analytics event on mount")}))}),[]);var{onRenderEvents:l,onRenderEventsHaveChanged:c}=function(e,r){var t=b(e,f.ON_RENDER),a=r?b(r,f.ON_RENDER):[];return{onRenderEvents:t.filter(((e,r)=>!(0,y.fS0)(e,a[r])))||[],onRenderEventsHaveChanged:!(0,y.fS0)(t,a)}}(a,i);n.useEffect((()=>{l.length&&l.forEach((e=>{o(e,"sending analytics event on render")}))}),[c]);var d=b(a,f.ON_UNMOUNT);return n.useEffect((()=>()=>{d.length&&d.forEach((e=>{o(e,"sending analytics event on unmount")}))})),n.createElement(n.Fragment,null,e.children)}));var C=t(9478)},9478:(e,r,t)=>{"use strict";t.d(r,{C6:()=>u,Jp:()=>E,Mo:()=>v,hX:()=>p,ml:()=>y,oZ:()=>b,u3:()=>m,wY:()=>g,xl:()=>f,zl:()=>d,zp:()=>h});var a=t(23198),n=t(46206),i=t(64169),o="C0002",s="C0008",l=["applicationClientId","contextAliasId","customerId","genericValue1","genericValue2","genericValue3","eid"];function c(e,r){return Object.entries(e).reduce(((e,t)=>{var[n,i]=t,o="".concat(r).concat(n.charAt(0).toUpperCase()).concat(n.substring(1));return(0,a.Z)((0,a.Z)({},e),{},{[o]:i})}),{})}var d=e=>{if(e){var r=(0,a.Z)({},e);return Object.keys(r).forEach((e=>{l.includes(e)&&(()=>{var e=!0,r=i.Dr.getItem("OptanonConsent"),t=i.Dr.getItem("OptanonAlertBoxClosed");if(r)try{var{groups:a}=JSON.parse('{"'.concat(r.replace(/&/g,'","').replace(/=/g,'":"'),'"}'),((e,r)=>""===e?r:decodeURIComponent(r)));if(!t)return e;a&&(e=a.includes("".concat(o,":0"))&&a.includes("".concat(s,":0")))}catch(r){return e}return e})()&&(r[e]=null)})),r}};function u(e){var{format:r,type:t,message:a,id:i,coreProperties:o}=e;return{eventType:n.EventTypes.ERROR_EVENT,errorProperties:{errorType:t,errorFormat:r,errorMessage:a,errorId:i},coreProperties:o}}function p(e){var{coreProperties:r,eventProperties:t,insuranceProducts:a}=e;return{eventType:n.EventTypes.INSURANCE_EVENT,coreProperties:r,insuranceProducts:a,eventProperties:{eventAction:t.action,eventCategory:t.category,eventLabel:t.label}}}function m(e){var{coreProperties:r,eventProperties:t,tests:a}=e;return{eventType:n.EventTypes.TEST_ASSIGNED,coreProperties:r,eventProperties:c(t,"event"),tests:a.map((e=>c(e,"test")))}}function g(e){var{coreProperties:r}=e;return{eventType:n.EventTypes.PAGE_LOAD,coreProperties:r}}function v(e){var{coreProperties:r,action:t,category:a,label:i}=e;return{eventType:n.EventTypes.GENERIC_EVENT,coreProperties:r,eventProperties:{eventAction:t,eventCategory:a,eventLabel:i}}}function h(e){var{eventProperties:r,coreProperties:t,promotionProducts:i,minimalTicketProducts:o}=e;return{eventType:n.EventTypes.PROMOTION_EVENT,eventProperties:{eventAction:r.action,eventCategory:r.category,eventLabel:r.label},coreProperties:t,promotionProducts:i.map((e=>(0,a.Z)((0,a.Z)({},e),{},{category:e.category,ecommerceAction:e.ecommerceAction}))),minimalTicketProducts:o}}var y=e=>{var{eventProperties:r,searchProperties:t,bookingFlowProperties:a,resultsProducts:i}=e;return{eventType:n.EventTypes.RESULTS_EVENT,eventProperties:{eventAction:r.action,eventCategory:r.category,eventLabel:r.label},searchProperties:t,bookingFlowProperties:a,resultsProducts:i}},f=e=>{var{deliveryProducts:r,promotionProducts:t,ticketProducts:a}=e;return{eventType:n.EventTypes.HOMEPAGE,deliveryProducts:r,promotionProducts:t,ticketProducts:a}},E=(e,r)=>(0,a.Z)((0,a.Z)({},r),{},{eventTitle:e,eventType:n.EventTypes.BOOKING_FLOW}),b=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return e.toLowerCase().replace(/[^a-z0-9_:.\-| ()]+/g,r)}},56429:(e,r,t)=>{"use strict";t.d(r,{L:()=>c,L1:()=>a,LQ:()=>s,Pk:()=>d,YU:()=>l,h_:()=>n,py:()=>o});var a=function(e){return e.DEVELOPER="Developer",e.CLUSTER="Cluster",e.STAGING="Staging",e.EXTERNAL_TEST="ExternalTest",e.NFT="NFT",e.PROD="Prod",e}({}),n=function(e){return e.TRAINLINE="Leisure",e.XC="CrossCountry",e.QJUMP="QJump",e.WMR="WestMidlandsRailway",e.EMR="EastMidlandsRailway",e.LNR="LondonNorthwesternRailway",e.NR="NorthernRailway",e.ITALO="Italotreno",e.SR="ScotRail",e.GA="GreaterAnglia",e.BBT="BrandedBusinessTravel",e.ITALOAG="ItaloTravelAgency",e.TH="TrainHugger",e}({}),i=function(e){return e.LeisureHomepageWeb="LeisureHomepageWeb",e.TocHomepageWeb="TocHomepageWeb",e}({});function o(e){return!!e&&new Set([n.ITALO,n.ITALOAG]).has(e)}function s(e){return e===n.TRAINLINE}function l(e){return e===n.TH}function c(e){return!!e&&new Set([n.TRAINLINE,n.BBT]).has(e)}function d(e){return!!e&&!(c(e)||o(e))}new Set([i.LeisureHomepageWeb,i.TocHomepageWeb])},60654:(e,r,t)=>{"use strict";t.d(r,{AvailableTransportModes:()=>o._G,CarrierTabType:()=>o.Fi,CommercialId:()=>o.Xx,CompositionTypes:()=>i,DisabilityCardLevel:()=>c,Experiences:()=>o._9,JourneySearchFormDirection:()=>s,LoadStatus:()=>l,NumberRequiredStage:()=>a,PassengerType:()=>o.Np,Portal:()=>n.h_,TransitDefinitionDateType:()=>o.Gm,TtlEnvironmentType:()=>n.L1,isItaloPortal:()=>n.py,isTrainHugggerPortal:()=>n.YU,isTrainlineLeisurePortal:()=>n.LQ,isTrainlinePortal:()=>n.L,isUkPortal:()=>n.Pk});var a=function(e){return e.SEARCH="search",e.ISSUE="issue",e.RESERVE="reserve",e}({}),n=t(56429),i=function(e){return e.MULTIFARE="multiFare",e.THROUGH="through",e.INTERCHANGE_SPLIT="interchangeSplit",e.DIRECT_SPLIT="directSplit",e}({}),o=t(25106),s=function(e){return e.OUTBOUND="outbound",e.INBOUND="inbound",e}({}),l=function(e){return e.PENDING="PENDING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.UNDEFINED="UNDEFINED",e}({}),c=function(e){return e.NONE="none",e.DISABLED_PERSON="disabledPerson",e.LEGALLY_BLIND="legallyBlind",e.THIRD_PARTY_NEEDED="thirdPartyNeeded",e}({})},25106:(e,r,t)=>{"use strict";t.d(r,{Fi:()=>l,Gm:()=>a,Np:()=>o,Xx:()=>s,_9:()=>i,_G:()=>n});var a=function(e){return e.DEPART_AFTER="departAfter",e.ARRIVE_BEFORE="arriveBefore",e}({}),n=function(e){return e.MIXED="mixed",e.COACH="coach",e}({}),i=function(e){return e.EU_TRAIN="EU_TRAIN",e.EU_COACH="EU_COACH",e.UK_TRAIN="UK_TRAIN",e.NATIONAL_EXPRESS_COACH="NATIONAL_EXPRESS_COACH",e}({}),o=function(e){return e.CHILD="child",e.YOUTH="youth",e.ADULT="adult",e.SENIOR="senior",e.GROUP="group",e}({}),s=function(e){return e.ATOC="atoc",e.NX="nx",e}({}),l=function(e){return e.ALL_TRAINS="ALL_TRAINS",e.OUR_TRAINS="OUR_TRAINS",e}({})},56136:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i,y:()=>s});var a=t(50093),n=t(64876),i=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter(Boolean).map((e=>"string"!=typeof e?(0,a.css)(e):e)).join(" ")},o=e=>{var r="object"!=typeof e||Array.isArray(e)||null===e?void 0:Object.keys(e),t=r&&r[0]&&e[r[0]];return!!t&&Boolean(Array.isArray(t)&&t.length?t[0]._definition:t._definition)},s=function(){for(var e={},r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return t.filter(o).forEach((r=>{Object.entries(r).forEach((r=>{var[t,a]=r;e.hasOwnProperty(t)?e[t]=n(e[t],a._definition):e[t]=n({},a._definition)}))})),a.StyleSheet.create(e)}},50693:(e,r,t)=>{"use strict";t.d(r,{GH:()=>i,tp:()=>n,yk:()=>a});var a="urn:trainline:connection:atoc",n=["urn:trainline:connection:benerail","urn:trainline:connection:busbud","urn:trainline:connection:busbud_affiliate","urn:trainline:connection:cff","urn:trainline:connection:db","urn:trainline:connection:db_affiliate","urn:trainline:connection:distribusion","urn:trainline:connection:distribusion_affiliate","urn:trainline:connection:flixbus","urn:trainline:connection:flixbus_affiliate","urn:trainline:connection:ntv","urn:trainline:connection:obb","urn:trainline:connection:pao_ouigo","urn:trainline:connection:pao_sncf","urn:trainline:connection:renfe","urn:trainline:connection:trenitalia","urn:trainline:connection:westbahn","urn:trainline:connection:eurostardirect","urn:trainline:connection:ilsa"],i=[a,...n]},56775:(e,r,t)=>{"use strict";t.d(r,{q:()=>a});var a=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e.reduce(((e,t)=>(e[t[r]]=t,e)),{})}},67292:(e,r,t)=>{"use strict";t.d(r,{O1:()=>o,Qb:()=>s,Xn:()=>l,pA:()=>i});var a=t(84025),n=t.n(a),i="YYYY-MM-DD[T]HH:mm:ss",o="YYYY-MM-DD",s=e=>{var r=n().parseZone(e);return r.isValid()?"".concat(r.format("YYYY-MM-DDTHH:mm:ss"),"+00:00"):e},l=e=>{var r=n().parseZone(e);return r.isValid()?"".concat(r.format("YYYY-MM-DD"),"T00:00:00+00:00"):e}},77009:(e,r,t)=>{"use strict";t.d(r,{FM:()=>n,HG:()=>a,tq:()=>c,ud:()=>d});var a=function(e){return e.IOS="IOS",e.ANDROID="ANDROID",e.MAC="MAC",e.WINDOWS="WINDOWS",e.WINDOWS_PHONE="WINDOWS_PHONE",e.TABLET="TABLET",e.OTHER="OTHER",e}({}),n={[a.IOS]:/iPhone|iPod/i,[a.ANDROID]:/Android/i,[a.MAC]:/Macintosh/i,[a.WINDOWS]:/Windows\sNT/i,[a.WINDOWS_PHONE]:/Windows\sPhone/i,[a.TABLET]:/iPad/i,[a.OTHER]:/.*/},i=e=>Object.keys(n).filter((r=>n[r].test(e))).reduce(((r,t)=>((e,r,t)=>{var i=n[r].exec(e),o=n[t].exec(e);return r!==a.OTHER&&t===a.OTHER||!o||i&&o&&i.index<o.index?r:t})(e,r,t))),o=[a.IOS,a.ANDROID],s=o.concat(a.WINDOWS_PHONE),l=(e,r)=>r.includes(i(e)),c=e=>l(e,s),d=e=>/Google Inc/.test(null==e?void 0:e.vendor)||Boolean(null==e?void 0:e.userAgent.match("CriOS"))},10798:(e,r,t)=>{"use strict";t.d(r,{U:()=>a});var a=(e,r)=>{var t=e[r];if(!t)throw new Error("Key ".concat(r," not found"));return t}},24114:(e,r,t)=>{"use strict";function a(e){return e.reduce(((e,r,t,a)=>{if(0===t)return e;var n=[a[t-1],r];return[...e,n]}),[])}t.d(r,{Z:()=>a})},7739:(e,r,t)=>{"use strict";t.d(r,{A:()=>L,Ae:()=>C,Ai:()=>D,BN:()=>h,C:()=>d,CP:()=>b,Ch:()=>V,D3:()=>p,EJ:()=>Y,F7:()=>s,Hm:()=>O,I9:()=>T,JQ:()=>l,K2:()=>U,KH:()=>_,On:()=>S,Qp:()=>B,Rl:()=>R,TL:()=>z,TQ:()=>N,XF:()=>u,Xs:()=>k,YU:()=>v,cK:()=>q,dF:()=>E,fD:()=>n,gC:()=>H,gl:()=>w,iC:()=>i,jB:()=>A,jF:()=>m,jl:()=>Z,kX:()=>j,lU:()=>M,nN:()=>f,qy:()=>W,rZ:()=>K,tE:()=>G,tS:()=>F,vF:()=>x,wT:()=>J,wr:()=>I,x2:()=>P,xd:()=>g,zK:()=>y});var a=t(85924),n=(e,r)=>{Object.setPrototypeOf(e,r.prototype)};class i extends Error{constructor(e){super(e),this.name="ExtendableError",n(this,i),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class o extends i{constructor(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.DEFAULT_STATUS;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.DEFAULT_MESSAGE),(0,a.Z)(this,"status",void 0),this.name="ServerError",n(this,o),this.status=e}}(0,a.Z)(o,"DEFAULT_MESSAGE","Unknown Server Error"),(0,a.Z)(o,"DEFAULT_STATUS",0);class s extends i{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.DEFAULT_MESSAGE),this.name="NetworkError",n(this,s)}}(0,a.Z)(s,"DEFAULT_MESSAGE","Network Request failed");class l extends i{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.DEFAULT_MESSAGE),this.name="FetchResponseError",n(this,l)}}(0,a.Z)(l,"DEFAULT_MESSAGE","Unable to parse response");class c extends i{constructor(){var e=arguments.length>1?arguments[1]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.DEFAULT_MESSAGE),(0,a.Z)(this,"data",void 0),n(this,c),this.name="HandledError",this.data=e}}(0,a.Z)(c,"DEFAULT_MESSAGE","Unknown Handled Error");class d extends i{constructor(){var e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.DEFAULT_MESSAGE),(0,a.Z)(this,"response",void 0),(0,a.Z)(this,"data",void 0),n(this,d),this.name="ServiceError",this.response=e,this.data=r}}(0,a.Z)(d,"DEFAULT_MESSAGE","Error while fetching foreign API");class u extends d{constructor(e,r,t){super(e,r,t),this.name="ClientError"}}class p extends i{constructor(e){super(e),n(this,p),this.name="ParseError"}}var m="BookingHorizonExceeded",g="SncfBookingHorizonExceeded",v="DbBookingHorizonExceeded",h="RenfeBookingHorizonExceeded",y="TgvMaxBookingHorizonExceeded",f="CardExpiresBeforeTrip",E="CardStartsAfterTrip",b="CardNotValidForTripRoute",S="VoucherNotFound",T="VoucherUsed",C="NoOpenReturnFaresForRoute",A="LocalTransportUnavailable",I="UnderlyingSystemError",_="PrmGuideTooYoung",P="TooManyPrm",R="DepartureDifferentFromRequested",k="OriginLocalAreaTransportIncluded",N="DestinationLocalAreaTransportIncluded",O="OriginLocalAreaTransportExcluded",L="DestinationLocalAreaTransportExcluded",x="ArrivalDifferentFromRequested",D="VoucherSystemUnavailable",w="VoucherNotValid",Z="VoucherNotValidForPassengers",F="NoValidPromotions",B="VoucherLimitExceeded",M="VoucherNotValidWithRailcard",U=new RegExp(/Departure\w*DifferentFromRequested/,"i"),j=new RegExp(/Arrival\w*DifferentFromRequested/,"i"),H=e=>e.replace(/ItinerarySearch\.FareSearch(\.Pacon|\.Atoc)\./i,""),W="travelProtocol.voucherNotFound",G="travelProtocol.voucherUsed",V="travelProtocol.voucherInactive",Y="travelProtocol.voucherNotApplicableOnBooking",K="travelProtocol.voucherNotApplied",z="travelProtocol.voucherNotSufficientAmount",J="travelProtocol.voucherUnauthorized",q="travelProtocol.voucherUnauthorizedCustomer"},12521:(e,r,t)=>{"use strict";t.r(r),t.d(r,{CREDENTIALS:()=>l,DELETE_ARGS:()=>p,GET_ARGS:()=>c,POST_ARGS:()=>d,PUT_ARGS:()=>u,_makeFetch:()=>T,buildErrorMessage:()=>h,buildQueryString:()=>v,exposeContextAndConversationId:()=>A,fetch:()=>I,fetchJSON:()=>k,formatBodyFromContentType:()=>S,getAgent:()=>y,getHeaders:()=>P,isServerReqArgs:()=>g,parseJson:()=>f,setNewRelicAttribute:()=>C});var a=t(97430),n=t(23198),i=t(15679),o=(t(62206),t(67905)),s=t(7739),l=(t(5657),function(e){return e.OMIT="omit",e.SAME_ORIGIN="same-origin",e.INCLUDE="include",e}({})),c={method:"GET"},d={method:"POST"},u={method:"PUT"},p={method:"DELETE"},m={method:"GET"},g=e=>void 0!==e.httpsOptions,v=(e,r,t)=>"".concat(e,"?").concat(o.stringify(r,t)),h=(e,r)=>{var{url:t,reqArgs:a,retries:i}=r;return JSON.stringify({message:e.message,url:t,reqArgs:(0,n.Z)((0,n.Z)({},a),{},{body:null!=a&&a.requestIncludesPII||null==a?void 0:a.body,httpsOptions:void 0}),retries:i})},y=(new Map,e=>{var{Agent:r}=t(15818);return new r((0,n.Z)({rejectUnauthorized:"0"!=={BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.NODE_TLS_REJECT_UNAUTHORIZED},e.httpsOptions))}),f=function(){var e=(0,a.Z)((function*(e){var r=yield e.text();return 204===e.status||""===r?void 0:JSON.parse(r)}));return function(r){return e.apply(this,arguments)}}(),E=e=>r=>["ECONNREFUSED"].includes(r.code)&&e.retries&&e.retries>0?T(e.url,e.reqArgs,e.retries-1):Promise.reject(new s.F7(h(r,e))),b=function(){var e=(0,a.Z)((function*(e,r){if(r.ok){if(!r.headers.get("Content-Type")&&204!==r.status)if(""!==(yield r.clone().text()))return Promise.reject(new s.JQ("Response OK: Missing Content-Type header in response."));return r}return(e=>e.text().then((r=>{var t=408===e.status||e.status>=500?s.C:s.XF,a="".concat(e.status," ").concat(e.url);try{var n=JSON.parse(r);return Promise.reject(new t(a,e,n))}catch(r){return Promise.reject(new t(a,e))}})))(r)}));return function(r,t){return e.apply(this,arguments)}}(),S=(e,r,t)=>{if(r&&!["HEAD","GET"].includes(e))switch(t){case"application/xml":case"text/xml":return r;default:return JSON.stringify(r)}},T=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,t=arguments.length>2?arguments[2]:void 0,{method:a,params:i,headers:o,body:s,paramsSerialization:l}=r,c=i?v(e,i,l):e,d=o&&(o.accept||o.Accept),u={method:a,headers:(0,n.Z)((0,n.Z)((0,n.Z)({},!d&&{accept:"application/json"}),"GET"!==a&&{"Content-Type":"application/json"}),{},{"Accept-Charset":"utf-8"},o),credentials:"same-origin",body:S(a,s,o&&o["Content-Type"])};return window.fetch(c,u).catch(E({url:e,reqArgs:r,retries:t}))},C=(e,r)=>{r&&t.g.window.newrelic.setCustomAttribute(e,r)},A=e=>(t.g.window&&t.g.window.newrelic&&(C("ConversationId",e.headers.get("x-conversationid")),C("ContextAliasId",(0,i.Q)(document.cookie).context_alias_id)),e),I=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,t=b.bind(null,r);return T(e,r,0).then(A).then(t)},_=(e,r)=>I(e,r),P=e=>{var r={};return e.headers&&e.headers.forEach(((e,t)=>r[t]=e)),r},R=e=>r=>Promise.reject(new s.D3(h(r,e)));function k(e,r){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)((function*(e,r){var t=yield _(e,r);try{var a=yield f(t);return r&&!0===r.includeHeadersInResponse?{body:a,headers:P(t)}:a}catch(t){return yield R({url:e,reqArgs:r})(t)}}))).apply(this,arguments)}},5657:(e,r,t)=>{"use strict";var a=t(23198),n=t(85924);class i{constructor(e){(0,n.Z)(this,"brakeConfig",void 0),(0,n.Z)(this,"brakeInstance",void 0),this.brakeConfig=(0,a.Z)({group:"DesktopWebApi",statInterval:5e3,isPromise:!0},e)}wrapWithBrake(e){}}new class{constructor(){var e=this;(0,n.Z)(this,"instances",{}),(0,n.Z)(this,"get",(function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:.5,circuitDuration:15e3,timeout:35e3};return e.instances[r]||(e.instances[r]=new i((0,a.Z)({name:r},t)))}))}}},59199:(e,r,t)=>{"use strict";t.d(r,{j:()=>n});var a=t(47320),n=e=>(0,a.murmur2)(JSON.stringify(e)).toString()},85540:(e,r,t)=>{"use strict";t.d(r,{M1:()=>s,RJ:()=>i,d:()=>n});var a=t(71695),n=function(e){return e.CFF="CFF",e.DB="DB",e.EUROSTAR="Eurostar",e.NS="NS",e.NTV="Italo",e.OBB="OBB",e.RENFE="Renfe",e.SNCF="SNCF",e.TRENITALIA="Trenitalia",e.SPAIN_RAIL="SpainRail",e}({}),i={[a.vi.SPANISH]:{[n.CFF]:9,[n.DB]:4,[n.EUROSTAR]:5,[n.NS]:8,[n.NTV]:7,[n.OBB]:10,[n.RENFE]:2,[n.SNCF]:3,[n.TRENITALIA]:6,[n.SPAIN_RAIL]:1},[a.vi.FRENCH]:{[n.CFF]:8,[n.DB]:2,[n.EUROSTAR]:3,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:1,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.ITALIAN]:{[n.CFF]:8,[n.DB]:5,[n.EUROSTAR]:6,[n.NS]:7,[n.NTV]:2,[n.OBB]:9,[n.RENFE]:3,[n.SNCF]:4,[n.TRENITALIA]:1,[n.SPAIN_RAIL]:10},[a.vi.GERMAN]:{[n.CFF]:9,[n.DB]:1,[n.EUROSTAR]:3,[n.NS]:8,[n.NTV]:7,[n.OBB]:2,[n.RENFE]:5,[n.SNCF]:4,[n.TRENITALIA]:6,[n.SPAIN_RAIL]:10},[a.vi.ENGLISH]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.DANISH]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.DUTCH]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.NORWEGIAN]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.BRAZILIANPORTUGUESE]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.SWEDISH]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.AMERICANENGLISH]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.SWISSFRENCH]:{[n.CFF]:8,[n.DB]:2,[n.EUROSTAR]:3,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:1,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.SWISSITALIAN]:{[n.CFF]:8,[n.DB]:5,[n.EUROSTAR]:6,[n.NS]:7,[n.NTV]:2,[n.OBB]:9,[n.RENFE]:3,[n.SNCF]:4,[n.TRENITALIA]:1,[n.SPAIN_RAIL]:10},[a.vi.SWISSGERMAN]:{[n.CFF]:9,[n.DB]:1,[n.EUROSTAR]:3,[n.NS]:8,[n.NTV]:7,[n.OBB]:2,[n.RENFE]:5,[n.SNCF]:4,[n.TRENITALIA]:6,[n.SPAIN_RAIL]:10},[a.vi.PORTUGUESE]:{[n.CFF]:8,[n.DB]:3,[n.EUROSTAR]:1,[n.NS]:7,[n.NTV]:6,[n.OBB]:9,[n.RENFE]:4,[n.SNCF]:2,[n.TRENITALIA]:5,[n.SPAIN_RAIL]:10},[a.vi.AUSTRIANGERMAN]:{[n.CFF]:9,[n.DB]:1,[n.EUROSTAR]:3,[n.NS]:8,[n.NTV]:7,[n.OBB]:2,[n.RENFE]:5,[n.SNCF]:4,[n.TRENITALIA]:6,[n.SPAIN_RAIL]:10}},o=function(e){return e.SIXTEEN_SEVENTEEN_SAVER="urn:trainline:atoc:card:TSU",e.SIXTEEN_TWENTYFIVE="urn:trainline:atoc:card:YNG",e.TWENTYSIX_THIRTY="urn:trainline:atoc:card:TST",e.SENIOR="urn:trainline:atoc:card:SRN",e.NETWORK="urn:trainline:atoc:card:NEW",e.FAMILY_AND_FRIENDS="urn:trainline:atoc:card:FAM",e.TWO_TOGETHER="urn:trainline:atoc:card:2TR",e.DISABLED_PERSONS="urn:trainline:atoc:card:DIS",e.DISABLED_CHILD="urn:trainline:atoc:card:DIC",e.VETERANS="urn:trainline:atoc:card:VET",e}({}),s=[o.SIXTEEN_SEVENTEEN_SAVER,o.SIXTEEN_TWENTYFIVE,o.TWENTYSIX_THIRTY,o.SENIOR,o.NETWORK,o.FAMILY_AND_FRIENDS,o.TWO_TOGETHER,o.DISABLED_PERSONS,o.DISABLED_CHILD,o.VETERANS]},71695:(e,r,t)=>{"use strict";t.d(r,{CE:()=>v,Kx:()=>m,OI:()=>g,P4:()=>E,PG:()=>d,Qd:()=>s,Tm:()=>y,Uj:()=>f,Vd:()=>c,bs:()=>u,dK:()=>I,hJ:()=>S,kl:()=>b,tK:()=>p,vi:()=>l,wv:()=>T,zp:()=>h});var a=t(64321),n=t(85924),i=t(7862),o=t(29901),s=(t(98184),function(e){return e.BRITAIN="GB",e.GERMANY="DE",e.SPAIN="ES",e.ITALY="IT",e.FRANCE="FR",e.DENMARK="DK",e.NETHERLANDS="NL",e.NORWAY="NO",e.BRAZIL="BR",e.SWEDEN="SE",e.USA="US",e.BELGIUM="BE",e.SWITZERLAND="CH",e.PORTUGAL="PT",e.AUSTRIA="AT",e.CANADA="CA",e.AUSTRALIA="AU",e.NEWZEALAND="NZ",e}({})),l=function(e){return e.ENGLISH="en-GB",e.GERMAN="de-DE",e.SPANISH="es-ES",e.ITALIAN="it-IT",e.FRENCH="fr-FR",e.DANISH="da-DK",e.DUTCH="nl-NL",e.NORWEGIAN="nb-NO",e.BRAZILIANPORTUGUESE="pt-BR",e.SWEDISH="sv-SE",e.AMERICANENGLISH="en-US",e.SWISSGERMAN="de-CH",e.SWISSFRENCH="fr-CH",e.SWISSITALIAN="it-CH",e.PORTUGUESE="pt-PT",e.AUSTRIANGERMAN="de-AT",e}({}),c=function(e){return e.ENGLISH="en",e.GERMAN="de",e.SPANISH="es",e.ITALIAN="it",e.FRENCH="fr",e.DANISH="da",e.DUTCH="nl",e.NORWEGIAN="nb",e.BRAZILIANPORTUGUESE="pt-br",e.SWEDISH="sv",e.AMERICANENGLISH="en-us",e.SWISSGERMAN="de-ch",e.SWISSFRENCH="fr-ch",e.SWISSITALIAN="it-ch",e.PORTUGUESE="pt",e.AUSTRIANGERMAN="de-at",e}({}),d=function(e){return e.ENGLISH="en",e.GERMAN="de",e.SPANISH="es",e.ITALIAN="it",e.FRENCH="fr",e.DANISH="da",e.DUTCH="nl",e.NORWEGIAN="nb",e.BRAZILIANPORTUGUESE="pt",e.SWEDISH="sv",e.AMERICANENGLISH="en",e.SWISSGERMAN="de",e.SWISSFRENCH="fr",e.SWISSITALIAN="it",e.PORTUGUESE="pt",e.AUSTRIANGERMAN="de",e}({}),u=function(e){return e.ENGLISH="EN",e.GERMAN="DE",e.SPANISH="ES",e.ITALIAN="IT",e.FRENCH="FR",e.DANISH="DA",e.DUTCH="NL",e.NORWEGIAN="NB",e.BRAZILIANPORTUGUESE="PT",e.SWEDISH="SV",e.AMERICANENGLISH="EN",e.SWISSGERMAN="DE",e.SWISSFRENCH="FR",e.SWISSITALIAN="IT",e.PORTUGUESE="PT",e.AUSTRIANGERMAN="DE",e}({}),p=function(e){return e.ENGLISH="English (UK)",e.GERMAN="Deutsch",e.SPANISH="Espaol",e.ITALIAN="Italiano",e.FRENCH="Franais",e.DANISH="Dansk",e.DUTCH="Nederlands",e.NORWEGIAN="Norsk",e.BRAZILIANPORTUGUESE="Portugus",e.SWEDISH="Svenska",e.AMERICANENGLISH="English (US)",e.SWISSGERMAN="Deutsch",e.SWISSFRENCH="Franais",e.SWISSITALIAN="Italiano",e.PORTUGUESE="Portugus",e.AUSTRIANGERMAN="Deutsch",e}({}),m=function(e){return e.GERMANY="Deutschland",e.SPAIN="Espaa",e.ITALY="Italia",e.FRANCE="France",e.DENMARK="Danmark",e.NETHERLANDS="Nederland",e.NORWAY="Norge",e.PORTUGAL="Portugal",e.SWEDEN="Sverige",e.SWITZERLAND="Schweiz",e.AUSTRIA="sterreich",e}({}),g=function(e){return e.GBP="GBP",e.EUR="EUR",e.USD="USD",e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.SEK="SEK",e.NOK="NOK",e.JPY="JPY",e.DKK="DKK",e}({}),v=function(e){return e.GBP="",e.EUR="",e.USD="$",e.AUD="A$",e.CAD="C$",e.CHF="",e.SEK="kr",e.NOK="kr",e.JPY="",e.DKK="kr",e}({}),h={[l.SWISSGERMAN]:l.GERMAN,[l.SWISSFRENCH]:l.FRENCH,[l.SWISSITALIAN]:l.ITALIAN,[l.PORTUGUESE]:l.BRAZILIANPORTUGUESE,[l.AUSTRIANGERMAN]:l.GERMAN},y={[c.ENGLISH]:l.ENGLISH,[c.GERMAN]:l.GERMAN,[c.SPANISH]:l.SPANISH,[c.ITALIAN]:l.ITALIAN,[c.FRENCH]:l.FRENCH,[c.DANISH]:l.DANISH,[c.DUTCH]:l.DUTCH,[c.NORWEGIAN]:l.NORWEGIAN,[c.BRAZILIANPORTUGUESE]:l.BRAZILIANPORTUGUESE,[c.SWEDISH]:l.SWEDISH,[c.AMERICANENGLISH]:l.AMERICANENGLISH,[c.SWISSGERMAN]:l.SWISSGERMAN,[c.SWISSFRENCH]:l.SWISSFRENCH,[c.SWISSITALIAN]:l.SWISSITALIAN,[c.PORTUGUESE]:l.PORTUGUESE,[c.AUSTRIANGERMAN]:l.AUSTRIANGERMAN},f={[l.ENGLISH]:c.ENGLISH,[l.GERMAN]:c.GERMAN,[l.SPANISH]:c.SPANISH,[l.ITALIAN]:c.ITALIAN,[l.FRENCH]:c.FRENCH,[l.DANISH]:c.DANISH,[l.DUTCH]:c.DUTCH,[l.NORWEGIAN]:c.NORWEGIAN,[l.BRAZILIANPORTUGUESE]:c.BRAZILIANPORTUGUESE,[l.SWEDISH]:c.SWEDISH,[l.AMERICANENGLISH]:c.AMERICANENGLISH,[l.SWISSGERMAN]:c.SWISSGERMAN,[l.SWISSFRENCH]:c.SWISSFRENCH,[l.SWISSITALIAN]:c.SWISSITALIAN,[l.PORTUGUESE]:c.PORTUGUESE,[l.AUSTRIANGERMAN]:c.AUSTRIANGERMAN},E={[l.ENGLISH]:d.ENGLISH,[l.GERMAN]:d.GERMAN,[l.SPANISH]:d.SPANISH,[l.ITALIAN]:d.ITALIAN,[l.FRENCH]:d.FRENCH,[l.DANISH]:d.DANISH,[l.DUTCH]:d.DUTCH,[l.NORWEGIAN]:d.NORWEGIAN,[l.BRAZILIANPORTUGUESE]:d.BRAZILIANPORTUGUESE,[l.SWEDISH]:d.SWEDISH,[l.AMERICANENGLISH]:d.AMERICANENGLISH,[l.SWISSGERMAN]:d.SWISSGERMAN,[l.SWISSFRENCH]:d.SWISSFRENCH,[l.SWISSITALIAN]:d.SWISSITALIAN,[l.PORTUGUESE]:d.PORTUGUESE,[l.AUSTRIANGERMAN]:d.AUSTRIANGERMAN},b=(l.ENGLISH,p.ENGLISH,l.GERMAN,p.GERMAN,l.SPANISH,p.SPANISH,l.ITALIAN,p.ITALIAN,l.FRENCH,p.FRENCH,l.DANISH,p.DANISH,l.DUTCH,p.DUTCH,l.NORWEGIAN,p.NORWEGIAN,l.BRAZILIANPORTUGUESE,p.BRAZILIANPORTUGUESE,l.SWEDISH,p.SWEDISH,l.AMERICANENGLISH,p.AMERICANENGLISH,l.SWISSGERMAN,p.SWISSGERMAN,l.SWISSFRENCH,p.SWISSFRENCH,l.SWISSITALIAN,p.SWISSITALIAN,l.PORTUGUESE,p.PORTUGUESE,l.AUSTRIANGERMAN,p.AUSTRIANGERMAN,{[l.ENGLISH]:s.BRITAIN,[l.GERMAN]:s.GERMANY,[l.SPANISH]:s.SPAIN,[l.ITALIAN]:s.ITALY,[l.FRENCH]:s.FRANCE,[l.DANISH]:s.DENMARK,[l.DUTCH]:s.NETHERLANDS,[l.NORWEGIAN]:s.NORWAY,[l.BRAZILIANPORTUGUESE]:s.BRAZIL,[l.SWEDISH]:s.SWEDEN,[l.AMERICANENGLISH]:s.USA,[l.SWISSGERMAN]:s.SWITZERLAND,[l.SWISSFRENCH]:s.SWITZERLAND,[l.SWISSITALIAN]:s.SWITZERLAND,[l.PORTUGUESE]:s.PORTUGAL,[l.AUSTRIANGERMAN]:s.AUSTRIA}),S=(c.ENGLISH,s.BRITAIN,c.GERMAN,s.GERMANY,c.SPANISH,s.SPAIN,c.ITALIAN,s.ITALY,c.FRENCH,s.FRANCE,c.DANISH,s.DENMARK,c.DUTCH,s.NETHERLANDS,c.NORWEGIAN,s.NORWAY,c.BRAZILIANPORTUGUESE,s.BRAZIL,c.SWEDISH,s.SWEDEN,c.AMERICANENGLISH,s.USA,c.SWISSGERMAN,s.SWITZERLAND,c.SWISSFRENCH,s.SWITZERLAND,c.SWISSITALIAN,s.SWITZERLAND,c.PORTUGUESE,s.PORTUGAL,c.AUSTRIANGERMAN,s.AUSTRIA,{[c.GERMAN]:m.GERMANY,[c.SPANISH]:m.SPAIN,[c.ITALIAN]:m.ITALY,[c.FRENCH]:m.FRANCE,[c.DANISH]:m.DENMARK,[c.DUTCH]:m.NETHERLANDS,[c.NORWEGIAN]:m.NORWAY,[c.BRAZILIANPORTUGUESE]:m.PORTUGAL,[c.SWEDISH]:m.SWEDEN,[c.SWISSGERMAN]:m.SWITZERLAND,[c.SWISSFRENCH]:m.SWITZERLAND,[c.SWISSITALIAN]:m.SWITZERLAND,[c.PORTUGUESE]:m.PORTUGAL,[c.AUSTRIANGERMAN]:m.AUSTRIA}),T=(e,r,t,a)=>e.formatMessage({id:r,defaultMessage:a},t);class C extends o.Component{getChildContext(){return{intlConfig:this.props.config}}render(){return this.props.children}}(0,n.Z)(C,"childContextTypes",{intlConfig:i.shape({localeCode:i.string.isRequired,defaultCurrency:i.string.isRequired}).isRequired});(A=(e,r)=>o.createElement(o.Component,(0,a.Z)({},e,{intlConfig:r.intlConfig}))).contextTypes={intlConfig:i.shape({localeCode:i.string.isRequired,defaultCurrency:i.string.isRequired}).isRequired};var A,I=(e,r)=>{var t={value:"",text:e.formatMessage({id:r})},a=(new Date).getFullYear(),n=Array.apply(null,Array(12)).map(((r,t)=>({value:("00"+(t+1)).slice(-2),text:e.formatDate(new Date(a,t,2),{month:"long",timeZone:"utc"})})));return[t].concat(n)}},47956:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});const a=(e,r)=>e.reduce(((e,t)=>(e["function"==typeof r?r(t):t[r]]=t,e)),Object.create(null))},82758:(e,r,t)=>{"use strict";t.d(r,{$M:()=>g,C8:()=>P,CD:()=>O,CY:()=>m,Cx:()=>N,E2:()=>l,GE:()=>c,Gw:()=>o,Ir:()=>h,Ot:()=>f,PY:()=>U,Q9:()=>b,QA:()=>C,Rs:()=>v,TC:()=>x,V6:()=>k,_W:()=>B,a4:()=>w,aX:()=>u,an:()=>y,bR:()=>T,fm:()=>D,ik:()=>F,n7:()=>R,o7:()=>p,qE:()=>M,vY:()=>L});var a=t(84025),n=t.n(a),i=t(60654),o=60,s=function(e){return e[e.ADULT=15]="ADULT",e[e.CHILD=-5]="CHILD",e[e.YOUTH=-5]="YOUTH",e[e.SENIOR=50]="SENIOR",e[e.INFANT=-23]="INFANT",e}(s||{}),l="YYYY-MM-DD",c=e=>n()().subtract(e,"year").format(l),d=function(e){return c((arguments.length>1&&void 0!==arguments[1]?arguments[1]:15)+e)},u=/.*(NX00AE|NX00AF)/i,p=e=>u.test(e)?d(s.CHILD):d(s.ADULT),m=(e,r)=>{var t,a=null!=e&&null!==(t=e.includes)&&void 0!==t&&t.call(e,"|")?e.split("|")[0]:e;return n()(r).diff(a,"years")},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,r=arguments.length>1?arguments[1]:void 0;return t=>r?t>e&&t<r:t>e},v=e=>r=>!g(e)(r),h=e=>g()(m(e)),y=e=>13<m(e),f=e=>!h(e),E=function(e){return c((arguments.length>1&&void 0!==arguments[1]?arguments[1]:25)+e)},b=()=>Array(16).fill(void 0).reduce(((e,r,t)=>(e["YEAR_".concat(t)]=c(t),e)),{ADULT_DOB:d(s.ADULT),CHILD_DOB:d(s.CHILD),YOUTH_DOB:E(s.YOUTH),SENIOR_DOB:E(s.SENIOR),INFANT_DOB:E(s.INFANT)}),S=e=>h(e)?i.PassengerType.ADULT:i.PassengerType.CHILD,T=(e,r)=>{var t=m(e,r);return t>=o?i.PassengerType.SENIOR:t<=25?i.PassengerType.YOUTH:i.PassengerType.ADULT},C=(e,r)=>r===i.Experiences.EU_TRAIN?T(e):S(e),A=e=>({children:e.child,adults:e.adult}),I=e=>({youths:e.youth,adults:e.adult,seniors:e.senior}),_=(e,r,t)=>{var a;return t(e.reduce((a=r,(e,r)=>(e[a(r)]=e[a(r)]+1,e)),{adult:0,child:0,youth:0,senior:0}))},P=e=>e?e.filter((e=>m(e)>=5)):void 0,R=e=>(P(e)||[]).length>0,k=function(e){return _(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?P(e)||[]:e,S,A)},N=e=>_(e,T,I),O=(e,r)=>e.filter((e=>!0===e.selected||void 0===e.selected&&!e.isSavedPassenger)).map(((e,t)=>({text:e.name?e.name:r.formatMessage({id:"components.voucherSelect.description"},{passengerNumber:t+1,passengerType:e.type&&r.formatMessage({id:"components.voucherSelect.passengerType."+e.type})}),value:e.id}))),L=e=>{var r=e.reduce(((e,r)=>(e[r]++,e)),{adult:0,child:0,youth:0,senior:0});return I(r)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,[a,n]=e.split("|"),i=r[n]&&r[n][0]&&r[n][0].disabilityPassenger?{wheelchairUser:"true"===r[n][0].wheelchairUser||!0===r[n][0].wheelchairUser,cardLevel:r[n][0].disabilityCardLevel}:void 0,o=t?void 0:b().ADULT_DOB;return{dob:"undefined"===a||""===a?o:a,id:n,disability:i}},D=function(e){return e.CARTE_AVANTAGE_JEUNE="Carte Avantage Jeune",e.CARTE_AVANTAGE_ADULTE="Carte Avantage Adulte",e.CARTE_AVANTAGE_SENIOR="Carte Avantage Senior",e.GENERAL_RECOMMENDATION="GENERAL_RECOMMENDATION",e}({}),w=e=>{if(1===e.length){var r=e[0],{type:t,age:a}=r;return t===i.PassengerType.YOUTH&&a&&a>11&&a<26?D.CARTE_AVANTAGE_JEUNE:t===i.PassengerType.ADULT?D.CARTE_AVANTAGE_ADULTE:t===i.PassengerType.SENIOR?D.CARTE_AVANTAGE_SENIOR:null}return D.GENERAL_RECOMMENDATION},Z={[D.CARTE_AVANTAGE_JEUNE]:"7d4b7d7d-fec4-42f6-9679-aa260ddfa057",[D.CARTE_AVANTAGE_ADULTE]:"7bdf7250-8ed2-47ca-b0e4-e0fc73595722",[D.CARTE_AVANTAGE_SENIOR]:"9318d005-a898-4dc4-b115-1683d5b09834"},F=e=>{var r=Z[e];return r?"/railcards/cardholder-details?productTypeId=".concat(r):"https://www.thetrainline.com/fr/compagnies-ferroviaires/sncf/cartes-abonnements-de-train"},B=(e,r)=>{if(void 0===r)return{ageMin:null,ageMax:null};var t=m(r),a={ageMin:t,ageMax:t+1};if(!e)return a;switch(T(r)){case i.PassengerType.YOUTH:return a;case i.PassengerType.SENIOR:return{ageMin:o,ageMax:null};default:return{ageMin:26,ageMax:o}}},M=e=>f(e.toString())?c(s.CHILD+15):c(s.ADULT+15),U=(e,r,t)=>{var a=m(t);return a>0&&a>=e&&a<=r}},49407:(e,r,t)=>{"use strict";t.d(r,{wm:()=>a});var a="/book/login"},20757:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});const a=e=>Math.round(100*e)/100},47663:(e,r,t)=>{"use strict";t.r(r),t.d(r,{bindCallbackAndRef:()=>y,fetchJSON$:()=>h,logSubscriptions:()=>E,retry$:()=>v});var a=t(68480),n=t(8947),i=t(63718),o=t(59462),s=t(48821),l=t(78231),c=t(61965),d=t(53439),u=t(4710),p=t(1716),m=t(12521),g={retryCount:10,delay:1e3},v=function(e){var{retryCount:r,delay:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return(0,a.F)(t).pipe((0,s.j)(e),(0,l.X)(r),(0,c.P)())};function h(e,r){return r&&r.includeHeadersInResponse,(0,n.D)((0,m.fetchJSON)(e,r))}var y=e=>r=>new i.y((t=>{var a=e(r,((e,r)=>{e?t.error(e):(t.next(r),t.complete())}));t.next(a)})).pipe((0,d.d)(2)),f={},E=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.P)((()=>(console.log("".concat(r,": subscribed")),f[r]||(f[r]={n_subscriptions:0,n_emmitions:0,n_errors:0,n_completions:0,n_unsubscriptions:0}),f[r].n_subscriptions++,e.pipe((0,u.b)({next:e=>{f[r].n_emmitions++,console.log("".concat(r,": ").concat(t?JSON.stringify(e,null,2):"VALUE_OMITTED_BY_DEFAULT"))},error:e=>{f[r].n_errors++,console.error("".concat(r,": ").concat(e))},complete:()=>{f[r].n_completions++,console.log("".concat(r,": completed"))}}),(0,p.x)((()=>{f[r].n_unsubscriptions++,console.log("".concat(r,": unsubscribed")),console.table(f)}))))))}},52103:(e,r,t)=>{"use strict";t.d(r,{d:()=>a,n:()=>n});var a=e=>(r,t)=>{var a,n;return null===(a=r[e])||void 0===a?void 0:a.toUpperCase().localeCompare(null===(n=t[e])||void 0===n?void 0:n.toUpperCase())},n=(e,r,t)=>(a,n)=>{var i=(a[r]&&e[a[r]]||0)-(n[r]&&e[n[r]]||0);return 0===i&&t?t(a,n):i}},64169:(e,r,t)=>{"use strict";t.d(r,{Dr:()=>d,Fd:()=>E,I_:()=>h,nP:()=>y,pR:()=>f});var a=t(23198),n=t(15679),i=t(82768),o=document&&document.cookie,s=(0,i.b5p)(i.yRu,n.Q),l=null,c=()=>(l||(l=document.cookie,setTimeout((()=>l=null),0)),l),d={getItem:e=>{var r;try{r=o&&c()||""}catch(e){r=""}return s(r)[e]},setItem:(e,r,t)=>{if(o){var i=(0,a.Z)({path:"/",secure:!0},t?{expires:t}:{});document.cookie=(0,n.q)(e,r,i)}},removeItem:e=>{o&&(document.cookie="".concat(e,"=''; Expires=").concat(new Date(0).toUTCString(),";  path=/;"))}},u=function(e){return e.Local="local",e.Session="session",e.Cookie="cookie",e}({}),p=e=>{if(e===u.Cookie)return d;try{return"undefined"!=typeof window&&window["".concat(e,"Storage")]}catch(e){return!1}},m=e=>r=>{var t=p(e),a=null;if(t&&t.getItem){var n=t.getItem(r);try{a=null!==n?JSON.parse(n):null}catch(e){}}return a},g=e=>(r,t,a)=>{var n=p(e),i=!1;if(n&&n.setItem){var o=m(e)(r),s=a?a(o,t):t;try{n.setItem(r,JSON.stringify(s)),i=!0}catch(e){}}return i},v=e=>r=>{var t=p(e),a=!1;if(t&&t.removeItem)try{t.removeItem(r),a=!0}catch(e){}return a},h={getItem:m(u.Local),setItem:g(u.Local),removeItem:v(u.Local)},y={getItem:m(u.Session),setItem:g(u.Session),removeItem:v(u.Session)},f={getItem:m(u.Cookie),setItem:g(u.Cookie),removeItem:v(u.Cookie)},E=(()=>{if("undefined"==typeof window||void 0===window.localStorage)return!1;try{return window.localStorage.setItem("detect","detectvalue"),null!==window.localStorage.getItem("detect")}catch(e){return!1}})()?h:f},65368:(e,r,t)=>{"use strict";t.d(r,{Bq:()=>o,MR:()=>l,Pb:()=>i,Sp:()=>n,Us:()=>s,rV:()=>a});var a=e=>e.replace(/[^\d]/g,""),n=e=>e.replace(new RegExp(" ","g"),"").replace(new RegExp("-","g"),""),i=e=>e.replace(/:/g,"-"),o=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" ");return{firstName:e[0]||"",lastName:e[e.length-1]||""}},s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\s+/g,"")},l=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\s+/g," ")}},99302:(e,r,t)=>{"use strict";t.d(r,{f:()=>n,k:()=>a});var a=e=>e/6e4,n="YYYY-MM-DD HH:mm Z"},60575:(e,r,t)=>{"use strict";t.d(r,{s:()=>a});var a=(e,r)=>!!e&&(Array.isArray(r)?!r.some((r=>void 0===e[r])):void 0!==e[r])},9969:(e,r,t)=>{"use strict";t.d(r,{Gb:()=>a,HU:()=>n,Pq:()=>o,fl:()=>i,v4:()=>d,vt:()=>c});var a="530d0eaf748a510e2093cf9b",n="48d55f2b000064000503b350",i="https://trustpilot.com/review/www.thetrainline.com",o=3e4,s="trustpilot-widget-script-tag",l="//widget.trustpilot.com/bootstrap/v5/tp.widget.bootstrap.min.js",c=()=>{var e=document.createElement("script");e.id=s,e.src=l,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e)},d=()=>{var e=document.getElementById(s);e&&e.parentNode&&e.getAttribute("src")===l&&e.parentNode.removeChild(e)}},57110:(e,r,t)=>{"use strict";t.d(r,{uy:()=>de,KP:()=>q,UT:()=>J,ln:()=>G,w$:()=>te,Lx:()=>ee,rR:()=>me,xn:()=>be,kH:()=>ze,Tb:()=>N,O7:()=>we,Z0:()=>Oe,qN:()=>Fe,aZ:()=>xe,a_:()=>Ee,hO:()=>We,wK:()=>F,GG:()=>D,rJ:()=>w,eT:()=>R,ff:()=>ge,xm:()=>O,bM:()=>x,lR:()=>ae,ty:()=>Xe,ms:()=>B,ko:()=>Ge,in:()=>Ye,qF:()=>Je,ht:()=>qe,Tu:()=>T,y_:()=>I,sC:()=>A,sb:()=>Me,oI:()=>Ue,w7:()=>ve,UV:()=>Ve,HT:()=>Ke,qu:()=>je,F4:()=>He,Pk:()=>Pe,h5:()=>M,li:()=>fe,ob:()=>L,cH:()=>k,P5:()=>Z,MU:()=>Se,Js:()=>se,CO:()=>Te,nk:()=>_e,k:()=>oe,Qf:()=>pe,fg:()=>Ie,Te:()=>Ae,tH:()=>ie,fZ:()=>Y,O3:()=>P,Zq:()=>C,hm:()=>_,SC:()=>ne,oJ:()=>le,DV:()=>W,Lc:()=>V,J_:()=>j,lA:()=>U,os:()=>X,QP:()=>Q,EN:()=>z,$d:()=>he,RM:()=>ye,nV:()=>Ce,h8:()=>S,yz:()=>H,mp:()=>ke,vl:()=>Re,ni:()=>Be,Y4:()=>K,YP:()=>Qe,j9:()=>ce,jR:()=>ue});var a=t(97430),n=t(23198),i=(t(85464),t(57243)),o=t(12521),s=t(97626),l=t(66763),c=t(53638),d=(t(56136),t(5657),t(47663)),u=t(79978),p=u.CLIENT_FOREIGN_APIS.referenceDataSearch,m=p.masterUri+p.path,g=u.CLIENT_FOREIGN_APIS.referenceDataSearchV2,v=g.masterUri+g.path;function h(e,r){return o.isServerReqArgs(r)&&r.includeHeadersInResponse?d.fetchJSON$(e,(0,n.Z)((0,n.Z)({circuitBreaker:p.circuitBreaker,serviceName:"referenceDataSearch",paramsSerialization:{indices:!1}},r),{},{includeHeadersInResponse:!0})):d.fetchJSON$(e,(0,n.Z)((0,n.Z)({circuitBreaker:p.circuitBreaker,serviceName:"referenceDataSearch",paramsSerialization:{indices:!1}},r),{},{includeHeadersInResponse:!1}))}function y(e){var r={method:"GET",params:(0,n.Z)({},e)};return h(m,r)}function f(e){var r={method:"GET",params:(0,n.Z)({},e)};return h(v,r)}var E=t(7809),b=s.Z.children,S=e=>(0,E.CK)("".concat(b.customer.path).concat(b.customer.children.search.path),(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:{email:e},includeHeadersInResponse:!0})),T=e=>(0,E.CK)(b.journeySearch.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),C=e=>(0,E.CK)(b.journeySearchRevalidation.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),A=e=>(0,E.CK)(b.journeySearchPagination.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),I=e=>(0,E.CK)(b.journeySearchEUInward.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),_=e=>(0,E.CK)(b.routePricingData.search,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),P=e=>(0,E.CK)(b.cardPaymentForm.sessions,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),R=(e,r)=>(0,E.CK)("".concat(b.cardPaymentForm.sessions,"/").concat(e,"/").concat(r),o.GET_ARGS),k=e=>(0,E.CK)("".concat(b.travelCard.path,"/").concat(e),o.GET_ARGS),N=e=>(0,E.CK)(b.travelCard.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),O=e=>(0,E.CK)(b.coaches.availability,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),L=e=>(0,E.CK)(b.getTransportModeValidity.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),x=e=>(0,E.CK)("".concat(b.coaches.search,"/").concat(e),o.GET_ARGS).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),D=e=>(0,E.CK)(b.bestFareFinderSummary.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),w=(e,r,t)=>(0,E.CK)("".concat(b.journeySearchLegCallingPoints.path).concat(e,"/").concat(r,"/").concat(t),o.GET_ARGS),Z=e=>(0,E.Io)(b.travelService.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),F=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,E.CK)(b.basket.root+(e?"":"?nocreate=1")).pipe((0,i.U)((e=>{var{data:r}=e;return r})))},B=()=>(0,E.CK)(b.basket.deliveryOptions,(0,n.Z)((0,n.Z)({},o.GET_ARGS),{},{headers:{pragma:"no-cache","cache-control":"no-store"}})).pipe((0,i.U)((e=>{var{data:r}=e;return r||{}}))),M=()=>(0,E.CK)("".concat(b.smartcard.getSmartCardCollectionLocation),(0,n.Z)((0,n.Z)({},o.GET_ARGS),{},{headers:{pragma:"no-cache","cache-control":"no-store"}})).pipe((0,i.U)((e=>e||[]))),U=e=>{var r;return null===(r=(0,E.CK)(b.smartcard.registerSmartCard,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})))||void 0===r?void 0:r.pipe((0,i.U)((e=>e||"")))},j=e=>{var r;return null===(r=(0,E.CK)(b.smartcard.reactivateSmartCard,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})))||void 0===r?void 0:r.pipe((0,i.U)((e=>e||"")))},H={AtocKiosk:e=>(0,E.CK)(b.product.setDeliveryMethodAtocKiosk,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocMTicket:e=>(0,E.CK)(b.product.setDeliveryMethodAtocMTicket,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocETicket:e=>(0,E.CK)(b.product.setDeliveryMethodAtocETicket,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocUkSecondClassPost:e=>(0,E.CK)(b.product.setDeliveryMethodAtocPostalDelivery,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocUKSpecialDelivery:e=>(0,E.CK)(b.product.setDeliveryMethodAtocPostalDelivery,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocUKInternationalPost:e=>(0,E.CK)(b.product.setDeliveryMethodAtocPostalDelivery,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),SNCFETicket:e=>(0,E.CK)(b.product.setDeliveryMethodEuTicket,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),EUGeneric:e=>(0,E.CK)(b.product.setDeliveryMethodEuTicket,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),NationalExpressETicket:e=>(0,E.CK)(b.product.setDeliveryMethodNationalExpressETicket,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocItsoSmartActionList:e=>(0,E.CK)(b.product.setDeliveryMethodAtocItsoSmartActionList,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocItsoSmartEcebsActionList:e=>(0,E.CK)(b.product.setDeliveryMethodAtocItsoSmartEcebsActionList,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),AtocItsoSmartActionListCollectOnSmartphone:e=>(0,E.CK)(b.product.setDeliveryMethodAtocItsoSmartActionListCollectOnSmartphone,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e}))},W=e=>(0,E.CK)(b.basket.priceSearchSelection,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),G=e=>(0,E.CK)(b.basket.temp,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),V=(e,r)=>(0,E.CK)(b.basket.quickBuy+(e?"?create":""),(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:r})),Y=e=>(0,E.CK)(b.basket.merge,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),K=e=>(0,E.CK)(b.basket.toggleProduct,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),z=(e,r)=>(0,E.CK)(b.basket.items,(0,n.Z)((0,n.Z)({},o.DELETE_ARGS),{},{params:{itemIds:e.join(","),basketType:r}})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),J=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.tX;return(0,E.CK)(r===l.Ln?b.basket.toggleEssentialInsurance:b.basket.toggleCoreInsurance,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r})))},q=e=>(0,E.CK)(b.basket.toggleBusinessInsurance,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),Q=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.M5;return(0,E.CK)(r===l.dz?"".concat(b.basket.toggleEssentialInsurance,"?action=remove"):"".concat(b.basket.toggleCoreInsurance,"?action=remove"),(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r})))},X=e=>(0,E.CK)("".concat(b.basket.toggleBusinessInsurance,"?action=remove"),(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),$=b.auth.path+b.auth.children.loginGuest.path,ee=e=>(0,E.CK)($,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:{email:e}})).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),re=b.auth.path+b.auth.children.decodeTokens.path,te=()=>(0,E.CK)(re,(0,n.Z)({},o.POST_ARGS)).pipe((0,i.U)((e=>{var{data:r}=e;return r}))),ae=e=>(0,E.CK)([b.confirmation.path,e&&"lang=".concat(e)].filter(Boolean).join("?"),o.GET_ARGS),ne=e=>(0,E.CK)(b.payment.newCardPrepareV2,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),ie=e=>(0,E.CK)(b.payment.zeroCharge,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),oe=e=>(0,E.CK)(b.payment.onAccount,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),se=e=>(0,E.CK)(b.payment.businessCard,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),le=e=>(0,E.CK)(b.payment.savedCardPrepare,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),ce=e=>(0,E.CK)(b.payment.cardUpdate,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),de="".concat(s.Z.path).concat(b.payment.cardEnrol),ue=e=>(0,E.CK)(b.payment.cardValidateAndConfirm,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),pe=e=>(0,E.CK)(b.payment.paypal,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),me=(e,r)=>(0,E.CK)(b.payment.cardConfirm,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:{orderId:e,carriers:r}})),ge=e=>(0,E.CK)(b.checkout.path,(0,n.Z)((0,n.Z)({},o.GET_ARGS),{headers:{"Accept-Language":e}})),ve=e=>(0,E.CK)("".concat(b.payment.paymentOffers,"?").concat(c.Z.stringifyQuery({cardTokens:e})),o.GET_ARGS),he=(e,r)=>(0,E.CK)("".concat(b.addresses.path).concat(encodeURIComponent(e.trim())).concat(r?"/"+encodeURIComponent(r.trim()):""),o.GET_ARGS),ye=function(){var e=(0,a.Z)((function*(){return(0,E.Io)("".concat(b.rebookPredictions.path),o.GET_ARGS)}));return function(){return e.apply(this,arguments)}}(),fe=()=>(0,E.Io)("".concat(b.trainTimesFares.path)),Ee=e=>fetch((e=>({Prod:"https://sso.trainline.eu/migration_token",Staging:"https://sso-master.test.trainline.eu/migration_token",Cluster:"https://sso-dev.test.trainline.eu/migration_token",Developer:"https://sso-dev.test.trainline.eu/migration_token"}[e]))(e),(0,n.Z)((0,n.Z)({},o.GET_ARGS),{},{credentials:o.CREDENTIALS.INCLUDE,mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"}})).then((e=>{if(!e.ok)throw new Error;return e.text()})),be=e=>(0,E.CK)(b.payment.applePay.createSession,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:{url:e}})),Se=e=>(0,E.CK)(b.payment.applePay.root,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Te=e=>(0,E.CK)(b.payment.googlePay,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Ce=e=>(0,E.CK)(b.payment.cardSaveV2,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Ae=e=>(0,E.CK)(b.payment.sofort,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Ie=e=>(0,E.CK)(b.payment.satispay,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),_e=e=>(0,E.CK)(b.payment.ideal,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Pe=()=>(0,E.CK)(b.product.getReservationOffers,o.GET_ARGS).pipe((0,i.U)((e=>{var{data:r}=e;return r||{}}))),Re=e=>(0,E.CK)(b.product.setReservationOffers,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r||{}}))),ke=e=>(0,E.CK)(b.product.setExtras,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})).pipe((0,i.U)((e=>{var{data:r}=e;return r||{}}))),Ne=b.customer.path+b.customer.children.quickRegister.path,Oe=e=>(0,E.CK)(Ne,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Le=b.customer.path+b.customer.children.updateConsent.path,xe=e=>(0,E.CK)(Le,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),De=b.customer.path+b.customer.children.decryptDetailsToken.path,we=e=>(0,E.Io)(De,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:{customerDetailsToken:e}})),Ze=b.customer.path+b.customer.children.setVendorMarketingPreferencesNationalExpress.path,Fe=e=>(0,E.CK)(Ze,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Be=e=>(0,E.CK)(b.discountCardProduct.setVendorMarketingPreference,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Me=e=>(0,E.CK)("".concat(b.locations.path,"?").concat(c.Z.stringifyQuery({codes:e}))),Ue=e=>{var{locationIds:r,locationCodes:t}=e;return(0,E.CK)("".concat(b.locations.path,"?").concat(c.Z.stringifyQuery({ids:r,codes:t})))},je=e=>f(e),He=e=>y(e),We=()=>(0,E.Io)(b.appSettings.path),Ge=()=>(0,E.CK)(b.discountCards.path),Ve=(e,r,t)=>t?f({locale:e,connections:r}):y({locale:e,connections:r}),Ye=e=>y({codes:e}),Ke=e=>f({locale:e}),ze=e=>(0,E.Io)(b.promoCodeDetails.path,(0,n.Z)((0,n.Z)({},o.PUT_ARGS),{},{body:{promoCode:e}})),Je=e=>(0,E.Io)(b.getIsNewCustomerByClientId.path({clientId:e})),qe=e=>(0,E.Io)(b.getIsNewCustomerByCustomerId.path({customerId:e})),Qe=e=>(0,E.Io)(b.gtmPurchaseTracking.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e})),Xe=e=>(0,E.Io)(b.contentEngine.path,(0,n.Z)((0,n.Z)({},o.POST_ARGS),{},{body:e}))},18362:(e,r,t)=>{"use strict";t.d(r,{LW:()=>d,hv:()=>c,mh:()=>l,zj:()=>u});var a=t(23198),n=t(12521),i=t(97626),o=t(7809),s=i.Z.children,l=e=>(0,o.CK)(s.passengers.path,(0,a.Z)((0,a.Z)({},n.POST_ARGS),{},{body:e,includeHeadersInResponse:!0})),c=e=>(0,o.CK)(s.passengers.path+s.passengers.children.delete.path,(0,a.Z)((0,a.Z)({},n.DELETE_ARGS),{},{params:{passengerId:e},includeHeadersInResponse:!0})),d=(e,r)=>(0,o.CK)(s.passengers.path+s.passengers.children.railcards.path,(0,a.Z)((0,a.Z)({},n.DELETE_ARGS),{},{params:{cardId:e,passengerId:r},includeHeadersInResponse:!0})),u=e=>(0,o.CK)(s.passengers.path+s.passengers.children.traveldocuments.path,(0,a.Z)((0,a.Z)({},n.DELETE_ARGS),{},{params:{passengerId:e},includeHeadersInResponse:!0}))},21650:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(31616),n=t(48977),i=t(88543),o=t(19408),s=["children","experimentKey"];const l=(0,i.connect)(((e,r)=>{var{experimentKey:t,skipDispatchExperienced:a}=r;return{state:(Array.isArray(t)?t:[t]).map((r=>({isControl:!(0,n.Nv)(e.entities.experiments,t)||(0,o.wM)(e,r,a),isVariant:(0,o.eB)(e,r,a),value:(0,o.mR)(e,r,a)})))}}))((function(e){var{children:r,experimentKey:t}=e,n=(0,a.Z)(e,s).state;return"function"==typeof r&&r.call(null,Array.isArray(t)?n:n[0])||null}))},9694:(e,r,t)=>{"use strict";t.d(r,{E0:()=>o,EX:()=>d,Go:()=>n,HX:()=>l,IN:()=>c,Pv:()=>a,Tr:()=>s,f2:()=>i});var a=/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i,n=/(^\d{5}$)|(^\d{5}-\d{4}$)/,i=/^[ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ] ?[0-9][ABCEGHJKLMNPRSTVWXYZ][0-9]$/i,o=/[^a-zA-Z0-9 \-]/,s=30,l=10,c=4,d=75},68834:(e,r,t)=>{"use strict";t.d(r,{TF:()=>l,XV:()=>s,Yw:()=>o,ln:()=>n,nF:()=>i});var a=t(9694),n={required:"form.validation.required",invalid:"form.validation.invalid",address:{firstLineRequired:"form.validation.requiredFirstAddressLine",clickFind:"form.addressForm.validation.clickFindAddress",invalidCharacter:"form.addressForm.validation.invalidAddressLineCaracter",notOnlyDigits:"form.addressForm.validation.notOnlyDigits"}},i=e=>""===e?n.required:void 0,o=(e,r)=>{if(("US"===e||"CA"===e)&&""===r)return n.required},s=(e,r,t,i)=>{var o="GB"===e,s="US"===e,l="CA"===e;return(i||o||s||l)&&""===r?n.required:o&&!(e=>e.replace(/\s/g,"").match(a.Pv))(r)||s&&!r.match(a.Go)||l&&!r.match(a.f2)?n.invalid:o||s||l||!(r.length>0&&r.length<a.IN||r.match(a.E0))?r.length&&t?n.address.clickFind:void 0:n.invalid},l=(e,r,t)=>{if(""===r){if("addressLine1"===t)return n.address.firstLineRequired;if("city"===t&&"GB"!==e)return n.required}else if("city"===t&&!/(?!^\d+$)^.+$/.test(r))return n.address.notOnlyDigits;if(r.match(/[<>]/g))return n.address.invalidCharacter}},85054:(e,r,t)=>{"use strict";t.d(r,{Z:()=>I});var a=t(84025),n=t.n(a),i=t(82768),o=t(88543),s=t(51282),l=t(29433),c=t(51059),d=t(24087),u=t(68760),p=t(62331),m=t(32034),g=t(82758),v=t(29011),h=(0,m.P1)(s.tv,s.S3,v.pi,((e,r,t)=>{var a=[];return e&&e.passengers&&(a=e.passengers),t?r:(0,g.V6)(a)})),y=t(97866),f=t(43088),E=t(66168),b=t(44149),S=e=>{var r=n()(e);return e&&r.isValid()?[r.format("HH"),r.format("ddd").toLocaleLowerCase()]:[void 0,void 0]},T=(e,r)=>{var t=n()(e),a=n()(r);if(e&&r&&t.isValid()&&a.isValid()){var i=t.startOf("day"),o=a.startOf("day").diff(i,"days");return o>=1&&o<=9?o:void 0}},C=(e,r)=>{if(r){return r.reduce(((r,t)=>{var a=(0,p.Jb)(e,t);return a&&r.push(a.code),r}),[])}},A=(e,r)=>{var{outwardDate:t,inwardDate:a,passengerDiscountCards:n}=(0,c.Wc)(e),[o,p]=S(t),[m,g]=S(a),v=h(e),{deliveryMethod:E,paymentMethod:A}=r;return{targeting:{IsProdEnv:"Prod"===(0,y.Xc)(e),DestStatCd:(0,i.vgT)("code",(0,s.it)(e)),OrigStatCd:(0,i.vgT)("code",(0,s.Pi)(e)),TransportMode:(0,f.x3)(e)===d.ZP.COACH?"Bus":"Train",OutboundHour:o,OutboundDayWeek:p,ReturnHour:m,ReturnDayWeek:g,NightsAway:T(t,a),RailCardCd:C(e,n),UserType:(0,u.L6)(e)?"leisure":"guest",NoOfChild:v.children,NoOfAdults:v.adults,PaymentType:A,DeliveryMethod:E},isVisible:(0,b.lS)(e),disableAutoRefresh:(0,l.oy)(e)}};const I=(0,o.connect)(A)(E.ZP)},62715:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(50093);const n=a.StyleSheet.create({root:{"text-align":"center","margin-top":"48px","margin-bottom":"52px"},searchResultsStickySkyscraper:{"margin-top":"8px","margin-bottom":"8px"},rootJourneySummary:{"text-align":"center","margin-top":"64px","margin-bottom":"32px"},journeyResults:{"text-align":"center","margin-top":"48px","margin-bottom":"52px"},leaderboard:{"@media (min-width: 992px)":{"text-align":"center","margin-top":"20px","margin-bottom":"20px",width:"100%",height:0,"padding-bottom":"90px"}},adBlocker:{padding:0,margin:0}})},66168:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>g,aO:()=>p});var a=t(64321),n=t(50093),i=t(29901),o=t(37348),s=t(41344),l=t(62715),c=t(44149);(0,o.s9)();var d="8125220",u={[c.rY.HOMEPAGE_TILE]:{desktop:{adUnitPath:"/".concat(d,"/homepage_tile_359x240"),height:240,width:359},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_SINGLE]:{desktop:{adUnitPath:"/".concat(d,"/search_result_uk_lb_728x90_atf"),height:90,width:728},tablet:{adUnitPath:"/".concat(d,"/300x250_mtf"),height:250,width:300},mobile:{adUnitPath:"/".concat(d,"/300x250_mtf"),height:250,width:300}},[c.rY.JOURNEY_RESULTS_SINGLE_DE]:{desktop:{adUnitPath:"/".concat(d,"/search_result_de_lb_728x90_btf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_SINGLE_ES]:{desktop:{adUnitPath:"/".concat(d,"/search_result_es_lb_728x90_btf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_SINGLE_FR]:{desktop:{adUnitPath:"/".concat(d,"/search_result_fr_lb_728x90_btf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_SINGLE_IT]:{desktop:{adUnitPath:"/".concat(d,"/search_result_it_lb_728x90_btf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_RETURN]:{desktop:{adUnitPath:"/".concat(d,"/search_result_uk_lb_728x90_btf"),height:90,width:728},tablet:{adUnitPath:"/".concat(d,"/300x250_mtf"),height:250,width:300},mobile:{adUnitPath:"/".concat(d,"/300x250_mtf"),height:250,width:300}},[c.rY.JOURNEY_RESULTS_RETURN_DE]:{desktop:{adUnitPath:"/".concat(d,"/search_result_de_lb_728x90_btf_return"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_RETURN_ES]:{desktop:{adUnitPath:"/".concat(d,"/search_result_es_lb_728x90_btf_return"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_RETURN_FR]:{desktop:{adUnitPath:"/".concat(d,"/search_result_fr_lb_728x90_btf_return"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_RESULTS_RETURN_IT]:{desktop:{adUnitPath:"/".concat(d,"/search_result_it_lb_728x90_btf_return"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_LEADERBOARD]:{desktop:{adUnitPath:"/".concat(d,"/search_result_uk_lb_728x90_top"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_LEADERBOARD_DE]:{desktop:{adUnitPath:"/".concat(d,"/search_result_de_lb_728x90_atf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_LEADERBOARD_ES]:{desktop:{adUnitPath:"/".concat(d,"/search_result_es_lb_728x90_atf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_LEADERBOARD_FR]:{desktop:{adUnitPath:"/".concat(d,"/search_result_fr_lb_728x90_atf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_LEADERBOARD_IT]:{desktop:{adUnitPath:"/".concat(d,"/search_result_it_lb_728x90_atf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.JOURNEY_SUMMARY]:{desktop:{adUnitPath:"/".concat(d,"/journey_summary_uk_lb_728x90_atf"),height:90,width:728},tablet:{adUnitPath:"/".concat(d,"/journey_summary_uk_mpu_300x250_atf"),height:250,width:300},mobile:{adUnitPath:"/".concat(d,"/journey_summary_uk_web_responsive_300x250"),height:250,width:300}},[c.rY.CONFIRMATION]:{desktop:{adUnitPath:"/".concat(d,"/search_result_uk_lb_728x90_atf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.CONFIRMATION_RAILCARD_ONLY]:{desktop:{adUnitPath:"/".concat(d,"/railcards_conf_uk_lb_728x90_atf"),height:90,width:728},tablet:{},mobile:{}},[c.rY.SEARCH_RESULT_STICKY_SKYSCRAPER]:{desktop:{adUnitPath:"/".concat(d,"/search_result_uk_sticky_sky_160x600"),height:600,width:160},tablet:{},mobile:{}},[c.rY.SEARCH_RESULT_STICKY_SKYSCRAPER_FR]:{desktop:{adUnitPath:"/".concat(d,"/search_result_fr_sticky_sky_160x600"),height:600,width:160},tablet:{},mobile:{}},[c.rY.SEARCH_RESULT_STICKY_SKYSCRAPER_IT]:{desktop:{adUnitPath:"/".concat(d,"/search_result_it_sticky_sky_160x600"),height:600,width:160},tablet:{},mobile:{}},[c.rY.SEARCH_RESULT_STICKY_SKYSCRAPER_ES]:{desktop:{adUnitPath:"/".concat(d,"/search_result_es_sticky_sky_160x600"),height:600,width:160},tablet:{},mobile:{}},[c.rY.SEARCH_RESULT_STICKY_SKYSCRAPER_DE]:{desktop:{adUnitPath:"/".concat(d,"/search_result_de_sticky_sky_160x600"),height:600,width:160},tablet:{},mobile:{}}},p=e=>{var{className:r,adProps:t,targeting:c,disableAutoRefresh:d,isModalAd:u,onSlotRenderEnded:p}=e,[m,g]=i.useState("".concat(r," ").concat((0,n.css)(l.Z.adBlocker)));return i.createElement(s.ZP,null,(e=>i.createElement(o.Fw,(0,a.Z)({className:m,targeting:c},t[e],{onSlotRenderEnded:p,onImpression:()=>g(r),disableAutoRefresh:d,testId:u?"modal-advertisement":void 0}))))},m=e=>{var{targeting:r,adsKey:t,customStyles:a,disableAutoRefresh:n,isModalAd:o}=e,s=void 0!==t&&u[t]||void 0;return s&&i.createElement(p,{targeting:r,className:(0,c.D1)(t,a),adProps:s,disableAutoRefresh:n,isModalAd:o})||null};const g=e=>{var{isVisible:r,adsKey:t,targeting:a,customStyles:n,disableAutoRefresh:o,isModalAd:s}=e;return r&&i.createElement(m,{customStyles:n,adsKey:t,targeting:a,disableAutoRefresh:o,isModalAd:s})||null}},44149:(e,r,t)=>{"use strict";t.d(r,{rY:()=>u,D1:()=>h,ao:()=>p,k$:()=>g,Ps:()=>m,rL:()=>v,lS:()=>f,f0:()=>y});var a=t(50093),n=t(62715),i=t(32034),o=t(58780),s=t(7383),l=t(78052),c=(0,i.P1)(l.O,(e=>e.ads&&e.ads.isGoogleAdsEnabledForLocale)),d=t(97866),u=function(e){return e[e.HOMEPAGE_TILE=0]="HOMEPAGE_TILE",e[e.JOURNEY_RESULTS_SINGLE=1]="JOURNEY_RESULTS_SINGLE",e[e.JOURNEY_RESULTS_SINGLE_DE=2]="JOURNEY_RESULTS_SINGLE_DE",e[e.JOURNEY_RESULTS_SINGLE_ES=3]="JOURNEY_RESULTS_SINGLE_ES",e[e.JOURNEY_RESULTS_SINGLE_FR=4]="JOURNEY_RESULTS_SINGLE_FR",e[e.JOURNEY_RESULTS_SINGLE_IT=5]="JOURNEY_RESULTS_SINGLE_IT",e[e.JOURNEY_RESULTS_RETURN=6]="JOURNEY_RESULTS_RETURN",e[e.JOURNEY_RESULTS_RETURN_DE=7]="JOURNEY_RESULTS_RETURN_DE",e[e.JOURNEY_RESULTS_RETURN_ES=8]="JOURNEY_RESULTS_RETURN_ES",e[e.JOURNEY_RESULTS_RETURN_FR=9]="JOURNEY_RESULTS_RETURN_FR",e[e.JOURNEY_RESULTS_RETURN_IT=10]="JOURNEY_RESULTS_RETURN_IT",e[e.JOURNEY_LEADERBOARD=11]="JOURNEY_LEADERBOARD",e[e.JOURNEY_LEADERBOARD_DE=12]="JOURNEY_LEADERBOARD_DE",e[e.JOURNEY_LEADERBOARD_ES=13]="JOURNEY_LEADERBOARD_ES",e[e.JOURNEY_LEADERBOARD_FR=14]="JOURNEY_LEADERBOARD_FR",e[e.JOURNEY_LEADERBOARD_IT=15]="JOURNEY_LEADERBOARD_IT",e[e.JOURNEY_SUMMARY=16]="JOURNEY_SUMMARY",e[e.CONFIRMATION=17]="CONFIRMATION",e[e.CONFIRMATION_RAILCARD_ONLY=18]="CONFIRMATION_RAILCARD_ONLY",e[e.SEARCH_RESULT_STICKY_SKYSCRAPER=19]="SEARCH_RESULT_STICKY_SKYSCRAPER",e[e.SEARCH_RESULT_STICKY_SKYSCRAPER_FR=20]="SEARCH_RESULT_STICKY_SKYSCRAPER_FR",e[e.SEARCH_RESULT_STICKY_SKYSCRAPER_IT=21]="SEARCH_RESULT_STICKY_SKYSCRAPER_IT",e[e.SEARCH_RESULT_STICKY_SKYSCRAPER_ES=22]="SEARCH_RESULT_STICKY_SKYSCRAPER_ES",e[e.SEARCH_RESULT_STICKY_SKYSCRAPER_DE=23]="SEARCH_RESULT_STICKY_SKYSCRAPER_DE",e}({}),p=e=>{switch(e){case"DE":return u.JOURNEY_LEADERBOARD_DE;case"ES":return u.JOURNEY_LEADERBOARD_ES;case"FR":return u.JOURNEY_LEADERBOARD_FR;case"IT":return u.JOURNEY_LEADERBOARD_IT;default:return u.JOURNEY_LEADERBOARD}},m=e=>{switch(e){case"DE":return u.JOURNEY_RESULTS_SINGLE_DE;case"ES":return u.JOURNEY_RESULTS_SINGLE_ES;case"FR":return u.JOURNEY_RESULTS_SINGLE_FR;case"IT":return u.JOURNEY_RESULTS_SINGLE_IT;default:return u.JOURNEY_RESULTS_SINGLE}},g=e=>{switch(e){case"DE":return u.JOURNEY_RESULTS_RETURN_DE;case"ES":return u.JOURNEY_RESULTS_RETURN_ES;case"FR":return u.JOURNEY_RESULTS_RETURN_FR;case"IT":return u.JOURNEY_RESULTS_RETURN_IT;default:return u.JOURNEY_RESULTS_RETURN}},v=e=>{switch(e){case"ES":return u.SEARCH_RESULT_STICKY_SKYSCRAPER_ES;case"FR":return u.SEARCH_RESULT_STICKY_SKYSCRAPER_FR;case"IT":return u.SEARCH_RESULT_STICKY_SKYSCRAPER_IT;case"DE":return u.SEARCH_RESULT_STICKY_SKYSCRAPER_DE;default:return u.SEARCH_RESULT_STICKY_SKYSCRAPER}},h=(e,r)=>{switch(e){case u.JOURNEY_RESULTS_SINGLE:case u.JOURNEY_RESULTS_SINGLE_DE:case u.JOURNEY_RESULTS_SINGLE_ES:case u.JOURNEY_RESULTS_SINGLE_FR:case u.JOURNEY_RESULTS_SINGLE_IT:case u.JOURNEY_RESULTS_RETURN:case u.JOURNEY_RESULTS_RETURN_DE:case u.JOURNEY_RESULTS_RETURN_ES:case u.JOURNEY_RESULTS_RETURN_FR:case u.JOURNEY_RESULTS_RETURN_IT:return(0,a.css)(n.Z.journeyResults,r);case u.JOURNEY_LEADERBOARD:case u.JOURNEY_LEADERBOARD_DE:case u.JOURNEY_LEADERBOARD_ES:case u.JOURNEY_LEADERBOARD_FR:case u.JOURNEY_LEADERBOARD_IT:return(0,a.css)(n.Z.leaderboard,r);case u.JOURNEY_SUMMARY:return(0,a.css)(n.Z.rootJourneySummary,r);case u.SEARCH_RESULT_STICKY_SKYSCRAPER_ES:case u.SEARCH_RESULT_STICKY_SKYSCRAPER_FR:case u.SEARCH_RESULT_STICKY_SKYSCRAPER_IT:case u.SEARCH_RESULT_STICKY_SKYSCRAPER_DE:case u.SEARCH_RESULT_STICKY_SKYSCRAPER:return(0,a.css)(n.Z.searchResultsStickySkyscraper,r);default:return(0,a.css)(n.Z.root,r)}},y=(0,i.P1)(o.IM,(e=>s.q.UK_COUNTRY_CODES.includes(e))),f=(0,i.P1)(c,d.Nn,((e,r)=>e&&r))},16900:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(64321),n=t(85924),i=t(15679),o=t(29901),s=t(73009),l={chestletrack:{href:"https://www.nationalrail.com/",title:"Nationalrail.com home page",src:"https://static.trainlinecontent.com/content/WEB/affiliates/CHESTLETRACK/chesterletrack.png",alt:"Nationalrail.com"},dferries:{href:"http://www.directferries.co.uk/train_and_ferry.htm",title:"Direct Ferries",src:"https://static.trainlinecontent.com/content/WEB/affiliates/DFERRIES/direct-ferries.png"},directrail:{href:"http://www.directrail.com/",title:"Directrail.com",src:"https://static.trainlinecontent.com/content/WEB/affiliates/DIRECTRAIL/directrail.png"},iferries:{href:"https://www.irishferries.com/",title:"Irish Ferries",src:"https://static.trainlinecontent.com/content/WEB/affiliates/IFERRIES/IF_corporate_logo_colour.png"},lutonair:{href:"https://www.london-luton.co.uk/",title:"Visit London Luton Airport home page",src:"https://static.trainlinecontent.com/content/WEB/affiliates/LUTONAIR/luton.png"},railsaver:{href:"http://www.railsaver.co.uk/",title:"Rail Saver",src:"https://static.trainlinecontent.com/content/WEB/affiliates/RAILSAVER/railsaver.png"},stena:{href:"https://www.stenaline.co.uk/",title:"Stena Line",src:"https://www.stenaline.co.uk/-/media/Components/Identity/Logo/logo.ashx?h=70&la=en-GB&w=185?mw=370"},mtt:{href:"http://www.mytrainticket.co.uk/",title:"www.mytrainticket.co.uk",src:"https://static.trainlinecontent.com/content/WEB/affiliates/MTT/my-train-ticket-logo.png",alt:"Mytrainticket.co.uk"},se_ps:{href:"https://www.secretescapes.de/",title:"www.secretescapes.de",src:"https://static.trainlinecontent.com/content/WEB/affiliates/SECRETESCAPES/secretescapes.png",alt:"Secretescapes.de"}},c=()=>{var e=(0,i.Q)(document.cookie);return e&&e[s.e_]&&e[s.e_].toLowerCase()||void 0};function d(e){var r;return r=class extends o.Component{constructor(e){super(e),this.state={affiliate:void 0}}componentDidMount(){var{location:e}=this.props,r=c();this.setState({affiliate:e&&"/"!==e.pathname&&r&&l[r]||void 0})}render(){var{affiliate:r}=this.state;return o.createElement(e,(0,a.Z)({},this.props,{affiliate:r}))}},(0,n.Z)(r,"displayName","AffiliateHOC(\n      ".concat(e.displayName||e.name||"Component","\n    )")),r}},95437:(e,r,t)=>{"use strict";t.d(r,{Z:()=>Ft});var a=t(47525),n=t(29901),i=t(12521),o=t(52116),s=t(41876),l=t(23198),c=t(32122),d=t(88543),u=t(43755),p=t(30272),m=t(44456),g=t(12273),v=e=>({id:e.id,code:e.code,count:e.count,timestamp:e.timestamp}),h=e=>Object.keys(e).reduce(((r,t)=>(0,l.Z)((0,l.Z)({},r),{},{[t]:Object.values(e[t]).reduce(((e,r)=>(0,l.Z)((0,l.Z)({},e),{},{[r.id]:v(r)})),{})})),{}),y=e=>(0,l.Z)((0,l.Z)({},e),{},{id:e.id||e.code,locationType:e.locationType,aliases:e.aliases?[...e.aliases]:void 0,latitude:e.latitude||void 0,longitude:e.longitude||void 0,shortName:e.shortName||void 0,address:e.address?[...e.address]:void 0,nonDiacriticName:(0,c.Od)(e.name),countryCode:e.countryCode||void 0,connections:e.connections?[...e.connections]:void 0,parents:e.parents?e.parents.map(y):void 0});const f=e=>{var{queryRef:r}=e,{v1_bulkLocations:t}=(0,u.usePreloadedQuery)(m.Z,r),a=(0,d.useDispatch)();return n.useEffect((()=>{var{recentLocations:e}=(0,g.B6)(),r=t.map(y);a((0,p.Vj)(r)),e&&a((0,p.Vc)(h(e)))}),[]),null};var E=t(92937),[b,S]=(0,s.k)("PrefetchLocations");const T=e=>{var{children:r}=e,t=(0,E.Z)();return n.createElement(S.Provider,{value:{queryRef:t}},n.createElement(o.SV,{fallback:null},n.createElement(n.Suspense,{fallback:null},t&&n.createElement(f,{queryRef:t}))),r)};var C=t(41344),A=t(96172),I=t(2031),_=t(32034),P=t(68760),R=t(14916),k=t(4794),N=t(93643),O=t(97866),L=t(51059),x=t(37544),D=t(50093),w=t(37719),Z=t(60289),F=t(60654),B=t(75853),M=t(28593),U=t(53638),j=t(4695),H=t(49811),W=t(98184),G=t(71695),V=t(83504),Y=t(42769),K=t(94575);const z=()=>{var e=(0,K.YB)(),r=(0,d.useSelector)(V.kS),t={[Y.L1.results()]:"seo.meta.searchResults.title",[Y.L1.ticketOptions()]:"seo.meta.ticketOptions.title",[Y.L1.travelOptions()]:"seo.meta.travelOptions.title",[Y.L1.deliveryOptions()]:"seo.meta.deliveryOptions.title",[Y.L1.options()]:"seo.meta.options.title",[Y.L1.checkout()]:"seo.meta.checkout.title",[Y.L1.confirmation()]:"seo.meta.confirmation.title",[Y.L1.login()]:"seo.meta.login.title"}[r]||"seo.meta.title";return e.formatMessage({id:t})};const J=(0,W.injectIntl)((e=>{var{intl:r,favIcon:t}=e,a=z();return n.createElement(H.q,{htmlAttributes:{lang:r.locale?G.Uj[r.locale]:G.Uj[j.ZW]}},n.createElement("title",null,a),n.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),n.createElement("meta",{name:"format-detection",content:"telephone=no"}),n.createElement("meta",{name:"description",content:r.formatMessage({id:"seo.meta.home.description"})}),n.createElement("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),n.createElement("meta",{charSet:"utf-8"}),n.createElement("link",{rel:"shortcut icon",href:t}))}));var q=t(97183),Q=t(21192),X=t(85924),$=t(84025),ee=t.n($),re=t(89426),te=t(83307),ae=t(98318),ne=t(8888);const ie=D.StyleSheet.create({root:{backgroundColor:"rgba(0, 0, 0, .75)",borderBottom:"4px solid ".concat(ae.dp_brand_primary_mid),boxShadow:"0 0 20px 0 rgba(0,0,0,.7)",color:ae.dp_app_text_inverted,padding:"".concat(ne.Z.sizes.spacers.m," 0"),position:"fixed",top:0,right:0,left:0,zIndex:200},columns:{display:"flex",justifyContent:"space-between",alignItems:"baseline"}});class oe extends n.Component{constructor(e){super(e),(0,X.Z)(this,"interval",void 0);var{isResultsPage:r}=e;this.state={leftTime:this.getLeftTime()},this.updateLeftTime=this.updateLeftTime.bind(this),this.getRemainingMilliseconds=this.getRemainingMilliseconds.bind(this),this.getLeftTime=this.getLeftTime.bind(this),r&&(this.interval=setInterval(this.updateLeftTime,1e3))}componentWillUnmount(){clearInterval(this.interval)}shouldComponentUpdate(e,r){return r.leftTime!==this.state.leftTime||e.hasDiscountCardProductsOnly!==this.props.hasDiscountCardProductsOnly}render(){var{extendSession:e,isResultsPage:r,hasDiscountCardProductsOnly:t}=this.props,{leftTime:a}=this.state,i=this.getRemainingMilliseconds();return n.createElement("div",{className:(0,D.css)(ie.root)},n.createElement("div",{"aria-live":"assertive",className:(0,D.css)(te.Z.columns,ie.columns)},r?n.createElement(W.FormattedMessage,{id:i<6e4?"notification.sessionWarning.text.resultsPage.seconds":"notification.sessionWarning.text.resultsPage.minutes",values:{leftTime:a}}):n.createElement(W.FormattedMessage,{id:t?"notification.sessionWarning.text.railcardsOnly":"notification.sessionWarning.text"}),n.createElement(re.C9,{onClick:e},n.createElement(W.FormattedMessage,{id:r?"notification.sessionWarning.button.resultsPage":"notification.sessionWarning.button"}))))}getRemainingMilliseconds(){var{expirationTime:e}=this.props;return e-Date.now()}getLeftTime(){var e=this.getRemainingMilliseconds();return e<6e4?ee()(e).format("s"):ee()(e).format("m")}updateLeftTime(){var{checkSession:e}=this.props;this.getRemainingMilliseconds()<=0?e():this.setState({leftTime:this.getLeftTime()})}}const se=oe;const le=(0,d.connect)((e=>({expirationTime:(0,N.y1)(e),isResultsPage:(0,Q.mX)(e),hasDiscountCardProductsOnly:(0,q.NF)(e)})),(e=>({extendSession:()=>e((0,N.xJ)({hasUserExtendedSession:!0})),checkSession:()=>e((0,N.bV)())})))(se);var ce=t(72750),de=t(89034),ue=t(71001),pe=t(70755),me=t(64169),ge="undefined"!=typeof window,ve=t(26625),he=t(19408),ye=[],fe=()=>ye.filter((e=>{var{id:r}=e;return(0,he.ur)(r)})),Ee="has_tests_assigned_event_been_fired",be="undefined"==typeof window?()=>!0:()=>"true"===window.sessionStorage.getItem(Ee),Se="undefined"==typeof window?()=>{}:()=>window.sessionStorage.setItem(Ee,"true");var Te=t(89082),Ce=t(91939),Ae=t(21168),Ie=t(88589),_e=t(51807),Pe=t(56398),Re=t(50969),ke=(0,_.P1)(N.vZ,N.Eo,Q.mX,Pe.Y,((e,r,t,a)=>{if(e||r)return t?{type:Ae.e.JOURNEY_SEARCH_EXPIRED,params:{serializedResultsPageQuery:JSON.stringify(a)}}:{type:Ae.e.SESSION_TIMEOUT}})),Ne=["ItinerarySearch.FareSearch.Atoc.JourneysNotFound.Refine","ItinerarySearch.FareSearch.Pacon.JourneysNotFound.Refine"],Oe=(0,_.P1)(Ie.JQ,(e=>(r,t)=>[...e.filter((e=>{if((0,Re.i)(e)){var t=e.params,a=t.errorCodes&&Ne.some((e=>t.errorCodes.includes(e))),n=t&&t.errorCodes&&t.errorCodes.length,i=t&&t.warnings&&t.warnings.length;return!n||i||a||n&&r===F.LoadStatus.ERROR}return!0})),...t?[t]:[]])),Le=function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return e;var r={[Ae.e.JOURNEY_SUMMARY]:Ae.e.JOURNEY_SUMMARY_OVERLAY,[Ae.e.TRIP_SUMMARY_MODAL]:Ae.e.JOURNEY_SUMMARY_OVERLAY};return e.map((e=>(0,l.Z)((0,l.Z)({},e),{},{type:r[e.type]||e.type})))};const xe=(0,d.connect)(((e,r)=>{var t=(0,V.FD)(e),a=(0,_e.Dk)(e,t),n=ke(e,r),i=Oe(e)(a,n);return{modals:Le(i,r.isMobile)}}))(Re.Z);var De=t(57817),we=t(49042),Ze=t(82171),Fe=t(56429),Be=t(31795),Me=t(45345),Ue=t(11252),je=t(50005),He=D.StyleSheet.create({heading:{height:"auto",padding:0,marginTop:"calc(".concat(ne.Z.sizes.spacers.l," + 4px)"),marginBottom:"calc(".concat(ne.Z.sizes.spacers.s," + 2px)"),fontSize:"".concat(ne.Z.typography.title2)},copy:{marginBottom:"calc(".concat(ne.Z.sizes.spacers.s," + 2px)")},link:{borderBottomColor:"rgba(110,110,110,.5)"}}),We=[{detail:"Unknown Error Message",code:"Unknown Error ID"}];const Ge=(0,I.compose)((0,d.connect)((e=>({errorInformation:Je(e),feedbackVerbiageEnabled:(0,O.ip)(e)})),{}),W.injectIntl)((e=>{var r,{intl:t,feedbackVerbiageEnabled:a}=e,i=(r=e.errorInformation)&&Array.isArray(r)?r.length?r:We:r?[r]:We,{portal:o,redirectToMarketingSite:s,homePageRedirectUrl:l}=(0,B.x)(),c=o===Fe.h_.TRAINLINE,d=(0,ve.C6)({format:"error.page.somethingWentWrong",id:i.map((e=>e.code)).join(", "),message:i.map((e=>e.detail)).join(", "),type:"fatal"}),u=(0,ve.wY)({coreProperties:{siteSection:"error",siteSubSection:"client side oops",pageName:"client side oops"}}),p=[{hooks:[ve.OS.ON_RENDER],event:d},{hooks:[ve.OS.ON_RENDER],event:u}];return n.createElement(ve.fQ,{events:p},n.createElement("div",{className:(0,D.css)(te.Z.root)},n.createElement(Be.ZP,null,n.createElement(je.Z,null)),n.createElement("div",{className:(0,D.css)(te.Z.columns),"data-test":"generic-error"},n.createElement("div",null,n.createElement(Ze.Z,{styleSheet:He.heading},n.createElement(W.FormattedMessage,{id:"page.genericError.heading"})),n.createElement("p",{className:(0,D.css)(He.copy)},n.createElement(W.FormattedMessage,{id:"page.genericError.encounteredAnError"})),n.createElement("p",{className:(0,D.css)(He.copy)},n.createElement(W.FormattedMessage,{id:"page.genericError.userActions",values:{link:n.createElement(we.Z,{href:s?l:"/",styleSheet:He.link},n.createElement(W.FormattedMessage,{id:"page.genericError.startAgain"}))}})),a&&n.createElement("div",null,n.createElement("p",{className:(0,D.css)(He.copy)},n.createElement(W.FormattedMessage,{id:"page.genericError.fixProblem"})),n.createElement("p",{className:(0,D.css)(He.copy)},n.createElement(we.Z,{href:t.formatMessage({id:"links.help"}),target:"_blank",withBorderHover:!0,styleSheet:He.link},n.createElement(W.FormattedMessage,{id:"page.genericError.notifyUs"})))),n.createElement("div",{dangerouslySetInnerHTML:{__html:"\x3c!-- error:stack --\x3e"}}))),c?n.createElement(Ue.Z,null):n.createElement(Me.Z,{withType:De.Qn.WIDE})))}));var Ve=D.StyleSheet.create({root:{visibility:"hidden",[Z.ZP.xsmall.max]:{visibility:"visible"},[Z.ZP.xsmall.min]:{visibility:"visible"}}});const Ye=e=>{var{location:r,history:{action:t},ravelinSetupStatus:a}=e,i=(0,Te.Z)(r),o=(0,d.useDispatch)(),{portal:s}=(0,B.x)(),c=z(),[u,p]=(0,n.useState)((0,Y.fo)(r.pathname)?"block":"none"),m=s===F.Portal.TRAINLINE;!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],{sendTracking:r}=(0,ve.rS)(),t=(0,d.useSelector)(fe);(0,n.useEffect)((()=>{e&&!be()&&(Se(),r((0,ve.u3)({coreProperties:{},eventProperties:{action:"tests assigned",category:"testing",label:"wasabi"},tests:t.map((e=>(0,l.Z)((0,l.Z)({},e),{},{id:"".concat(e.id)})))})))}),[e])}(m);var g=[];return(0,n.useEffect)((()=>(ge&&(window.location.search.match("analytics=true")?me.nP.setItem("debugAnalytics",!0):window.location.search.match("analytics=false")&&me.nP.removeItem("debugAnalytics")),"undefined"==typeof window||a||o((0,ue.PC)()),o((0,de.lE)()),"none"===u&&g.push(setTimeout((()=>{p("block")}),0)),()=>{g.forEach((e=>{clearTimeout(e)}))})),[]),(0,n.useEffect)((()=>{if(i&&i!==r){i.pathname!==r.pathname&&(p("none"),g.push(setTimeout((()=>{p("block")}),0)),o((0,de.lE)())),e.navigation!==M.N.SOFT&&o((0,k.uV)()),"undefined"==typeof window||a||o((0,ue.PC)()),i.pathname===Y.L1.results()&&(u=i.query,m=r.query,v=r,h=t,y=e.isEuropeExperience,f=()=>o((0,x.ET)({id:ce.yZ,state:{isInward:!1}})),"POP"===h&&(v.pathname===Y.L1.results()||v.pathname===Y.L1.ticketOptions())&&(0,pe.uX)(u,m,y)&&f());var n=i.query&&i.query.lang;(0,j.R0)(i.pathname)&&(n=i.pathname.replace("/",""));var s=r.pathname,c=(0,l.Z)((0,l.Z)({},r.query),{},{lang:n});if((i.pathname===Y.L1.checkout()||Y.PA.includes(i.pathname))&&[Y.L1.deliveryOptions(),Y.L1.travelOptions(),Y.L1.bookingInformationOptions(),Y.L1.options(),Y.L1.login()].includes(r.pathname)){var d=(0,l.Z)({pathname:Y.L1.home(),search:""},i.state?"object"==typeof i.state?i.state:{state:i.state}:{});o((0,w.gx)(d))}Boolean(r.query.lang)||!(0,j.c)(n)||(0,j.R0)(r.pathname)||("/"===r.pathname&&(s="".concat(r.pathname).concat(n),c={}),o((0,w.gx)((0,l.Z)({pathname:s,search:U.Z.stringifyQuery(c)},i.state?"object"==typeof i.state?i.state:{state:i.state}:{})))),((e,r)=>{-1===Y.ws.indexOf(e.pathname)||r||(0,w.gx)(Y.L1.login({to:e.pathname+e.search}))})(r,e.isAuthenticatedUser)}var u,m,v,h,y,f}),[r]),n.createElement("div",{className:(0,D.css)(Ve.root),style:{display:u}},m&&n.createElement(Ce.Z,null,n.createElement("div",{id:"readTitle",role:"status"},c)),n.createElement(J,{favIcon:e.favIcon}),e.isInErroredState?n.createElement(Ge,null):e.children,!e.isInErroredState&&n.createElement(xe,{isMobile:"mobile"===e.deviceType,location:r}),e.isJourneySearchSessionWarning&&n.createElement(le,null))};var Ke,ze=(Ke="root",e=>(0,x.jA)(e).components[Ke]),Je=(0,_.P1)(ze,(e=>e&&e.errorInformation)),qe=(0,_.P1)(ze,(e=>e&&e.isInErroredState));const Qe=(0,I.compose)(C.FZ,A.EN,(0,d.connect)((e=>({isJourneySearchSessionWarning:(0,N.rc)(e),isInErroredState:qe(e),favIcon:(0,O.LR)(e),ravelinSetupStatus:(0,R.SJ)(e),navigation:(0,k.RP)(e),isEuropeExperience:(0,L.$b)(e),isAuthenticatedUser:(0,P.JS)(e)}))))(Ye);var Xe=t(64321),$e=t(23149);const er=e=>n.createElement($e.Z,(0,Xe.Z)({},e,{is404:!0}));var rr=t(4460),tr=t(31105),ar=t(38554),nr=t(12720),ir=t(78524),or=t(16900);const sr=(0,rr.$y)(rr.fG),lr=(0,rr.$y)(rr.JA);var cr=t(54466),dr=t(87582),ur=t(53066),pr=t(7185),mr=t(56415),gr=t(99462),vr=t(96586),hr=t(20786),yr=t(34038),fr=t(60054),Er=t(84175),br=t(1747),Sr="DELIVERY_OPTIONS_PAGE_MOUNTED",Tr=(0,ur.Z)(Sr),Cr=t(43437),Ar=t(19356),Ir=t(76376),_r=t(34832),Pr=t(31616),Rr=t(57243),kr=t(85207),Nr=t(2328),Or=t(53666),Lr=["id"],xr="SET_ADDRESS_FROM_ID";(0,ur.Z)(xr);const Dr=(e,r)=>e.ofType(xr).pipe((0,Rr.U)((e=>{var{payload:r}=e;return r})),(0,Rr.U)((e=>{var{id:t}=e,a=(0,Pr.Z)(e,Lr);return(0,l.Z)((0,l.Z)({},a),{},{address:(0,Nr.Eo)(r.getState(),t)})})),(0,mr.zg)((e=>{var{fieldPrefix:r,untouched:t,address:a}=e;return(0,dr.of)((0,Or.qj)({formName:kr.gY,fieldPrefix:r,untouched:t,address:a}))})));(0,Cr.mb)([Ir.ZV,yr.ZP,(e,r)=>e.ofType(Sr,br.E).pipe((0,pr.w)((()=>(0,vr.OU)(e,r))),(0,mr.zg)((()=>{var e=r.getState(),t=!(0,hr.g8)(e),a=(0,gr.BS)(e),n=(0,P.JS)(e),i=(0,fr.s9)(e),o=(0,Er.h_)(e,i);return t&&!a?(0,cr.z)((0,dr.of)((0,gr.dw)()),(0,dr.of)((0,yr.EX)())):t?(0,dr.of)((0,yr.EX)()):!n&&o?[]:(0,dr.of)((0,w.VF)(Y.L1.checkout()))}))),Dr,Ar.ZP,_r.XX,_r.r,Ar.WD]);var wr=t(31521),Zr=t(94578),Fr=t(50365),Br=D.StyleSheet.create({container:{width:"100%",[ne.Z.breakpoints.small.max]:{backgroundColor:ae.dp_app_backdrop_base}},title:{fontSize:"2.12rem",color:ae.dp_brand_neutral_duller},titleEu:{paddingLeft:"".concat(ne.Z.sizes.spacersValues.l,"rem"),height:"unset",[ne.Z.breakpoints.small.min]:{paddingLeft:0,height:"".concat(ne.Z.sizes.spacersValues.px80,"rem")}},poweredBy:{marginTop:"10px"}});const Mr=(0,I.compose)(A.EN,or.Z,(0,d.connect)((e=>{var r=(0,wr.SY)(e);return{isEuropeExperience:(0,fr.wy)(e),isLoading:!r,hasPRM:!!r&&(0,wr.HN)(e,[r.id])}}),(e=>({pageMounted:()=>e(Tr()),showModal:()=>e((0,de.Ll)({type:Ae.e.PRM_INFO}))}))))((e=>{var{affiliate:r,isLoading:t,isEuropeExperience:a,hasPRM:i,pageMounted:o,showModal:s}=e;(0,Zr.Z)(),(0,Fr.Z)(),(0,n.useEffect)((()=>{t||setTimeout((()=>{(0,tr.mark)(ir.fi),(0,nr.dx)(ir.Ai)}))}),[t]),(0,n.useEffect)((()=>{i&&setTimeout((()=>{s()}))}),[i]),(0,n.useEffect)((()=>{o()}),[]);var l=a?"passenger-details-page-title":"delivery-options-page-title",c=a?"page.passengerDetails.title":"page.deliveryOptions.title";return n.createElement("div",{className:(0,D.css)(Br.container),"data-test":"delivery-options-container"},!t&&n.createElement(n.Fragment,null,n.createElement(Ze.Z,{testId:l,styleSheet:[a&&Br.title,a&&Br.titleEu]},n.createElement(W.FormattedMessage,{id:c})),n.createElement(n.Suspense,{fallback:null},a?n.createElement(lr,null):n.createElement(sr,null),!a&&r&&n.createElement("div",{className:(0,D.css)(Br.poweredBy)},n.createElement(ar.Z,null)))))}));var Ur=t(36841),jr=t(51325);const Hr=(0,rr.$y)(rr.Cf);var Wr=t(87479),Gr=t(66763),Vr=t(15245),Yr=t(41152),Kr=t(53939),zr=D.StyleSheet.create({container:{width:"100%"}}),Jr=t(86459);const qr=(0,rr.$y)(rr.Lq),Qr=(0,rr.$y)(rr.GW);var Xr=t(94032),$r=t(89309),et=(t(47779),t(73680));const rt=()=>{var e=(0,d.useSelector)(fr.wy),r=(0,d.useSelector)(wr.SY),t=(0,d.useSelector)(wr.qK),a=(0,d.useSelector)(Xr.kX),i=(0,d.useStore)(),{sendTracking:o}=(0,ve.rS)(),s=(0,d.useDispatch)();return(0,Zr.Z)(Kr.k),(0,Fr.Z)(),n.useEffect((()=>{s((0,et.rR)());var e=i.getState();o((0,ve.Jp)("TRAVEL_OPTIONS_PAGE_RENDERED",(0,$r.e)(e)))}),[]),r||null!=t&&t.length?n.createElement(n.Suspense,{fallback:n.createElement(Jr.Z,null)},e?n.createElement(qr,{shouldHideSeatingPreferences:a}):n.createElement(Qr,null)):n.createElement(Jr.Z,null)};const tt=(0,d.connect)((e=>{var r=(0,fr.wy)(e),t=(0,wr.SY)(e),a=Boolean((0,wr.SY)(e)&&(0,wr.qK)(e).length&&(!(0,jr.j0)(e)||t&&(0,Yr._n)(e,t))),n=Boolean((0,Gr.Rs)(e)&&(0,Vr.z)(e));return{isEUFlow:r,isUKLoading:!(r||a&&n)}}),(e=>({pageMounted:()=>e((0,br.t)())})))((e=>{var{isEUFlow:r,isUKLoading:t,pageMounted:a}=e;return(0,Zr.Z)(Kr.k),n.useEffect((()=>{a()}),[]),n.createElement("div",{className:(0,Ur.css)(zr.container)},r?n.createElement(n.Fragment,null,n.createElement(Mr,null),n.createElement(rt,null),n.createElement(Wr.Z,{buttonLabelId:"page.euOptions.usabillaButton",formName:"default_form"})):n.createElement(Hr,{isLoading:t}))}));var at=t(69188),nt=t(50989),it=t(60538),ot=t(51282),st=t(92490);function lt(){var{enableDirectTrainFilter:e,enablePriceFilter:r,enableCarriersFilter:t}=(0,B.x)(),{from:a,to:n}=(0,d.useSelector)(ot.rE)||{},i=(0,d.useSelector)(st.Yu)||{},{countryCode:o=""}=i[null==a?void 0:a.id]||{},{countryCode:s=""}=i[null==n?void 0:n.id]||{},l=Boolean(o)&&"GB"!==o&&Boolean(s)&&"GB"!==s;return{isDirectTrainFilterEnabled:e&&l,isPriceFilterEnabled:r&&l,isCarrierFilterEnabled:t&&l}}var ct=t(68697),dt=t(94018),ut=t(24087),pt=t(77797);const mt=e=>{var{children:r}=e,{query:t}=(0,A.TH)(),a=JSON.parse((null==t?void 0:t.directSearch)||"false"),i=(0,d.useSelector)(dt.vR),o=i===ut.ZP.TRAIN&&a,s=(0,d.useDispatch)(),c=(0,n.useCallback)((e=>s((0,w.gx)({search:U.Z.stringifyQuery(e)}))),[s]),u=(0,n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c((0,l.Z)((0,l.Z)({},t),{},{directSearch:e}))}),[t,c]),p=(0,d.useSelector)(L.iK),{trainAvailabilityLoadStatus:m,coachOverallLoadStatus:g}=(0,ct.n)(t,p),v=o&&i===ut.ZP.TRAIN&&m===F.LoadStatus.ERROR&&g!==F.LoadStatus.PENDING,{isDirectTrainFilterEnabled:h}=lt(),y={isDirectTrainUnavailable:v,isDirectTrainFilterEnabled:h,isDirectTrainFilterChecked:h&&o,toggleDirectTrainFilter:()=>u(!o)};return n.createElement(pt.Z.Provider,{value:y},r)},gt=(0,rr.$y)(rr.bb);var vt=t(20456),ht=t(24328),yt=t(28770),ft=()=>{(0,Zr.Z)();var{isLoading:e,hasCustomFields:r,error:t,isCustomFieldsAvailable:a}=(0,Fr.Z)(),[,i]=(0,n.useState)();e||r&&a||i((()=>{throw new Error(null==t?void 0:t.message)}));var o=e?n.createElement(yt.Z,{dataTest:"booking-information-loading"}):n.createElement(gt,null);return n.createElement("div",{className:(0,D.css)(ht.Z.root)},n.createElement(Ze.Z,{id:"toPageTitle",tabIndex:0,styleSheet:ht.Z.pageTitle,testId:"travel-options-page-title"},n.createElement(W.FormattedMessage,{id:"page.informationOptions.title"})),o)};(0,I.compose)((0,vt.Z)())(ft);var Et=t(11795);const bt=e=>{var{children:r}=e,[t,a]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[s,l]=(0,n.useState)(Number.MAX_SAFE_INTEGER),{isPriceFilterEnabled:c}=lt(),d={isPriceFilterEnabled:c,isPriceFilterChecked:t,isPriceFilterMenuOpen:i,priceFilterValue:s,handlePriceFilterValueChange:e=>{l(e)},toggleMenuOpen:()=>{o((e=>!e))},closeMenu:()=>{o(!1)},togglePriceFilter:()=>{a((e=>!e))},resetPriceFilter:e=>{a(!1),l(e)}};return n.createElement(Et.Z.Provider,{value:d},r)};var St=t(68950);const Tt=e=>{var{children:r}=e,[t,a]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)([]),{isCarrierFilterEnabled:u}=lt();(0,n.useEffect)((()=>{0===c.length&&t&&a(!1)}),[c,t]);var p=e=>{l(e)},m={isCarrierFilterEnabled:u,isCarrierFilterChecked:t,isCarrierFilterMenuOpen:i,allCarriersSelected:s,selectAllCarriers:e=>{d(e)},selectedCarriers:c,handleCarrierFilterValueChange:e=>{d((r=>r.includes(e)?r.filter((r=>r!==e)):[...c,e])),p(!1)},toggleMenuOpen:()=>{o((e=>!e))},closeMenu:()=>{o(!1)},toggleCarrierFilter:()=>{a((e=>!e))},resetCarrierFilter:()=>{a(!1),d([])},setAllCarriers:p};return n.createElement(St.Z.Provider,{value:m},r)};var Ct=(0,rr.$y)(rr.RC),At=(0,rr.$y)(rr.dC),It=(0,rr.$y)(rr.N3),_t=(0,rr.$y)(rr.mH),Pt=(0,rr.$y)(rr.wf),Rt=e=>n.createElement(A.AW,{path:e.path},n.createElement(Tt,null,n.createElement(bt,null,n.createElement(mt,null,n.createElement(rr.sj,e,e.children))))),kt=t(97430),Nt=t(24404);const Ot=e=>{(e=>{e!==G.Qd.BRITAIN&&(0,Nt.runWithConsentChanged)((0,kt.Z)((function*(){try{yield fetch("/api/wasabi-cookies",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({wasabiConfig:window.__WASABI_CONFIG__,groups:window.OptanonActiveGroups})})}catch(r){var e;null!==(e=window)&&void 0!==e&&e.newrelic&&window.newrelic.noticeError(r)}})))})(e)};var Lt=t(29011),xt=t(61750);const Dt=(0,d.connect)((e=>({coreProperties:(0,Lt.zc)(e)})))((e=>{var{children:r,coreProperties:t}=e,{cookieConsentEnabled:a}=(0,B.x)();return n.createElement(ve.gl,{coreProperties:t,track:xt.j,cookieConsentEnabled:a},r)}));var wt=t(81652),Zt=n.memo((e=>{var{routes:r}=e;return n.createElement(Dt,null,n.createElement(Qe,null,r))}));const Ft=e=>{var{store:r}=e,t=(0,wt.B)(),o=(e=>{var r,t,{dispatch:a,getState:i}=e,{SPANISH:o,FRENCH:s,GERMAN:l,ITALIAN:c,DANISH:d,DUTCH:u,NORWEGIAN:p,BRAZILIANPORTUGUESE:m,SWEDISH:g,AMERICANENGLISH:v,SWISSGERMAN:h,SWISSFRENCH:y,SWISSITALIAN:f,PORTUGUESE:E,AUSTRIANGERMAN:b}=G.Vd,S=[o,s,l,c,d,u,p,m,g,v,h,y,f,E,b].map((e=>n.createElement(A.AW,{exact:!0,key:e,path:"/".concat(Y.dC.children[e].segmentName),render:r=>n.createElement(rr.i3,(0,Xe.Z)({},r,{id:"ll-home-".concat(e)}))}))),T=i(),{enableEuRailcards:C}=T.entities.appSettings,I=(0,O.DN)(T),_=(0,O.dX)(T),P=(0,O.c7)(T),R=P===F.Portal.TRAINLINE,k=(0,O.Jz)(T),N=(0,O.oA)(T),L=(0,F.isItaloPortal)(P),x=(0,O.Wc)(T),D=(0,O.Rc)(T),w=(0,O.SO)(T),Z=Boolean(null!==(r=T.auth.customerId)&&void 0!==r?r:""),B=(0,Y.k5)(null==T||null===(t=T.intl)||void 0===t?void 0:t.locale,D),M=(0,O.AW)(T),U=(0,O.LF)(T),j=(0,O.ZI)(T),W=()=>n.createElement(A.AW,{render:e=>(e.staticContext&&(e.staticContext.statusCode=404),n.createElement(er,(0,Xe.Z)({},e,{staticContent:I,redirectToMarketing:k,homePageRedirectUrl:x,useNewLogoPathEnabled:N,oopsPageAnimationEnabled:_,onEnter:(0,it.g)(a),getLocaleCode:"undefined"!=typeof window&&window.newrelic&&at.Ax,sendNewRelicPageAction:"undefined"!=typeof window&&window.newrelic&&nt.Kh})))});return n.createElement(A.rs,null,U&&!Z&&w&&Boolean(B)&&"undefined"!=typeof window&&window&&n.createElement(A.AW,{path:Y.L1.home(),component:()=>(window.location.href=B,null)}),U&&L&&n.createElement(A.AW,{exact:!0,path:Y.L1.home(),component:()=>(window.location.href=x,null)}),U&&!L&&n.createElement(A.AW,{exact:!0,path:Y.L1.home(),render:e=>n.createElement(rr.i3,(0,Xe.Z)({},e,{id:"ll-home"}))}),U&&n.createElement(A.AW,{exact:!0,path:"//"},n.createElement(A.l_,{to:Y.L1.home()})),j&&n.createElement(A.AW,{exact:!0,path:Y.L1.genericSearchError(),render:e=>n.createElement(n.Fragment,null,n.createElement(Be.ZP,null,n.createElement(Tt,null,n.createElement(bt,null,n.createElement(mt,null,n.createElement(rr.sj,e,n.createElement(rr.xe,(0,Xe.Z)({},e,{id:"ll-generic-search-error"}))))))))}),U&&R&&S,C&&j&&n.createElement(A.AW,{exact:!0,path:"/discount-cards",component:Ct}),n.createElement(A.AW,{path:"/".concat(Y.dC.children.book.segmentName),render:e=>n.createElement(A.rs,null,n.createElement(A.AW,{exact:!0,path:"/".concat(Y.dC.children.book.segmentName)},n.createElement(A.l_,{to:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.results.segmentName)})),n.createElement(A.AW,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.results.segmentName),render:()=>n.createElement(n.Fragment,null,n.createElement(Be.ZP,null,n.createElement(Tt,null,n.createElement(bt,null,n.createElement(mt,null,n.createElement(rr.sj,e,n.createElement(H.q,null,n.createElement("link",{rel:"canonical",href:"https://www.thetrainline.com"})),n.createElement(rr.Dd,(0,Xe.Z)({},e,{id:"ll-results"}))))))))}),n.createElement(A.AW,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.ticketOptions.segmentName),render:()=>n.createElement(Be.ZP,null,n.createElement(Tt,null,n.createElement(bt,null,n.createElement(mt,null,n.createElement(rr.sj,e,n.createElement(Pt,null))))))}),n.createElement(Rt,(0,Xe.Z)({},e,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.travelOptions.segmentName)}),n.createElement(rt,null)),n.createElement(Rt,(0,Xe.Z)({},e,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.deliveryOptions.segmentName)}),n.createElement(Mr,null)),M&&n.createElement(Rt,(0,Xe.Z)({},e,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.informationOptions.segmentName)}),n.createElement(ft,null)),n.createElement(Rt,(0,Xe.Z)({},e,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.options.segmentName)}),n.createElement(tt,null)),n.createElement(Rt,(0,Xe.Z)({},e,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.checkout.segmentName)}),n.createElement(At,null)),n.createElement(Rt,(0,Xe.Z)({},e,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.confirmation.segmentName)}),n.createElement(It,null)),n.createElement(Rt,(0,Xe.Z)({},e,{path:"".concat(e.match.path,"/").concat(Y.dC.children.book.children.login.segmentName)}),n.createElement(_t,null)),n.createElement(W,null))}),n.createElement(W,null))})(r);return n.useEffect((()=>{var e=window.__VERSION__;window.newrelic&&(e&&(0,i.setNewRelicAttribute)("buildVersion",e),t[wt.vY]&&(0,i.setNewRelicAttribute)(wt.vY,t[wt.vY]));var n=r.getState().entities.userPublicInfo.country||"";(0,a.a5)(n),Ot(n)}),[]),n.createElement(T,null,n.createElement(Zt,{routes:o}))}},37583:(e,r,t)=>{"use strict";t.d(r,{k:()=>n,r:()=>a});var a=function(e){return e.RESERVATION_REQUIRED="RESERVATION_REQUIRED",e.RESERVATION_NOT_REQUIRED="RESERVATION_NOT_REQUIRED",e.SPACES_FULLY_BOOKED="SPACES_FULLY_BOOKED",e.NOT_AVAILABLE="NOT_AVAILABLE",e.NO_INFORMATION_AVAILABLE="NO_INFORMATION_AVAILABLE",e}({}),n=function(e){return e.RESERVATION_REQUIRED_ON_OUTBOUND="RESERVATION_REQUIRED_ON_OUTBOUND",e.RESERVATION_REQUIRED_ON_INBOUND="RESERVATION_REQUIRED_ON_INBOUND",e.AVAILABLE_ONLY_ON_OUTBOUND_WITH_RESERVATION="AVAILABLE_ONLY_ON_OUTBOUND_WITH_RESERVATION",e.AVAILABLE_ONLY_ON_INBOUND_WITH_RESERVATION="AVAILABLE_ONLY_ON_INBOUND_WITH_RESERVATION",e.AVAILABLE_ONLY_ON_OUTBOUND="AVAILABLE_ONLY_ON_OUTBOUND",e.AVAILABLE_ONLY_ON_INBOUND="AVAILABLE_ONLY_ON_INBOUND",e}({})},64997:(e,r,t)=>{"use strict";t.d(r,{$R:()=>m,A3:()=>g,Ky:()=>h,N8:()=>v,Ye:()=>S,Z1:()=>b,dG:()=>T,hP:()=>u,hv:()=>f,ih:()=>y,lR:()=>E,mi:()=>p,op:()=>c,zJ:()=>d});var a=t(84025),n=t.n(a),i=t(29901),o=t(98184),s=t(4237),l=t(37583),c=e=>"bike"===e.extraType.name.toLowerCase(),d=function(){var e;return null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(c))||void 0===e?void 0:e.selectedQuantity},u=e=>{if(!e)return!1;var r=n().parseZone(e);if(!r.isValid())return!1;if([0,6].includes(r.day()))return!1;var t=60*r.hours()+r.minutes(),a=[390,570,990,1170],i=[...a,t].sort(((e,r)=>e-r)).findIndex((e=>e===t));return[1,3].includes(i)||a.some((e=>e===t))},p=(e,r)=>e===s.M.ALLOWED_WITH_RESERVATION||null===e?null!=r&&r.availableQuantity?l.r.RESERVATION_REQUIRED:l.r.SPACES_FULLY_BOOKED:e===s.M.ALLOWED?l.r.RESERVATION_NOT_REQUIRED:e===s.M.NOT_ALLOWED?l.r.NOT_AVAILABLE:l.r.NO_INFORMATION_AVAILABLE,m=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r.find((e=>c(e))),i=null==n||null===(e=n.availableQuantity)||void 0===e?void 0:e.toString(),o=d(r)||Number(0),l=a?((e,r,t)=>{if(e!==s.M.ALLOWED_WITH_RESERVATION||t)return p(e,r).replace(/_/g," ").toLowerCase()})(t,n,o):((e,r)=>p(e,r).replace(/_/g," ").toLowerCase())(t,n);return{bikeAvailableQuantity:i,bikeReservationSelected:o,bikeReservationStatus:l}},g=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((r=>r.legs&&r.legs.map((e=>e.id)).some((r=>e.map((e=>e.id)).includes(r)))))},v=(e,r)=>e===r?e:e===l.r.RESERVATION_REQUIRED?r===l.r.RESERVATION_NOT_REQUIRED?l.k.RESERVATION_REQUIRED_ON_OUTBOUND:l.k.AVAILABLE_ONLY_ON_OUTBOUND_WITH_RESERVATION:e===l.r.RESERVATION_NOT_REQUIRED?r===l.r.RESERVATION_REQUIRED?l.k.RESERVATION_REQUIRED_ON_INBOUND:l.k.AVAILABLE_ONLY_ON_OUTBOUND:r===l.r.RESERVATION_REQUIRED?l.k.AVAILABLE_ONLY_ON_INBOUND_WITH_RESERVATION:r===l.r.RESERVATION_NOT_REQUIRED?l.k.AVAILABLE_ONLY_ON_INBOUND:l.r.NOT_AVAILABLE,h=e=>void 0!==e&&[null,s.M.ALLOWED_WITH_RESERVATION].includes(e),y=(e,r,t)=>{var a,n;return[h(e.bikeRestrictionStatus)&&(null===(a=e.extra)||void 0===a?void 0:a.availableQuantity)||0,h(null==r?void 0:r.bikeRestrictionStatus)&&(null==r||null===(n=r.extra)||void 0===n?void 0:n.availableQuantity)||0].filter((e=>e>0)).reduce(((e,r)=>{var a=t>r?r:t;return e<(a=a>4?4:a)?e:a}),4)},f=(e,r)=>{var t,a,n=h(e.bikeRestrictionStatus)&&(null===(t=e.extra)||void 0===t?void 0:t.availableQuantity)||0,i=h(null==r?void 0:r.bikeRestrictionStatus)&&(null==r||null===(a=r.extra)||void 0===a?void 0:a.availableQuantity)||0;return 0==i?n:0==n?i:Math.min(i,n)},E=e=>{var r="page.travelOptions.bikeReservationCard.badge";return{[l.r.SPACES_FULLY_BOOKED]:"".concat(r,".noSpaceLeft"),[l.r.RESERVATION_NOT_REQUIRED]:"".concat(r,".reservationNotRequired"),[l.r.RESERVATION_REQUIRED]:"".concat(r,".reservationRequired"),[l.r.NOT_AVAILABLE]:"".concat(r,".notAvailable"),[l.k.RESERVATION_REQUIRED_ON_OUTBOUND]:"".concat(r,".reservationRequiredOnOutbound"),[l.k.RESERVATION_REQUIRED_ON_INBOUND]:"".concat(r,".reservationRequiredOnInbound"),[l.k.AVAILABLE_ONLY_ON_OUTBOUND]:"".concat(r,".availableOnlyOnOutbound"),[l.k.AVAILABLE_ONLY_ON_INBOUND]:"".concat(r,".availableOnlyOnInbound"),[l.k.AVAILABLE_ONLY_ON_OUTBOUND_WITH_RESERVATION]:"".concat(r,".availableOnlyOnOutboundWithReservation"),[l.k.AVAILABLE_ONLY_ON_INBOUND_WITH_RESERVATION]:"".concat(r,".availableOnlyOnInboundWithReservation")}[e]||"".concat(r,".noInformationAvailable")},b=e=>i.createElement(o.FormattedHTMLMessage,{id:"page.travelOptions.bikeReservationCard.reservationRequired.maxQuantity",values:{b:e=>i.createElement("b",null,e),availableQuantity:e}}),S=e=>e===l.k.AVAILABLE_ONLY_ON_OUTBOUND_WITH_RESERVATION||e===l.k.RESERVATION_REQUIRED_ON_OUTBOUND?"outbound":e===l.k.AVAILABLE_ONLY_ON_INBOUND_WITH_RESERVATION||e===l.k.RESERVATION_REQUIRED_ON_INBOUND?"return":void 0,T=(e,r)=>e.find((e=>e.legs.map((e=>e.id)).some((e=>((null==r?void 0:r.legs)||[]).map((e=>e.id)).includes(e)))))},14956:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(23198),n=t(98318),i=t(35779),o=t(50093),s=t(23394);const l=o.StyleSheet.create({readOnlyEmailContainer:{marginBottom:"0",fontSize:"16px",color:n.dp_app_text_base,[s.cy.min.m]:{fontSize:"inherit"}},readOnlyEmail:{color:"black",wordBreak:"break-word",fontWeight:"bold"},emailContainer:{marginBottom:s.W0.s8,[s.cy.min.m]:{marginBottom:s.W0.s3}},emailHeader:{display:"flex",width:"100%",[s.cy.min.m]:{width:"71%"}},emailWrapper:{display:"flex",alignItems:"flex-start",flexDirection:"column",[s.cy.min.m]:{flexDirection:"row"}},passengerEmailTitle:(0,a.Z)((0,a.Z)({flexGrow:1},s.cp.small),{},{color:n.dp_app_text_base,fontWeight:"normal",[s.cy.min.m]:(0,a.Z)((0,a.Z)({},s.cp.body),{},{color:"initial",fontWeight:"bold",marginBottom:i.Ui})}),signInLink:(0,a.Z)((0,a.Z)({},s.cp.small),{},{color:n.dp_app_link_base,cursor:"pointer",textDecoration:"none",":hover":{color:n.dp_app_link_hover,textDecoration:"underline"},":active":{color:n.dp_app_link_pressed,textDecoration:"underline"},":focus":{color:n.dp_app_link_pressed,textDecoration:"underline"},fontFamily:s.cp.title1.fontFamily,background:"none",marginTop:s.W0.s1,paddingLeft:0,paddingTop:0,[s.cy.min.m]:{fontSize:"inherit",paddingTop:i.LS,paddingLeft:"var(--DEPRECATED-14px)",padding:0,marginTop:i.eR}}),passengerHeader:{marginBottom:s.W0.s2},passengerDetailsField:{display:"flex",flexDirection:"column",flex:1,width:"100%",[s.cy.min.m]:{maxWidth:"295px",":not(:first-of-type)":{marginLeft:s.W0.s4}}},removeMargin:{marginBottom:"0"},subheading:{display:"none",marginBottom:i.OT,[s.cy.min.m]:{display:"block"}},fieldsContainer:{flex:1,minWidth:"100%"},fieldGrid:{[s.cy.min.m]:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"0 ".concat(s.W0.s4)}},fieldSpan2:{[s.cy.min.m]:{gridColumn:"span 2"}}})},29804:(e,r,t)=>{"use strict";t.d(r,{Z:()=>T});var a=t(5847),n=t(50093),i=t(29901),o=t(98184),s=t(75853),l=t(14956),c=t(64587),d=t(69668),u=t(64321),p=t(31616),m=t(57397),g=t(93422),v=t(24182),h=["input","meta"],y=e=>{var{input:r,meta:{touched:t,error:a}}=e,n=(0,p.Z)(e,h);return i.createElement(g.Z,(0,u.Z)({type:"email",message:t&&a?i.createElement(o.FormattedMessage,{id:a}):void 0,showLabelErrorStyle:!0},r,n,{styleSheet:v.Zm,messageSpaceReserved:!1,autoComplete:"off",onChange:e=>{"insertFromPaste"!==(null==e?void 0:e.nativeEvent.inputType)&&(null==r||r.onChange(e))}}))};const f=e=>{var{placeholder:r,name:t,testId:a}=e;return i.createElement(m.Z,{component:y,name:t,testId:a,placeholder:r})};var E=e=>{var{onSignInLinkClick:r,className:t}=e;return i.createElement("button",{type:"button",onClick:r,className:t,"data-test":"sign-in-link"},i.createElement(o.FormattedMessage,{id:"deliveryOptions.euTicket.signIn"}))},b=e=>{var{email:r,labelId:t}=e;return i.createElement(a.UsabillaSensitiveInformation,null,i.createElement("p",{className:(0,n.css)(l.Z.readOnlyEmailContainer)},i.createElement(o.FormattedMessage,{id:t||"deliveryOptions.euTicket.readOnlyEmail",values:{email:i.createElement("span",{className:(0,n.css)(l.Z.readOnlyEmail),"data-test":"passenger-details-email"},r)}})))},S=e=>{var{labelId:r,className:t}=e;return i.createElement("h4",{className:t},i.createElement(o.FormattedMessage,{id:r||"deliveryOptions.euTicket.passengerEmail"}))};const T=(0,o.injectIntl)((e=>{var{intl:r,email:t,showSignInLink:a,onSignInLinkClick:u,isEUFlow:p}=e,{enableEuPassengerPageSignin:m}=(0,s.x)();return i.createElement(i.Fragment,null,!t&&i.createElement(S,{labelId:"deliveryOptions.euTicket.passengerEmailLabel",className:(0,n.css)(l.Z.passengerEmailTitle)}),i.createElement("div",{className:(0,n.css)(l.Z.emailContainer)},i.createElement("div",{className:(0,n.css)(l.Z.emailWrapper)},t?i.createElement(b,{email:t,labelId:"deliveryOptions.euTicket.readOnlyEmail"}):i.createElement("div",{className:(0,n.css)(l.Z.fieldsContainer)},p&&i.createElement(d.Z,{size:"small",as:"p",className:(0,n.css)(l.Z.subheading)},i.createElement(o.FormattedMessage,{id:"page.deliveryOptions.eu.emailCheck.checkIsCorrect"})),i.createElement("div",{className:(0,n.css)(l.Z.fieldGrid)},i.createElement("div",{className:(0,n.css)(l.Z.fieldSpan2)},i.createElement(c.Z,{name:"email",testId:"delivery-options-email-input",placeholder:r.formatMessage({id:"page.checkout.confirmationEmails.placeholder"})})),p&&i.createElement("div",{className:(0,n.css)(l.Z.fieldSpan2)},i.createElement(f,{name:"confirmEmail",testId:"delivery-options-email-confirmation-input",placeholder:r.formatMessage({id:"page.deliveryOptions.eu.emailCheck.confirmEmailPlaceholder"})}))))),a&&m&&i.createElement(E,{onSignInLinkClick:u,className:(0,n.css)(l.Z.signInLink)})))}))},7348:(e,r,t)=>{"use strict";t.d(r,{Ps:()=>h,Th:()=>v,ZP:()=>y});var a=t(41344),n=t(33337),i=t(31397),o=t(29901),s=t(88543),l=t(2031),c=t(18406),d=t(595),u=t(14937),p=t(68760),m=t(10287),g=t(29804),v="form/BOOKING_EMAIL_FORM",h=(0,c.Ps)(v);const y=(0,l.compose)((0,s.connect)((e=>({email:(0,p.u0)(e),isAnonUser:(0,p.tC)(e)})),(e=>({onSignInLinkClick:i.uE}))),(0,d.Z)({form:v,forceUnregisterOnUnmount:!0,onSubmit:(e,r,t)=>{if(!t.isAnonUser&&t.email)return Promise.resolve();if(!e.email||!(0,m.u$)(e.email)){if("undefined"!=typeof window)try{window.scrollTo({top:0,left:0,behavior:"smooth"})}catch(e){window.scrollTo(0,0)}return Promise.reject(new u.t({email:"form.paymentForm.validation.confirmationEmails.invalid"}))}return Promise.resolve()}}),a.FZ)((e=>e.deviceType===n.WO.MOBILE?o.createElement(g.Z,{email:e.email,showSignInLink:e.isAnonUser,onSignInLinkClick:e.onSignInLinkClick}):null))},24328:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(50093);const n=a.StyleSheet.create({root:{width:"100%"},pageTitle:{outline:"none"},errorAlert:{marginTop:"24px"}})},50365:(e,r,t)=>{"use strict";t.d(r,{Z:()=>E});var a,n,i,o,s,l,c={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"customerId"}],kind:"Fragment",metadata:null,name:"UseCustomFieldsListQuery",selections:l=[{alias:null,args:[{kind:"Variable",name:"customerId",variableName:"customerId"}],concreteType:null,kind:"LinkedField",name:"v1_customFieldsListWithValueList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_CustomFieldRulesByPeriod",kind:"LinkedField",name:"booker",plural:!1,selections:s=[{alias:null,args:null,concreteType:"v1_CustomFieldsIdentityModel",kind:"LinkedField",name:"current",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayOrder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"helpMessage",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mandatory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxLength",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minLength",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parentListCustomFieldId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholderText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prefilledValue",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"validationRegex",storageKey:null},{alias:null,args:null,concreteType:"v1_CustomFieldsDropdownValueListResponse",kind:"LinkedField",name:"valueList",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"v1_CustomFieldsDropdownValueListValue",kind:"LinkedField",name:"values",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parentListValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"valueListId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_CustomFieldRulesByPeriod",kind:"LinkedField",name:"itinerary",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"v1_CustomFieldRulesByPeriod",kind:"LinkedField",name:"passenger",plural:!1,selections:s,storageKey:null}],type:"v1_CustomFieldsResponse",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_CustomFieldsError",kind:"LinkedField",name:"errors",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"v1_CustomFieldsErrorTarget",kind:"LinkedField",name:"targets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribute",storageKey:null},i,o],storageKey:null}],storageKey:null}],type:"v1_CustomFieldsErrorResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UseCustomFieldsListQuery",selections:l},params:{id:"54a63673c5a8854a10b0d90ec842879c",metadata:{},name:"UseCustomFieldsListQuery",operationKind:"query",text:null}};c.hash="523dd9aeea613a76322d55468b77ea7f";const d=c;t(43755);var u=t(12822),p=t(88543),m=t(97866),g=t(68760),v=t(62830),h=t(62490),y=t(29901),f=d;const E=()=>{var e,r=(0,p.useSelector)(g.Hz),t=String(null==r?void 0:r.customerId),a=(0,p.useDispatch)(),n=(0,p.useSelector)(m.AW),{data:i,error:o,isLoading:s}=(0,u.aM)(f,{customerId:t},{skip:!n}),l=!1,c=!1,d=(0,y.useMemo)((()=>({itinerary:[],booker:[]})),[]);if(n&&!s){var E=(null==i?void 0:i.v1_customFieldsListWithValueList)||{},b=!!o;for(var S in E){var T;E.hasOwnProperty(S)&&(null===(T=E[S])||void 0===T||null===(T=T.current)||void 0===T?void 0:T.length)>0&&(d[S]=E[S].current)}e=d,l=Object.keys(e).map((r=>{var t;return!(null===(t=e[r])||void 0===t||!t.length)})).indexOf(!0)>-1,(b||!b&&l)&&(c=!0)}return(0,y.useEffect)((()=>{n&&(a((0,v.kZ)(c)),a((0,h.oZ)(d)))}),[a,d,c]),{isLoading:s,error:o,mappedCustomFields:d,hasCustomFields:l,isCustomFieldsAvailable:n}}},47996:(e,r,t)=>{"use strict";t.d(r,{J5:()=>T,IC:()=>C});var a,n,i,o,s,l,c,d,u=t(23198),p={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"requestBody"}],kind:"Fragment",metadata:null,name:"UseSaveCustomFieldsMutation",selections:[{alias:null,args:n=[{kind:"Variable",name:"requestBody",variableName:"requestBody"}],concreteType:null,kind:"LinkedField",name:"v2_saveCustomFields",plural:!1,selections:[c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SavedProductBookerCustomFields",kind:"LinkedField",name:"bookerCustomFields",plural:!0,selections:s=[o={alias:null,args:null,concreteType:"SavedProductCustomField",kind:"LinkedField",name:"customFields",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null},l={alias:null,args:null,concreteType:"v2_ProductError",kind:"LinkedField",name:"errors",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"v2_ProductErrorTarget",kind:"LinkedField",name:"targets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribute",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SavedProductItineraryCustomFields",kind:"LinkedField",name:"itineraryCustomFields",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"SavedProductPassengerCustomFields",kind:"LinkedField",name:"passengerCustomFields",plural:!0,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"passengerId",storageKey:null}],storageKey:null}],type:"SavedCustomFieldsResponse",abstractKey:null},d={kind:"InlineFragment",selections:[l],type:"SavedCustomFieldsErrorResponse",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UseSaveCustomFieldsMutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v2_saveCustomFields",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,d],storageKey:null}]},params:{id:"ae8164439e75933b475ecd82cf03811b",metadata:{},name:"UseSaveCustomFieldsMutation",operationKind:"mutation",text:null}};p.hash="d8ea8e086cb73f9ecacb11f7cef5b558";const m=p;var g=t(43755),v=(t(12822),t(63718)),h=t(58563),y=t(29901),f=t(88543),E=(0,t(32034).P1)((e=>e.ui&&e.ui.customFields),(e=>null==e?void 0:e.hasError)),b=m,S=(e,r)=>Array.from(e).filter((e=>e.mandatory||!e.mandatory&&!!r[e.id])).map((e=>((e,r)=>({label:e.label,code:e.code,value:r[e.id]}))(e,r))),T=(e,r)=>{var t,a,n,i,o,s,l=(t=e,o={customFields:S((a=r).booker,t)},s={customFields:S(a.itinerary,t)},{requestBody:{customFieldsCollection:{bookerCustomFields:(null===(n=o.customFields)||void 0===n?void 0:n.length)>0?[(0,u.Z)({},o)]:[],itineraryCustomFields:(null===(i=s.customFields)||void 0===i?void 0:i.length)>0?[(0,u.Z)({},s)]:[]}}});return new v.y((e=>{(0,g.commitMutation)(h.ZP,{mutation:b,variables:l,onError:r=>e.error(r),onCompleted:r=>{e.next(r),e.complete()}})}))},C=()=>{var[e,r]=(0,y.useState)(!1),t=(0,f.useSelector)(E);return(0,y.useEffect)((()=>{r(t)}),[t]),{hasErrors:e}}},29760:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(29901),n=t(26625),i=t(94575),o=function(e){return e.BANNER="banner clicked",e.BANNER_IMPRESSION="impression",e.BANNER_INFO="info icon clicked",e.FEEDBACK_THUMBS_UP="thumbs up clicked",e.FEEDBACK_THUMBS_DOWN="thumbs down clicked",e}({}),s=function(e){return e.BANNER="banner",e.FEEDBACK="feedback",e}({}),l=function(e){return e.BANNER="co2 emissions more info modal opened",e.FEEDBACK="is co2 emissions comparison useful",e.GENERIC="sustainability - co2 emissions",e}({});var c=t(94961),d=t(55661);const u=e=>{var{isUK:r=!1,variant:t="base",rounded:u=!1,animated:p=!1,co2EmissionComparison:m,origin:g,destination:v}=e,h=(0,i.YB)().locale,y=[!(null==m||!m.plane)&&"plane",!(null==m||!m.carPetrol)&&"carPetrol",!(null==m||!m.plane)&&"plane"].find(Boolean),f=(0,d.Z)(),E=sessionStorage.getItem("CO2RequestBody"),b=(()=>{var e;if(y){var r=null==m||null===(e=m[y])||void 0===e?void 0:e.percentageSavedByUsingBase;if(r)return Math.min(Math.round(Math.floor(r)),99)}})(),{sendTracking:S}=(0,n.rS)(),T=(0,a.useCallback)((()=>{var e={base:o.BANNER,large:o.BANNER_INFO,vertical:o.BANNER}[t];S((0,n.k1)({coreProperties:{},action:l.BANNER,category:s.BANNER,label:"sustainability - ".concat(e)}))}),[S,t]);if((0,a.useEffect)((()=>{b&&S((0,n.k1)({coreProperties:{genericValue1:b.toString()},category:s.BANNER,action:o.BANNER_IMPRESSION,label:l.GENERIC}))}),[S,b]),!b)return null;return("/book/results"===location.pathname?f:JSON.parse(E))?a.createElement(c.Z,{locale:h.toLowerCase(),percentage:b||("plane"===y?87:67),comparisonVehicle:"plane"===y?"plane":"car",variant:t,animated:p,rounded:u,isUK:r,onCTAClick:T,origin:g,destination:v,wasTimeSaved:!1,wasCheaper:!1,shouldShowPercentage:!0,requestBody:"/book/results"===location.pathname?f:JSON.parse(E)}):null}},28002:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(29901),n=t(88543),i=t(32601),o=t(29760),s=t(49987);const l=e=>{var{journey:r,itineraryId:t,direction:l,origin:c,destination:d}=e,{co2EmissionComparison:u,co2EmissionInGrams:p,distanceInKmOutward:m,distanceInKmInward:g}=(0,n.useSelector)((e=>(0,i.VQ)(e,{journey:r,itineraryId:t}))),v=(0,n.useSelector)(s.HG),h="inward"===l?g:m;return(0,a.useCallback)((()=>a.createElement(o.Z,{isUK:v,co2EmissionComparison:u,co2EmissionInGrams:p,origin:c,destination:d})),[u,p,h,v])}},32601:(e,r,t)=>{"use strict";t.d(r,{Gz:()=>d,Ss:()=>u,VQ:()=>p,rl:()=>c});var a=t(23198),n=t(32034),i=t(24879),o=t(32143),s=t(31067),l=t(23312),c=(0,n.P1)(i.n,(e=>{var r=Object.values(e).every((e=>e&&(0,l.vT)((null==e?void 0:e.co2EmissionComparison)||{})===l.WA.PLANE)),t=Object.values(e),a={};return t.filter((e=>e.co2EmissionComparison&&e.co2EmissionInGrams)).forEach((e=>{var t=(a.co2EmissionInGrams||0)+(e.co2EmissionInGrams||0);a.co2EmissionInGrams=t,null!=a&&a.co2EmissionComparison||(a.co2EmissionComparison={}),a.co2EmissionComparison[s.$.CAR_PETROL]=(0,l.aW)({transportMode:s.$.CAR_PETROL,totalTrainCo2EmissionsInGrams:t,acc:a,curr:e}),r&&(a.co2EmissionComparison[s.$.PLANE]=(0,l.aW)({transportMode:s.$.PLANE,totalTrainCo2EmissionsInGrams:t,acc:a,curr:e}))})),a})),d=(0,n.P1)(o.Q4,(e=>null!=e&&e.co2EmissionInGrams&&null!=e&&e.co2EmissionComparison?{co2EmissionInGrams:null==e?void 0:e.co2EmissionInGrams,co2EmissionComparison:null==e?void 0:e.co2EmissionComparison,outwardDistanceInKm:e.distanceInKm}:{co2EmissionInGrams:void 0,co2EmissionComparison:void 0,outwardDistanceInKm:null==e?void 0:e.distanceInKm})),u=(0,n.P1)(d,o.P8,((e,r)=>{if(null==e||!e.co2EmissionInGrams||null==e||!e.co2EmissionComparison)return e;if(null!=r&&r.co2EmissionInGrams&&null!=r&&r.co2EmissionComparison){var t=(null==e?void 0:e.co2EmissionInGrams)+r.co2EmissionInGrams,n=Object.values(s.$).reduce(((a,n)=>{if(e.co2EmissionComparison&&r.co2EmissionComparison&&n in e.co2EmissionComparison&&n in r.co2EmissionComparison){var i,o,s=((null===(i=e.co2EmissionComparison[n])||void 0===i?void 0:i.co2EmissionInGrams)||0)+((null===(o=r.co2EmissionComparison[n])||void 0===o?void 0:o.co2EmissionInGrams)||0),l=100*(1-t/s);s&&l&&(a[n]={co2EmissionInGrams:s,percentageSavedByUsingBase:l})}return a}),{});return(0,a.Z)((0,a.Z)({},e),{},{co2EmissionInGrams:t,co2EmissionComparison:n})}return e})),p=(0,n.P1)([i.n,(e,r)=>r],((e,r)=>{var{journey:t,itineraryId:a}=r,n=Object.values(e).find((e=>(null==e?void 0:e.itineraryCorrelation)===a));if(!n){var{co2EmissionComparison:i,co2EmissionInGrams:o,distanceInKm:s}=t||{};return{co2EmissionComparison:i,co2EmissionInGrams:o,distanceInKmOutward:s,distanceInKmInward:s}}var{co2EmissionComparison:l,co2EmissionInGrams:c,outwardJourneyPlan:d,inwardJourneyPlan:u}=n||{};return{co2EmissionComparison:l,co2EmissionInGrams:c,distanceInKmOutward:d.distanceInKm,distanceInKmInward:null==u?void 0:u.distanceInKm}}))},23312:(e,r,t)=>{"use strict";t.d(r,{WA:()=>n,aW:()=>l,be:()=>s,qK:()=>i,vT:()=>o});t(64169);var a=t(31067),n=function(e){return e.PLANE="plane",e.CAR="car",e}({}),i=e=>{if(e)return e>99?99:Math.round(e)},o=e=>a.$.PLANE in e?n.PLANE:n.CAR,s=(e,r)=>a.$.PLANE in e&&r&&r>500?n.PLANE:n.CAR,l=e=>{var r,t,{transportMode:a,totalTrainCo2EmissionsInGrams:n,acc:i,curr:o}=e,s=((null===(r=i.co2EmissionComparison)||void 0===r||null===(r=r[a])||void 0===r?void 0:r.co2EmissionInGrams)||0)+((null===(t=o.co2EmissionComparison)||void 0===t||null===(t=t[a])||void 0===t?void 0:t.co2EmissionInGrams)||0);return{co2EmissionInGrams:s,percentageSavedByUsingBase:100*(1-n/s)}}},42789:(e,r,t)=>{"use strict";t.d(r,{V:()=>p,Z:()=>m});var a=t(23198),n=t(41344),i=t(67487),o=t(29901),s=t(88543),l=t(26625),c=t(77009),d=t(97866),u=t(26068),p=o.createContext({});const m=(0,l.v8)((0,n.FZ)((e=>{var{children:r,deviceType:t,sendTracking:n}=e,m=(0,s.useSelector)(u.c_),g=(0,s.useSelector)(u.g1),v=(0,s.useSelector)(u.PR),h=(0,s.useSelector)(u.wy),y=(0,s.useSelector)(u.Oo),f=(0,s.useSelector)(d.J8),E=(0,s.useSelector)(u.B0),b=(0,s.useSelector)(u.zb),S=(0,s.useSelector)(u.Lu),T=!m&&g,C=!m&&v,A=!m&&h&&"mobile"===t&&c.FM[c.HG.ANDROID].test(navigator.userAgent)&&(0,c.ud)(navigator),I=!m&&f&&E,_={[i.PaymentMethod.ApplePay]:!!T&&void 0,[i.PaymentMethod.CardAmericanExpress]:!!C&&void 0,[i.PaymentMethod.CardDiners]:!!C&&void 0,[i.PaymentMethod.CardMaestro]:!!C&&void 0,[i.PaymentMethod.CardMastercard]:!!C&&void 0,[i.PaymentMethod.CardUnknown]:!!C&&void 0,[i.PaymentMethod.CardVisa]:!!C&&void 0,[i.PaymentMethod.GooglePay]:!!A&&void 0,[i.PaymentMethod.Ideal]:!!y&&void 0,[i.PaymentMethod.Paypal]:!!I&&void 0,[i.PaymentMethod.Sofort]:!!b&&void 0,[i.PaymentMethod.Satispay]:!!S&&void 0,[i.PaymentMethod.ZeroCharge]:!!m&&void 0},[P,R]=(0,o.useState)(_),k=(0,o.useCallback)((()=>{R((e=>Object.keys(e).reduce(((e,r)=>(-1===r.indexOf("card")&&(e[r]=_[r]),e)),(0,a.Z)({},e))))}),[_]),N=(0,o.useCallback)((()=>{R((e=>Object.keys(e).reduce(((r,t)=>(void 0===e[t]&&-1===t.indexOf("card")&&(r[t]=!1),r)),(0,a.Z)({},e))))}),[]),O=(0,o.useCallback)((e=>{R((r=>Object.keys(r).reduce(((r,t)=>(t===e?r[t]=!0:-1!==t.indexOf("card")&&(r[t]=!1),r)),(0,a.Z)({},r))))}),[]),L=(0,o.useCallback)(((e,r)=>{-1!==(null==e?void 0:e.indexOf("card"))&&r?O(e):R((t=>(0,a.Z)((0,a.Z)({},t),{},{[e]:r})))}),[]);return(0,o.useEffect)((()=>{if(Object.values(P).every((e=>void 0!==e))){var e=Object.keys(P).filter((e=>P[e])).join("|");e&&n((0,l.k1)({coreProperties:{genericValue1:e},category:"payment section",action:"payment methods displayed",label:"payment methods displayed"}))}}),[P,n]),o.createElement(p.Provider,{value:{paymentMethods:P,setPaymentMethodDisplayed:L,setPaymentMethodsWhenChangePaymentMethodLinkIsShown:N,setNonCardPaymentMethodsToInitialState:k}},r)})))},35701:(e,r,t)=>{"use strict";t.d(r,{i:()=>i});var a=t(29901),n=t(42789),i=()=>{var e=a.useContext(n.V);if(!e)throw new Error("usePaymentAnalytics must be used with PaymentAnalyticsContext.Provider wrapper");return e}},82838:(e,r,t)=>{"use strict";t.d(r,{Z:()=>C,K:()=>T});var a=t(67487),n=t(50093),i=t(29901),o=t(98184),s=t(88543),l=t(18406),c=t(28770),d=t(18434),u=t(25116),p=t(3731),m=t(35701),g=t(98318),v="#ffce5b",h="#000",y="#113984",f=g.dp_app_action_disabled;const E=n.StyleSheet.create({buttonPayPal:{backgroundColor:"#ffba1b",color:h,":enabled":{":hover":{backgroundColor:v,color:h}},":active":{backgroundColor:v,color:h},":focus":{backgroundColor:v,color:h},":disabled":{color:y,":active":{color:y},":hover":{backgroundColor:f}}},iconPayPal:{verticalAlign:"middle",marginTop:"calc(-1 * var(--DEPRECATED-1px))",width:"var(--DEPRECATED-72px)",height:"1em"},buttonContent:{display:"flex",alignItems:"center",justifyContent:"center"},tryRefreshing:{color:g.dp_app_text_subdued,textAlign:"center",fontSize:"0.7875rem"},ppButton:{":nth-child(1n) > div":{zIndex:1}}});var b=n.StyleSheet.create({container:{marginRight:"var(--DEPRECATED-10px)"}}),S={layout:"horizontal",color:"gold",shape:"rect",tagline:"false",label:"pay",height:46},T=e=>e.toString().replace("-","_");const C=e=>{var{basketId:r,amount:t,paypalClient:g,hasError:v,unavailableReason:h,currencyCode:y,handlePaymentSuccess:f,handlePaymentError:C,onPaypalButtonClick:A,locale:I,isNewTermsAndConditionsContainerEnabled:_}=e,{setPaymentMethodDisplayed:P}=(0,m.i)(),R=(0,i.useRef)(!1),k=(0,s.useDispatch)(),N=(0,i.useCallback)((()=>{!v&&g&&window.paypal&&!R.current&&(window.paypal.Buttons({locale:T(I||""),style:S,createOrder:()=>(A(),_&&k((0,l.Ps)(u.Th)),g.createPayment({flow:"checkout",amount:t,currency:y,intent:"capture"})),onApprove:e=>g.tokenizePayment(e).then((e=>{f(r,e.nonce,e.details.email,e.details.billingAddress)})),onError:e=>{C({basketId:r||"",error:e})}}).render("#paypal-button"),R.current=!0,P(a.PaymentMethod.Paypal,!0)),v&&P(a.PaymentMethod.Paypal,!1)}),[r,y,C,A,I,A,g,P]);return(0,i.useEffect)((()=>{N()}),[N]),i.createElement("div",{"data-test":"payWithPayPal"},h===p.G.PaymentMethodNotAvailableForCurrency&&i.createElement("div",{className:(0,n.css)(E.buttonContent)},i.createElement(o.FormattedMessage,{id:"page.checkout.paymentLanding.paymentMethodNotAvailableForCurrency",values:{provider:i.createElement(d.Z,{className:(0,n.css)(E.iconPayPal)}),currencyCode:y}})),v&&i.createElement(i.Fragment,null,i.createElement("div",{className:(0,n.css)(E.buttonContent)},i.createElement(o.FormattedMessage,{id:"page.checkout.paymentLanding.temporarilyUnavailable",values:{provider:i.createElement(d.Z,{className:(0,n.css)(E.iconPayPal)})}})),i.createElement("div",{className:(0,n.css)(E.tryRefreshing)},i.createElement(o.FormattedMessage,{id:"page.checkout.paymentLanding.tryRefreshing"}))),!g&&!v&&i.createElement("div",{"data-test":"loadingPayPal",className:(0,n.css)(E.buttonContent)},i.createElement(c.Z,{styleSheet:b,size:30,borderWidth:3})),!h&&!v&&g&&i.createElement("div",{id:"paypal-button",className:(0,n.css)(E.ppButton)}))}},49891:(e,r,t)=>{"use strict";t.d(r,{CU:()=>S,LP:()=>T,O7:()=>y,XW:()=>A,dB:()=>h,oP:()=>b,pT:()=>C,rA:()=>E,vt:()=>v});var a=t(23198),n=t(82768),i=t(32034),o=t(53230),s=t(17038),l=t(20786),c=t(31521),d=t(41152),u=Object.freeze([s.Ne.SECOND_CLASS_POST,s.Ne.SPECIAL_DELIVERY,s.Ne.INTERNATIONAL_POST]),p=(0,i.P1)(l.s,(e=>e),((e,r)=>e.filter((e=>e.productId&&!!(0,c.NR)(r,e.productId))).map((e=>(0,a.Z)((0,a.Z)({},e),{},{deliveryMethod:(0,d.D8)(r,e.productId),expired:(0,d.WK)(r,(0,c.NR)(r,e.productId))}))))),m=(0,i.P1)(l.Q,(e=>e),((e,r)=>e.filter((e=>{var{productId:t}=e;return t&&!!(0,c.NR)(r,t)})).map((e=>(0,a.Z)((0,a.Z)({},e),{},{deliveryMethod:(0,d.D8)(r,e.productId),expired:(0,d.WK)(r,(0,c.NR)(r,e.productId))}))))),g=e=>{var r={},t=(0,n.GYS)(e).map(((e,t)=>{var n="".concat(t+1);if(e.expired)n="0.".concat(n);else if(u.includes(e.deliveryMethod)){var i=r[e.deliveryMethod]=r[e.deliveryMethod]||n;n="".concat(i,".").concat(n)}return(0,a.Z)((0,a.Z)({},e),{},{index:n})}));return(0,n.MRu)((e=>e.index),t).map((0,n.anz)("index"))},v=(0,i.P1)(p,g),h=(0,i.P1)(m,g),y=(0,i.P1)(l.vV,o.C6,((e,r)=>{var t;if(Boolean(e.length)&&null!=r&&null!==(t=r.details)&&void 0!==t&&t.promoDiscount)return r.details})),f=e=>(0,i.P1)(o.C6,(r=>{var{isFetching:t=!1,details:{productType:a=""}={}}=r||{};return!t&&a===e})),E=f("railcard"),b=f("travel"),S=f("seasons"),T=(0,i.P1)(p,m,((e,r)=>e.concat(r))),C=(0,i.P1)((e=>p(e)),((e,r)=>r),((e,r)=>e.filter((e=>e.deliveryMethod===r&&!e.expired)).length)),A=(0,i.P1)(l.s,c.NR,c.qO,(e=>e),((e,r,t,a)=>e[e.length-1]&&r&&e[e.length-1].productId===r.id&&!(0,d.WK)(a,r)&&t))},37761:(e,r,t)=>{"use strict";t.d(r,{o:()=>n});var a=t(71695),n=e=>{var r="https://www.thetrainline.com";switch(e){case a.vi.ENGLISH:return"".concat(r,"/en/trip-planner");case a.vi.AMERICANENGLISH:return"".concat(r,"/en-us/trip-planner");case a.vi.GERMAN:return"".concat(r,"/de/personalisierte-reiseinspirationen");case a.vi.ITALIAN:return"".concat(r,"/it/dove-viaggiare-in-treno");case a.vi.SPANISH:return"".concat(r,"/es/donde-viajar-en-tren");case a.vi.FRENCH:return"".concat(r,"/fr/ou-partir-en-train");default:return"".concat(r,"/en/trip-planner")}}},26560:(e,r,t)=>{"use strict";t.d(r,{I:()=>s,_$:()=>n,fg:()=>o});var a=t(32034),n="euTicketForm",i=(0,a.P1)((e=>e.uiState),(e=>e.components)),o=(0,a.P1)(i,(e=>e[n]&&e[n].selectedPassengerIds||[])),s=(0,a.P1)(i,(e=>e&&e[n]&&e[n].prefilledNameFieldAmends||{}))},47312:(e,r,t)=>{"use strict";t.d(r,{Dg:()=>s,FQ:()=>h,Il:()=>p,JY:()=>f,U:()=>y,do:()=>u,h3:()=>g,iE:()=>v,vx:()=>m});var a=t(37719),n=t(37544),i=t(32034),o=t(57243),s=function(e){return e.SMARTCARD_NUMBER_INVALID="deliveryOptions.smartCAS.smartcardNumber.invalid",e.SMARTCARD_NOT_ACTIVE="deliveryOptions.smartCAS.smartcardNumber.notActive",e.SMARTCARD_VALIDITY_PERIOD_TOO_SHORT="deliveryOptions.smartCAS.smartcardNumber.validityPeriodTooShort",e.SMART_SERVICE_ERROR="deliveryOptions.smartCAS.serviceError",e.SMART_DUPLICATED_SMART_CARD_ALIAS="deliveryOptions.smartCAS.duplicatedSmartCardAlias",e.SMART_DUPLICATED_SMART_CARD="deliveryOptions.smartCAS.duplicatedSmartCard",e.SMARTCARD_NUMBER_EMPTY="page.deliveryOptions.smartcard.numberEmpty",e.SMARTCARD_TICKET_STATION_EMPTY="page.deliveryOptions.smartcard.stationEmpty",e.SMARTCARD_VALIDITY_PERIOD_CODE="travelProtocol.smartcard.validityPeriodTooShort",e}({}),l="smartCard",c="SMART_CARD_UI_VIEW",d=e=>e.uiState.components[l],u=e=>e.uiState.components[c],p=(0,i.P1)(d,(e=>e.error.isError||!1)),m=(0,i.P1)(d,(e=>e.error.isInternalServerError||!1)),g=(0,i.P1)(d,(e=>e.error.error||"")),v=(e,r)=>(0,n.ET)({id:l,state:{error:{isInternalServerError:e,isError:!0,error:r}}}),h=()=>(0,n.ET)({id:l,state:{error:{isInternalServerError:!1,isError:!1,error:""}}}),y=e=>(0,n.ET)({id:c,state:{isSmartDropDownView:e}}),f=e=>e.ofType(a.nk).pipe((0,o.U)((()=>h())))},32443:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var a=t(31616),n=t(98318),i=t(11576),o=t(50093),s=t(29901),l=t(98184),c=t(91939),d=t(7041),u=["delimiter","end","long","start","styleSheet","generateAriaLabel"],p=o.StyleSheet.create({loading:{backgroundColor:"".concat(n.dp_brand_neutral_brighter," !important"),color:"".concat(n.dp_brand_neutral_brighter," !important"),marginBottom:3}}),m=(0,i.E0)("span",(()=>(0,o.css)(p.loading)));const g=e=>{var{delimiter:r,end:t,long:n,start:i,styleSheet:p,generateAriaLabel:g}=e,v=(0,a.Z)(e,u),{duration:h}=v;h||(h=i&&t&&(0,d.K7)(i,t));var y=h?(0,d.Vg)(h):void 0;return s.createElement(m,{className:p&&(0,o.css)(p),"aria-label":(null==g?void 0:g(y))||""},s.createElement(l.FormattedMessage,{id:n?"duration.long":"duration.short",values:{days:y&&y.days,hours:y&&y.hours,minutes:y&&y.minutes}},(e=>s.createElement("span",{"aria-hidden":!n},e.trim()))),!n&&s.createElement(l.FormattedMessage,{id:"duration.long",values:{days:y&&y.days,hours:y&&y.hours,minutes:y&&y.minutes}},(e=>s.createElement(c.Z,null,e.trim()))),r&&s.createElement("span",null,r))}},24182:(e,r,t)=>{"use strict";t.d(r,{Zm:()=>l,f:()=>d,qV:()=>c});var a=t(23198),n=t(98318),i=t(35779),o=t(50093),s={container:{paddingLeft:0,paddingRight:0,[t(23394).cy.min.m]:{paddingTop:0}},input:{display:"block",width:"100%"},inlineMessage:{color:n.dp_app_text_subdued,marginTop:"-6px",paddingBottom:i.OT}},l=o.StyleSheet.create(s),c=o.StyleSheet.create({container:{paddingLeft:0,paddingRight:0,paddingTop:i.LS,paddingBottom:0},input:{display:"block",width:"100%"},inlineMessage:{color:n.dp_app_text_subdued,marginTop:"-6px",paddingBottom:i.OT}}),d=o.StyleSheet.create((0,a.Z)((0,a.Z)({},s),{},{input:(0,a.Z)((0,a.Z)({},s.input),{},{borderColor:n.dp_app_warning_bright})}))},64587:(e,r,t)=>{"use strict";t.d(r,{Z:()=>k});var a=t(64321),n=t(31616),i=t(29901),o=t(98184),s=t(57397),l=t(93422),c=t(97430),d=t(85924),u=t(75345),p=t(8333),m=t(50093),g=t(88543),v=t(18406),h=t(99462),y=t(96594),f=t(7348),E=t(34832),b=t(98318),S=t(23394);const T=m.StyleSheet.create({dateOfBirthFieldContainer:{display:"flex",alignItems:"center"},label:{marginTop:"var(--DEPRECATED-11px)",display:"inline-block"},input:{width:"100%",margin:"0.2rem 0 0.2rem",display:"flex",border:"1px solid rgba(0, 0, 0, 0.3)"},email:{margin:"1rem 0 1rem",padding:"0.7rem 1rem 1.4rem",background:b.dp_app_backdrop_dull},error:{marginTop:"0.175rem",paddingBottom:"-0.175rem"},instructionBold:{fontWeight:"bold",color:"rgba(0, 0, 0, ".concat(b.dp_app_text_subtle,")")},listElementView:{display:"flex",flexDirection:"column",flex:1,minWidth:0},SGPAlert:{margin:"-0.5rem -1rem",lineHeight:"var(--DEPRECATED-21px)"},passengerRailCards:{margin:0,marginBottom:"var(--DEPRECATED-7px)",padding:0,display:"flex"},suggestedEmailHolder:{backgroundColor:b.dp_app_warning_brightest,color:b.dp_app_text_base,fontSize:S.cp.mini.fontSize,padding:"0px",borderRadius:S.E0.m,display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},suggestedEmailHolderArrow:{borderColor:"".concat(b.dp_app_warning_brightest," transparent"),borderStyle:"solid",borderWidth:"0 6px 6px 6px",height:0,width:0,marginLeft:"var(--DEPRECATED-14px)"},suggestedEmail:{fontStyle:"italic"},suggestedEmailMessage:{padding:"0.1rem 0 0 0.5rem"},suggestedEmailButtonHolder:{marginLeft:"16px"},suggestedEmailButton:{backgroundColor:"transparent",borderWidth:"0px",color:b.dp_app_info_mid,cursor:"pointer",fontSize:S.cp.body.fontSize,fontWeight:"bold",padding:"0",margin:"0 4px",":focus":{outline:"dotted thin"}},inputFocus:{border:"1px solid ".concat(b.dp_app_warning_bright)}});var C=t(60054);class A extends i.Component{constructor(){var e;super(...arguments),e=this,(0,d.Z)(this,"ignoreSuggestedEmail",(()=>{var{onCloseMailcheck:e}=this.props;e()})),(0,d.Z)(this,"acceptSuggestedEmail",(()=>{var{updateEmailField:e,onCloseMailcheck:r,suggestedEmail:t,isEUFlow:a}=this.props;t&&e(t,a),r()})),(0,d.Z)(this,"checkEmail",function(){var r=(0,c.Z)((function*(r){var{onSuggestion:t,updateSuggestedEmailShownField:a,recipientRequirements:n,isEUFlow:i}=e.props,o=null==n?void 0:n.email,{valid:s}=(0,p.validateEmail)(r,o),l=s?yield e.callMailCheck(r):void 0;l&&(t&&t(l),a(!0,i))}));return function(e){return r.apply(this,arguments)}}()),(0,d.Z)(this,"callMailCheck",(e=>new Promise((r=>{u.run({email:e,suggested:e=>{var{full:t}=e;return r(t)},empty:()=>r(void 0)})}))))}componentDidMount(){var e=this;return(0,c.Z)((function*(){var{email:r}=e.props;yield e.checkEmail(r)}))()}componentDidUpdate(e){var{email:r}=this.props;r!==e.email&&this.checkEmail(r)}render(){var{suggestedEmail:e}=this.props;return e?i.createElement("div",{role:"alert","aria-live":"assertive"},i.createElement("div",{className:(0,m.css)(T.suggestedEmailHolderArrow)}),i.createElement("div",{className:(0,m.css)(T.suggestedEmailHolder)},i.createElement("span",{className:(0,m.css)(T.suggestedEmailMessage)},i.createElement(o.FormattedMessage,{id:"page.deliveryOptions.eu.emailCheck.suggestedEmail",values:{suggestedEmail:i.createElement("span",{className:(0,m.css)(T.suggestedEmail)},e)}})),i.createElement("span",{className:(0,m.css)(T.suggestedEmailButtonHolder)},i.createElement("button",{type:"button",className:(0,m.css)(T.suggestedEmailButton),onClick:this.acceptSuggestedEmail,"data-test":"accept-suggested-email-button"},i.createElement(o.FormattedMessage,{id:"page.deliveryOptions.eu.emailCheck.acceptSuggestedEmail"})),i.createElement("button",{type:"button",className:(0,m.css)(T.suggestedEmailButton),onClick:this.ignoreSuggestedEmail,"data-test":"ignore-suggested-email-button"},i.createElement(o.FormattedMessage,{id:"page.deliveryOptions.eu.emailCheck.ignoreSuggestedEmail"}))))):null}}const I=(0,g.connect)((e=>({recipientRequirements:(0,h.Uj)(e),isEUFlow:(0,C.wy)(e)})),(e=>({updateEmailField:(r,t)=>{e(t?(0,v.m)(y.ed,"email",r):(0,v.m)(f.Th,"email",r)),e((0,E.Xv)({email:r}))},updateSuggestedEmailShownField:(r,t)=>{t&&e((0,v.m)(y.ed,"suggestedEmailShown",r))}})))(A);var _=t(24182),P=["input","meta","styleSheet"],R=e=>{var{input:r,meta:{touched:t,error:s},styleSheet:c}=e,d=(0,n.Z)(e,P);return i.createElement(l.Z,(0,a.Z)({type:"email",message:t&&s?i.createElement(o.FormattedMessage,{id:s}):void 0,showLabelErrorStyle:!0},r,d,{styleSheet:void 0!==c?c:d.suggestedEmail?_.f:_.Zm,messageSpaceReserved:!1}))};const k=e=>{var{placeholder:r,name:t,testId:a,styleSheet:n}=e,[o,l]=i.useState(void 0),[c,d]=i.useState("");return i.createElement("div",null,i.createElement(s.Z,{onBlur:(e,r)=>{d(r)},onFocus:()=>{d(""),l(void 0)},component:R,suggestedEmail:o,name:t,testId:a,placeholder:r,styleSheet:n}),i.createElement(I,{email:c,onSuggestion:e=>{l(e)},onCloseMailcheck:()=>{l(void 0)},suggestedEmail:o}))}},45345:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(71488),n=t(57817),i=t(29901),o=t(71695),s=t(75853),l=t(94575),c={BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.TTL_ENVIRONMENTTYPE||n.qA.PROD;const d=e=>{var{withType:r=n.Qn.FULL_BLEED}=e,{portal:t}=(0,s.x)(),{locale:d}=(0,l.YB)();return i.createElement(a.ZP,{locale:d||o.vi.ENGLISH,portal:t,withType:r,variant:"BrandedBusinessTravel"===t?n.$e.COMPACT:n.$e.DEFAULT,environment:c})}},11252:(e,r,t)=>{"use strict";t.d(r,{Z:()=>Z});var a=t(29901),n=t(96172),i=t(2031),o=t(32788),s=t(50093),l=t(98184),c=t(71695),d=t(8888),u=t(3487),p=t(98318),m=t(23394),g=s.StyleSheet.create({list:{[d.Z.breakpoints.xsmall.max]:{flexDirection:"column",margin:"0 0 ".concat(d.Z.sizes.spacers.m)}},item:{[d.Z.breakpoints.xsmall.max]:{marginLeft:0,justifyContent:"center",":before":{display:"none"}}}});const v=s.StyleSheet.create({root:{display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:"auto",marginRight:"auto",maxWidth:d.Z.sizes.contentWidth.max,paddingTop:d.Z.sizes.spacers.l,paddingRight:d.Z.sizes.spacers.m,paddingBottom:d.Z.sizes.spacers.xl,paddingLeft:d.Z.sizes.spacers.m,"@media print":{display:"none"},[d.Z.breakpoints.medium.max]:{flexDirection:"column"}},container:{width:"100%",backgroundColor:p.dp_app_backdrop_base,backgroundClip:"content-box"},containerSimplified:{width:"100%",backgroundColor:m.O9.palette.grey_60,backgroundClip:"content-box"},showTopPadding:{paddingTop:d.Z.sizes.spacers.xl}});var h=t(59999);const y=(0,l.injectIntl)((e=>{var{className:r,intl:t}=e;return a.createElement("img",{width:"89",height:"33",className:r,src:"".concat(h.kK,"/footer/national-rail-accredited.svg"),alt:t.formatMessage({id:"footer.nationalRail.altText"})})}));var f=t(89914),E=t(38554),b=t(35779);const S=s.StyleSheet.create({root:{display:"flex",alignItems:"center",[d.Z.breakpoints.xsmall.max]:{flexDirection:"column"}},icon:{marginLeft:b.OT},applePayWrapper:{lineHeight:"0"},satispayWrapper:{height:b.VG,marginRight:"-".concat(b.VG)}});var T=t(3902),C=t(62213),A=t(58867),I=t(32526),_=t(46070),P=t(57892),R=t(94334),k=t(46745),N=t(19249);const O=e=>{var{showPoweredBy:r,isItaly:t=!1,isEuOnly:n}=e;return a.createElement("div",{className:(0,s.css)(S.root)},a.createElement("h3",{className:(0,s.css)(d.Z.accessibility.hidden)},a.createElement(l.FormattedMessage,{id:"PartnerLogos.title"})),r&&a.createElement(E.Z,null),t?a.createElement("div",{className:(0,s.css)(S.satispayWrapper)},a.createElement(T.Z,null)):null,n?a.createElement(a.Fragment,null,a.createElement(C.Z,{className:(0,s.css)(S.icon)}),a.createElement(A.Z,{className:(0,s.css)(S.icon)}),a.createElement(I.Z,{className:(0,s.css)(S.icon)}),a.createElement(_.Z,{className:(0,s.css)(S.icon)}),a.createElement(P.Z,{className:(0,s.css)(S.icon)}),a.createElement("div",{className:(0,s.css)(S.applePayWrapper)},a.createElement(f.o,{id:"footer.applePay.altText"}),a.createElement(R.Z,{className:(0,s.css)(S.icon)})),a.createElement(k.Z,{className:(0,s.css)(S.icon)}),a.createElement(N.Z,{className:(0,s.css)(S.icon)})):a.createElement(a.Fragment,null,a.createElement("div",{className:(0,s.css)(S.applePayWrapper)},a.createElement(f.o,{id:"footer.applePay.altText"}),a.createElement(R.Z,{className:(0,s.css)(S.icon)})),a.createElement(k.Z,{className:(0,s.css)(S.icon)}),a.createElement(N.Z,{className:(0,s.css)(S.icon)}),a.createElement(y,{className:(0,s.css)(S.icon)})))};var L=(0,l.injectIntl)((e=>{var{intl:r}=e;return a.createElement(u.UK,{styleSheet:g},a.createElement(o.Z,{href:r.formatMessage({id:"components.links.help"}),rel:"help noopener noreferrer",target:"_blank",variant:"blue"},a.createElement(l.FormattedMessage,{id:"TransactionalFooter.links.needHelp"})),a.createElement(o.Z,{href:r.formatMessage({id:"links.termsAndConditions"}),rel:"noopener noreferrer",target:"_blank",variant:"blue"},a.createElement(l.FormattedMessage,{id:"TransactionalFooter.links.termsAndConditions"})),a.createElement(o.Z,{href:r.formatMessage({id:"links.privacyPolicy"}),rel:"noopener noreferrer",target:"_blank",variant:"blue"},a.createElement(l.FormattedMessage,{id:"TransactionalFooter.links.privacyPolicy"})))})),x=e=>{var{getRef:r,showPoweredBy:t,hideTopPadding:n,isEuOnly:i,shouldSimplifyCheckoutFooter:o,locale:l}=e;return a.createElement("footer",{className:(0,s.css)(o?v.containerSimplified:v.container,!n&&v.showTopPadding),ref:r},a.createElement("h2",{className:(0,s.css)(d.Z.accessibility.hidden)},"Footer Links"),a.createElement("div",{className:(0,s.css)(v.root)},a.createElement(L,null),a.createElement(O,{showPoweredBy:t||!1,isEuOnly:i,isItaly:l===c.vi.ITALIAN})))};var D=e=>a.createElement(x,e),w=t(16900);const Z=(0,i.compose)(n.EN,w.Z)((e=>{var{affiliate:r,hideTopPadding:t,isEuOnly:n,shouldSimplifyCheckoutFooter:i,locale:o,getRef:s}=e;return a.createElement(D,{getRef:e=>{s&&s(e)},showPoweredBy:Boolean(r),hideTopPadding:t,isEuOnly:n,shouldSimplifyCheckoutFooter:i,locale:o})}))},50005:(e,r,t)=>{"use strict";t.d(r,{Z:()=>Cn});var a=t(23198),n=t(37719),i=t(98184),o=t(88543),s=t(2031),l=t(21168),c=t(6227),d=t(19408),u=t(86278),p=t(94018),m=t(58186),g=t(83504),v=t(1160),h=t(24087),y=t(97183),f=t(88589),E=t(97866),b=t(41773),S=t(51059),T=t(21192),C=t(50093),A=t(29901),I=t(96172),_=t(41344),P=t(52116),R=t(48977),k=t(58705),N=t(85091),O=t(76325),L=t(33695),x=t(85054),D=t(44149),w=t(10552),Z=t(75853),F=t(50580),B=t(75256),M=t(45682),U=t(98355),j=t(59999),H=t(21924),W=t(98318),G=t(35779),V=t(6575),Y=W.dp_app_icon_fill_inverted;const K=C.StyleSheet.create({root:{display:"flex",flexWrap:"wrap",width:"100%",zIndex:2},mobileBannerWrapper:{background:W.dp_app_backdrop_dull,display:"flex",alignItems:"center",padding:G.eR,borderRadius:V.sC},bannerWrapper:{position:"relative",width:"100%",backgroundColor:W.dp_app_backdrop_white,display:"flex",alignItems:"center",padding:G.Ui,marginBottom:G.Ui,border:"1px solid ".concat(W.dp_brand_neutral_bright),borderRadius:V.sC},bannerDescription:{whiteSpace:"pre-line"},bannerStar:{position:"absolute",background:W.dp_app_warning_mid,padding:G.LS,borderRadius:V.Qz,left:"-10px",top:"-5px",transform:"rotateZ(345deg)"},bannerPictogram:{height:"62px",width:"62px",marginRight:G.Ui},bannerButton:{marginLeft:"auto",minWidth:"100px"},overlay:{position:"fixed",inset:0,zIndex:-1,background:"rgba(112, 111, 111, 0.4)"}});const z=()=>A.createElement("div",{className:(0,C.css)(K.overlay),"data-test":"curated-trips-banner-overlay","data-overlay-root":!0});var J=t(94575),q=t(64169),Q="dismissCuratedTripsBanner";const X=()=>{var[e,r]=(0,A.useState)(!q.I_.getItem(Q)),t=(0,A.useCallback)((()=>{q.I_.setItem(Q,"true"),r(!1)}),[r]);return(0,A.useMemo)((()=>({isBannerVisible:e,dismissBanner:t})),[e,t])};const $=e=>{var r=(0,A.useRef)(null),t=(0,A.useRef)(null);return(0,A.useEffect)((()=>{var a=a=>{var n=r.current&&!r.current.contains(a.target),i=t.current&&t.current.contains(a.target);n&&i&&e()};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}}),[]),{bannerDiv:r,wrapperDiv:t}};var ee=t(43691);const re=()=>{var{referrer:e}=(0,o.useSelector)(S.Wc);return e===ee.O.CuratedTrips};const te=e=>{var{children:r}=e,t=(0,J.YB)(),{isBannerVisible:a,dismissBanner:n}=X(),[i,o]=(0,A.useState)(!1),s=re(),l=()=>o(!1),{bannerDiv:c,wrapperDiv:d}=$(l);(0,H.Z)(l,[],c.current);var{mobile:u}=(0,_.zw)();(0,A.useEffect)((()=>{a&&o(!0)}),[a]);return u?s?A.createElement("div",{className:(0,C.css)(K.mobileBannerWrapper),"data-test":"curated-trips-mobile-banner-wrapper"},A.createElement("img",{className:(0,C.css)(K.bannerPictogram),src:"".concat(j.kK,"/home/pictograms/europe.svg"),alt:t.formatMessage({id:"header.curatedTripsBanner.imageAltText"})}),A.createElement(F.C,{color:"subtle"},t.formatMessage({id:"header.curatedTripsBanner.description.mobile"}))):null:A.createElement("div",{className:(0,C.css)(K.root),ref:d},r,s&&a&&A.createElement(A.Fragment,null,i&&A.createElement(z,null),A.createElement("div",{className:(0,C.css)(K.bannerWrapper),"data-test":"curated-trips-banner-wrapper",ref:c},A.createElement(B.default,{className:(0,C.css)(K.bannerStar),fill:Y}),A.createElement("img",{className:(0,C.css)(K.bannerPictogram),src:"".concat(j.kK,"/home/pictograms/europe.svg"),alt:t.formatMessage({id:"header.curatedTripsBanner.imageAltText"})}),A.createElement("div",null,A.createElement(F.C,{fontWeight:"bold"},t.formatMessage({id:"header.curatedTripsBanner.title"})),A.createElement(F.C,{color:"subtle",className:(0,C.css)(K.bannerDescription)},t.formatMessage({id:"header.curatedTripsBanner.description"}))),A.createElement(M.Z,{className:(0,C.css)(K.bannerButton),icon:U.default,text:t.formatMessage({id:"header.curatedTripsBanner.button"}),onClick:n}))))};var ae=t(42769),ne=t(60654),ie=t(89426),oe=t(72222);const se=e=>{var{className:r,fill:t}=e;return A.createElement("svg",{fill:t,className:r,viewBox:"0 0 24 25",width:"24px",height:"25px"},A.createElement("path",{d:"M15.5 2.5a.5.5 0 0 1 .5.5v1h2.5A2.5 2.5 0 0 1 21 6.5v12a2.5 2.5 0 0 1-2.5 2.5h-12A2.5 2.5 0 0 1 4 18.5v-12A2.5 2.5 0 0 1 6.5 4H9V3a.5.5 0 0 1 1 0v1h5V3a.5.5 0 0 1 .5-.5zM20 9H5v9.5A1.5 1.5 0 0 0 6.5 20h12a1.5 1.5 0 0 0 1.5-1.5V9zM9 5H6.5A1.5 1.5 0 0 0 5 6.5V8h15V6.5A1.5 1.5 0 0 0 18.5 5H16v1a.5.5 0 1 1-1 0V5h-5v1a.5.5 0 0 1-1 0V5z"}))};var le=t(40423),ce=t(8590),de=W.dp_brand_neutral_dullest;const ue=C.StyleSheet.create({priceCalendarToggleButton:{display:"flex",alignItems:"center",marginRight:ce.W0.s6,color:de,fontSize:"14.2px",fontWeight:600,":hover":{backgroundColor:W.dp_brand_neutral_brightest}},loadingDotsWrapper:{marginLeft:ce.W0.s2},calendarIcon:{fill:de,marginRight:ce.W0.s2},chevronIcon:{fill:de,transform:"rotate(-270deg)",transition:"transform 200ms ease-in-out ",marginLeft:ce.W0.s1},collapseChevronIcon:{transform:"rotate(-90deg)"}});var pe={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCheapestCalendarPrice_prices",selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchResponseResult",kind:"LinkedField",name:"result",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchPrice",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currencyCode",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null}],storageKey:null}],type:"v1_RoutePricingDataSearchResponse",abstractKey:null,hash:"ba2747705ad9d0363f1d2a33a6fc068e"};const me=pe;var ge=t(43755),ve=t(29647),he=t(72847),ye=t(31795),fe=t(26625),Ee=t(51807),be=()=>{var e=(0,I.TH)();return(0,o.useSelector)((r=>(0,Ee.Zb)(r,e)))},Se=t(84025),Te=t.n(Se),Ce=t(82768),Ae=e=>0===e.length?"magnifying glass":(0,Ce.nnj)(Math.max,e).toString(),Ie=e=>0===e.length?"magnifying glass":(0,Ce.nnj)(Math.min,e).toString(),_e=e=>{var r=e.sort(((e,r)=>new Date(e).valueOf()-new Date(r).valueOf()));return{start:r[0],end:r[r.length-1]}},Pe="price calendar",Re="YYYY-MM-DD",ke=function(e){return e.IMPRESSION="impression",e.SCROLL="scroll",e}({}),Ne=(e,r)=>0===r?"no price found":e===r?"price calendar found cheapest price":e>r?"cheaper price found - price difference of ".concat(e-r):r>e?"more expensive price found - price difference of ".concat(r-e):"unknown scenario",Oe=(e,r,t,a)=>{var n=(0,ve.KC)(t,r),i=a&&a.amount&&((r,t)=>t&&e&&0!==e&&r>e?e:r)(a.amount,n);return a&&i&&0!==i?{price:{amount:i,currencyCode:a.currencyCode},date:t}:void 0};function Le(e,r){var t,{sendTracking:a}=(0,fe.rS)(),n=be(),i=(0,I.TH)(),{journeySearchVariables:s}=(0,ye.Kl)(),l=null==s||null===(t=s.relayVariables)||void 0===t?void 0:t.outwardJourney.dateTime,c=(0,o.useSelector)((e=>(0,he.YJ)(e,i))),d=(e=>{var r=(0,I.TH)(),{firstTime:t,lastTime:a}=(0,o.useSelector)((e=>(0,m.yu)(e,r)));return!!(e&&e.length&&t&&a)&&e.some((e=>Te()(e).isBetween(t,a)))})(Te()(l).format("YYYY-MM-DD")===Te()(null==r?void 0:r[0]).format("YYYY-MM-DD")?r:[]);return(0,A.useMemo)((()=>{if(e){if(Array.isArray(e))return e.map((e=>{var{price:r,start:t}=e;return Oe(c,l,t,r)}));var{start:r,price:t}=e,i=(0,ve.KC)(r,l);if(d&&i&&t&&t.amount&&c>0&&t.amount!==c&&(null==s?void 0:s.relayVariables.origin)&&(null==s?void 0:s.relayVariables.destination)&&n===ne.LoadStatus.SUCCESS){var o=(e=>{var{selectedDate:r,routePricingDataPrice:t,journeySearchCheapestPrice:a,origin:n,destination:i}=e;return(0,fe.k1)({coreProperties:{genericValue1:"".concat(t),genericValue2:Ne(t,a),genericValue3:"".concat(n," - ").concat(i)},category:Pe,action:"price mismatch",label:"".concat(r)})})({selectedDate:l,routePricingDataPrice:t.amount,journeySearchCheapestPrice:c,origin:s.relayVariables.origin,destination:s.relayVariables.destination});a(o)}return Oe(c,l,e.start,e.price)}}),[d,c,null==s?void 0:s.relayVariables.destination,null==s?void 0:s.relayVariables.origin,n,l,e,a])}var xe,De,we,Ze=t(29887),Fe=()=>{var e,{journeySearchVariables:r}=(0,ye.Kl)(),t=null==r||null===(e=r.relayVariables)||void 0===e?void 0:e.outwardJourney.dateTime,a=(0,A.useMemo)((()=>(0,ve.Ri)(t)),[t]);return(0,A.useMemo)((()=>(null==a?void 0:a.findIndex((e=>(0,ve.KC)(t,e))))||0),[t,a])},Be=t(41876),Me={fragment:{argumentDefinitions:xe=[{defaultValue:null,kind:"LocalArgument",name:"requestBody"}],kind:"Fragment",metadata:null,name:"RoutePricingDataQuery",selections:[{alias:null,args:De=[{kind:"Variable",name:"requestBody",variableName:"requestBody"}],concreteType:null,kind:"LinkedField",name:"v1_routePricingDataSearch",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchResponseResult",kind:"LinkedField",name:"result",plural:!0,selections:[we={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{args:null,kind:"FragmentSpread",name:"useIndividualWeeklyPriceData"},{args:null,kind:"FragmentSpread",name:"useJourneyDepartureTimes"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCheapestCalendarPrice_prices"},{args:null,kind:"FragmentSpread",name:"usePricesFragment_prices"},{args:null,kind:"FragmentSpread",name:"useShouldDisplayPrice_prices"}],type:"v1_RoutePricingDataSearchResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:xe,kind:"Operation",name:"RoutePricingDataQuery",selections:[{alias:null,args:De,concreteType:null,kind:"LinkedField",name:"v1_routePricingDataSearch",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchResponseResult",kind:"LinkedField",name:"result",plural:!0,selections:[we,{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchPrice",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currencyCode",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchJourney",kind:"LinkedField",name:"journeys",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"departAt",storageKey:null}],storageKey:null}],storageKey:null}],type:"v1_RoutePricingDataSearchResponse",abstractKey:null}],storageKey:null}]},params:{id:"151b7d57222e9328393764e8d7cace84",metadata:{},name:"RoutePricingDataQuery",operationKind:"query",text:null}};Me.hash="30993f07d23fbc94bb3dddda305203a7";const Ue=Me;var je=t(29171),He=t(78052),We=t(10301),Ge=t(61229),Ve=t(71695),Ye=()=>{var e,r,t,a,n,i,s,l,{enableAtocPriceCalendar:c}=(0,Z.x)(),{enableAtocPriceCalendar:d,enableEuPriceCalendar:u}=(0,We.QE)(),{currentCurrency:p}=(0,w.d)(),m=Boolean(c&&d),{locations:g}=(0,o.useSelector)(He.O),v=(0,I.TH)(),{query:h}=v,{journeySearchVariables:y}=(0,ye.Kl)(),f=null==y||null===(e=y.relayVariables)||void 0===e?void 0:e.outwardJourney.type,E=(0,ve.IS)(h),b=(0,je.Gg)(null==y||null===(r=y.searchParamExtras)||void 0===r?void 0:r.originId,null==y||null===(t=y.searchParamExtras)||void 0===t?void 0:t.destinationId,g),S=Boolean((null==y||null===(a=y.relayVariables)||void 0===a?void 0:a.viaStations)||(null==y||null===(n=y.relayVariables)||void 0===n?void 0:n.avoidStations)),T="SINGLE"===(null==y||null===(i=y.relayVariables)||void 0===i?void 0:i.journeyType),C=(0,A.useMemo)((()=>{var e;return(null==y||null===(e=y.relayVariables)||void 0===e?void 0:e.passengers.reduce(((e,r)=>(r&&e.push((0,ve.g1)(r)),e)),[]))||[]}),[null==y||null===(s=y.relayVariables)||void 0===s?void 0:s.passengers]),_=(0,ve.K5)((0,ve.S6)(b,E,C)),P=(0,o.useSelector)((e=>(0,Ge.FV)(e,v))),R=(0,A.useMemo)((()=>{var e;return(null==y||null===(e=y.relayVariables)||void 0===e?void 0:e.discountCards)||[]}),[null==y||null===(l=y.relayVariables)||void 0===l?void 0:l.discountCards]),k=p!==Ve.OI.CHF;return Boolean(Boolean(b?u:m&&"ARRIVEBEFORE"!==f&&!S)&&T&&_&&!P&&!(R&&R.length)&&k)},Ke=t(29433),ze=t(56373),Je="isPriceCalendarVisible",[qe,Qe]=(0,Be.k)("RoutePricingData");const Xe=e=>{var{children:r}=e,t=(()=>{var e,r,t,{journeySearchVariables:a}=(0,ye.Kl)(),{currentCurrency:n}=(0,w.d)(),{start:i,end:o}=(0,A.useMemo)((()=>{var e;return(0,ve.Og)(null==a||null===(e=a.relayVariables)||void 0===e?void 0:e.outwardJourney.dateTime)}),[null==a||null===(e=a.relayVariables)||void 0===e?void 0:e.outwardJourney.dateTime]),[s,l]=(0,ge.useQueryLoader)(Ue),c=Ye();return(0,A.useEffect)((()=>{var e,r;!0===c&&l({requestBody:{destination:(null==a||null===(e=a.relayVariables)||void 0===e?void 0:e.destination)||"",origin:(null==a||null===(r=a.relayVariables)||void 0===r?void 0:r.origin)||"",requestedCurrencyCode:{requestedCurrencyCode:n},timePeriod:"BYDAY",start:i,end:o}})}),[c,l,n,null==a||null===(r=a.relayVariables)||void 0===r?void 0:r.destination,null==a||null===(t=a.relayVariables)||void 0===t?void 0:t.origin,o,i]),s||null})(),{isPriceCalendarVisible:a,setIsPriceCalendarVisible:n}=(()=>{var{mobile:e}=(0,_.zw)(),{userLocationCountry:r}=(0,w.d)(),t=r===Ve.Qd.BRITAIN,a=(0,o.useSelector)(Ke.gZ),n=(0,o.useSelector)(ze.XM)&&a,[i,s]=(0,A.useState)((()=>{var r=q.I_.getItem(Je);return Boolean(n||!t||!!r||e)})),l=(0,A.useCallback)((e=>{q.I_.setItem(Je,e),s(e)}),[s]);return(0,A.useMemo)((()=>({isPriceCalendarVisible:i,setIsPriceCalendarVisible:l})),[i,l])})(),i=(0,A.useMemo)((()=>({isPriceCalendarVisible:a,routePricingQueryRef:t,setIsPriceCalendarVisible:n})),[a,t,n]);return A.createElement(Qe.Provider,{value:i},r)};var $e=()=>{var{query:e}=(0,I.TH)(),r=Ye(),t="true"===e.showMatrix,a=(0,ve.IS)(e);return Boolean(!t&&a===h.ZP.TRAIN&&r)},er=t(18332),rr=()=>A.createElement("span",{className:(0,C.css)(ue.loadingDotsWrapper)},A.createElement(Ze.Z,null)),tr=e=>{var{isPriceCalendarVisible:r}=e;return A.createElement(ie.ZP,{styleSheet:ue.priceCalendarToggleButton,onClick:()=>{},testId:"loading-price-calendar-toggle"},A.createElement(se,{className:(0,C.css)(ue.calendarIcon)}),A.createElement(i.FormattedMessage,{id:"page.priceCalendar.otherDaysFrom",values:{price:""}}),A.createElement(rr,null),A.createElement(le.Z,{className:(0,C.css)([ue.chevronIcon,r&&ue.collapseChevronIcon])}))},ar=e=>{var{routePricingDataQueryRef:r,isPriceCalendarVisible:t,setIsPriceCalendarVisible:a}=e,n=(e=>{var r,{journeySearchVariables:t}=(0,ye.Kl)(),a=null==t||null===(r=t.relayVariables)||void 0===r?void 0:r.outwardJourney.dateTime,n=Le((0,ge.useFragment)(me,e).result),i=(0,A.useMemo)((()=>null==n?void 0:n.filter((e=>!(0,ve.KC)(a,null==e?void 0:e.date))).map((e=>null==e?void 0:e.price)).filter((e=>e&&Number(e.amount)))),[n,a]);return(0,A.useMemo)((()=>i.length>0?i.reduce(((e,r)=>r.amount&&r.amount<e.amount?r:e),{amount:1/0}):null),[i])})((0,ge.usePreloadedQuery)(Ue,r).v1_routePricingDataSearch),o=$e(),s=(()=>{var{sendTracking:e}=(0,fe.rS)();return(0,A.useCallback)(((r,t)=>{var a=r?"expanded":"collapsed",n=(0,fe.k1)({coreProperties:{},category:"price calendar toggle",action:"price calendar ".concat(a),label:"tab: ".concat(t)});e(n)}),[e])})(),l=Fe(),c=(0,A.useCallback)((e=>{a(e),s(e,l)}),[a,s,l]);return null===n||void 0===(null==n?void 0:n.amount)||void 0===(null==n?void 0:n.currencyCode)?null:A.createElement(A.Fragment,null,o&&A.createElement(ie.ZP,{styleSheet:ue.priceCalendarToggleButton,onClick:()=>c(!t),testId:"price-calendar-toggle"},A.createElement(se,{className:(0,C.css)(ue.calendarIcon)}),A.createElement(i.FormattedMessage,{id:"page.priceCalendar.otherDaysFrom",values:{price:A.createElement(oe.Z,{value:n.amount,currency:n.currencyCode,hideDecimalsForIntegers:!0})}}),A.createElement(le.Z,{className:(0,C.css)([ue.chevronIcon,t&&ue.collapseChevronIcon])})))};const nr=e=>{var{isEuExperience:r}=e,{routePricingQueryRef:t,isPriceCalendarVisible:a,setIsPriceCalendarVisible:n}=qe(),i=(0,o.useSelector)((e=>(0,d.eB)(e,L.zA.ENABLE_SIMPLE_SEARCH_RESULTS_PAGE,!0))),{experimentsDict:s}=(0,er.zM)(["experimentsDict"]);return r&&((0,R.QH)(s,[L.zA.ENABLE_SIMPLE_SEARCH_RESULTS_PAGE]),i)?null:A.createElement(P.SV,{fallback:null},A.createElement(A.Suspense,{fallback:A.createElement(tr,{isPriceCalendarVisible:a})},t&&A.createElement(ar,{isPriceCalendarVisible:a,setIsPriceCalendarVisible:n,routePricingDataQueryRef:t})))};var ir=t(35786),or=t(87222),sr=t(83570),lr=t(53108),cr=t(14238),dr=t(45049),ur=()=>{var e,{journeySearchVariables:r}=(0,ye.Kl)();return"OPENRETURN"===((null==r||null===(e=r.relayVariables)||void 0===e?void 0:e.journeyType)||"SINGLE")},pr=e=>{var r,{query:t,pathname:a}=(0,I.TH)(),{journeySearchVariables:n}=(0,ye.Kl)(),i=null==n||null===(r=n.relayVariables)||void 0===r?void 0:r.journeyType,s=(0,o.useSelector)(S.iK),{mobile:l,desktop:c}=(0,_.zw)(),{outwardAlternativeId:d}=(0,o.useSelector)((e=>(0,sr.rd)(e,{query:t}))),p=!(0,o.useSelector)(E.zE),m=(0,o.useSelector)(S.Yh),g=a===ae.L1.results(),v=(0,o.useSelector)(or.V4),h=(0,o.useSelector)(or.d7),y=i||"SINGLE",f=p&&(v||h)&&!!m&&!("OPENRETURN"===y)&&!s,T=(0,o.useSelector)(E.e0),C=(0,o.useSelector)(u.i2),A=(0,o.useSelector)(cr.nB),P=!!(0,o.useSelector)(dr.t3),R=s?e:!!d||P,{isSplitSaveEnabled:k}=(0,lr.m)(),N=l&&(A===cr.y8.EACH_WAY||"RETURN"===y)&&R,O=(0,o.useSelector)(b.Ef);return g&&T&&!N&&(f||k||c&&O||Boolean(s&&C))},mr=t(68697),gr=t(23394);const vr=C.StyleSheet.create({root:{display:"flex",alignItems:"center",width:"100%",marginBottom:gr.W0.s4},tabs:{maxWidth:"300px",width:"100%",marginRight:"var(--dp_s8)"},withTabsFilterWrapper:{":not(:first-child)":{[gr.cy.min.m]:{marginLeft:gr.W0.s2}},[gr.cy.min.m]:{marginRight:0}},priceCalendarToggle:{marginLeft:"auto",[gr.cy.minMax.m]:{marginTop:gr.W0.s3}}});var hr=t(96248),yr=t(32363);const fr=(0,i.injectIntl)((e=>{var{intl:r}=e,{query:t}=(0,I.TH)(),n=(0,o.useDispatch)(),i=(0,o.useSelector)(S.iK),{currentCurrency:s}=(0,w.d)(),l=(0,o.useSelector)(p.vR),{trainAvailabilityLoadStatus:c,coachOverallLoadStatus:d}=(0,mr.n)(t,i),u=(0,A.useMemo)((()=>({query:(0,a.Z)({},(0,ir.V)(t,h.ZP.TRAIN,{transportModes:[ne.AvailableTransportModes.MIXED]}))})),[t]),m={query:(0,a.Z)({},(0,ir.V)(t,h.ZP.COACH,{transportModes:[ne.AvailableTransportModes.COACH]}))},g=(0,o.useSelector)((e=>(0,he.xg)(e,u))),v=(0,o.useSelector)((e=>(0,he.xg)(e,m))),y=(0,A.useMemo)((()=>({amount:g,currencyCode:s})),[s,g]),f=(0,A.useMemo)((()=>({amount:v,currencyCode:s})),[s,v]),E=(0,A.useCallback)((e=>{l!==e&&n((0,yr.ZM)({toTab:e}))}),[l,n]),b=d===ne.LoadStatus.SUCCESS,T=d===ne.LoadStatus.UNDEFINED,C=(null==f?void 0:f.amount)>0,_=b&&C?"".concat(r.formatMessage({id:"page.coach.tabs.short.coachTabLabel"}),"  ").concat(r.formatNumber(f.amount,{style:"currency",currency:f.currencyCode})):b||T?"".concat(r.formatMessage({id:"page.coach.tabs.short.coachTabLabel"})):r.formatMessage({id:"page.coach.tabs.loading"}),P=c===ne.LoadStatus.SUCCESS,R=c===ne.LoadStatus.PENDING,k=(null==y?void 0:y.amount)>0,N=[{id:"train",label:P&&k?"".concat(r.formatMessage({id:"page.coach.tabs.short.trainTabLabel"}),"  ").concat(r.formatNumber(y.amount,{style:"currency",currency:y.currencyCode})):R?r.formatMessage({id:"page.coach.tabs.loading"}):"".concat(r.formatMessage({id:"page.coach.tabs.short.trainTabLabel"})),"aria-label":r.formatMessage({id:"page.coach.tabs.short.trainTabLabel"}),checked:l===h.ZP.TRAIN,onClick:()=>E(h.ZP.TRAIN)},{id:"coach",label:_,"aria-label":r.formatMessage({id:"page.coach.tabs.short.coachTabLabel"}),checked:l===h.ZP.COACH,onClick:()=>E(h.ZP.COACH)}],O="".concat(r.formatMessage({id:"page.coach.tabs.short.trainTabLabel"})," ").concat(r.formatMessage({id:"page.coach.tabs.short.coachTabLabel"}));return A.createElement(hr.Z,{"data-test":"segmented-button-tabs",type:"filter",segments:N,"aria-label":O})}));const Er=e=>{var{className:r,width:t="32",height:a="32",fill:n="#192325"}=e;return A.createElement("svg",{width:t,height:a,className:r,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A.createElement("path",{d:"M12 12C9.79072 12 8 10.2093 8 8C8 5.79072 9.79072 4 12 4C13.864 4 15.43 5.27469 15.874 7H27C27.5523 7 28 7.44772 28 8C28 8.55228 27.5523 9 27 9H15.874C15.43 10.7253 13.864 12 12 12ZM12 6C10.8953 6 10 6.89528 10 8C10 9.10472 10.8953 10 12 10C13.1047 10 14 9.10472 14 8C14 6.89528 13.1047 6 12 6Z",fill:n}),A.createElement("path",{d:"M17 16C17 18.209 18.7914 20 21 20C22.8667 20 24.4346 18.7216 24.876 16.9924C24.9166 16.9974 24.958 17 25 17H27C27.5523 17 28 16.5523 28 16C28 15.4477 27.5523 15 27 15H25C24.958 15 24.9166 15.0026 24.876 15.0076C24.4346 13.2784 22.8667 12 21 12C18.7914 12 17 13.791 17 16ZM23 16C23 17.1047 22.1047 18 21 18C19.8959 18 19 17.1043 19 16C19 14.8957 19.8959 14 21 14C22.1047 14 23 14.8953 23 16Z",fill:n}),A.createElement("path",{d:"M16 28C13.7907 28 12 26.2093 12 24C12 21.7907 13.7907 20 16 20C17.864 20 19.43 21.2747 19.874 23H27C27.5523 23 28 23.4477 28 24C28 24.5523 27.5523 25 27 25H19.874C19.43 26.7253 17.864 28 16 28ZM18 24C18 22.8953 17.1047 22 16 22C14.8953 22 14 22.8953 14 24C14 25.1047 14.8953 26 16 26C17.1047 26 18 25.1047 18 24Z",fill:n}),A.createElement("path",{d:"M4 16C4 16.5523 4.44772 17 5 17H15C15.5523 17 16 16.5523 16 16C16 15.4477 15.5523 15 15 15H5C4.44772 15 4 15.4477 4 16Z",fill:n}),A.createElement("path",{d:"M4 24C4 24.5523 4.44772 25 5 25H10C10.5523 25 11 24.5523 11 24C11 23.4477 10.5523 23 10 23H5C4.44772 23 4 23.4477 4 24Z",fill:n}),A.createElement("path",{d:"M6 7C6.55228 7 7 7.44772 7 8C7 8.55228 6.55228 9 6 9H5C4.44772 9 4 8.55228 4 8C4 7.44772 4.44772 7 5 7H6Z",fill:n}))};var br=t(89034),Sr=t(36841);const Tr=Sr.StyleSheet.create({container:{position:"relative",border:"1px solid ".concat(W.dp_brand_neutral_bright),borderRadius:G.OT,width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center"},disabled:{border:"1px solid ".concat(W.dp_brand_neutral_mid),backgroundColor:W.dp_brand_neutral_brighter},active:{border:"1px solid ".concat(W.dp_brand_secondary_core),backgroundColor:W.dp_brand_secondary_brightest},filtersBubble:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",top:"-10px",right:"-7px",width:"18px",height:"18px",border:"1px solid ".concat(W.dp_brand_white),color:W.dp_brand_white,fontWeight:600,borderRadius:"50%",backgroundColor:W.dp_brand_secondary_core}});var Cr=t(82194);const Ar=e=>{var{disabled:r,active:t,numberOfActiveFilters:a=0}=e,n=(0,o.useDispatch)(),{setDirectTrainFilter:i}=(0,Cr.Z)(),{sendTracking:s}=(0,fe.rS)(),c=A.useCallback((()=>{n((0,br.Ll)({type:l.e.FILTERS_MODAL,params:{setDirectTrainFilter:i}})),s((0,fe.k1)({coreProperties:{},category:"results",action:"filter icon",label:"filter icon click"}))}),[]);return A.createElement("div",{onClick:r?void 0:c,onKeyDown:r?void 0:c,className:(0,C.css)(Tr.container,r&&Tr.disabled,t&&Tr.active),role:"button",tabIndex:0,"data-test":"mobile-filters-button"},A.createElement(Er,{fill:r?W.dp_brand_neutral_dim:t?W.dp_brand_secondary_core:W.dp_brand_neutral_core}),t&&a>0&&A.createElement("span",{className:(0,C.css)(Tr.filtersBubble),"data-test":"mobile-filters-button-bubble"},a))};var Ir=t(87654),_r=t(56927),Pr=t(24443),Rr=t(33257);const kr=C.StyleSheet.create({disabled:{cursor:"not-allowed",boxShadow:"none",backgroundColor:W.dp_app_selectable_disabled_background,border:"1px solid ".concat(W.dp_app_border_base),color:W.dp_app_text_field_icon_fill_brighter,outline:"none",fontWeight:"normal",":hover":{backgroundColor:W.dp_app_selectable_disabled_background,border:"1px solid ".concat(W.dp_app_border_base),color:W.dp_app_text_field_icon_fill_brighter,cursor:"not-allowed"},":active":{backgroundColor:W.dp_app_selectable_disabled_background,border:"1px solid ".concat(W.dp_app_border_base),outline:"none"}},minMaxValue:{display:"flex",justifyContent:"space-between",paddingRight:"calc(".concat(G.OT," - 1px)"),alignItems:"flex-start"},menuContentSubTitle:{":nth-child(1) > span":{color:W.dp_app_selected_text,textAlign:"center",fontSize:"16px",fontStyle:"normal",fontWeight:600,lineHeight:"24px"}},slider:{":nth-child(1n) > div > input":{paddingRight:0,paddingLeft:0}}});var Nr=t(93990),Or=t(25190);function Lr(){var e=(0,o.useSelector)(p.vR)===h.ZP.TRAIN,r=e?ne.AvailableTransportModes.MIXED:ne.AvailableTransportModes.COACH,{journeyDays:t,filteredJourneyDays:a}=(0,Or.D)(r);return{beforeFilters:e?null==t?void 0:t.reduce(((e,r)=>{var t;return e+(null==r||null===(t=r.rows)||void 0===t?void 0:t.length)}),0):0,afterFilters:e?null==a?void 0:a.reduce(((e,r)=>{var t;return e+(null==r||null===(t=r.rows)||void 0===t?void 0:t.length)}),0):0}}const xr=function(e){var{disabled:r,min:t,max:a}=e,n=(0,J.YB)(),{sendTracking:s}=(0,fe.rS)(),l=(0,o.useSelector)(p.vR)===h.ZP.TRAIN,{setPriceFilter:c,filters:d}=(0,Cr.Z)(),{currentCurrency:u}=(0,w.d)(),m=Lr(),{priceFilterValue:g,handlePriceFilterValueChange:v,isPriceFilterChecked:y,togglePriceFilter:f,isPriceFilterMenuOpen:E,toggleMenuOpen:b,closeMenu:S,resetPriceFilter:T}=(0,Rr.Z)(),{closeMenu:I}=(0,Nr.Z)(),_=!!l&&E,P=!!l&&y,R=!y||r||g===a,k=r?(0,C.css)(kr.disabled):"",N="".concat(n.formatNumber(g,{style:"currency",currency:u,maximumFractionDigits:0})),O=R?n.formatMessage({id:"page.results.filters.price.menuTitle"}):n.formatMessage({id:"page.results.filters.price.label.withValue"},{value:N}),L=R?A.createElement("div",{"data-test":"price-filter-bubble-subtitle"},A.createElement(i.FormattedMessage,{id:"page.results.filters.price.menuTitle"})):A.createElement("div",{className:(0,C.css)(kr.menuContentSubTitle),"data-test":"price-filter-bubble-subtitle-with-value"},A.createElement(i.FormattedMessage,{id:"page.results.filters.price.label.withValue",values:{value:N}})),x=A.createElement("div",null,L,A.createElement(_r.Z,{className:(0,C.css)(kr.slider),defaultValue:t.toString(),value:g.toString(),onChange:e=>{var r,t,n,i;return t=Number(null==e||null===(r=e.currentTarget)||void 0===r?void 0:r.value),n=m.beforeFilters,i=m.afterFilters,null!=d&&d.priceFilterSelected||null==c||c(),v(t),t===a&&f(),void s((0,fe.k1)({category:"results",action:"filtered results",label:"results with price filter applied ".concat(n," ").concat(i),coreProperties:{genericValue1:"Before price filter: ".concat(n),genericValue2:"After price filter: ".concat(i)}}))},disabled:r,min:t,max:a}),A.createElement("div",{className:(0,C.css)(kr.minMaxValue)},A.createElement("span",null,"".concat(n.formatNumber(t,{style:"currency",currency:u,maximumFractionDigits:0}))),A.createElement("span",null,"".concat(n.formatNumber(a,{style:"currency",currency:u,maximumFractionDigits:0})))));return(0,A.useEffect)((()=>{l||S()}),[l,S]),A.createElement(Pr.Z,{"data-test":"price-filter-btn",className:k,"aria-disabled":r,label:O,clearable:P,isMenuOpen:_,onClick:()=>{(g===Number.MAX_SAFE_INTEGER&&a!==Number.MAX_SAFE_INTEGER||!y)&&v(a),r||(b(),I(),s((0,fe.k1)({category:"results",action:"price filter button",label:"price filter button click",coreProperties:{}})))},selected:P,menuHeading:n.formatMessage({id:"page.results.filters.price.heading"}),menuContent:x,buttonClearLabel:n.formatMessage({id:"page.results.filters.price.clearButton"}),menuDoneButtonLabel:n.formatMessage({id:"page.results.filters.price.doneButton"}),menuClearButtonLabel:n.formatMessage({id:"page.results.filters.price.clearButton"}),onClear:()=>{r||(null!=d&&d.priceFilterSelected||null==c||c(),T(a),s((0,fe.k1)({category:"results",action:"price filter button",label:"price filter button reset",coreProperties:{}})))},onDone:()=>{S()}})},Dr=C.StyleSheet.create({filters:{display:"flex",gap:G.OT}});var wr=t(16981);const Zr=C.StyleSheet.create({content:{display:"flex",flexDirection:"column",gap:gr.W0.s3},disabled:{cursor:"not-allowed",boxShadow:"none",backgroundColor:W.dp_app_selectable_disabled_background,borderColor:W.dp_app_border_base,color:W.dp_app_text_field_icon_fill_brighter,outline:"none",fontWeight:"normal"}});const Fr=function(e){var{disabled:r,carriers:t}=e,a=(0,J.YB)(),{sendTracking:n}=(0,fe.rS)(),i=(0,o.useSelector)(p.vR),s=Lr(),l=i===h.ZP.TRAIN,{setCarrierFilter:c,filters:d}=(0,Cr.Z)(),{isCarrierFilterChecked:u,isCarrierFilterMenuOpen:m,allCarriersSelected:g,selectedCarriers:v,selectAllCarriers:y,handleCarrierFilterValueChange:f,toggleMenuOpen:E,closeMenu:b,resetCarrierFilter:S,setAllCarriers:T}=(0,Nr.Z)(),{closeMenu:I}=(0,Rr.Z)(),_=!u||r||g,P=!!l&&m,R=!!l&&(u&&!g),k=r?(0,C.css)(Zr.disabled):"",N="all-carriers",O=_?a.formatMessage({id:"page.results.filters.carriers.label"}):a.formatMessage({id:"page.results.filters.carriers.label.withValue"},{value:v.length}),L=[];null==t||t.map((e=>L[e]=e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))),(0,A.useEffect)((()=>{l||b(),v.length===t.length&&T(!0),0===v.length&&T(!1)}),[l,b,v,t,T]);var x=A.createElement("div",{className:(0,C.css)(Zr.content)},A.createElement(wr.Z,{key:N,id:N,name:N,label:a.formatMessage({id:"page.results.filters.carriers.allCarriers"}),value:N,checked:g,onClick:()=>{g?(S(),T(!1)):(y(t),T(!0))}}),Object.keys(L).map((e=>A.createElement(wr.Z,{key:e,id:e,"data-test":"carrier-filter-option-".concat(e),name:e,label:L[e],value:e,checked:null==v?void 0:v.includes(e),onClick:()=>(e=>{var r=s.beforeFilters,t=s.afterFilters;null!=d&&d.carrierFilterSelected||null==c||c(),f(e),n((0,fe.k1)({category:"results",action:"filtered results",label:"results with carriers filter applied ".concat(r," ").concat(t),coreProperties:{genericValue1:"Before carriers filter: ".concat(r),genericValue2:"After carriers filter: ".concat(t)}}))})(e)})))," ");return A.createElement(Pr.Z,{"data-test":"carrier-filter-btn",className:k,"aria-disabled":r,label:O,clearable:R,isMenuOpen:P,onClick:()=>{r||(E(),I(),n((0,fe.k1)({category:"results",action:"carriers filter button",label:"carriers filter button click",coreProperties:{}})))},selected:R,menuHeading:"Carriers",menuContent:x,buttonClearLabel:a.formatMessage({id:"page.results.filters.price.clearButton"}),menuDoneButtonLabel:a.formatMessage({id:"page.results.filters.price.doneButton"}),menuClearButtonLabel:a.formatMessage({id:"page.results.filters.price.clearButton"}),onClear:()=>{r||(null!=d&&d.carrierFilterSelected||null==c||c(),S(),n((0,fe.k1)({category:"results",action:"carriers filter button",label:"carriers filter button reset",coreProperties:{}})))},onDone:()=>{b()}})};function Br(e){var{filtersDisabled:r,priceFilterMin:t,priceFilterMax:a,carriers:n}=e,i=(0,o.useSelector)(b.VA),{isPriceFilterEnabled:s}=(0,Rr.Z)(),{isCarrierFilterEnabled:l}=(0,Nr.Z)();return A.createElement("div",{className:(0,Sr.css)(Dr.filters)},A.createElement("div",{id:"portal-hsf-filters","data-test":"results-tab-bar-filters-portal"}),s&&A.createElement(xr,{min:t,max:a,disabled:r}),l&&i&&A.createElement(Fr,{disabled:r,carriers:n}))}const Mr=(0,A.memo)(Br);const Ur=()=>{var{mobile:e}=(0,_.zw)(),r=(0,o.useSelector)(p.vR),t=(0,o.useSelector)(S.iK),{query:n}=(0,I.TH)(),{trainAvailabilityLoadStatus:i,coachOverallLoadStatus:s,selectedTabLoadStatus:l}=(0,mr.n)(n,t),c={query:(0,a.Z)({},(0,ir.V)(n,h.ZP.TRAIN,t?{transportModes:[ne.AvailableTransportModes.MIXED]}:{}))},d=(0,o.useSelector)((e=>(0,he.K2)(e,c))),u=(0,o.useSelector)((e=>(0,he.xg)(e,c))),m=Math.ceil(u),g=Math.ceil(d),v=(0,o.useSelector)((e=>(0,S.fE)(e,c))),{isDirectSearchLimitedByMarket:y}=(0,Ir.Z)(),f=[ne.LoadStatus.SUCCESS,ne.LoadStatus.PENDING,ne.LoadStatus.UNDEFINED].includes(s||ne.LoadStatus.UNDEFINED),{directSearch:E}=(0,o.useSelector)(S.Wc),b=[ne.LoadStatus.SUCCESS,ne.LoadStatus.PENDING,ne.LoadStatus.UNDEFINED].includes(i)&&!E,T=pr(v)&&f&&(E||b),P=ur(),R=r===h.ZP.TRAIN&&!e,k=(0,A.useMemo)((()=>r===h.ZP.TRAIN&&i!==ne.LoadStatus.ERROR&&!l||r===h.ZP.COACH),[l,i,r]),{filters:N}=(0,Cr.Z)(),O=r===h.ZP.TRAIN,{journeyDays:L,filteredJourneyDays:x}=(0,Or.D)(O?ne.AvailableTransportModes.MIXED:ne.AvailableTransportModes.COACH),D=[];O&&(D=(null!=N&&N.carrierFilterSelected||null!=N&&N.priceFilterSelected?L:x).reduce(((e,r)=>{var t;return null==r||null===(t=r.rows)||void 0===t||t.forEach((r=>{var t;null!=r&&r.carrierLogos&&(null==r||null===(t=r.carrierLogos)||void 0===t||t.forEach((r=>{null!=r&&r.name&&!e.includes(r.name)&&e.push(r.name)})))})),e}),[]));return v?A.createElement("div",{className:(0,C.css)(vr.root)},t&&y&&e&&A.createElement(Ar,{disabled:k}),A.createElement(Mr,{priceFilterMin:m,priceFilterMax:g,filtersDisabled:k,carriers:D}),R&&A.createElement("div",{className:(0,C.css)(vr.priceCalendarToggle),"data-test":"eu-price-calendar-toggle"},A.createElement(nr,{isEuExperience:t}))):A.createElement("div",{className:(0,C.css)(vr.root),"data-test":"results-tab-bar-v2"},T&&!P&&A.createElement("div",{className:(0,C.css)(vr.tabs)},A.createElement(fr,null)),t&&y&&e&&A.createElement(Ar,{disabled:k}),A.createElement(Mr,{priceFilterMin:m,priceFilterMax:g,filtersDisabled:k,carriers:D}),R&&A.createElement("div",{className:(0,C.css)(vr.priceCalendarToggle),"data-test":"eu-price-calendar-toggle"},A.createElement(nr,{isEuExperience:t})))};var jr=t(64321),Hr=t(28187),Wr=t(95067),Gr=t(43763),Vr=t(87005),Yr=t(65250),Kr=t(56515),zr=t(20752),Jr=t(56136);const qr=C.StyleSheet.create({frame:{marginLeft:"".concat(gr.W0.s2),padding:"7px ".concat(gr.W0.s2),borderColor:W.dp_app_border_base,width:"144px"},labelDefault:{marginBottom:0},labelCopy:(0,a.Z)((0,a.Z)({},gr.cp.mini),{},{padding:0,color:W.dp_app_link_base,fontWeight:700}),splitSaveLabelContainer:{display:"flex",alignItems:"center"},splitSaveText:{marginLeft:"4px"},splitSaveIcon:{transform:"scale(0.85)",paddingBottom:"4px"}});const Qr=e=>{var{isChecked:r,onChange:t}=e,a=A.createElement("span",{className:(0,C.css)(qr.splitSaveLabelContainer)},A.createElement(Yr.Z,{className:(0,C.css)(qr.splitSaveIcon)}),A.createElement("span",{className:(0,C.css)(qr.splitSaveText)},A.createElement(i.FormattedMessage,{id:"splitsave.text"})));return A.createElement(zr.Z,{styles:qr.frame,bordered:!0},A.createElement(Kr.Z,{name:"split-save-checkbox",innerLabel:a,testId:"split-save-checkbox",onChange:t,checked:r,styleSheet:(0,Jr.y)(Vr.Z,qr)}))};var Xr=t(58401),$r=t(60289),et=t(83367),rt=t(52068),tt=C.StyleSheet.create({root:{flexBasis:"auto",[$r.ZP.small.min]:{minWidth:"var(--DEPRECATED-168px)",padding:et.spacers.s}}});const at=C.StyleSheet.create({tabWrapper:{display:"flex",alignItems:"center",width:"100%"},text:{fontSize:rt.W.body.fontSize},tabText:{[$r.ZP.small.max]:{display:"none"}},centredText:{marginLeft:"auto",marginRight:"auto",whiteSpace:"nowrap",[$r.ZP.small.max]:{fontSize:et.spacers.px14,lineHeight:et.spacers.px20,color:W.dp_app_text_inverted}},disabledText:{[$r.ZP.small.max]:{color:W.dp_app_text_disabled},fontWeight:rt.R.body.weights.normal,fontSize:rt.W.small.fontSize,padding:"0 ".concat(et.spacers.s," 0 ").concat(et.spacers.px10)},disabledLabel:{[$r.ZP.small.max]:{color:W.dp_app_text_disabled}},loaded:{justifyContent:"unset"},icon:{display:"flex",flexShrink:0},textMargin:{marginLeft:et.spacers.s},bullet:{margin:"0 3px",textAlign:"center",[$r.ZP.small.max]:{display:"none"}},tabPriceWrapper:{[$r.ZP.small.max]:{display:"block",color:W.dp_app_text_base},minWidth:et.spacers.px20,display:"inline-block"},tabPriceLabel:{color:W.dp_app_text_base,fontWeight:600},tabPriceLabelText:{marginLeft:gr.W0.s3},tabPriceTrainLabel:{paddingLeft:gr.W0.s4},durationWrapper:{fontWeight:"normal",color:W.dp_app_text_base,[$r.ZP.small.min]:{display:"none"}}});var nt={[$r.ZP.small.max]:{backgroundcolor:W.dp_app_text_base}},it=C.StyleSheet.create({dot1:nt,dot2:nt,dot3:nt});const ot=C.StyleSheet.create({price:(0,a.Z)((0,a.Z)({},rt.R.body),{},{fontWeight:600,[$r.ZP.small.max]:{fontSize:et.spacers.px14,fontWeight:"bold"}})});const st=(0,i.injectIntl)((e=>{var{price:r,disablePrice:t,to:a,intl:n}=e;return A.createElement("span",null,A.createElement("span",{"data-test":"tab-".concat(a,"-price"),className:(0,Sr.css)(ot.price)},t?A.createElement("span",null,n.formatNumber(99.99,{style:"currency",currency:r.currencyCode}).replace(/9/g,"-")):A.createElement(oe.Z,{value:r.amount,currency:r.currencyCode})))}));var lt=t(32443),ct=t(54761),dt={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useShouldDisplayPrice_prices",selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchResponseResult",kind:"LinkedField",name:"result",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchPrice",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null}],storageKey:null}],storageKey:null}],type:"v1_RoutePricingDataSearchResponse",abstractKey:null,hash:"f32d6225effe8d13325c75d4fcd928eb"};const ut=dt;var pt=t(91939),mt=W.dp_app_selection_dull,gt=W.dp_brand_neutral_dullest,vt=W.dp_app_selection_dull,ht=W.dp_brand_white,yt=(e,r)=>r?e?mt:gt:e?ht:vt,ft=e=>e?"underlineMobileShareableHeader":"indigoPill",Et=e=>{var{to:r,v1_routePricingDataSearch:t}=e,{query:n}=(0,I.TH)(),i=(0,J.YB)(),s=(0,o.useSelector)(S.iK),l=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{mobile:a}=(0,_.zw)(),n=(0,ge.useFragment)(ut,r),i=null==n?void 0:n.result;return!Boolean(t&&e===h.ZP.COACH)&&(e===h.ZP.COACH||a||!(null!=i&&i.some((e=>Boolean(null==e?void 0:e.price)))))}(r,t||null,s),c="true"===n.refinePassengerType,{currentCurrency:d}=(0,w.d)(),u=(0,A.useMemo)((()=>({query:(0,a.Z)({},(0,ir.V)(n,h.ZP.TRAIN,s?{transportModes:[ne.AvailableTransportModes.MIXED]}:{}))})),[s,n]),p={query:(0,a.Z)({},(0,ir.V)(n,h.ZP.COACH,s?{transportModes:[ne.AvailableTransportModes.COACH]}:{}))},m=(0,o.useSelector)((e=>(0,he.xg)(e,u))),g=(0,o.useSelector)((e=>(0,he.xg)(e,p))),v=(0,o.useSelector)((e=>(0,ct.jk)(e,u))),y=(0,A.useMemo)((()=>s?{amount:m,currencyCode:d}:v),[s,d,m,v]),f=(0,o.useSelector)(ct.lb),E=(0,A.useMemo)((()=>s?{amount:g,currencyCode:d}:f),[s,d,g,f]),b=(0,A.useMemo)((()=>r===h.ZP.TRAIN?y:E),[r,y,E]),T=b&&b.amount>0;return A.createElement(A.Fragment,null,l&&T&&A.createElement(A.Fragment,null,A.createElement("span",{"aria-label":(0,Ve.wv)(i,"page.coach.tabs.startingFromLabel"),className:(0,C.css)(at.bullet)},""),A.createElement(st,{to:r,price:b,disablePrice:c})))},bt=e=>{var{to:r,pricingDataQueryRef:t}=e,{v1_routePricingDataSearch:a}=(0,ge.usePreloadedQuery)(Ue,t);return A.createElement(Et,{to:r,v1_routePricingDataSearch:a})};const St=(0,i.injectIntl)((e=>{var{loadStatus:r,disabled:t,to:a,isActive:n,onClick:o,icon:s,arriveAt:l,departAt:c,showTabLabel:d,isEUExperience:u,isOnDemandCoachSearchEnabled:p}=e,{mobile:m}=(0,_.zw)(),g=m?"32":void 0,v=s&&s({fill:yt(n,m),height:g,width:g}),{routePricingQueryRef:y}=qe(),f=s&&s({fill:W.dp_brand_neutral_mid,height:g,width:g}),E=(r===ne.LoadStatus.SUCCESS||r===ne.LoadStatus.UNDEFINED&&p&&u)&&!t,b=(0,J.YB)(),S=$e(),T=m&&S;return A.createElement(Xr.Z,{to:a,onClick:o,disabled:t,isActive:!t&&n,skin:ft(m),styleSheet:tt.root},r===ne.LoadStatus.PENDING&&A.createElement("span",{className:(0,C.css)(at.tabWrapper,T&&at.loaded)},A.createElement("span",{className:(0,C.css)(at.icon)},v||null),T&&a!==h.ZP.COACH?A.createElement("span",{className:(0,C.css)(at.tabPriceLabel,a===h.ZP.TRAIN&&at.tabPriceTrainLabel)},A.createElement(i.FormattedMessage,{id:"page.coach.tabs.short.".concat(a,"TabLabel")})):A.createElement("span",{"aria-label":(0,Ve.wv)(b,"page.coach.tabs.tabLoading",{tabType:a}),className:(0,C.css)(at.text,at.textMargin)},A.createElement(Ze.Z,{styleSheet:it}))),E&&A.createElement("span",{"data-test":"tab-".concat(a,"-container"),className:(0,C.css)(at.tabWrapper,at.loaded)},A.createElement(pt.Z,null,(0,Ve.wv)(b,"page.coach.tabs.travelByLabel",{tabType:a})),A.createElement("span",{"aria-hidden":!0,className:(0,C.css)(at.icon)},v||null),A.createElement("span",{className:(0,C.css)((!T||a===h.ZP.COACH)&&at.centredText,a===h.ZP.COACH&&T&&at.tabPriceLabelText),"data-test":"tab-".concat(a,"-text-container")},A.createElement("span",{"data-test":"tab-".concat(a,"-text"),"aria-hidden":!0,className:(0,C.css)(at.text,at.tabText)},A.createElement(i.FormattedMessage,{id:"page.coach.tabs.short.".concat(a,"TabLabel")})),A.createElement("span",{className:(0,C.css)(at.tabPriceWrapper)},T?A.createElement("span",{className:(0,C.css)(at.tabPriceLabel,a===h.ZP.TRAIN&&at.tabPriceTrainLabel),"data-test":"tab-".concat(a,"-label")},A.createElement(i.FormattedMessage,{id:"page.coach.tabs.short.".concat(a,"TabLabel")})):y?A.createElement(P.SV,{fallback:A.createElement(Et,{to:a,v1_routePricingDataSearch:null})},A.createElement(A.Suspense,{fallback:null},A.createElement(bt,{pricingDataQueryRef:y,to:a}))):A.createElement(Et,{to:a,v1_routePricingDataSearch:null})),c&&l&&(!T||!m)&&A.createElement("span",{className:(0,C.css)(at.durationWrapper),"data-test":"duration-wrapper"},A.createElement(lt.Z,{start:c,end:l})))),(r===ne.LoadStatus.SUCCESS&&t||r===ne.LoadStatus.ERROR)&&A.createElement("span",{"data-test":"tab-".concat(a,"-container-disabled"),className:(0,C.css)(at.tabWrapper,at.loaded)},A.createElement("span",{className:(0,C.css)(at.icon)},f||null),d?A.createElement("span",{"data-test":"tab-".concat(a,"-disabled-messaging-with-label"),className:(0,C.css)(at.centredText,at.disabledLabel)},A.createElement(i.FormattedMessage,{id:"page.coach.tabs.short.".concat(a,"TabLabel")})):m?A.createElement("span",{"data-test":"tab-".concat(a,"-disabled-messaging"),className:(0,C.css)(at.centredText,at.disabledText)},A.createElement(i.FormattedMessage,{id:"page.coach.tabs.unavailable"})):A.createElement("span",{"data-test":"tab-".concat(a,"-disabled-messaging"),className:(0,C.css)(at.centredText,at.disabledText)},A.createElement(i.FormattedMessage,{id:"page.coach.tabs.".concat(a,"TabLabelDisabled")}))))}));var Tt=t(8888);const Ct=C.StyleSheet.create({root:{display:"flex",alignItems:"center",width:"100%",marginBottom:"var(--dp_s16)",gap:"var(--dp_s8)",[gr.cy.max.s]:{marginBottom:0,marginLeft:"calc(var(--dp_s24) * -1)",justifyContent:"space-between",width:"inherit"},[gr.cy.max.xs]:{marginLeft:"calc(var(--dp_s16) * -1)"}},wrapper:{opacity:1,transition:"opacity 300ms ease-in-out",[$r.ZP.tablet.strict]:{flexWrap:"wrap"}},emptyWrapper:{opacity:1,height:"var(--DEPRECATED-42px)"},portal:{display:"flex",margin:0,marginRight:Tt.Z.sizes.spacers.m,alignItems:"stretch",gap:"var(--dp_s16)"},mobilePortal:{display:"none"},priceCalendarToggle:{marginLeft:"auto",[$r.ZP.tablet.strict]:{marginTop:gr.W0.s3}}});var At=C.StyleSheet.create({wrapper:{marginBottom:0,display:"inline-grid",gridTemplateColumns:"1fr 1fr"}}),It=t(53638),_t=t(49369);const Pt=()=>{var{mobile:e,desktop:r}=(0,_.zw)(),{query:t}=(0,I.TH)(),{isSplitSaveEnabled:i}=(0,lr.m)(),s=(0,o.useDispatch)(),l=(0,o.useSelector)(S.iK),c=(0,o.useSelector)(b.Ef),d=(0,Z.x)().portal===ne.Portal.TRAINLINE,u=(0,o.useSelector)(Ke.Jp),m=r&&c,g=ur(),{coachDepartAt:v,coachArriveAt:y}=((e,r)=>{var t={query:(0,a.Z)({},(0,ir.V)(e,h.ZP.COACH,r?{transportModes:[ne.AvailableTransportModes.COACH]}:{}))},n=(0,o.useSelector)((e=>(0,ct.vq)(e,t))),i=(0,o.useSelector)(ct._V),s=r?n:i;return(0,A.useMemo)((()=>({coachDepartAt:s&&s.departAt,coachArriveAt:s&&s.arriveAt})),[s])})(t,l),{sendTracking:f}=(0,fe.rS)(),{trainAvailabilityLoadStatus:E,coachOverallLoadStatus:T,selectedTabLoadStatus:P}=(0,mr.n)(t,l),R=(0,A.useCallback)((e=>s((0,yr.ZM)({toTab:e}))),[s]),k=(0,A.useCallback)((e=>s((0,n.gx)({search:It.Z.stringifyQuery(e)}))),[s]),N={query:(0,a.Z)({},(0,ir.V)(t,h.ZP.TRAIN,l?{transportModes:[ne.AvailableTransportModes.MIXED]}:{}))},O=(0,o.useSelector)((e=>(0,S.fE)(e,N))),{trainDepartAt:L,trainArriveAt:x}=((e,r,t)=>{var n={query:(0,a.Z)({},(0,ir.V)(e,h.ZP.TRAIN,r?{transportModes:[ne.AvailableTransportModes.MIXED]}:{}))},i=(0,o.useSelector)((e=>(0,ct.q)(e,n))),s=(0,o.useSelector)((e=>(0,ct.vq)(e,n))),l=(0,o.useSelector)((e=>(0,ct.ID)(e,n))),c=r?t?i:s:l;return(0,A.useMemo)((()=>({trainDepartAt:c&&c.departAt,trainArriveAt:c&&c.arriveAt})),[c])})(t,l,O),D=pr(O),w="true"===t.splitSave,F=(0,o.useSelector)(p.vR),{isDirectSearchLimitedByMarket:B,isUniversalDirectSearchEnabledForLeisure:M}=(0,Ir.Z)(),U=(0,A.useCallback)((e=>{F!==e&&R(e)}),[F,R]),j={icon:Gr.Z,to:h.ZP.TRAIN,departAt:L,arriveAt:x,loadStatus:E,isActive:F===h.ZP.TRAIN,onClick:U,isEUExperience:l,disabled:!B&&E===ne.LoadStatus.ERROR,isOnDemandCoachSearchEnabled:u},H={icon:Wr.Z,to:h.ZP.COACH,departAt:v,arriveAt:y,loadStatus:T,isActive:F===h.ZP.COACH,onClick:U,isEUExperience:l,disabled:T===ne.LoadStatus.ERROR,isOnDemandCoachSearchEnabled:u},W=(0,A.useMemo)((()=>A.createElement("div",{className:(0,C.css)(Ct.portal,e&&Ct.mobilePortal),id:"portal-hsf-filters","data-test":"results-tab-bar-filters-portal"})),[e]),G=(0,A.useMemo)((()=>F===h.ZP.TRAIN&&E!==ne.LoadStatus.ERROR&&!P||F===h.ZP.COACH),[P,E,F]),V="".concat(l?"eu":"atoc","-price-calendar-toggle"),Y=!e&&i&&F===h.ZP.TRAIN,K=F===h.ZP.TRAIN&&!e;return A.createElement(A.Fragment,null,O?(B||M)&&A.createElement("div",{className:(0,C.css)(Ct.root,Ct.wrapper),"data-test":"placeholder"},A.createElement(Hr.Z,{skin:"pill",styleSheet:At.wrapper},A.createElement(St,j),A.createElement(St,(0,jr.Z)({},H,{disabled:!0,showTabLabel:!0,loadStatus:ne.LoadStatus.SUCCESS}))),e?A.createElement(Ar,{disabled:G}):W):A.createElement("div",{className:(0,C.css)(Ct.root,Ct.wrapper)},D&&A.createElement(A.Fragment,null,!g&&A.createElement(Hr.Z,{skin:"pill",styleSheet:At.wrapper},A.createElement(St,j),A.createElement(St,H)),m&&W),!g&&Y&&(0,ne.isTrainlinePortal)(_t.l)&&A.createElement(Qr,{isChecked:!!w,onChange:()=>{f((0,fe.k1)({coreProperties:{},category:"split save toggle",action:w?"search toggle disabled":"search toggle enabled",label:"split save toggle clicked"})),w?null==k||k((0,a.Z)((0,a.Z)({},t),{},{splitSave:void 0})):null==k||k((0,a.Z)((0,a.Z)({},t),{},{splitSave:"true"}))}}),l&&B&&d&&e&&A.createElement(Ar,{disabled:G}),!m&&W,K&&A.createElement("div",{className:(0,C.css)(Ct.priceCalendarToggle),"data-test":V},A.createElement(nr,{isEuExperience:l}))))};var Rt=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"attributeName"},{defaultValue:null,kind:"LocalArgument",name:"customerId"}],r=[{alias:null,args:[{kind:"Variable",name:"attributeName",variableName:"attributeName"},{kind:"Variable",name:"customerId",variableName:"customerId"}],concreteType:"v1_PersonalisationAttribute",kind:"LinkedField",name:"v1_customerAttribute",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useUpsellPropensityQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useUpsellPropensityQuery",selections:r},params:{id:"ed6363dc19248a0beef14ddc5afa357d",metadata:{},name:"useUpsellPropensityQuery",operationKind:"query",text:null}}}();Rt.hash="3cbc6748fd91239badf7163f3afb7338";const kt=Rt;var Nt=t(12822),Ot=t(68760),Lt=t(16558),xt=kt,Dt=t(79239),wt=t(22389),Zt=t(67292);const Ft=C.StyleSheet.create({wrapper:{flexGrow:1,alignSelf:"flex-end"},container:{paddingBottom:et.spacers.s,backgroundColor:"transparent",minHeight:"3.25rem"},date:{alignSelf:"center",fontSize:rt.W.body.fontSize,whiteSpace:"nowrap"},dateCurrentDay:{fontWeight:rt.R.body.weights.bold},loading:{display:"flex",justifyContent:"center",alignSelf:"center"},price:(0,a.Z)((0,a.Z)({},rt.W.body),{},{fontWeight:700,fontSize:rt.W.title4.fontSize}),info:{fontSize:rt.W.small.fontSize,display:"flex",justifyContent:"center"},underline:{borderBottom:"unset",marginRight:"1px",height:"unset",flexGrow:1,justifyContent:"center"},underlineActive:{borderBottom:"unset",marginRight:"1px",height:"unset",flexGrow:1,justifyContent:"center"},magnifyingGlass:{alignSelf:"center",height:et.spacers.m,paddingTop:et.spacers.px4},activeBorder:{backgroundColor:W.dp_app_selection_dull,borderTopLeftRadius:"4px",borderTopRightRadius:"4px",height:"4px",flexGrow:1,width:"100%"},inactiveBorderSpacer:{height:"4px"},priceComponentContainer:{display:"flex",justifyContent:"center",alignItems:"center"}});var Bt={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIndividualWeeklyPriceData",selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchPrice",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currencyCode",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null}],type:"v1_RoutePricingDataSearchResponseResult",abstractKey:null,hash:"c66c085da53f9fc5aefc58d90973642f"};const Mt=Bt;var Ut={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useJourneyDepartureTimes",selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchJourney",kind:"LinkedField",name:"journeys",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"departAt",storageKey:null}],storageKey:null}],type:"v1_RoutePricingDataSearchResponseResult",abstractKey:null,hash:"d84f2f2f46abd80e20d7d07ee4c224a9"};const jt=Ut;var Ht=e=>{var r=(0,ge.useFragment)(jt,e);return(0,A.useMemo)((()=>(0,ve.YE)(null==r?void 0:r.journeys)),[r])},Wt=e=>Le((0,ge.useFragment)(Mt,e),Ht(e)),Gt=t(82812),Vt=e=>{var{date:r,isMobileFormat:t=!1}=e,a=(0,Gt.Z)(),{formatMessage:n,formatDate:i}=(0,J.YB)(),o=r&&(0,Zt.Qb)(r),s=a?"dateTimeFormat.dateUSFormatNoYear":"dateTimeFormat.dateNoYear",l=n({id:s},{weekday:t?"":i(new Date(o),{weekday:"short",timeZone:"UTC"}),day:i(new Date(o),{day:"numeric",timeZone:"UTC"}),month:i(new Date(o),{month:"short",timeZone:"UTC"})});return A.createElement("span",{"data-test":"day-price-".concat(s)},l)},Yt=()=>A.createElement("span",{className:(0,C.css)(Ft.loading)},A.createElement(Ze.Z,null)),Kt=e=>{var{fill:r="#000000"}=e;return A.createElement(wt.Z,{className:(0,C.css)(Ft.magnifyingGlass),fill:r})},zt=(0,i.injectIntl)((e=>{var{mappedPrice:r,children:t,fallbackIfNoPrice:a}=e;return A.createElement(A.Fragment,null,null!=r&&r.price&&r.price.amount&&r.price.currencyCode?t({amount:r.price.amount,currencyCode:r.price.currencyCode}):a)})),Jt=e=>{var{isActive:r,loadStatus:t,preloadedQueryData:a=null,showLowPrices:n,onClick:o,tabIndex:s,date:l,isSearchedDay:c,accessibleTabId:d}=e,u=Ht(a),p=Wt(a);return A.createElement("div",{className:(0,C.css)(Ft.wrapper)},A.createElement(Xr.Z,{id:"".concat(d).concat(l),onClick:()=>{var e;return l&&o(l,u,null==p||null===(e=p.price)||void 0===e?void 0:e.amount)},isActive:r,skin:"underline",styleSheet:r?Ft.underlineActive:Ft.underline},A.createElement("div",{className:(0,C.css)(Ft.container),"data-test":r?"active-day-price-tab-".concat(s):"day-price-tab-".concat(s)},A.createElement("div",{className:(0,C.css)(Ft.date,c?Ft.dateCurrentDay:""),"data-test":"date-tab-".concat(l),"data-date":l},A.createElement(Vt,{date:l})),!c&&n&&A.createElement("div",{className:(0,C.css)(Ft.priceComponentContainer),"data-test":"price-container"},t===ne.LoadStatus.PENDING?A.createElement(Yt,null):t===ne.LoadStatus.SUCCESS&&A.createElement(zt,{mappedPrice:p,fallbackIfNoPrice:A.createElement(Kt,null)},(e=>{var{amount:r,currencyCode:t}=e;return A.createElement("div",{"data-test":"price",className:(0,C.css)(Ft.info)},A.createElement(i.FormattedMessage,{id:"page.priceCalendar.from",values:{price:A.createElement("span",{"data-test":"price-tab-".concat(s),className:(0,C.css)(Ft.price)},A.createElement(oe.Z,{value:r,currency:t,hideDecimalsForIntegers:!0}))}}))}))))),A.createElement("div",{className:(0,C.css)(r?Ft.activeBorder:Ft.inactiveBorderSpacer),"data-test":"tab-underline"}))};const qt=C.StyleSheet.create({root:{width:"100%",transition:"300ms"},tabsMargin:{marginTop:et.spacers.px16},priceListContainer:{display:"flex",width:"100%"},mobilePriceListContainer:{display:"flex",gap:gr.W0.s3,paddingTop:gr.W0.s2,paddingBottom:gr.W0.s2,width:"100%",overflowX:"scroll",msOverflowStyle:"none",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},loadingDotsContainer:{justifyContent:"center",alignItems:"center"}});var Qt=t(11635),Xt={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePricesFragment_prices",selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchResponseResult",kind:"LinkedField",name:"result",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_RoutePricingDataSearchPrice",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currencyCode",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null}],storageKey:null}],type:"v1_RoutePricingDataSearchResponse",abstractKey:null,hash:"20792df918d94041b32a77e1f3414cb5"};const $t=Xt;var ea=e=>{var{result:r}=(0,ge.useFragment)($t,e);return Le(r)},ra=t(72428);var ta=e=>{var r=(0,o.useDispatch)(),t=(()=>{var{sendTracking:e}=(0,fe.rS)();return(0,A.useCallback)(((r,t,a)=>{var n=r.join("|"),i=r[a],o=r[a+t],s=["tab: ".concat(a),"tab change: ".concat(t),"tab price prev: ".concat(i),"tab price next: ".concat(o)],l=(0,fe.k1)({coreProperties:{genericValue1:"price calendar prices: ".concat(n)},action:"price calendar clicked",category:Pe,label:s.join("|")});e(l)}),[e])})(),a=(()=>{var{sendTracking:e}=(0,fe.rS)();return(0,A.useCallback)(((r,t)=>{var a=(0,fe.k1)({coreProperties:{genericValue1:t},action:"date clicked",category:Pe,label:r});e(a)}),[e])})(),n=Fe(),i=ea(e.v1_routePricingDataSearch);return(0,A.useCallback)((e=>(o,s,l)=>{var c=i.map((e=>function(e){var r=e&&e.amount;return null==r?"NULL":r.toFixed(2)}(null==e?void 0:e.price)));t(c,e,n),a(o,l?l.toString():"magnifying glass"),r((0,ra.xc)({selectedDate:o,journeysDepartureTimes:s}))}),[r,n,i,t,a])},aa=e=>{var r,{isPriceCalendarVisible:t,preloadedQueryData:a}=e,{journeySearchVariables:n}=(0,ye.Kl)(),i=Fe(),s=$e(),l=be(),c=ta(a),d=(()=>{var e,{journeySearchVariables:r}=(0,ye.Kl)(),t=null==r||null===(e=r.relayVariables)||void 0===e?void 0:e.outwardJourney.dateTime;return e=>(0,ve.KC)(t,e)})(),u=(0,o.useSelector)((e=>(0,p.vR)(e))),m=ea(a.v1_routePricingDataSearch),g=(0,A.useMemo)((()=>{var e;return(0,ve.Ri)(null==n||null===(e=n.relayVariables)||void 0===e?void 0:e.outwardJourney.dateTime)}),[null==n||null===(r=n.relayVariables)||void 0===r?void 0:r.outwardJourney.dateTime]),v=t&&s;return{weeklyData:g.map(((e,r)=>{var t,n=null===(t=a.v1_routePricingDataSearch.result)||void 0===t?void 0:t.find((r=>{var{start:t}=r;return(0,ve.KC)(t,e)}));return{date:e,isActive:i===r,showLowPrices:v,tabIndex:r,loadStatus:l,preloadedQueryData:n,onClick:c(r-i),isSearchedDay:d(e),accessibleTabId:u}})),loadStatus:l,pricingData:m}},na=t(10287),ia=t(24425);const oa=C.StyleSheet.create({wrapper:{flexGrow:1,alignSelf:"flex-end"},container:{border:"1px solid ".concat(W.dp_app_border_base),paddingBottom:gr.W0.s1,cursor:"pointer",borderRadius:gr.W0.s1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:gr.W0.s20,height:"var(--DEPRECATED-56px)"},activeContainer:{border:"2px solid ".concat(W.dp_brand_secondary_duller)},noPriceContainer:{padding:0,paddingBottom:gr.W0.s1},date:{alignSelf:"center",fontSize:rt.W.body.fontSize,whiteSpace:"nowrap",color:W.dp_app_text_subdued},dateCurrentDay:{color:W.dp_app_text_base},loading:{display:"flex",justifyContent:"center",alignSelf:"center"},price:(0,a.Z)((0,a.Z)({},rt.W.body),{},{fontWeight:600,fontSize:ia.Ro}),selectedPrice:{color:W.dp_brand_secondary_duller},info:{fontSize:rt.W.small.fontSize,display:"flex",justifyContent:"center"},tab:{height:"unset",display:"flex",flexGrow:1,justifyContent:"center",width:"auto",border:"none",boxShadow:"none",borderRadius:gr.W0.s1,background:W.dp_brand_white},activeTab:{background:W.dp_brand_secondary_brighter,width:"auto",border:"none",boxShadow:"none",borderRadius:gr.W0.s1,":hover":{background:W.dp_brand_secondary_brighter}},magnifyingGlass:{alignSelf:"center",height:et.spacers.m,paddingTop:et.spacers.px4}});var sa=e=>{var r;null===(r=e.current)||void 0===r||r.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},la=e=>{var{isActive:r}=e;return[oa.tab,r&&oa.activeTab]},ca=e=>{var{isActive:r,loadStatus:t,preloadedQueryData:a=null,showLowPrices:n,onClick:i,tabIndex:o,date:s,isSearchedDay:l,accessibleTabId:c}=e,d=(0,A.useRef)(null),u=Ht(a),p=Wt(a);return A.useLayoutEffect((()=>{(r||l)&&sa(d)}),[r,l,t,s]),A.createElement("div",{className:(0,Sr.css)(oa.wrapper),ref:d},A.createElement(Xr.Z,{to:c,onClick:()=>{var e;s&&(sa(d),i(s,u,null==p||null===(e=p.price)||void 0===e?void 0:e.amount))},isActive:r,styleSheet:la({isActive:r||l})},A.createElement("div",{className:(0,Sr.css)(oa.container,(r||l)&&oa.activeContainer,!p&&oa.noPriceContainer),"data-test":r?"active-day-price-tab-mobile-".concat(o):"day-price-tab-mobile-".concat(o)},A.createElement("div",{className:(0,Sr.css)(oa.date,l?oa.dateCurrentDay:""),"data-test":"date-tab-mobile-".concat(s),"data-date":s},A.createElement(Vt,{date:s,isMobileFormat:!0})),t===ne.LoadStatus.ERROR&&A.createElement(Kt,{fill:"#8A9497"}),n&&A.createElement("div",{"data-test":"price-container-mobile"},A.createElement("div",{className:(0,Sr.css)(oa.price,l&&oa.selectedPrice)},t===ne.LoadStatus.PENDING?A.createElement(Yt,null):t===ne.LoadStatus.SUCCESS&&A.createElement(zt,{mappedPrice:p,fallbackIfNoPrice:A.createElement(Kt,{fill:"#8A9497"})},(e=>{var{amount:r,currencyCode:t}=e;return A.createElement(oe.Z,{testId:"price-tab-".concat(o),value:r,currency:t,hideDecimalsForIntegers:!0})})))))))},da=e=>{var{isPriceCalendarVisible:r,loadStatus:t}=e,{query:{outwardDate:a}}=(0,I.TH)(),{start:n}=(0,ve.Og)(a),i=(0,na.po)(n),{mobile:o}=(0,_.zw)();return A.createElement("div",{className:(0,Sr.css)([qt.root,!o&&qt.tabsMargin]),"data-test":o?"loading-price-calendar-mobile":"loading-price-calendar"},A.createElement(Dt.Z,{shouldAnimate:!0,expanded:r},r&&A.createElement(Hr.Z,{styleSheet:qt.priceListContainer},A.createElement("div",{className:(0,Sr.css)(o?qt.mobilePriceListContainer:qt.priceListContainer)},i.map(((e,n)=>{var{date:i}=e,s={date:i,loadStatus:t,showLowPrices:r,isActive:(0,ve.KC)(i,a),onClick:()=>{},tabIndex:n,accessibleTabId:h.ZP.TRAIN,isSearchedDay:(0,ve.KC)(i,a)};return o?A.createElement(ca,(0,jr.Z)({key:i},s,{onClick:(e,r)=>{s.onClick(e,r)}})):A.createElement(Jt,(0,jr.Z)({key:i},s))}))))))},ua=t(57743),pa=e=>{var r,t,{routePricingDataQueryRef:a,isPriceCalendarVisible:n}=e,[i,s]=A.useState(!1),l=(0,A.useRef)(!0),{mobile:c}=(0,_.zw)(),d=(0,ge.usePreloadedQuery)(Ue,a),{weeklyData:u,loadStatus:p,pricingData:m}=aa({isPriceCalendarVisible:n,preloadedQueryData:d}),g=$e(),v=(()=>{var{sendTracking:e}=(0,fe.rS)();return(0,A.useCallback)(((r,t,a)=>{var n=(0,fe.k1)({coreProperties:{genericValue1:t,genericValue2:a},action:"price calendar impression",category:Pe,label:"".concat(Te()(r.start).format(Re),"::").concat(Te()(r.end).format(Re))});e(n)}),[e])})(),h=(()=>{var{sendTracking:e}=(0,fe.rS)();return(0,A.useCallback)(((r,t,a)=>{var n=(0,fe.k1)({coreProperties:{genericValue1:t,genericValue2:a},action:"dates scrolled",category:Pe,label:"".concat(Te()(r.start).format(Re),"::").concat(Te()(r.end).format(Re))});e(n)}),[e])})(),y=m.map((e=>{var r;return null==e||null===(r=e.price)||void 0===r?void 0:r.amount})),f=u.map((e=>null==e?void 0:e.date));((e,r,t,a,n,i)=>{var o=(0,A.useRef)(!0),s=(0,A.useRef)(!0),l=(0,Ce.d1t)(Ce.kKJ,r),c=(0,Ce.d1t)(Ce.kKJ,t);(0,A.useEffect)((()=>{n===ke.IMPRESSION&&e===ne.LoadStatus.SUCCESS&&o.current&&(a(_e(c),Ie(l),Ae(l)),o.current=!1)}),[e]),(0,A.useEffect)((()=>{n===ke.SCROLL&&e===ne.LoadStatus.SUCCESS&&s.current&&i&&i>5&&(a(_e(c),Ie(l),Ae(l)),s.current=!1)}),[i])})(p,y,f,v,ke.IMPRESSION),r=(0,o.useDispatch)(),t=(0,A.useCallback)((()=>r((0,Qt.q3)(!1))),[r]),(0,A.useEffect)((()=>()=>{t()}),[t]);var E=n&&g,b=(0,A.useMemo)((()=>(0,ua.D)((()=>{if(!i)return s(!0);if(c&&y&&f){var[e]=f,r=f[f.length-1],t=y.reduce(((e,r)=>(void 0!==r&&e.push(r),e)),[]),a=Ie(t),n=Ae(t);l.current&&h({start:e,end:r},a,n),l.current=!1}}),1e3)),[i,c,y,h,f]);return A.createElement("div",{className:(0,Sr.css)([qt.root,E&&!c&&qt.tabsMargin]),"data-test":"price-calendar"},A.createElement(Dt.Z,{shouldAnimate:!0,expanded:E},E?A.createElement(Hr.Z,{styleSheet:qt.priceListContainer},A.createElement("div",{className:(0,Sr.css)(c?qt.mobilePriceListContainer:qt.priceListContainer),onScroll:b},u.map((e=>c?A.createElement(ca,(0,jr.Z)({key:e.date},e,{onClick:(r,t,a)=>{s(!1),e.onClick(r,t,a)}})):A.createElement(Jt,(0,jr.Z)({key:e.date},e)))))):null))};const ma=()=>{var{routePricingQueryRef:e,isPriceCalendarVisible:r}=qe(),{mobile:t}=(0,_.zw)();return A.createElement(P.SV,{fallback:A.createElement(da,{isPriceCalendarVisible:r,loadStatus:ne.LoadStatus.ERROR})},A.createElement(A.Suspense,{fallback:t?A.createElement("div",{className:(0,Sr.css)(qt.mobilePriceListContainer,qt.loadingDotsContainer),"data-test":"loading-dots-container"},A.createElement(Yt,null)):A.createElement(da,{isPriceCalendarVisible:r,loadStatus:ne.LoadStatus.PENDING})},e&&A.createElement(pa,{isPriceCalendarVisible:r,routePricingDataQueryRef:e})))};var ga=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"clientId"}],r=[{alias:null,args:[{kind:"Literal",name:"attributeName",value:"show_extra_ads"},{kind:"Variable",name:"clientId",variableName:"clientId"}],concreteType:"v1_PersonalisationAttribute",kind:"LinkedField",name:"v1_clientAttribute",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"UseCxtradQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"UseCxtradQuery",selections:r},params:{id:"3b965262d66266de204587c90583fa78",metadata:{},name:"UseCxtradQuery",operationKind:"query",text:null}}}();ga.hash="612cecd425b35dc092e04f7bf6838835";const va=ga;var ha=t(69138),ya=va,fa=t(33337),Ea=t(46206),ba=t(51282),Sa=t(9187),Ta=t(29011),Ca=t(97016),Aa=t(22524),Ia=t(49042),_a=t(3487),Pa=t(14023),Ra=t(4627),ka=t(88466),Na=t(12720),Oa=t(57535);const La=C.StyleSheet.create({list:{color:W.dp_app_text_base,display:"flex",alignItems:"center",marginLeft:0,flexWrap:"wrap"},item:{display:"flex",justifyContent:"center",lineHeight:"1.75em",marginLeft:0,marginRight:0,":before":{content:'""',marginLeft:8,marginRight:7,color:W.dp_app_text_subtle},":first-child":{":before":{content:"none"},marginLeft:0}},label:{color:W.dp_app_text_base},separator:{paddingLeft:et.spacers.s,paddingRight:et.spacers.s,color:W.dp_app_text_subtle},changeButton:{width:"auto",paddingLeft:et.spacers.m,paddingRight:et.spacers.m,minHeight:29,fontWeight:"normal"},sharableColor:{color:W.dp_app_text_inverted},wrapper:{display:"flex",flexDirection:"row",justifyContent:"space-between"},changeJourneyHeader:{marginLeft:et.spacers.m,display:"flex",justifyContent:"center",flexDirection:"column"}});var xa=C.StyleSheet.create({buttonWrapper:{height:"56px",backgroundColor:W.dp_comp_table_row,display:"flex",alignItems:"center",borderRadius:gr.W0.s8,paddingLeft:"19px",paddingRight:"19px",cursor:"pointer",width:"100%"},iconSearch:{fill:W.dp_app_text_base,marginRight:gr.W0.s3,flexShrink:0},ODWrapper:{flexGrow:1,flexShrink:1},header:{display:"grid",gridTemplateColumns:"minmax(auto, max-content) 24px auto"},headerMobile:{whiteSpace:"nowrap",color:W.dp_app_text_base,fontWeight:600,textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"}}),Da=C.StyleSheet.create({originDestinationContainerMobile:{marginTop:gr.W0.s1},arrowDestinationContainerMobile:{display:"inline-block"},labelMobile:{color:W.dp_app_text_subdued,lineHeight:"20px",fontSize:et.spacers.px14,fontWeight:600,verticalAlign:"middle"},labelVia:{color:W.dp_app_text_subdued,lineHeight:"20px",fontSize:et.spacers.px14,fontWeight:600},labelArrowMobile:{fill:W.dp_app_text_subdued,verticalAlign:"middle",width:"16px",margin:"0px ".concat(et.spacers.s," 0px ").concat(et.spacers.s)},titleMobileContainer:{display:"flex",alignItems:"center",justifyContent:"space-between"},changeButtonMobile:{width:"auto",borderRadius:gr.E0.m,color:W.dp_app_text_base,backgroundColor:W.dp_comp_button_tertiary_background,border:"solid 1px ".concat(W.dp_app_border_base),fontSize:et.spacers.px16,fontWeight:600,paddingLeft:et.spacers.s,paddingRight:et.spacers.s,lineHeight:"20px",verticalAlign:"middle",textAlign:"center",marginLeft:gr.W0.s4,":active":{backgroundColor:W.dp_comp_button_tertiary_background_pressed,color:W.dp_app_text_base},":focus":{backgroundColor:W.dp_comp_button_tertiary_background_pressed,color:W.dp_app_text_base},":hover:not(:disabled)":{backgroundColor:W.dp_comp_button_tertiary_background_hover}}}),wa=t(32183),Za=t(3784),Fa=t(44055),Ba=t(87332),Ma=t(21650),Ua=e=>{var{shouldTrackVariant:r,shouldTrackControl:t,experimentKey:a,children:n}=e,{experimentsDict:i}=(0,er.zM)(["experimentsDict"],{shouldTrackExperiments:!1}),o=(0,R.uF)(i,a),s=!!o&&"$0"!==o,l=!!o&&"$0"===o,c=Boolean(s&&r),d=Boolean(l&&t);return c||d?A.createElement(Ma.Z,{experimentKey:a},n):A.createElement(A.Fragment,null,n({isVariant:s,isControl:l,value:o}))},ja=t(55611),Ha=(e,r)=>{return e&&Object.keys(e).length>0?A.createElement("span",{"data-test":"rail-cards-label"},(t=e,Object.keys(t).map((e=>{var r=t[e];return r&&r.count&&r.count>1?"".concat(r.count,"x ").concat(r.name):r?r.name:""})).join(", "))):r?A.createElement(Ia.Z,{onClick:r,"data-test":"railcardsButton"},A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.addRailcard"})):null;var t},Wa=e=>{var{isInwardView:r,onClick:t,saveInputRef:a,isDpiJourneySearchInProgress:n,origin:o,destination:s,isChangeJourneyHeaderReadonly:l,via:c}=e,d=(0,J.YB)(),{enableNewSearchHeaderStylingMobile:u}=(0,We.QE)();return A.createElement(Ua,{shouldTrackControl:!0,shouldTrackVariant:u,experimentKey:L.zA.ENABLE_NEW_SEARCH_HEADER_STYLING_MOBILE},(e=>{var{isVariant:p}=e;return p&&u?A.createElement("button",{className:(0,C.css)(xa.buttonWrapper),onClick:t,"data-test":"variant"},A.createElement(Za.default,{className:(0,C.css)(xa.iconSearch),fill:W.dp_app_text_base,size:24}),A.createElement("div",{className:(0,C.css)(xa.ODWrapper)},A.createElement("div",{className:(0,C.css)(xa.header)},A.createElement(Pa.Z,{as:"span",textType:"body",fontFamily:"brand",styleSheet:xa.headerMobile},o),A.createElement(Ba.Z,null),A.createElement(Pa.Z,{as:"span",textType:"body",fontFamily:"brand",styleSheet:xa.headerMobile},s)))):A.createElement("div",null,A.createElement("div",{"data-test":"mobile-header-wrapper",className:(0,C.css)(Da.titleMobileContainer)},A.createElement(Fa.C,{as:"h1",typeStyle:"title1"},d.formatMessage({id:"page.matrix.changeJourneyHeader.mobile.".concat(r?"return":"outbound"),defaultMessage:ja["page.matrix.changeJourneyHeader.mobile.".concat(r?"return":"outbound")]})),l?A.createElement(wa.Z,null):A.createElement(ie.kq,{styleSheet:Da.changeButtonMobile,onClick:t,testId:"changeButton",saveInputRef:a,disabled:!!n},A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.mobile.edit"}))),A.createElement("div",{className:(0,C.css)(Da.originDestinationContainerMobile)},o&&A.createElement("span",{className:(0,C.css)(Da.labelMobile)},o),s&&A.createElement("span",{className:(0,C.css)(Da.arrowDestinationContainerMobile)},A.createElement(Ra.Z,{className:(0,C.css)(Da.labelArrowMobile)}),A.createElement("span",{className:(0,C.css)(Da.labelMobile)},s))),c&&A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.via",values:{viaName:A.createElement("span",{className:(0,C.css)(Da.labelVia)},c)}}))}))},Ga=(e,r)=>(0,Ce.fS0)(r,e);const Va=A.memo((0,_.FZ)((e=>{var{deviceType:r,onMobileChangeJourney:t,onRequestChangeJourney:a,coreProperties:n,journeyType:o,passengerCount:s,cardTypes:l,onRequestAddCardType:c,styleSheet:d,origin:u,showCards:p=!0,destination:m,isEurope:g,isDpiJourneySearchInProgress:v,isInwardView:h,isChangeJourneyHeaderReadonly:y=!1,via:f,isVoucherApplied:E=!1}=e,b=(0,A.useRef)(null),S=()=>{r===fa.WO.MOBILE&&"function"==typeof t&&n?((0,Na.Rz)(),t(n)):a((()=>{var e;b&&(null===(e=b.current)||void 0===e||e.focus())}))};return r===fa.WO.MOBILE?A.createElement(Wa,{isInwardView:!!h,onClick:S,saveInputRef:e=>{b.current=e},isDpiJourneySearchInProgress:v,origin:h?m:u,destination:h?u:m,isChangeJourneyHeaderReadonly:y,passengers:s,cardTypes:l,onRequestAddCardType:c,via:f}):A.createElement("div",{className:(0,C.css)(La.wrapper)},A.createElement("div",null,A.createElement("h2",{className:(0,C.css)(ka.Z.hidden)},A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.title"})),A.createElement(_a.UK,{styleSheet:{list:[La.list,d],item:La.item}},u&&m&&A.createElement("span",{"data-test":"change-journey-header"},A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.fromTo",values:{origin:A.createElement("strong",{"data-test":"change-journey-header-origin"},u),destination:A.createElement("strong",{"data-test":"change-journey-header-destination"},m)}})),f&&A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.via",values:{viaName:A.createElement("strong",{"data-test":"change-journey-header-via"},f)}}),A.createElement("span",{className:(0,C.css)(La.label),"data-test":"journeyType"},A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.journeyTypes.".concat(o)})),A.createElement(Oa.Z,{isEurope:g,passengersCount:s}),p&&Ha(l,c),y&&E&&A.createElement("span",{"data-test":"voucher-label"},A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.promoCode"})))),A.createElement("div",{className:(0,C.css)(La.changeJourneyHeader)},y?A.createElement(wa.Z,null):A.createElement(ie.kq,{styleSheet:La.changeButton,onClick:S,testId:"changeButton",saveInputRef:e=>{b.current=e},disabled:!!v,ariaHaspopup:"dialog"},A.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.change"}))))})),Ga);var Ya=t(7822),Ka=t(51730),za=(0,s.compose)(I.EN,_.FZ,(0,o.connect)(((e,r)=>{var{deviceType:t,isInboundUser:a=!1}=r,n=(0,g.FD)(e),i=n&&(0,S.KR)(e),o=n&&(0,S.Bk)(e),s=null==o?void 0:o.name,l="return"===i,c=(0,S.$b)(e),d=(0,E.G4)(e),u=l&&(c?(0,S.fE)(e,n):!!(0,S.ED)(e,n)),m={name:void 0},v=(0,S.VS)(e)||m,y=(0,S.NA)(e)||m,[{name:f},{name:b}]=[v,y],{voucherInput:C}=(0,ba.gH)(e),A=Boolean(C);if(!A){var I=(0,Ge.Cu)(e,n);A=Object.values((null==I?void 0:I.fares)||{}).some((e=>{var r;return Boolean(null==e||null===(r=e.vouchers)||void 0===r?void 0:r.length)}))}var{enableShowHeaderRailcard:_}=(0,Ee.Gg)(e),P=(0,T.mX)(e),R=(0,Ot.c4)(e),k=(0,E.xg)(e),N=(0,Ke.uO)(e),O=t===fa.WO.MOBILE,{destination:L,inwardDate:x,origin:D,outwardDate:w,passengers:Z,passengerDiscountCards:F}=(0,S.Wc)(e),B=(null==F?void 0:F.length)>0;return(0,Ya.G)({customerId:R,destination:b,destinationURN:L,enableSearchAgain:k,enableSearchShadowSave:N,hasDiscountCardApplied:B,inwardDate:x,isInboundUser:a,isMobile:O,isResultsPage:P,isVoucherApplied:A,journeyType:i,origin:f,originURN:D,outwardDate:w,passengers:Z,searchQuery:null==n?void 0:n.search}),{origin:f,destination:b,journeyType:i,passengerCount:(0,S.JU)(e),cardTypes:(0,Aa.Y)(e),showCards:_&&(0,S.Bd)(e),isEurope:c,isDpiJourneySearchInProgress:(0,S.L_)(e)&&(0,p.vR)(e)===h.ZP.TRAIN?(0,Ee.XJ)(e,n):(0,or.V4)(e),isInwardView:u,coreProperties:(0,Ta.zc)(e),isChangeJourneyHeaderReadonly:d,via:s,isVoucherApplied:A}}),(e=>{var r=r=>e((0,br.Ll)({type:l.e.CHANGE_JOURNEY_SEARCH_MODAL,params:{source:r,errorCodes:[]}}));return{onRequestChangeJourney:()=>r(Ca.G.CHANGE_SEARCH),onRequestAddCardType:()=>r(Ca.G.ADD_RAILCARD),onMobileChangeJourney:r=>{e((0,Sa.$)({eventType:Ea.EventTypes.GENERIC_EVENT,analyticsEventType:Ea.EventTypes.GENERIC_EVENT,analyticsEventPayload:{event:"generic event",eventProperties:{eventAction:"edit search clicked",eventCategory:"results",eventLabel:"edit search clicked"},coreProperties:r}})),e((0,Ka.cf)())}}})))(Va);za.displayName="ChangeJourneyHeaderComposed";const Ja=za;var qa=t(35032),Qa=t(33439),Xa=t(34214);const $a=C.StyleSheet.create({root:{display:"flex",flexDirection:"row",flexWrap:"wrap",maxWidth:Tt.Z.sizes.contentWidth.max,marginLeft:"auto",marginRight:"auto",position:"relative",justifyContent:"space-between",padding:Tt.Z.sizes.spacers.m,paddingTop:"0.525rem",[Tt.Z.breakpoints.small.min]:{maxWidth:Tt.Z.sizes.contentWidth.maxTablet},[Tt.Z.breakpoints.medium.min]:{maxWidth:Tt.Z.sizes.contentWidth.max},"@media print":{display:"none"},[Tt.Z.breakpoints.small.max]:{padding:"".concat(et.spacers.px18," ").concat(et.spacers.l," 0 ").concat(et.spacers.l)},[Tt.Z.breakpoints.xxs.max]:{padding:"".concat(et.spacers.px18," ").concat(et.spacers.m," 0 ").concat(et.spacers.m)}},resultsWrapper:{paddingTop:Tt.Z.sizes.spacers.m,paddingBottom:Tt.Z.sizes.spacers.s,[Tt.Z.breakpoints.small.max]:{width:"100%",paddingTop:gr.W0.s2,paddingBottom:gr.W0.s3}},horizontalWrapper:{display:"flex",flex:"1 1 100%",fontSize:Xa.Z.title5.fontSize,paddingBottom:Tt.Z.sizes.spacers.m},horizontalWrapperBottomMargin:{[Tt.Z.breakpoints.medium.max]:{paddingBottom:Tt.Z.sizes.spacers.s}},changeJourneyHeaderWithHSF:{[Tt.Z.breakpoints.medium.min]:{display:"none"}},horizontalSearchContainer:{flex:1,[$r.ZP.medium.max]:{display:"none"}},noBottomPadding:{paddingBottom:0},container:{backgroundColor:W.dp_app_backdrop_base,width:"100%"},containerWrapperMobile:{color:W.dp_brand_neutral_mid},containerSimplified:{backgroundColor:gr.O9.palette.grey_60,width:"100%"},logoWrapper:{display:"flex",alignItems:"center",marginTop:"var(--DEPRECATED-7px)",[Tt.Z.breakpoints.small.max]:{marginTop:"0"}},logo:{color:W.dp_brand_primary_mid,width:"140px",fontSize:"var(--DEPRECATED-21px)",lineHeight:"var(--DEPRECATED-21px)",[Tt.Z.breakpoints.small.max]:{width:"100px"}},adWrapper:{display:"flex",flex:"1 1 100%",justifyContent:"center"},breadcrumbWrapper:{flex:"1 1 100%",paddingTop:Tt.Z.sizes.spacers.s},menuBar:{display:"flex",justifyContent:"flex-end",color:W.dp_app_text_base},secureCheckout:(0,a.Z)({marginLeft:Tt.Z.sizes.spacers.s},rt.W.title5),padlock:{height:"16px",width:"12px",marginLeft:Tt.Z.sizes.spacers.l},navWrapper:{flex:"1 1 75%"},links:{flexGrow:1},rootContainer:{position:"relative"},sectionMobile:(0,a.Z)({},Qa.O),GenericSearchError:{paddingTop:gr.W0.s8,paddingBottom:gr.W0.s6,[gr.cy.max.s]:{paddingTop:gr.W0.s4}}});const en=e=>{var r,{isDpiError:t,location:a}=e;return Boolean(null==a||null===(r=a.pathname)||void 0===r?void 0:r.startsWith(ae.L1.genericSearchError()))&&!t?A.createElement("div",{"data-test":"change-journey-header-container-wrapper",className:(0,C.css)($a.GenericSearchError)},A.createElement(Ja,null)):null};var rn=t(32912);const tn=e=>{var{isDpiError:r,shouldShowResultsTabBar:t,isTrainTabSelected:a}=e,n=(0,I.TH)(),{carrierFilterEnabled:i}=(0,Z.x)(),{isInboundUser:o}=(0,rn.ZP)(),s=n.pathname===ae.L1.results(),l=s&&i;return A.createElement("div",{"data-test":"mobile-container-wrapper",className:(0,C.css)($a.container,$a.containerWrapperMobile)},A.createElement(O.Z,null),A.createElement("section",{className:(0,C.css)($a.sectionMobile)},A.createElement(N.Z,null),A.createElement(k.Z,null,s&&A.createElement("div",{className:(0,C.css)($a.resultsWrapper)},A.createElement("div",{"data-test":"change-journey-header-container-wrapper"},A.createElement(Ja,{isInboundUser:o}))),t&&A.createElement(P.SV,{fallback:null},A.createElement(Xe,null,A.createElement(Pt,null),a&&A.createElement(ma,null))),l&&A.createElement(qa.Z,null),A.createElement(en,{location:n,isDpiError:r}),A.createElement(te,null))))};const an=e=>{var{hasHorizontalSearchFormEnabled:r,isUkHorizontalSearchEnabled:t}=e,a=r||t;return A.createElement("div",{className:(0,C.css)($a.resultsWrapper,a&&$a.horizontalWrapperBottomMargin)},A.createElement("div",{"data-test":"change-journey-header-container-wrapper"},A.createElement(Ja,null)))};var nn=t(31105),on=t(29089),sn=t(78524),ln=t(77195);const cn=e=>{var{hasHorizontalSearchFormEnabled:r,isUkHorizontalSearchEnabled:t}=e,a=r||t;return A.createElement("div",{className:(0,C.css)($a.resultsWrapper,a&&$a.horizontalWrapperBottomMargin,a&&$a.horizontalWrapper)},a&&A.createElement("div",{className:(0,C.css)($a.horizontalSearchContainer),"data-test":"horizontal-search"},A.createElement(ln.ZP,{submitForm:()=>{(0,nn.mark)(sn.Fg),(0,Na.Rz)()},orientation:on.z.HORIZONTAL,isUkHorizontalSearchEnabled:t})),A.createElement("div",{"data-test":"change-journey-header-container-wrapper",className:(0,C.css)(a&&$a.changeJourneyHeaderWithHSF)},A.createElement(Ja,null)))};var dn=t(41966),{sizes:un,breakpoints:pn}=Tt.Z;const mn=C.StyleSheet.create({root:{alignItems:"center",display:"flex",listStyleType:"none",[pn.small.max]:{display:"none"}},item:{alignItems:"center",display:"flex",marginRight:un.spacers.s},separator:{marginLeft:un.spacers.s,width:"var(--DEPRECATED-14px)",height:"var(--DEPRECATED-14px)",stroke:W.dp_app_border_dull,transform:"rotate(270deg)"},default:{color:W.dp_app_text_subtle},active:{color:W.dp_app_text_base,fontWeight:"bold"},visited:{color:W.dp_app_text_base}});var gn=()=>A.createElement(dn.Z,{className:(0,C.css)(mn.separator)});const vn=e=>{var{items:r,currentIndex:t}=e,a=r.length-1;return A.createElement("ul",{className:(0,C.css)(mn.root)},r.map(((e,r)=>{var n,i=r===a;return r===t&&(n=mn.active),r<t&&(n=mn.visited),A.createElement("li",{key:r,className:(0,C.css)(mn.item,n||mn.default)},A.createElement("span",null,e),!i&&A.createElement(gn,null))})))};var hn=function(e){return e[e.RESULTS=0]="RESULTS",e[e.TOLIDO=1]="TOLIDO",e[e.CHECKOUT=2]="CHECKOUT",e[e.CONFIRMATION=3]="CONFIRMATION",e[e.NONE=-1]="NONE",e[e.RAILCARD_CHECKOUT=1]="RAILCARD_CHECKOUT",e[e.RAILCARD_CONFIRMATION=2]="RAILCARD_CONFIRMATION",e}({});const yn=e=>{var{hasDiscountCardProductsOnly:r,intl:t,isEUExperience:a,location:n}=e,i=n&&((e,r)=>{var t,a=e.pathname.startsWith(ae.L1.results()),n=e.pathname.startsWith(ae.L1.checkout()),i=e.pathname.startsWith(ae.L1.confirmation()),o=e.pathname.startsWith(ae.L1.travelOptions())||e.pathname.startsWith(ae.L1.deliveryOptions())||e.pathname.startsWith(ae.L1.bookingInformationOptions())||e.pathname.startsWith(ae.L1.login())&&void 0!==(null===(t=e.query)||void 0===t?void 0:t.plan);return a?hn.RESULTS:o?hn.TOLIDO:n?r?hn.RAILCARD_CHECKOUT:hn.CHECKOUT:i?r?hn.RAILCARD_CONFIRMATION:hn.CONFIRMATION:hn.NONE})(n,r),o=void 0!==i&&i!==hn.NONE,s=((e,r)=>[r?"":"header.transactionalHeader.search",r?"header.transactionalHeader.railcard":"header.transactionalHeader.options",e&&!r?"header.transactionalHeader.securePayment":"header.transactionalHeader.payment",e&&!r?"":"header.transactionalHeader.confirmation"])(a,r).map((e=>e?t.formatMessage({id:e}):"")).filter(Boolean);return A.createElement("div",{className:(0,C.css)($a.breadcrumbWrapper)},o&&A.createElement(vn,{items:s,currentIndex:i}))};const fn=e=>{var{cxtradEnabled:r,getRef:t,hasDiscountCardProductsOnly:a,hasHorizontalSearchFormEnabled:n,intl:i,isChangeJourneyModalOpen:s,isDpiError:l,isEUExperience:c,isTrainTabSelected:u,isUkHorizontalSearchEnabled:p,shouldDisplayAd:m,shouldShowResultsTabBar:g,shouldSimplifyCheckoutHeader:h,showPriceCalendarFeature:y,triggerFeatureExperiencedOnce:f}=e,E=(0,I.TH)(),S=E.pathname===ae.L1.results(),T=E.pathname===ae.L1.ticketOptions(),{mobile:F,desktop:B}=(0,_.zw)(),M=(0,o.useSelector)(b.ww),{userLocationCountry:U}=(0,w.d)(),{experimentsDict:j}=(0,er.zM)(["experimentsDict"]),{enableCarriersFilter:H,enablePriceFilter:W}=(0,Z.x)(),G=(0,o.useSelector)(b.VA);if(B&&H&&c&&(0,R.QH)(j,[L.zA.ENABLE_CARRIERS_FILTER]),B&&S&&M&&f(L.zA.ENABLE_HORIZONTAL_SEARCH_WIDGET_ATOC_UK),(e=>{var r,{isProd:t}=(0,ha.Z)(),a=!t&&(0,v.QB)()||(0,v.BD)(),n=!(null==q.nP.getItem(Lt.i4)),i=Boolean(e)||!a||n,{data:o,error:s}=(0,Nt.aM)(ya,{clientId:a},{skip:i});if(a)if(s){var l,c,d=null!==(l=null===(c=s.res)||void 0===c||null===(c=c.errors[0])||void 0===c||null===(c=c.extensions)||void 0===c?void 0:c.statusCode)&&void 0!==l?l:0;d>=400&&d<500&&q.nP.setItem(Lt.i4,!1)}else{var u;null!=o&&null!==(r=o.v1_clientAttribute)&&void 0!==r&&r.value&&q.nP.setItem(Lt.i4,Boolean(null==o||null===(u=o.v1_clientAttribute)||void 0===u?void 0:u.value))}})(!r||F||c||!S),(e=>{var r,t=(0,o.useSelector)((e=>(0,d.ur)(L.zA.ENABLE_SMART_CONTENT_WITH_PROPENSITY_SCORE)(e)||(0,d.ur)(L.zA.ENABLE_FIRST_CLASS_RECOMMENDATIONS_WITHOUT_STATION_LISTS)(e)||(0,d.ur)(L.zA.ENABLE_MOBILE_FIRST_CLASS_UPSELL_PROMO_BANNER)(e))),a=(0,o.useSelector)(Ot.c4),n=(0,o.useSelector)(Ot.L6),i=(0,o.useSelector)(Ot.yW),s=n||i,l=e||!t||!a||!s||(0,v._T)()||Boolean(q.nP.getItem(Lt.ZW)),{data:c,error:u}=(0,Nt.aM)(xt,{attributeName:Lt.ZW,customerId:"".concat(a)},{skip:l});if(t&&a&&s)if(u){var p,m,g=null!==(p=null===(m=u.res)||void 0===m||null===(m=m.errors[0])||void 0===m||null===(m=m.extensions)||void 0===m?void 0:m.statusCode)&&void 0!==p?p:0;g>=400&&g<500&&q.nP.setItem(Lt.ZW,"0")}else{var h;null!=c&&null!==(r=c.v1_customerAttribute)&&void 0!==r&&r.value&&q.nP.setItem(Lt.ZW,"".concat(null==c||null===(h=c.v1_customerAttribute)||void 0===h?void 0:h.value))}})(c||!(S||T)),(0,v.cy)())return null;if(F){var V={isDpiError:l,isResultsPage:S,location:E,shouldShowResultsTabBar:g,isTrainTabSelected:u};return A.createElement(tn,V)}var Y=g||y&&!F,K={hasDiscountCardProductsOnly:a,intl:i,isEUExperience:c,location:E},z=B&&(W||H&&G)&&c?A.createElement(Ur,null):A.createElement(Pt,null);return A.createElement("div",{"data-test":"transactional-header-container",className:(0,C.css)($a.rootContainer,h?$a.containerSimplified:$a.container),ref:e=>((e,r)=>{r&&e&&r(e)})(e,t)},A.createElement(O.Z,null),A.createElement("div",{className:(0,C.css)($a.root,Y&&$a.noBottomPadding)},A.createElement("div",{className:(0,C.css)($a.adWrapper),"data-test":"upper-ad-banner-wrapper"},m&&A.createElement(x.Z,{adsKey:(0,D.ao)(U)})),A.createElement(k.Z,null,S?s?A.createElement(an,{hasHorizontalSearchFormEnabled:n,isUkHorizontalSearchEnabled:p}):A.createElement(te,null,A.createElement(cn,{hasHorizontalSearchFormEnabled:n,isUkHorizontalSearchEnabled:p})):!h&&A.createElement(yn,K),A.createElement(en,{location:E,isDpiError:l})),A.createElement(k.Z,null,S&&A.createElement(P.SV,{fallback:z},A.createElement(Xe,null,z,y&&u&&A.createElement(ma,null))))),A.createElement("div",{id:N.n}))};var En=t(53178),bn=(0,t(32034).P1)(T.mX,D.lS,D.f0,ze.hh,((e,r,t,a)=>Boolean(e&&(t&&r||a&&r)))),Sn=e=>{var r=(0,T.mX)(e),t=(0,T.Zy)(e),a=!(0,E.zE)(e),n=(0,ze.hh)(e),i=(0,ze.XM)(e),o=(0,d.FD)(e),s=(0,S.Yh)(e),C=a&&!!s&&!(0,S.Dw)(e)&&!(0,S.oy)(e)&&i,A=(0,u.i2)(e),I=(0,g.FD)(e),_=(0,m.Px)(e,I),P=(0,b.Cj)(e),R=(0,b.Ef)(e),k=(0,E.e0)(e),N=(0,En.i)(e,i),O=k&&r&&(C||R||N||_||Boolean(n&&A)),L=(0,v.Q1)()&&t,x=(0,y.NF)(e),D=I&&(0,c.selectErrorType)(e),w=Boolean(D);return{experiments:o,shouldShowResultsTabBar:O,isEUExperience:n,shouldDisplayAd:bn(e),hasDiscountCardProductsOnly:x,hasHorizontalSearchFormEnabled:P,showPriceCalendarFeature:_,isTrainTabSelected:(0,p.vR)(e)===h.ZP.TRAIN,shouldSimplifyCheckoutHeader:L,isChangeJourneyModalOpen:(0,f.uv)(e,l.e.CHANGE_JOURNEY_SEARCH_MODAL),isUkHorizontalSearchEnabled:R,isDpiError:w,cxtradEnabled:(0,Ke.Gc)(e)}},Tn=(0,s.compose)((0,o.connect)(Sn,(e=>({goBack:()=>{e((0,n.Hm)())}})),((e,r,t)=>(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},t),e),r),{},{triggerFeatureExperiencedOnce:r=>{e.experiments&&(0,d.BD)(e.experiments,r)}}))),i.injectIntl)(fn);Tn.displayName="TransactionalHeaderComposed";const Cn=Tn},76325:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var a=t(64321),n=t(31616),i=t(13866),o=t(29901),s=t(60654),l=t(82184),c=t(75853),d=t(94575),u=t(71695),p=Object.values(u.vi),m={[s.Portal.TRAINLINE]:{supportedLocales:p,defaultLocale:u.vi.ENGLISH},[s.Portal.ITALO]:{supportedLocales:[u.vi.ITALIAN,u.vi.ENGLISH],defaultLocale:u.vi.ITALIAN},[s.Portal.ITALOAG]:{supportedLocales:[u.vi.ITALIAN,u.vi.ENGLISH],defaultLocale:u.vi.ITALIAN},[s.Portal.XC]:{supportedLocales:[u.vi.ENGLISH],defaultLocale:u.vi.ENGLISH},[s.Portal.WMR]:{supportedLocales:[u.vi.ENGLISH],defaultLocale:u.vi.ENGLISH},[s.Portal.EMR]:{supportedLocales:[u.vi.ENGLISH],defaultLocale:u.vi.ENGLISH},[s.Portal.NR]:{supportedLocales:[u.vi.ENGLISH],defaultLocale:u.vi.ENGLISH},[s.Portal.LNR]:{supportedLocales:[u.vi.ENGLISH],defaultLocale:u.vi.ENGLISH},[s.Portal.SR]:{supportedLocales:[u.vi.ENGLISH],defaultLocale:u.vi.ENGLISH},[s.Portal.GA]:{supportedLocales:[u.vi.ENGLISH],defaultLocale:u.vi.ENGLISH}},g=["extendStyles"];const v=e=>{var{extendStyles:r}=e,t=(0,n.Z)(e,g),{portal:u}=(0,c.x)(),{locale:p}=(0,d.YB)();return(0,s.isItaloPortal)(u)?o.createElement(i.Z,{locale:p,portal:u,contentReferences:m}):o.createElement(l.ZP,(0,a.Z)({extendStyles:r},t))}},89014:(e,r,t)=>{"use strict";t.d(r,{Nx:()=>o,tz:()=>i});var a=t(29901),n=(0,a.createContext)({}),i=()=>a.useContext(n),o=e=>{var{children:r}=e,[t,i]=(0,a.useState)(!1);return a.createElement(n.Provider,{value:{openOnboardingOverlay:t,setOnboardingOverlay:i}},r)}},77195:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>Rn});var a=t(64321),n=t(23198),i=t(31616),o=t(41344),s=t(33337),l=t(48977),c=t(36841),d=t(37719),u=t(84025),p=t.n(u),m=t(29901),g=t(88543),v=t(96172),h=t(50093),y=t(98184),f=t(2031),E=t(595),b=t(26625),S=t(60654),T=t(24955),C=t(51282),A=t(55373),I=t(29089),_=t(82768),P=t(83661),R=t(84752),k=t(79239),N=t(37977),O=t(20595),L=t(75648),x=t(60289),D=h.StyleSheet.create({wrapper:{margin:"10px 0 10px",overflow:"hidden"},alert:{minHeight:"52px",paddingTop:"16px",paddingBottom:"16px",[x.ZP.small.min]:{minHeight:"72px",paddingTop:"24px",paddingBottom:"24px",borderLeftWidth:"16px"},[x.ZP.large.min]:{minHeight:"72px",paddingLeft:"24px",paddingRight:"24px"}}}),w=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,_.xHg)(Object.values(r).map((r=>"string"==typeof r?r:e(r))))},Z=function(){return Boolean((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>w(O.Z).includes(e))).length)},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Z(e)?"error":function(){return Boolean((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>Object.values(L.P).includes(e))).length)}(e)?"warning":"information"};const B=(0,g.connect)((e=>({messageIds:(0,C.yd)(e)})))((e=>{var{messageIds:r}=e;return m.createElement(k.Z,{shouldAnimate:!0,shouldAnimateOnMount:!0,expanded:r.length>0},m.createElement("div",{"data-test":"validation-messages-container",className:(0,h.css)(D.wrapper)},m.createElement(P.ZP,{level:F(r)},r.map(((e,r)=>m.createElement("span",{key:r},m.createElement(N.ZP,{id:e,tagsMap:{b:R.Z}}),m.createElement("br",null)))))))}));var M=t(18406),U=t(78307),j=t(98318),H=t(35779),W=t(23394),G=h.StyleSheet.create({root:{display:"flex",flexDirection:"column"},wrapper:{display:"flex"},fromTo:{flex:"44%",backgroundColor:j.dp_brand_neutral_brightest,borderRadius:W.E0.m,overflow:"hidden"},viaAvoidSpacesaver:{visibility:"hidden"},promotionSpacesaver:{},directSearchSpacesaver:{},directSearchContainer:{height:"100%",":first-child > div":{margin:"unset !important"}},dateTimePicker:{flex:"30%",display:"flex",backgroundColor:j.dp_brand_neutral_brightest,marginLeft:8,borderRadius:W.E0.m,overflow:"hidden"},passengerPicker:{flex:"17.6%",marginLeft:8,borderRadius:W.E0.m},searchButton:{marginLeft:8,borderRadius:W.E0.m},validationMessages:{flex:"1"},viaAvoid:{display:"none"},promotion:{display:"none"},directSearch:{display:"none"},promotionContainer:{},voucher:{display:"none"},additionalPadding:{},alertSection:{borderRadius:W.E0.xl},directSearchField:{display:"flex",alignItems:"center",height:"100%"}}),V=h.StyleSheet.create({root:{display:"flex",flexDirection:"column",padding:16,[W.cy.min.m]:{padding:24},[W.cy.min.l]:{padding:32}},wrapper:{display:"flex",flexDirection:"column"},fromTo:{backgroundColor:j.dp_brand_neutral_brightest,borderRadius:W.E0.m,marginBottom:4},viaAvoidSpacesaver:{[W.cy.max.s]:{display:"none"},[W.cy.min.m]:{visibility:"hidden",minHeight:32}},promotionSpacesaver:{[W.cy.min.m]:{visibility:"hidden",minHeight:32}},directSearchSpacesaver:{marginBottom:H.Ui,[W.cy.min.m]:{visibility:"hidden",minHeight:32}},directSearchContainer:{},dateTimePicker:{display:"flex",backgroundColor:j.dp_brand_neutral_brightest,borderRadius:W.E0.m,marginTop:8,overflow:"hidden"},passengerPicker:{borderRadius:W.E0.m,marginTop:12,[W.cy.min.m]:{marginTop:16}},searchButton:{width:"100%",marginTop:"var(--dp_s12)"},validationMessages:{marginLeft:-16,marginRight:-16,[W.cy.min.m]:{marginLeft:0,marginRight:0},[W.cy.min.xl]:{marginLeft:0,marginRight:0}},viaAvoid:{display:"block"},promotion:{display:"block"},directSearch:{display:"block"},promotionContainer:{marginTop:"10px",marginBottom:"var(--dp_s16)"},voucher:{marginTop:"var(--dp_s8)"},additionalPadding:{paddingLeft:"74px"},alertSection:{borderRadius:0,[W.cy.min.m]:{borderRadius:W.E0.xl}},directSearchField:{display:"flex",alignItems:"center",height:"100%"}}),Y=h.StyleSheet.create({button:{display:"flex",height:"100%",paddingLeft:"22px",paddingRight:"22px"},centerAligned:{alignItems:"center"},icon:{alignSelf:"center"}}),K=h.StyleSheet.create({button:{width:"100%",minHeight:56},centerAligned:{alignItems:"center"},icon:{alignSelf:"center"}}),z=t(62555),J=h.StyleSheet.create({container:{height:"100%"},promoCodeText:{color:j.dp_app_backdrop_base,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"34ch",fontWeight:"bold"},promoCodeEntered:{color:j.dp_app_text_base,paddingLeft:"8px"},boldPromoCode:{fontWeight:"bold"},promoBtn:{backgroundColor:j.dp_app_selection_dim,":hover:not(:disabled)":{backgroundColor:j.dp_app_selection_dim},":active:not(:disabled)":{backgroundColor:j.dp_app_selection_dim}},promotionBtn:{":first-child > svg":{width:H.VG,height:H.VG},height:"100%"}}),q=t(56443),Q=t(57397),X=t(28220),$=t(88593),ee=t(73455),re=t(91557),te=t(86546);const ae=c.StyleSheet.create({buttonWrapper:{display:"flex",justifyContent:"flex-end",marginTop:W.W0.s4},promoAddButton:{minWidth:"5.3125rem"}});class ne extends m.Component{render(){var{intl:e,startShowing:r,onPopoverClose:t,onAddPromoClick:a,isOrientationVertical:n,searchWidgetRef:i,popoverAnchor:o}=this.props,s=n?{align:re.N.RIGHT,grow:re.N.BOTTOM,offset:W.TM.s16,yAlignmentEl:i}:{align:re.N.BOTTOM,grow:re.N.RIGHT};return m.createElement("div",null,m.createElement(ee.ZP,{transitionDuration:0,isOpen:r},m.createElement(X.ZP,{testId:"promotion-search-popover",width:412,anchor:{nubbin:n,element:o,position:s},type:X.j2.POPOVER,close:()=>{t&&t()}},m.createElement($.ZP,null,m.createElement(Q.Z,{id:"ukVoucherInput",intl:e,component:te.Z,name:"ukVoucherInput"}),m.createElement("div",{className:(0,c.css)(ae.buttonWrapper)},m.createElement(q.ZP,{id:"promotionalCodeButton",buttonType:"secondary1",size:"small",text:e.formatMessage({id:"page.journeySearchForm.add"}),onClick:a,className:(0,c.css)(ae.promoAddButton)}))))))}}const ie=ne;var oe=t(45682),se=t(25984),le=t(78113);const ce=e=>{var{intl:r,ukVoucherInput:t,change:a,searchWidgetRef:n,orientation:i,deviceType:o,openPromotionalCodeModal:l,openPromotionalCodeModalLimitedForOneBooking:d,hasPromoCodeEntered:u,setPromoCodeEnteredFlag:p,journeyHasPromoApplied:g,appliedPromoCode:v,disabledPromoText:h=!1}=e,[y,f]=(0,m.useState)(!1),E=(0,m.useRef)(null),b=o===s.WO.MOBILE,S=Boolean(t&&t!==v),T=i===I.z.VERTICAL,C=()=>{f((e=>!e))},A=(0,m.useCallback)((()=>{a("ukVoucherInput",""),p(!1)}),[a,p]),_=()=>{h?d():u?A():b?l():C()},P=()=>g&&u&&!S?"page.confirmation.promoApplied":u?"page.journeySearchForm.promoAdded":"page.journeySearchForm.addPromotion";return(0,m.useEffect)((()=>{h&&A()}),[h,A]),m.createElement("div",{"data-test":"search-add-promotion-filter-UI",ref:e=>(e=>{E.current=e})(e),className:(0,c.css)(J.container)},T?m.createElement(oe.Z,{text:r.formatMessage({id:P()}),className:(0,c.css)(J.promotionBtn),onClick:_,icon:u?le.Z:se.default,alignIcon:u?"trailing":"leading","aria-haspopup":!u}):m.createElement(q.ZP,{text:r.formatMessage({id:P()}),buttonType:"tertiary",size:"small",className:(0,c.css)(J.promotionBtn),onClick:_,icon:u?le.Z:se.default,alignIcon:u?"trailing":"leading","aria-haspopup":!u}),E.current&&m.createElement(ie,{intl:r,startShowing:y,searchWidgetRef:n,popoverAnchor:E.current,onPopoverClose:C,isOrientationVertical:T,onAddPromoClick:()=>{p(!!t),C()}}))};const de=e=>{var{intl:r,orientation:t,deviceType:a,isStacked:n,searchWidgetRef:i,ukVoucherInput:o,change:l,openPromotionalCodeModal:c,openPromotionalCodeModalLimitedForOneBooking:d,hasPromoCodeEntered:u,setPromoCodeEnteredFlag:p,journeyHasPromoApplied:g,appliedPromoCode:v,disabledPromoText:y=!1}=e,f=t===I.z.HORIZONTAL,E=a===s.WO.MOBILE,b=t===I.z.HORIZONTAL?G:V,S=m.createElement(ce,{intl:r,orientation:t,deviceType:a,searchWidgetRef:i,ukVoucherInput:o,change:l,openPromotionalCodeModal:c,openPromotionalCodeModalLimitedForOneBooking:d,hasPromoCodeEntered:u,setPromoCodeEnteredFlag:p,journeyHasPromoApplied:g,appliedPromoCode:v,disabledPromoText:y});return m.createElement("div",{"data-test":"search-widget-promotion",className:(0,h.css)(f?[b.promotion,n&&b.additionalPadding]:b.promotionSpacesaver)},!E&&f?(0,z.Vz)(a,t,3)(S):S)};const ue=(0,f.compose)((0,g.connect)((e=>({ukVoucherInput:(0,C.$T)(e)})),(e=>({change:(r,t)=>e((0,M.m)(U.Th,r,t)),untouch:r=>e((0,M.OP)(U.Th,r)),clearAsyncError:r=>e((0,M.T6)(U.Th,r)),openPromotionalCodeModal:()=>{e({type:"modal/PUSH_MODAL",payload:{type:"PROMOTIONAL_CODE",params:{}}})},openPromotionalCodeModalLimitedForOneBooking:()=>{e({type:"modal/PUSH_MODAL",payload:{type:"ALREADY_USED_PROMO_IN_BOOKING",params:{}}})}}))),y.injectIntl,o.FZ)(de);var pe=t(27628);const me=h.StyleSheet.create({container:{display:"flex",alignItems:"center"},buttonPadding:{marginLeft:"var(--dp_s8)"},deleteButton:{marginLeft:"var(--dp_s4)"}});const ge=e=>{var{deleteVoucher:r,onRequestOpenVoucherModal:t,hasVoucher:a,isVertical:n=!1,passengers:i,intl:o}=e,s=m.useMemo((()=>n?a?m.createElement(q.ZP,{onClick:t,size:"small",buttonType:a?"secondary1":"tertiary",text:o.formatMessage({id:"page.journeySearchForm.eupassengerPicker.voucher"})}):m.createElement(oe.Z,{onClick:t,text:"+ ".concat(o.formatMessage({id:"page.journeySearchForm.eupassengerPicker.addVoucherCode"}))}):m.createElement("div",{className:(0,h.css)(me.buttonPadding)},m.createElement(q.ZP,{onClick:t,size:"small",buttonType:a?"secondary1":"tertiary",text:"".concat(a?"":"+ ").concat(o.formatMessage({id:"page.journeySearchForm.eupassengerPicker.".concat(a?"voucher":"addVoucherCode")}))}))),[a,o,n,t]);return i.every((e=>{var{selected:r}=e;return!1===r}))?null:m.createElement("div",{className:(0,h.css)(me.container)},s,a&&m.createElement("span",{className:(0,h.css)(me.deleteButton)},m.createElement(pe.ZP,{onClick:r,icon:le.Z,size:"small"})))};const ve=(0,f.compose)((0,g.connect)(((e,r)=>({formValues:(0,C.gH)(e),isInitialVoucherSelected:(0,C.HL)(e),hasEuropeExperience:(0,C.NP)(e,r)})),null),o.FZ)((e=>{var{orientation:r,hasEuropeExperience:t,isInitialVoucherSelected:a,formValues:n,onRequestOpenVoucherModal:i,deleteVoucher:o,deviceType:s,intl:l}=e,c=r===I.z.VERTICAL,d=c?V:G,u=t&&(c||a);return m.createElement("div",{"data-test":"search-widget-voucher",className:(0,h.css)(d.voucher)},u&&(0,z.Vz)(s,r,2)(m.createElement(ge,{onRequestOpenVoucherModal:i,deleteVoucher:o,passengers:n.euFlowPassengers,hasVoucher:!!n.voucherInput,intl:l,isVertical:c})))}));var he=t(77962),ye=t(20634),fe=t(94675),Ee=t(56515),be=t(87005),Se=t(15318),Te=t(13111),Ce=t(52068),Ae=h.StyleSheet.create({inputWrapper:{display:"flex",alignItems:"center",position:"relative"},label:(0,n.Z)((0,n.Z)({position:"absolute",top:W.W0.s4,lineHeight:"inherit",zIndex:1},Ce.W.body),{},{width:"66px",marginLeft:W.W0.s4,color:j.dp_app_text_base}),searchInput:{[W.cy.min.m]:{textAlign:"left",paddingTop:W.W0.s4,paddingBottom:W.W0.s4,paddingLeft:"86px",":focus":{paddingLeft:"86px",paddingTop:W.W0.s4,paddingBottom:W.W0.s4}}},hideOnMediumDevices:{display:"none"},clearButton:{top:"auto"}});const Ie=e=>{var{children:r,label:t,isStacked:a,ariaLabel:n}=e;return a?m.createElement("div",{className:(0,h.css)(Ae.inputWrapper)},m.createElement("div",{className:(0,h.css)(Ae.label),"aria-label":n},t),r):m.createElement(m.Fragment,null,r)};var _e=t(73769);const Pe=h.StyleSheet.create({container:{display:"flex",alignItems:"center",justifyContent:"flex-end"},containerMobile:{justifyContent:"flex-start",flexDirection:"column",padding:"0 ".concat(W.W0.s6),marginTop:W.W0.s6},containerTablet:{justifyContent:"flex-start",flexDirection:"column-reverse",marginBottom:W.W0.s6},wrapper:{color:j.dp_app_text_subdued,display:"flex",alignItems:"center",alignContent:"center"},label:{cursor:"pointer",color:j.dp_app_text_subtle,paddingLeft:W.W0.s2},message:{marginTop:W.W0.s2},button:{display:"inline-flex",height:W.W0.s6},icon:{color:j.dp_app_text_subtle},iconInfo:{marginTop:"2px",cursor:"pointer",height:"75%",color:j.dp_app_text_base}});var Re=t(59895),ke=t(13035),Ne=t(89426),Oe=t(12389),Le=t(33998),xe=t(90448),De=e=>{switch(e){case s.WO.MOBILE:return Pe.containerMobile;case s.WO.TABLET:return Pe.containerTablet;default:return Pe.container}};const we=e=>{var{deviceType:r}=e,{sendTracking:t}=(0,b.rS)(),a=m.useRef(null),[n,i]=m.useState(!1),o=r===s.WO.DESKTOP,l=m.createElement("span",{className:(0,h.css)(Pe.icon)},n?m.createElement(Le.default,null):m.createElement(xe.default,null)),c=e=>{e!==n&&(i(e),e&&t((0,Oe.AZ)()))};return m.createElement("div",{className:(0,h.css)(De(r))},m.createElement("div",{className:(0,h.css)(Pe.wrapper)},m.createElement(Ne.ZP,{saveInputRef:a,onMouseOver:()=>o&&c(!0),onClick:()=>!o&&c(!n),testId:"price-calendar-legal-message-button",styleSheet:Pe.button},m.createElement("div",{className:(0,h.css)(Pe.iconInfo)},m.createElement(Re.Z,null)),m.createElement("span",{className:(0,h.css)(Pe.label)},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.combinedDatePicker.calendar.legalMessageLabel.oneWaySingleAdult"})),!o&&l),o&&m.createElement(ke.Z,{isOpen:n,width:330,trigger:"hover",anchor:{element:a.current,nubbin:!0,position:{align:re.N.BOTTOM,grow:re.N.CENTER}},close:()=>i(!1)},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.combinedDatePicker.calendar.legalMessage"}))),!o&&n&&m.createElement("div",{className:(0,h.css)(Pe.message)},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.combinedDatePicker.calendar.legalMessage"})))};var Ze=t(56136),Fe=t(8888),Be=t(56674),Me=j.dp_brand_secondary_duller;const Ue=h.StyleSheet.create({container:{position:"relative"},wrapper:{display:"flex",flexDirection:"row",height:"100%"},calendarPadding:{[Fe.Z.breakpoints.mobile.medium]:{padding:"0 ".concat(W.W0.s1," 0 ").concat(W.W0.s1)}},directionLabel:(0,n.Z)((0,n.Z)({},Ce.W.small),{},{fontWeight:"bold"}),disabledMessaging:{color:j.dp_app_text_disabled,textAlign:"center",fontWeight:"normal"},clearButton:{position:"absolute",top:7,right:10,minHeight:24,height:24,padding:2,borderRadius:"50%"},iconClose:{width:"20px",height:"20px"},textInput:{cursor:"pointer",letterSpacing:"-0.15px"},calendar:{display:"flex",flexDirection:"row",flexWrap:"nowrap",":focus":"unset"},dropdownContainer:{display:"flex",flexDirection:"column"},dropDownContainerWithSpacing:{padding:"".concat(W.W0.s6," ").concat(W.W0.s4," ").concat(W.W0.s6," ").concat(W.W0.s4),[Fe.Z.breakpoints.mobile.medium]:{padding:"0 0 ".concat(W.W0.s6," 0")}},labelSpacing:{paddingRight:W.W0.s6},timePickerWrapper:{display:"flex",alignItems:"center",gap:W.W0.s1,[Fe.Z.breakpoints.small.max]:{fontSize:"16px"}},euTimePickerLabel:{[Fe.Z.breakpoints.medium.max]:{flexGrow:0}},ukTimePickerLabel:{[Fe.Z.breakpoints.medium.max]:{flexGrow:1}},openReturnContainer:{display:"flex",justifyContent:"center",backgroundColor:j.dp_app_backdrop_dull,marginBottom:24,padding:"8px 0px"},labelDefault:{marginBottom:0},footer:{display:"flex",justifyContent:"space-between",marginTop:W.W0.s6},mobileFooter:{marginTop:0,marginBottom:W.W0.s4,width:"100%"},tabletFooter:{display:"flex",justifyContent:"flex-start",flexDirection:"column-reverse",padding:"0 ".concat(W.W0.s4),marginTop:W.W0.s6},searchInputSmallFont:{fontSize:"var(--DEPRECATED-14px)"}});var je=h.StyleSheet.create({labelDefault:{fontWeight:"bold"}}),He=h.StyleSheet.create((0,n.Z)((0,n.Z)({},Be.j),{},{root:(0,n.Z)((0,n.Z)({},Be.j.root),{},{alignItems:"flex-start",marginBottom:W.W0.s2,padding:W.W0.s4,gap:"10px",boxShadow:"0 0 ".concat(W.W0.s1," ").concat(j.dp_comp_box_shadow,", 0 2px 6px ").concat(j.dp_comp_box_shadow),borderRadius:W.E0.l,fontWeight:"bold"}),selected:{marginBottom:W.W0.s2,borderRadius:W.E0.l,border:"2px solid ".concat(j.dp_brand_secondary_duller),backgroundColor:j.dp_brand_secondary_brightest,":last-child":{marginTop:W.W0.s2}},mobileHeader:{marginTop:W.W0.s1,marginBottom:W.W0.s3}})),We=h.StyleSheet.create({label:{whiteSpace:"normal",paddingLeft:W.W0.s4,paddingRight:W.W0.s4,textAlign:"center"},extraTopPadding:{paddingTop:W.W0.s3}}),Ge=t(48929),Ve=e=>{var{onClick:r,hasStackedStyles:t,intl:n}=e,i=(0,Ge.Jn)(),o=i&&(null==i?void 0:i.references)&&i.references.get("RemoveReturn"),s=i&&o&&(null==i?void 0:i.register)&&i.register(o);return m.createElement(Ne.gh,(0,a.Z)({saveInputRef:o,styleSheet:[Ue.clearButton,t&&Ae.clearButton],onClick:r},s,{ariaLabel:n.formatMessage({id:"page.journeySearchForm.combinedDatePicker.clearReturn.aria"})}),m.createElement(le.Z,{fill:Me,className:(0,h.css)(Ue.iconClose)}))},Ye=t(41925),Ke=t(18952),ze=t(57223),Je=t(5193),qe=t(74981),Qe=e=>{var{hasEuropeExperience:r,value:t,outboundValue:a,hasError:n,isOutbound:i,journeySearchType:o,timeSlotSelected:s,onBeforAfterDropdownChange:l,onTimeSlotChange:c,onHoursChange:d,onMinutesChange:u,intl:p,increasePickersRightPadding:g,showUSFormatDateTime:v,testId:y}=e,f=(0,Ye.v4)(),E=!i&&o!==U.ki.RETURN,b=r?Ue.euTimePickerLabel:Ue.ukTimePickerLabel,S=(0,he.aN)(t,a,s,i,v);return m.createElement("div",{className:(0,h.css)(Ue.timePickerWrapper),"data-test":y},m.createElement("div",{className:(0,h.css)(b,Boolean(r)&&Ue.labelSpacing)},m.createElement(Ke.Z,{isSearchWidget:!0,hasEuropeExperience:r,timeInputId:f,disabled:E,afterLabel:p.formatMessage({id:"page.journeySearchForm.dateTimePicker.afterLabel",defaultMessage:"Departing"}),beforeLabel:p.formatMessage({id:"page.journeySearchForm.dateTimePicker.beforeLabel",defaultMessage:"Arriving"}),value:t,onChange:l,styleSheet:(0,Ze.y)(ze.sK,n&&ze.SO,ze.qI),increaseRightPadding:g})),r?m.createElement(qe.Z,{name:Je.J6.HOURS,addAriaLabel:!1,id:f,styleSheet:(0,Ze.y)(ze.pq,ze.I$,n&&ze.SO,ze.qI),value:t,items:(0,Je.lz)(S),onChange:e=>{var r=S.find((r=>r.value===e.currentTarget.value));if(r)return c(r)},disabled:E,increaseRightPadding:g}):m.createElement(m.Fragment,null,[Je.J6.HOURS,Je.J6.MINUTES].map((e=>m.createElement(qe.Z,{key:e,name:e,styleSheet:(0,Ze.y)(ze.pq,ze.I$,n&&ze.SO,ze.qI),items:Je.pN[e],value:t,onChange:e===Je.J6.HOURS?d:u,disabled:E,increaseRightPadding:g})))))},Xe=t(85768),$e=t(93902),er=t(14023);const rr=e=>{var r,t,a,{change:i,containerRef:o,deviceType:l,formValues:c,hasEuropeExperience:d,intl:u,isStacked:g,isOutbound:v,title:f,startDate:E,hasError:T,endDate:C,input:A,setDatetimeRef:I,popoverGrowthDirection:_,displayOneMonth:P,onDisplayCalendar:R,onChangeMonth:k,renderCalendarDate:N,shouldDisplayMonthlyPriceCalendar:O,inputRef:L,clickedStatusHandler:x,isUkHorizontalSearchEnabled:D,showUSFormatDateTime:w,isOpenReturnChangesForMWeb:Z}=e,{sendTracking:F}=(0,b.rS)(),B=(0,Ge.Jn)(),[M,j]=m.useState(null),[H,G]=m.useState(void 0),[V,Y]=m.useState(void 0),[K,J]=m.useState(void 0),[q,Q]=m.useState(void 0),[te,ae]=m.useState(!1),[ne,ie]=m.useState(void 0),{journeySearchType:oe,openReturnType:se}=c,le=!v,ce=!d,de=le&&oe===U.ki.SINGLE,ue=le&&oe===U.ki.OPEN_RETURN,pe=l===s.WO.DESKTOP,me=l===s.WO.MOBILE,ge=P||O?1:2,ve=v?S.JourneySearchFormDirection.OUTBOUND:S.JourneySearchFormDirection.INBOUND,Ce=oe===U.ki.OPEN_RETURN&&se===U.xj.SAME_DAY,Pe=oe===U.ki.OPEN_RETURN&&se===U.xj.ONE_MONTH,Re=Z&&Pe?"page.journeySearchForm.openReturn.oneMonthLabel":Z&&Ce?"page.journeySearchForm.openReturn.sameDayLabel":void 0,ke=B&&(null==B?void 0:B.references)&&B.references.get("".concat(ve,"DateTime"));if(m.useEffect((()=>{A&&(J(Ne()),Q((0,Xe.te)(u,A.value)))}),[null==A||null===(r=A.value)||void 0===r?void 0:r.date,null==A||null===(t=A.value)||void 0===t?void 0:t.hours,null==A||null===(a=A.value)||void 0===a?void 0:a.minutes,u]),!A)return null;var Ne=()=>p()(A.value&&A.value.date||E).startOf("month").toISOString(),Le=()=>{te&&(ae(!1),x(L,!1),ke&&ke.current.focus())},xe=e=>r=>{var{inbound:t}=c;if(A&&i)if("dateType"!==e){var a=void 0;if("timeSlot"===e&&"string"!=typeof r){var o=r.value,s="0";if(v&&p()(A.value.date).isSame(p()(),"day")){var l=p()(E);Number(r.value)<l.hours()&&(o=l.hours().toString(),s=l.minutes().toString())}a=(0,n.Z)((0,n.Z)({},A.value),{},{hours:o,minutes:s}),ie(r)}if("hours"===e&&"string"==typeof r&&(a=(0,n.Z)((0,n.Z)({},A.value),{},{hours:r})),"minutes"===e&&"string"==typeof r&&(a=(0,n.Z)((0,n.Z)({},A.value),{},{minutes:r})),"date"===e&&"string"==typeof r)if((0,he.KC)(r,v,c.outbound)){var d=v?(0,he.uy)():(0,he._q)(c.outbound,w),u=d.hours().toString(),m=d.minutes().toString();ne&&ne.value&&Number(ne.value)>d.hours()&&(u=Number(ne.value).toString(),m="0"),a={date:d.format(),hours:u,minutes:m,dateType:A.value.dateType}}else a={date:p()(r).format(),hours:ne&&ne.value||(0,he.cU)(w).value,minutes:"0",dateType:A.value.dateType};a&&A.onChange(a),v&&oe===U.ki.RETURN&&t&&a&&((0,he.aD)(a).isAfter((0,he.aD)(t))||(0,he.aD)(a).format()===(0,he.aD)(t).format())&&(i("journeySearchType",U.ki.SINGLE),i("inbound",Xe.yz),i("openReturnType",void 0))}else A.onChange((0,n.Z)((0,n.Z)({},A.value),{},{dateType:r}))},De=(e,r)=>{var t=p()(e).startOf("month").toISOString();t!==K&&(J(t),r&&(null==k||k(r)))},Fe=()=>{if(i){var e=Pe?U.xj.SAME_DAY:U.xj.ONE_MONTH;i("openReturnType",e)}},Be=()=>{!te&&le&&oe===U.ki.SINGLE&&(xe("date")(E),i&&i("journeySearchType",U.ki.RETURN)),ae((e=>!e)),G(te?void 0:A.value),x(L),F((0,Oe.g2)(le)),Z&&Y(Pe?U.xj.ONE_MONTH:U.xj.SAME_DAY)},Me=e=>r=>xe(e)(r.currentTarget.value),Ye=e=>{xe("timeSlot")(e)},Ke=()=>{var e=A.value&&(0,he.Tx)(Number(A.value.hours),w),r=ne&&ne.slot?Number(ne.value):0,t=v?(0,he.bJ)(w):(0,he._q)(c.outbound,w);return(0,he.KC)(A.value.date,v,c.outbound)?(0,he.Tx)(r<t.hours()?t.hours():r,w).slot:ne&&ne.slot||e&&e.slot},{ariaMessage:ze,displayMessage:Je}=(0,Xe.B4)({intl:u,showAddReturnMessage:de,showOpenReturnMessage:ue,currentInputValue:q,isUkHorizontalSearchEnabled:D,isOutbound:v,showUSFormatDateTime:w,isOpenReturnChangesForMWeb:Z,openReturnLabelForMweb:Re}),qe=le?u.formatMessage({id:"page.journeySearchForm.combinedDatePicker.selectReturnDate"}):u.formatMessage({id:"page.journeySearchForm.combinedDatePicker.selectOutDate"}),rr=(0,Ze.y)(be.Z,D&&je,Ue),tr=_===re.N.RIGHT,ar=D||Z||!de&&!ue?(Ce||Pe)&&le?m.createElement("div",{className:(0,h.css)(We.label,Ce&&We.extraTopPadding)},Je):m.createElement("div",{className:(0,h.css)(g&&Ae.hideOnMediumDevices)},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.".concat(ve,".title")})):void 0;return m.createElement("div",{ref:j,className:(0,h.css)(Ue.container)},m.createElement(Ie,{label:de||ue?void 0:m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.".concat(ve,".title")}),isStacked:g},m.createElement(_e.Z,{role:"button",testId:"".concat(ve,"-date-time-picker"),size:me?"xl":"l",id:"page.journeySearchForm.".concat(ve,".title"),label:ar,outlineOnFilled:!1,ariaLabel:ze,hasError:T,inputRef:e=>{I&&I(e)},name:f,value:Z?void 0:Je,maxLength:35,styleSheet:[Ue.textInput,(de||ue)&&!D&&Ue.disabledMessaging,g&&Ae.searchInput,w&&Ue.searchInputSmallFont],readOnly:!0,"data-test":"combined-date-time-picker-button",onClick:Be,initialOutline:!1,onFocus:e=>{L||e.target.blur()},onKeyPress:e=>{e.key,e.preventDefault(),Be()},active:te,inputRefManaged:L}),le&&(!de||ue)&&m.createElement(Ve,{onClick:e=>{e.stopPropagation(),ae(!1),x(L,!1),ie(void 0),A.onChange(Xe.yz),i&&(i("journeySearchType",U.ki.SINGLE),i("openReturnType",void 0))},hasStackedStyles:g,intl:u})),m.createElement(ee.ZP,{transitionDuration:0,isOpen:te},m.createElement(X.ZP,{testId:"".concat(ve,"-date-time-picker-popover"),type:X.j2.POPOVER,close:Le,width:(0,Xe.NZ)(O,P||!pe),anchor:{nubbin:tr,element:M,position:(0,n.Z)((0,n.Z)({},(0,z.Bb)(tr,M,o).position),{offset:tr?v&&M&&!g?W.TM.s16+M.offsetWidth:W.TM.s16:void 0})}},me&&m.createElement(Te.Z,null,m.createElement(Te.Z.Title,{text:qe}),m.createElement(Te.Z.ActionButton,{label:u.formatMessage({id:"component.overlay.cancel"}),onClick:()=>{Le(),H&&(A.onChange(H),i&&""===H.date&&oe!==U.ki.SINGLE&&(i("journeySearchType",U.ki.SINGLE),i("openReturnType",void 0))),i&&Z&&V&&i("openReturnType",V)}})),m.createElement($.ZP,{noPaddingContent:O},m.createElement("div",{className:(0,h.css)(Ue.dropdownContainer,O&&Ue.dropDownContainerWithSpacing)},le&&ce&&m.createElement("div",{className:(0,h.css)(Ue.openReturnContainer)},m.createElement(Ee.Z,{name:"open-return-checkbox",testId:"open-return-checkbox",innerLabel:u&&u.formatMessage({id:"page.journeySearchForm.openReturnLabel"}),styleSheet:rr,onChange:()=>{i&&(ue?(xe("date")(E),i("journeySearchType",U.ki.RETURN),i("openReturnType",void 0)):(i("journeySearchType",U.ki.OPEN_RETURN),i("openReturnType",U.xj.ONE_MONTH)))},checked:ue})),Z?m.createElement(m.Fragment,null,m.createElement(er.Z,{as:"h2",textType:"large",className:(0,h.css)(He.mobileHeader)},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.openReturn.selectOpenReturnOption.label"})),m.createElement("div",{className:(0,h.css)(Pe&&He.selected)},m.createElement($e.Z,{styleSheet:He,name:"openReturnType",id:"1month",checked:Pe,onChange:Fe,testId:"oneMonth-openReturn-radio-button"},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.openReturn.oneMonth.label"}))),m.createElement("div",{className:(0,h.css)(Ce&&He.selected)},m.createElement($e.Z,{styleSheet:He,name:"openReturnType",id:"sameDay",checked:Ce,onChange:Fe,testId:"sameDay-openReturn-radio-button"},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.openReturn.sameDay.label"})))):m.createElement("div",{className:(0,h.css)(O&&Ue.calendarPadding)},m.createElement(ye.Z,{name:f,locale:u.locale,wrapperStyles:[Ue.calendar],selectedDate:v||!de||ue?A.value&&A.value.date:void 0,minDate:E,maxDate:C,onSelect:(e,r)=>{De(e,r),xe("date")(e)},onChangeMonth:De,currentMonth:K,trimBeyondMaxDate:!0,disabled:le&&oe===U.ki.OPEN_RETURN,type:fe.Vz.Horizontal,monthsToShow:ge,onIsCalendarOpen:R,renderCalendarDate:N,invisibleTableCellBorders:D})),!me&&!Z&&m.createElement("div",{className:(0,h.css)(pe?Ue.footer:Ue.tabletFooter)},m.createElement(Qe,{intl:u,isOutbound:v,hasError:T,journeySearchType:oe,value:A.value,outboundValue:c.outbound,hasEuropeExperience:d,timeSlotSelected:Ke(),onBeforAfterDropdownChange:Me("dateType"),onTimeSlotChange:Ye,onHoursChange:Me("hours"),onMinutesChange:Me("minutes"),increasePickersRightPadding:D,showUSFormatDateTime:w}),O&&!le&&m.createElement(we,{deviceType:l})),me&&O&&!le&&m.createElement(we,{deviceType:l}))),l===s.WO.MOBILE&&m.createElement(Se.Z,null,!Z&&m.createElement("div",{className:(0,h.css)(Ue.mobileFooter)},m.createElement(Qe,{intl:u,isOutbound:v,hasError:T,journeySearchType:oe,value:A.value,outboundValue:c.outbound,hasEuropeExperience:d,timeSlotSelected:Ke(),onBeforAfterDropdownChange:Me("dateType"),onTimeSlotChange:Ye,onHoursChange:Me("hours"),onMinutesChange:Me("minutes"),increasePickersRightPadding:D,showUSFormatDateTime:w,testId:"time-picker"})),m.createElement(Se.Z.ActionButton,{label:u.formatMessage({id:O?"page.journeySearchForm.combinedDatePicker.selectDate":"component.overlay.done"}),onClick:()=>{Le()},testId:"done-button"})))))},tr=h.StyleSheet.create({wrapper:{display:"flex",width:"100%"},fieldComponent:{flex:1},divider:{minWidth:1,backgroundColor:j.dp_app_border_base,alignSelf:"center",height:"80%"}});var ar=h.StyleSheet.create({wrapper:{flexDirection:"column"},divider:{height:1,backgroundColor:j.dp_app_border_base,marginLeft:W.W0.s2,marginRight:W.W0.s2}}),nr=function(e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,he._q)(e,r).format():(0,he.KN)(e).format()};const ir=e=>{var{orientation:r,hasEuropeExperience:t,isStacked:a,outboundError:i,inboundError:o,formValues:s,setOutboundDatetimeRef:l,searchWidgetRef:d,change:u,deviceType:p,intl:g,onDisplayCalendar:v,onChangeMonth:h,renderCalendarDate:y,shouldDisplayMonthlyPriceCalendar:f,outboundRef:E,returnRef:b,clickedStatusHandler:S,isUkHorizontalSearchEnabled:T,showUSFormatDateTime:C,isOpenReturnChangesForMWeb:A}=e,_=r===I.z.HORIZONTAL?re.N.LEFT:re.N.RIGHT,P=r===I.z.VERTICAL,R=C&&t;return m.createElement("div",{"data-test":"datetime-picker-wrapper",className:(0,c.css)([tr.wrapper,a&&ar.wrapper])},m.createElement("div",{className:(0,c.css)(!a&&tr.fieldComponent)},m.createElement(Q.Z,{name:"outbound",component:rr,title:"page.journeySearchForm.outbound.title",startDate:(0,he.uy)(!0,!1).format(),endDate:(0,he.v3)(t),hasError:i,popoverGrowthDirection:_,displayOneMonth:P,setDatetimeRef:l,isOutbound:!0,change:u,containerRef:d,deviceType:p,formValues:s,hasEuropeExperience:t,intl:g,isStacked:a,onDisplayCalendar:function(e){function r(r,t){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}(((e,r)=>v&&v(e,r,!1))),onChangeMonth:function(e){function r(r){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((e=>{h&&h(e,!1)})),renderCalendarDate:y?e=>y((0,n.Z)((0,n.Z)({},e),{},{isInbound:!1})):void 0,shouldDisplayMonthlyPriceCalendar:f,inputRef:E,clickedStatusHandler:S,isUkHorizontalSearchEnabled:T,showUSFormatDateTime:R})),m.createElement("div",{"data-test":"datetime-picker-divider",className:(0,c.css)(a?ar.divider:tr.divider)}),m.createElement("div",{className:(0,c.css)(!a&&tr.fieldComponent)},m.createElement(Q.Z,{name:"inbound",component:rr,title:"page.journeySearchForm.inbound.title",isOutbound:!1,startDate:nr(s.outbound,t,R),endDate:(0,he.v3)(t),hasError:o,popoverGrowthDirection:_,displayOneMonth:P,change:u,containerRef:d,deviceType:p,formValues:s,hasEuropeExperience:t,intl:g,isStacked:a,renderCalendarDate:y?e=>y((0,n.Z)((0,n.Z)({},e),{},{isInbound:!0})):void 0,shouldDisplayMonthlyPriceCalendar:f,inputRef:b,clickedStatusHandler:S,isUkHorizontalSearchEnabled:T,showUSFormatDateTime:R,isOpenReturnChangesForMWeb:A,onDisplayCalendar:function(e){function r(r,t){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}(((e,r)=>v&&v(e,r,!0))),onChangeMonth:function(e){function r(r){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((e=>{h&&h(e,!0)}))})))};var or=(0,f.compose)((0,g.connect)(((e,r)=>({formValues:(0,C.gH)(e),hasEuropeExperience:(0,C.NP)(e,r),inboundError:(0,C.YS)(e),outboundError:(0,C.PY)(e)})),(e=>({change:(r,t)=>e((0,M.m)(U.Th,r,t))}))),y.injectIntl,o.FZ)(ir);or.displayName="DateTimePickerComposed";const sr=or;var lr=t(48216),cr=t(67001),dr=t(16981);const ur=h.StyleSheet.create({container:{margin:"var(--dp_s16) 0"},divider:{minHeight:1,backgroundColor:"var(--dp_app_border_base)",margin:"0 var(--dp_s8)"},disabled:{cursor:"not-allowed",boxShadow:"none",backgroundColor:j.dp_app_selectable_disabled_background,border:"1px solid ".concat(j.dp_app_border_base),color:j.dp_app_text_field_icon_fill_brighter,outline:"none",fontWeight:"normal",":hover":{backgroundColor:j.dp_app_selectable_disabled_background,border:"1px solid ".concat(j.dp_app_border_base),color:j.dp_app_text_field_icon_fill_brighter},":active":{outline:"none"}}});var pr=t(79423),mr=["name","checked"];const gr=e=>{var{input:{name:r,checked:t},disabled:n,isUserOnCoachTab:o=!1,label:s,isHorizontal:l,isEuropeExperience:c=!1,portal:d,hasGBCountryCode:u,isDirectTrainFilterChecked:p=!1,isDirectSearchLimitedByMarket:v}=e,y=(0,i.Z)(e.input,mr),f=n?(0,h.css)(ur.disabled):void 0,E=(0,g.useDispatch)(),b=(0,m.useCallback)((()=>{n||E((0,pr.hp)(U.Th,"directSearch",!p))}),[E,n,p]),T=c&&!u&&l&&d===S.Portal.TRAINLINE;return m.createElement(m.Fragment,null,v&&u?null:m.createElement("div",{className:(0,h.css)(!l&&ur.container)},T?m.createElement(cr.Z,{id:"search-widget-direct-train-btn",label:s,selected:p,onClick:b,disabled:n,className:f}):m.createElement(dr.Z,(0,a.Z)({},y,{id:"search-widget-direct-search",value:r,checked:t&&!o,disabled:n,label:s}))),!l&&m.createElement("div",{className:(0,h.css)(ur.divider)}))};var vr=t(39832);const hr=e=>{var{orientation:r,deviceType:t,intl:a,portal:n,isDirectSearchLimitedByMarket:i,isUserOnCoachTab:o,trainAvailabilityLoadStatus:l}=e,{from:c,to:d,directSearch:u}=(0,g.useSelector)(C.gH),{from:p,to:v}=(0,g.useSelector)(C.rE),y=r===I.z.HORIZONTAL,f=t===s.WO.MOBILE,E=y?G:V,b=(0,vr.Gg)(c,d),T=!o&&(u||!1),A="GB".includes(p.countryCode)||"GB".includes(v.countryCode),_=(0,m.useMemo)((()=>{if(n!==S.Portal.TRAINLINE)return m.createElement("div",{className:(0,h.css)(E.directSearchContainer)},m.createElement(Q.Z,{id:"directSearch",name:"directSearch",component:lr.Z,type:"checkbox",intl:a}));if(!i||i&&b&&y){var e=i?a.formatMessage({id:"page.results.filters.directOnly"}):a.formatMessage({id:"page.journeySearchForm.directSearch"}),r=y&&(o||l!==S.LoadStatus.SUCCESS);return m.createElement("div",{className:(0,h.css)(E.directSearchField)},m.createElement(Q.Z,{id:"directSearch",name:"directSearch",component:gr,isHorizontal:y,type:"checkbox",label:e,disabled:r,isUserOnCoachTab:o,isEuropeExperience:b,portal:n,hasGBCountryCode:A,isDirectTrainFilterChecked:T,isDirectSearchLimitedByMarket:i}))}return null}),[n,i,y,E.directSearchContainer,a,o,l,b,A,T]);return _?m.createElement("div",{"data-test":"search-widget-direct-search",className:(0,h.css)(n!==S.Portal.TRAINLINE&&E.directSearchSpacesaver)},!f&&y?(0,z.Vz)(t,r,1)(_):_):null};var yr=t(235),fr=t(15685),Er=t(28394),br=t(61730),Sr=t(61829),Tr=h.StyleSheet.create({root:{display:"flex",flexDirection:"column",width:"100%",position:"relative"},divider:{minHeight:1,backgroundColor:j.dp_app_border_base,marginLeft:"8px",marginRight:"8px"},swapButtonWrapper:{top:"50%",right:"24px",transform:"translate3d(50%,-50%, 0) rotate(90deg)",zIndex:102}}),Cr=h.StyleSheet.create({root:{display:"flex",flexDirection:"row",width:"100%",position:"relative",height:"64px"},fromFieldWrapper:{flex:"1"},divider:{width:"1px",backgroundColor:j.dp_app_border_base,marginTop:"8px",marginBottom:"8px"},toFieldWrapper:{flex:"1"},swapButtonWrapper:{zIndex:102}}),Ar=(e,r,t,a,n,i,o)=>()=>{e&&e!==document.activeElement&&r&&r!==document.activeElement&&(i(!0),t.to.code?t.from.code||n||a===s.WO.MOBILE?a!==s.WO.MOBILE||o||e.focus():(r.focus(),r.click()):e.focus())},Ir=(e,r,t,a,n,i)=>()=>{e&&e!==document.activeElement&&r&&r!==document.activeElement&&(i(!0),t.from.code?n||a===s.WO.MOBILE||(r.focus(),r.click()):e.focus())};const _r=e=>{var{searchWidgetRef:r,outboundDatetimeRef:t,portal:a,isStacked:n,orientation:i,onMeasurePerformance:o,formValues:s,updatingLists:l,suggestionsForTo:c,suggestionsForFrom:d,popularStationsForFrom:u,popularStationsForTo:p,exploreEuropeStationsForFrom:g,exploreEuropeStationsForTo:v,swapStations:h,updateSuggestions:y,fromInputRefManaged:f,toInputRefManaged:E,intl:b,deviceType:S,isUkHorizontalSearchEnabled:T,enableStationPickerEnhancements:C,tripFinderBanner:A}=e,[_,P]=m.useState(null),[R,k]=m.useState(null),[N,O]=m.useState(""!==s.from.code),[L,x]=m.useState(""!==s.to.code);return m.createElement(Sr.ZP,{portal:a,searchWidgetRef:r,isStacked:n,suggestionsForFrom:d,suggestionsForTo:c,fromPlaceholder:b.formatMessage({id:n?"page.journeySearchForm.cityOrStation":"page.journeySearchForm.fromStation"}),toPlaceholder:b.formatMessage({id:n?"page.journeySearchForm.cityOrStation":"page.journeySearchForm.toStation"}),swapStations:h,formValues:s,updateSuggestions:y,updatingLists:l,form:U.Th,popularStationsForFrom:u,popularStationsForTo:p,exploreEuropeStationsForFrom:g,exploreEuropeStationsForTo:v,orientationType:i===I.z.HORIZONTAL?1:0,isSearchWidget:!0,isOrientationVertical:i===I.z.VERTICAL,useDepotSwapStationButton:!0,showDividerLine:!0,styleSheet:i===I.z.HORIZONTAL?Cr:Tr,intl:b,onMeasurePerformance:o,setFromInputRef:P,setToInputRef:k,onFromInputConfirmKey:Ar(R,t,s,S,N,O,T),onToInputConfirmKey:Ir(_,t,s,S,L,x),fromInputRefManaged:f,toInputRefManaged:E,isUkHorizontalSearchEnabled:T,enableStationPickerEnhancements:C,tripFinderBanner:A})};const Pr=(0,f.compose)((0,g.connect)(((e,r)=>{var t=(0,Er.c)(e,r),a=t&&t!==S.Portal.TRAINLINE,n=a?(0,fr.YK)(e,r):(0,fr.qU)(e,r),i=a?(0,fr.mk)(e,r):(0,fr.ZL)(e,r),o=(0,fr.SE)(e,r),s=(0,fr.m)(e,r);return{formValues:(0,C.gH)(e),updatingLists:(0,C.mN)(e),suggestionsForTo:(0,fr.nQ)(e,r),suggestionsForFrom:(0,fr.Jz)(e,r),popularStationsForFrom:n,popularStationsForTo:i,exploreEuropeStationsForFrom:o,exploreEuropeStationsForTo:s}}),(e=>({swapStations:r=>{var{from:t,to:a}=r;e((0,M.m)(U.Th,"from",a)),e((0,M.m)(U.Th,"to",t)),e((0,M.m6)(U.Th)),e((0,M.cS)(U.Th,(0,yr.qF)(br.P.SYNC,(0,n.Z)((0,n.Z)({},r),{},{to:t,from:a}))))},updateSuggestions:(r,t)=>{e((0,pr.ue)(r,!0,U.Th)),e((0,pr.gD)({stationField:r,query:t,formName:U.Th}))}}))),y.injectIntl,o.FZ)(_r);var Rr=t(82758),kr=t(85924),Nr=t(73590),Or=t(39086),Lr=t(49407),xr=t(71695),Dr=t(3963),wr=t(70363);const Zr=e=>{var{railcards:r,vouchers:t}=e;return m.createElement("div",{className:(0,c.css)(wr.Z.horizontalSearchRailcards)},m.createElement(y.FormattedMessage,{values:{railcards:r,vouchers:t},id:"page.journeySearchForm.passengerPicker.railcards"}))};var Fr=t(42018),Br=t(48064),Mr=t(15378),Ur=t(96391),jr=t(8074),Hr=t(49661);const Wr=()=>m.createElement("svg",{width:"47",height:"34",viewBox:"0 0 47 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.849 9.71214C30.7876 9.22219 30.3696 8.84312 29.863 8.84312C29.3143 8.84312 28.8694 9.288 28.8694 9.83679L28.8694 15.8694L22.8368 15.8694L22.7121 15.8771C22.2222 15.9385 21.8431 16.3565 21.8431 16.8631C21.8431 17.4118 22.288 17.8567 22.8368 17.8567L28.8694 17.8567L28.8694 23.8893L28.8771 24.014C28.9384 24.5039 29.3565 24.883 29.863 24.883C30.4118 24.883 30.8567 24.4381 30.8567 23.8893L30.8567 17.8567L36.8893 17.8567L37.014 17.849C37.5039 17.7877 37.883 17.3696 37.883 16.8631C37.883 16.3143 37.4381 15.8694 36.8893 15.8694L30.8567 15.8694L30.8567 9.83679L30.849 9.71214Z",fill:"#192325"}),m.createElement("path",{d:"M18 10.2688C18 13.3753 15.4815 15.8938 12.375 15.8938C9.2685 15.8938 6.75 13.3753 6.75 10.2688C6.75 7.16227 9.2685 4.64377 12.375 4.64377C15.4815 4.64377 18 7.16227 18 10.2688ZM16.5 10.2688C16.5 7.99027 14.6535 6.14377 12.375 6.14377C10.0965 6.14377 8.25 7.99027 8.25 10.2688C8.25 12.5473 10.0965 14.3938 12.375 14.3938C14.6535 14.3938 16.5 12.5473 16.5 10.2688Z",fill:"black"}),m.createElement("path",{d:"M6.75 24.8938V19.2755C6.75 17.8153 7.9635 16.6438 9.45 16.6438H15.3C16.7865 16.6438 18 17.8153 18 19.2755V24.8938C18 25.3078 17.664 25.6438 17.25 25.6438H7.5C7.086 25.6438 6.75 25.3078 6.75 24.8938ZM16.5 19.2755C16.5 18.656 15.9697 18.1438 15.3 18.1438H9.45C8.78025 18.1438 8.25 18.656 8.25 19.2755V24.1438H16.5V19.2755Z",fill:"black"}));var Gr=t(69576),Vr=t(4582),Yr=t(7726),Kr=t(66593);class zr extends m.Component{constructor(){super(...arguments),(0,kr.Z)(this,"picker",void 0),(0,kr.Z)(this,"scrollToBottom",null),(0,kr.Z)(this,"setPickerRef",(e=>{this.picker=e})),(0,kr.Z)(this,"setScrollToBottomRef",(e=>{this.scrollToBottom=e})),(0,kr.Z)(this,"pushEuFlowPassengerAndScroll",(e=>{this.props.pushEuFlowPassenger(e),setTimeout((()=>{var e;null===(e=this.scrollToBottom)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),0)})),(0,kr.Z)(this,"handleOnCappedBannerClick",(()=>{window.open("/fr/compagnies-ferroviaires/sncf/cartes-abonnements-de-train","_blank")}))}render(){var e,{passengers:r,errors:t,launchDiscountCardModal:a,removeInvalidDiscountCards:n,toggleDiscountCardEnabled:i,availableCardTypes:o,isGuest:l,isRecognisedUser:c,voucherCount:d,onRequestOpenPassengerProfileModal:u,uiState:p,pushEuFlowPassenger:g,onToggle:v,onLaunchPassengerList:y,onSignInPromptDismissed:f,intl:E,onDismiss:b,deviceType:S,popoverGrowthDirection:C=re.N.LEFT,onSearchChange:A,searchWidgetRef:_,isStacked:P,discountCardsLoadStatus:R,isRailcardRecommendBannerEnabled:k,prmEnabled:N,launchPRMDetailsModal:O,isEnableEUAddPassenger:L=!1,isCappedFareBannerExperiment:x=!1,shouldUseItalianYouthAgeRange:D,onRequestOpenVoucherModal:w,formValues:Z,shouldDismissPassengerPicker:F,orientation:B}=this.props,M=r.filter(T.On),j=(0,Rr.vY)(M.filter((e=>{var{name:r}=e;return!r})).map((e=>{var{type:r}=e;return r}))),H=M.reduce(((e,r)=>e+r.discountCards.filter((e=>o[e.id])).length),0),W=M.length,G=C===re.N.RIGHT,V=Boolean(r.length>=7&&!l&&A),Y=r.every((e=>{var{disability:r}=e;return r})),K=S===s.WO.MOBILE,J=E.locale===xr.vi.FRENCH&&x,q=B===I.z.HORIZONTAL;return m.createElement("div",{className:(0,h.css)(Hr.ZP.wrapper,L&&Hr.ZP.alignEUPassengerButton),"data-test":"eu-passenger-picker",ref:this.setPickerRef},m.createElement(_e.Z,{role:"button",size:K?"xl":"l",label:m.createElement("div",{className:(0,h.css)(P&&Hr.o6.label)},m.createElement(Zr,{railcards:H,vouchers:d})),invertLabel:!0,outlineOnFilled:!1,testId:"eu-passenger-summary-btn-open",value:(0,Dr.t)({adults:j.adults,youths:j.youths,seniors:j.seniors,passengerNames:M.filter((e=>{var{name:r}=e;return!!r})).map((e=>{var{name:r}=e;return r})),isEUSearch:!0,intl:E,shouldUseItalianYouthAgeRange:D}),type:"button",id:"passenger-summary-btn",onClick:v,styleSheet:[Hr.o6.button,P&&Hr.o6.spacer],initialOutline:!1,onFocus:e=>{this.props.inputRefManaged||e.target.blur()},active:p.isOpen,inputRefManaged:this.props.inputRefManaged,ariaLabel:(0,Dr.t)({adults:j.adults,youths:j.youths,seniors:j.seniors,passengerNames:M.filter((e=>{var{name:r}=e;return!!r})).map((e=>{var{name:r}=e;return r})),isEUSearch:!0,intl:E,isAria:!0,noOfRailcards:H,shouldUseItalianYouthAgeRange:D})}),L&&m.createElement(Ne.C9,{onClick:v,styleSheet:Hr.ZP.addEUPassenger},m.createElement(Wr,null)),m.createElement(ee.ZP,{transitionDuration:0,isOpen:p.isOpen},m.createElement(X.ZP,{width:460,type:X.j2.POPOVER,close:()=>{F&&b(null,this.picker,null)},anchor:(0,z.Bb)(G,(null===(e=this.props)||void 0===e||null===(e=e.inputRefManaged)||void 0===e?void 0:e.current)||this.picker,G?_:void 0),flexibleFooter:L,testId:"overlay-eu-passengers-picker-for-search-widget"},(V||S===s.WO.MOBILE)&&m.createElement(Te.Z,null,V&&m.createElement(Te.Z.Input,{type:"search",icon:Or.Z,onChange:A,value:p.searchValue,placeholder:E.formatMessage({id:"page.journeySearchForm.eupassengerPicker.search.placeholder"}),testId:"search-passengers"}),!V&&S===s.WO.MOBILE&&m.createElement(Te.Z.Title,{text:E.formatMessage({id:"page.journeySearchForm.passengerPicker.passengersTitle"})}),m.createElement(Te.Z.ActionButton,{label:E.formatMessage({id:"components.modal.buttons.cancel"})})),J?m.createElement("div",{className:(0,h.css)(Hr.ZP.bannerWrapper)},m.createElement(Yr.Z,{text:m.createElement("p",null,E.formatMessage({id:"page.journeySearchForm.passengerPicker.discountCardBanner"})),buttonText:E.formatMessage({id:"page.journeySearchForm.passengerPicker.discountCardBanner.shopNow"}),icon:"railcard",onClick:this.handleOnCappedBannerClick})):null,m.createElement($.ZP,null,(l||c&&(!p.searchValue||(0,Br.px)(p.searchValue,r)))&&!p.promptDismissed&&m.createElement(Ur.Z,{onSignInPromptDismissed:f,enableDismissButton:!1,href:"".concat(Lr.wm,"?showRadioButtons=false"),isRecognisedUser:c}),k&&m.createElement(Fr.Z,{passengers:r,slimVariant:!0}),m.createElement(Nr.Z,{name:"euFlowPassengers",component:Br.ZP,availableCardTypes:o,onRequestOpenPassengerProfileModal:u,errors:t,launchDiscountCardModal:a,removeInvalidDiscountCards:n,toggleDiscountCardEnabled:i,selectedPassengerCount:W,isGuest:l,isRecognisedUser:c,launchPassengerList:y,searchValue:p.searchValue,discountCardsLoadStatus:R,launchPRMDetailsModal:O,prmEnabled:N,shouldUseItalianYouthAgeRange:D}),!L&&m.createElement(m.Fragment,null,N&&m.createElement(Mr.ZP,{disabled:Y,launchPRMDetailsModal:O}),m.createElement("div",{className:(0,h.css)(Hr.ZP.bottomWrapper)},W<U.wF&&(l?m.createElement(jr.ZP,{onAddPassenger:g,launchPassengerList:y,intl:E,shouldUseItalianYouthAgeRange:D}):m.createElement(jr.II,{onAddPassenger:()=>{var e=(0,T.HL)();g(e),u(e.id)},launchPassengerList:y,intl:E})),m.createElement(Gr.Z,{selectedPassengerCount:W}),q&&m.createElement(Kr.Z,{onRequestOpenVoucherModal:w,passengers:Z.euFlowPassengers,hasVoucher:Boolean(Z.voucherInput)}))),m.createElement("div",{ref:this.setScrollToBottomRef})),S===s.WO.MOBILE&&m.createElement(Se.Z,{actionButtonLabel:E.formatMessage({id:"page.journeySearchForm.passengerPicker.done"}),actionButtonTestId:"eu-passenger-done-button"},L&&m.createElement(m.Fragment,null,m.createElement("div",{className:(0,h.css)(Hr.ZP.totalWidth)},W<U.wF&&(l?m.createElement(jr.ZP,{onAddPassenger:this.pushEuFlowPassengerAndScroll,launchPassengerList:y,intl:E}):m.createElement(jr.II,{onAddPassenger:()=>{var e=(0,T.HL)();this.pushEuFlowPassengerAndScroll(e),u(e.id)},launchPassengerList:y,intl:E})),m.createElement(Gr.Z,{selectedPassengerCount:W}),N&&m.createElement(Mr.ZP,{disabled:Y,launchPRMDetailsModal:O,fillSpace:!0})),m.createElement(Se.Z.ActionButton,{label:E.formatMessage({id:"page.journeySearchForm.passengerPicker.done"}),testId:"eu-passenger-done-button"}))))))}}const Jr=(0,o.FZ)((0,Vr.ZP)(zr));var qr=t(91937),Qr=t(99413),Xr=t(12708),$r=t(39908),et=t(54176),rt=t(78361),tt=t(19133);const at=(0,y.injectIntl)((0,o.FZ)((e=>{var{passengers:r,cardTypes:t=[],sortedDiscountCardOptions:a,deviceType:n,popoverGrowthDirection:i,intl:o,searchWidgetRef:l,isStacked:c,onPassengerPickerOpened:d,triggerPassengerPickerCompletedAnalytics:u,forcePassengerPickerOpen:p,isUKDiscountCardsModalOpen:g,updateUKPassengers:v,launchUKDiscountCardModal:f}=e,[E,b]=m.useState(null),[S,T]=m.useState(!1),[C,A]=m.useState(!1),[I,_]=m.useState(r);m.useEffect((()=>{T(Boolean(p&&p.forceOpen))}),[]);var P=()=>{g||(T(!1),u&&u())},{adults:R,children:k}=(0,Rr.V6)(r),N=(0,qr.F)(r,t),O=t.filter((e=>e.id)).length,L=i===re.N.RIGHT;return m.createElement("div",{ref:b},m.createElement(_e.Z,{size:n===s.WO.MOBILE?"xl":"l",label:m.createElement("div",{className:(0,h.css)(c&&rt.o6.label)},m.createElement(Zr,{railcards:O})),invertLabel:!0,outlineOnFilled:!1,testId:"passenger-summary-btn-open",value:(0,Dr.t)({adults:R,children:k,intl:o}),readOnly:!0,id:"passenger-summary-btn",onClick:()=>{S||(_(r),d()),T(!S),u&&S&&u()},styleSheet:[rt.o6.button,c&&rt.o6.spacer],initialOutline:!1,onFocus:e=>e.target.blur(),active:S}),m.createElement(ee.ZP,{isOpen:S},m.createElement(X.ZP,{width:460,type:X.j2.POPOVER,close:P,anchor:(0,z.Bb)(L,E,L?l:void 0),forceCloseUpdate:!0,validateBeforeClose:()=>!N||(A(!0),!1)},n===s.WO.MOBILE&&m.createElement(m.Fragment,null,m.createElement(Te.Z,null,m.createElement(Te.Z.Title,{text:m.createElement("div",{className:(0,h.css)(rt.FR.container)},m.createElement(y.FormattedMessage,{id:"page.journeySearchForm.passengerPicker.passengersTitle"}),m.createElement(Xr.Z,{links:Qr.u,translationHeadingId:"page.journeySearchForm.passengerPicker.passengersTitle",styleSheet:rt.m2,intl:o}))}),m.createElement(Te.Z.ActionButton,{label:o.formatMessage({id:"page.journeySearchForm.passengerPicker.cancel"}),onClick:()=>{I&&v&&v(I),P()}}))),m.createElement($.ZP,null,m.createElement($r.Z,{adults:R,children:k,discountCards:a,launchUKDiscountCardModal:f})),m.createElement(Se.Z,null,n===s.WO.MOBILE?m.createElement(Se.Z.ActionButton,{label:o.formatMessage({id:"page.journeySearchForm.passengerPicker.done"}),testId:"passenger-summary-btn-done"}):m.createElement("div",{id:"addRailcardsDiv",className:(0,h.css)(et.K.fullWidth)})))),N&&m.createElement(tt.Z,{messageId:N.messageId,titleId:N.titleId,displayValidationAlert:C,onClose:()=>A(!1)}))})));var nt=t(10571),it=t(55640),ot=t(82323),st=t(5578),lt=t(4234),ct=t(93500),dt=t(64025),ut=t(81011),pt=(0,lt.dx)(0,9),mt=(0,lt.e2)(!0);class gt extends m.PureComponent{render(){var{portal:e,adultCount:r,childCount:t,cardTypes:a,errors:n={},intl:i,disableCoach:o,sortedDiscountCardOptions:s,discountCardsLoadStatus:l}=this.props;return m.createElement("div",{className:(0,h.css)(ct.ZP.horizontalSearchRoot),role:"dialog","aria-label":i.formatMessage({id:"page.journeySearchForm.passengerPicker.ariaLabel"})},o?m.createElement(Q.Z,{component:ut.Z,name:"passengers",errors:n,defaultOption:mt,passengerOptions:pt}):m.createElement(Q.Z,{component:dt.Z,name:"passengers",errors:n,defaultOption:mt,passengerOptions:pt}),m.createElement(it.Z,{styleSheet:ct.ZP.separator}),m.createElement(st.ZP,{portal:e,cardTypes:a,sortedDiscountCardOptions:(0,ot.m)(s,i),passengerCount:r+t,error:n.cardTypeErrors,discountCardsLoadStatus:l}))}}const vt=(0,y.injectIntl)(gt);class ht extends m.Component{constructor(){super(...arguments),(0,kr.Z)(this,"unmounted",!1),(0,kr.Z)(this,"anchor",void 0),(0,kr.Z)(this,"state",{isOpen:!1}),(0,kr.Z)(this,"toggleClickedStatus",(e=>{this.props.inputRefManaged&&this.props.clickedStatusHandler(this.props.inputRefManaged,e)})),(0,kr.Z)(this,"onToggle",(()=>{this.state.isOpen||this.props.onPassengerPickerOpened(),this.setState({isOpen:!this.state.isOpen}),this.toggleClickedStatus(!this.state.isOpen)})),(0,kr.Z)(this,"closePassengerPicker",(()=>{this.setState({isOpen:!1}),this.toggleClickedStatus(!1)}))}getRefElement(e){this.anchor=e}findDOMNode(){return this.unmounted?void 0:nt.findDOMNode(this)}componentWillUnmount(){this.unmounted=!0}render(){var e,{isOpen:r}=this.state,{portal:t,passengers:a,cardTypes:n=[],errors:i,disableCoach:o,sortedDiscountCardOptions:l,deviceType:c,popoverGrowthDirection:d,intl:u,searchWidgetRef:p,isStacked:g,discountCardsLoadStatus:v}=this.props,{adults:y,children:f}=(0,Rr.V6)(a),E=n.filter((e=>e.id)).length,b=d===re.N.RIGHT;return m.createElement("div",{ref:e=>this.getRefElement(e)},m.createElement(_e.Z,{size:c===s.WO.MOBILE?"xl":"l",label:m.createElement("div",{className:(0,h.css)(g&&rt.o6.label)},m.createElement(Zr,{railcards:E})),invertLabel:!0,outlineOnFilled:!1,testId:"passenger-summary-btn-open",value:(0,Dr.t)({adults:y,children:f,intl:u}),type:"button",id:"passenger-summary-btn",onClick:this.onToggle,styleSheet:[rt.o6.button,g&&rt.o6.spacer],initialOutline:!1,onFocus:e=>{this.props.inputRefManaged||e.target.blur()},active:r,inputRefManaged:this.props.inputRefManaged}),m.createElement(ee.ZP,{isOpen:r},m.createElement(X.ZP,{width:460,type:X.j2.POPOVER,close:this.closePassengerPicker,anchor:(0,z.Bb)(b,(null===(e=this.props)||void 0===e||null===(e=e.inputRefManaged)||void 0===e?void 0:e.current)||this.anchor,b?p:void 0)},c===s.WO.MOBILE&&m.createElement(Te.Z,null,m.createElement(Te.Z.Title,{text:u.formatMessage({id:"page.journeySearchForm.passengerPicker.passengersTitle"})}),m.createElement(Te.Z.ActionButton,{label:u.formatMessage({id:"page.journeySearchForm.passengerPicker.cancel"})})),m.createElement($.ZP,null,m.createElement(vt,{portal:t,adultCount:y,childCount:f,cardTypes:n,sortedDiscountCardOptions:l,errors:i,onDone:this.closePassengerPicker,disableCoach:o,discountCardsLoadStatus:v})),c===s.WO.MOBILE&&m.createElement(Se.Z,{actionButtonLabel:u.formatMessage({id:"page.journeySearchForm.passengerPicker.done"}),actionButtonTestId:"passenger-summary-btn-done"}))))}}const yt=(0,y.injectIntl)((0,o.FZ)(ht));var ft=t(42874),Et=e=>()=>{var{discountCardsLoadStatus:r,hasEuropeExperience:t,formValues:a,enableItaloPiuCode:n,fetchRailCards:i}=e;i&&((e,r,t,a)=>{var n=r.map((e=>e.discountCards.length)).reduce(((e,r)=>e+r),0);return t&&n&&e===S.LoadStatus.UNDEFINED&&!a})(r,a.euFlowPassengers,t,n)&&i()};const bt=e=>{var r=(0,Ge.Jn)(),t=r&&(null==r?void 0:r.references)&&r.references.get("RailCards")||void 0;m.useEffect((()=>{var{resetPassenger:r,resetRailCards:t}=e,a=e.formValues.passengers.length>1||1===e.formValues.passengers.length&&!(0,vr.mS)(e.formValues.passengers[0]);(0,z.Fu)(e.formValues)&&a&&e.hasEuropeExperience&&(r(),t())}),[e.formValues.passengers,e.formValues.from,e.formValues.to]),m.useEffect(Et(e),[e.discountCardsLoadStatus,e.formValues.euFlowPassengers,e.hasEuropeExperience]);var n=e.orientation===I.z.HORIZONTAL?re.N.LEFT:re.N.RIGHT,i=(0,ft.pN)({locations:e.locations,isGuest:e.isGuest,isRecognisedUser:e.isRecognisedUser,originId:e.formValues.from.id,destinationId:e.formValues.to.id});if(e.hasEuropeExperience)return m.createElement(Jr,{onRequestOpenPassengerProfileModal:e.onRequestOpenPassengerProfileModal,prmEnabled:e.prmEnabled,isGuest:e.isGuest,isRecognisedUser:e.isRecognisedUser,availableCardTypes:e.availableCardTypes,passengers:e.formValues.euFlowPassengers,errors:e.euPassengerPickerErrors,launchPRMDetailsModal:e.launchPRMDetailsModal,launchDiscountCardModal:e.launchDiscountCardModal,removeInvalidDiscountCards:e.removeInvalidDiscountCards,toggleDiscountCardEnabled:e.toggleDiscountCardEnabled,shouldBlockPassengerPickerDismiss:e.shouldBlockPassengerPickerDismiss,voucherCount:e.formValues.voucherInput?1:0,isPassengerProfileModalOpen:e.isPassengerProfileModalOpen,onChangePassengerSelection:e.onChangePassengerSelection(e.formValues),popoverGrowthDirection:n,searchWidgetRef:e.searchWidgetRef,isStacked:e.isStacked,discountCardsLoadStatus:e.discountCardsLoadStatus,onPassengerPickerOpened:e.onPassengerPickerOpened,isRailcardRecommendBannerEnabled:e.isRailcardRecommendBannerEnabled,inputRefManaged:t,clickedStatusHandler:e.clickedStatusHandler,isEnableEUAddPassenger:e.isEnableEUAddPassenger,isCappedFareBannerExperiment:e.isCappedFareBannerExperiment,shouldUseItalianYouthAgeRange:i,orientation:e.orientation,onRequestOpenVoucherModal:e.onRequestOpenVoucherModal,formValues:e.formValues,shouldDismissPassengerPicker:e.shouldDismissPassengerPicker});var o=e.enableNewUkPassengerPicker?at:yt;return m.createElement(o,(0,a.Z)({portal:e.portal,passengers:e.formValues.passengers,cardTypes:e.formValues.ukFlowCardTypes,availableCardTypes:e.availableCardTypes,sortedDiscountCardOptions:e.sortedUKDiscountCardOptions,errors:e.passengerPickerErrors,popoverGrowthDirection:n,searchWidgetRef:e.searchWidgetRef,isStacked:e.isStacked,discountCardsLoadStatus:e.discountCardsLoadStatus,onPassengerPickerOpened:e.onPassengerPickerOpened,inputRefManaged:t,clickedStatusHandler:e.clickedStatusHandler},e.enableNewUkPassengerPicker?{updateUKPassengers:e.updateUKPassengers,isUKDiscountCardsModalOpen:e.isUKDiscountCardsModalOpen,launchUKDiscountCardModal:e.launchUKDiscountCardModal}:{}))};const St=(0,g.connect)(((e,r)=>({prmEnabled:(0,C.BN)(e,r),formValues:(0,C.gH)(e),hasEuropeExperience:(0,C.NP)(e,r),availableCardTypes:(0,C.fd)(e,r),sortedUKDiscountCardOptions:(0,C.En)(e,r),euPassengerPickerErrors:(0,C.Ju)(e),passengerPickerErrors:(0,C.I6)(e),isGuest:!(0,C.L6)(e),onRequestOpenVoucherModal:r.onRequestOpenVoucherModal,shouldDismissPassengerPicker:r.shouldDismissPassengerPicker})),(e=>({onChangePassengerSelection:r=>t=>{var a=r.voucherPassengerSelections;!(a&&t.find((e=>e.value===a)))&&t&&t[0]&&e((0,M.m)(U.Th,"voucherPassengerSelections",t[0].value))},resetPassenger:()=>{var r=[(0,Rr.Q9)().ADULT_DOB];e((0,M.m)(U.Th,"passengers",r));var t=[(0,T.HL)()];e((0,M.m)(U.Th,"euFlowPassengers",t))},resetRailCards:()=>{e((0,M.m)(U.Th,"ukFlowCardTypes",[]))},onPassengerPickerOpened:()=>{e((0,pr.Je)())},updateUKPassengers:r=>{e((0,M.m)(U.Th,"passengers",r))}})))(bt);var Tt=t(66985),Ct=Fe.Z.breakpoints.small.min;const At=h.StyleSheet.create({splitSaveContainer:{height:"100%",[Ct]:{border:"1px solid ".concat(j.dp_app_border_base),width:"fit-content",padding:"0 ".concat(W.W0.s2),borderRadius:W.E0.m},display:"flex",flexDirection:"row",alignItems:"center",gap:W.W0.s1},frame:{padding:"7px ".concat(W.W0.s2),borderColor:j.dp_app_border_base,width:"144px"},labelDefault:{marginBottom:0},labelCopy:{color:j.dp_brand_neutral_core,[Ct]:{paddingLeft:"unset",fontWeight:400,paddingRight:W.W0.s2}},splitSaveLabelContainer:{display:"flex",flexDirection:"row",gap:W.W0.s1},splitSaveLabel:{fontStyle:"normal",fontSize:W.W0.s4,display:"flex",alignItems:"center",lineHeight:W.W0.s6},splitSaveIcon:{transform:"scale(0.85)"}});const It=(0,y.injectIntl)((e=>{var{orientation:r,deviceType:t,isChecked:a,onChange:n}=e,i=r===I.z.HORIZONTAL,o=t===s.WO.MOBILE,l=m.createElement("div",{className:(0,h.css)(At.splitSaveLabelContainer)},m.createElement(Tt.Z,{className:(0,h.css)(At.splitSaveIcon)}),m.createElement("div",{className:(0,h.css)(At.splitSaveLabel)},m.createElement(y.FormattedMessage,{id:"splitsave.text"}))),c=m.createElement("div",{className:(0,h.css)(At.splitSaveContainer)},m.createElement(Ee.Z,{name:"split-tickets-checkbox",innerLabel:l,testId:"split-tickets-checkbox",onChange:n,checked:a,styleSheet:(0,Ze.y)(be.Z,At)}));return m.createElement("div",{"data-test":"search-widget-splitTickets"},!o&&i?(0,z.Vz)(t,r,4)(c):c)}));var _t=t(22389);const Pt=e=>{var r,t,n,i=(0,Ge.Jn)(),o=(null==i?void 0:i.references)&&i.references.get("Submit"),s=(null==i?void 0:i.register)&&o&&i.register(o),l=e.orientation===I.z.HORIZONTAL,c=(0,z.yu)(e.updatingLists)||l&&(r=e.formInitialValues,t=e.formValues,n=["from","to","viaAvoidType","viaAvoidStation","outbound","inbound","passengers","euFlowPassengers","ukFlowCardTypes","journeySearchType","hotelSearchOption","voucherInput","voucherPassengerSelections","directSearch","ukVoucherInput","openReturnType"],r&&t&&(0,_.fS0)((0,_.eiS)(n,r),(0,_.eiS)(n,t))),d=l?Y:K,{intl:u}=e;return m.createElement(Ne.KM,(0,a.Z)({type:"button",depot:!0,testId:"submit-journey-search-button",onClick:()=>{(0,z.yu)(e.updatingLists)||(()=>{var{shouldDelaySubmission:r,submitForm:t}=e;(0,z.gw)(r?500:0).then((()=>{t()}))})()},saveInputRef:o,disabled:c,styleSheet:[d.button,e.showSearchLabel&&d.centerAligned],title:c?u.formatMessage({id:"page.journeySearchForm.submit.disabled"}):""},s,{ariaLabel:u.formatMessage({id:"page.journeySearchForm.submit.aria"})}),l&&!e.showSearchLabel?m.createElement(_t.Z,{className:(0,h.css)(d.icon),fill:c?j.dp_app_text_disabled:j.dp_app_text_inverted}):e.submitButtonLabel||u.formatMessage({id:"page.journeySearchForm.search"}))};var Rt=e=>{var r=(0,C.GE)(e);return r&&(r.outbound===yr.ZA.outbound.past||r.inbound===yr.ZA.inbound.past)};const kt=(0,f.compose)((0,g.connect)((e=>({shouldDelaySubmission:Rt(e),formInitialValues:(0,C.rE)(e),formValues:(0,C.gH)(e),updatingLists:(0,C.mN)(e)})),((e,r)=>({submitForm:()=>{r.submitForm&&r.submitForm(),e((0,M.Ps)(U.Th))}}))),y.injectIntl)(Pt);var Nt=t(11674),Ot=["intl"];const Lt=e=>{var{intl:r}=e,t=(0,i.Z)(e,Ot),a=t.orientation===I.z.HORIZONTAL?t.isUkHorizontalSearchEnabled||t.isInitialViaAvoidSelected:(0,z.Fu)(t.formValues),n=t.orientation===I.z.HORIZONTAL?G:V,{viaAvoidType:o,viaAvoidStation:s,viaAvoidStationUpdating:l}=t.formValues,c=o&&s&&s.name.length>0&&!l&&!(null!=s&&s.code)&&0===t.suggestionsForViaAvoid.length?"page.journeySearchForm.viaAvoid.error.".concat(o.toLowerCase(),"InvalidName"):t.viaAvoidError;return m.createElement("div",{"data-test":"search-widget-via-avoid",className:(0,h.css)(a?[n.viaAvoid,t.isStacked&&n.additionalPadding]:n.viaAvoidSpacesaver)},a&&(0,z.Vz)(t.deviceType,t.orientation,2)(m.createElement(Nt.ZP,{avoidLabel:r.formatMessage({id:"page.journeySearchForm.viaAvoid.avoidLabel",defaultMessage:"Select..."}),change:t.change,clearAsyncError:t.clearAsyncError,defaultLabel:r.formatMessage({id:"page.journeySearchForm.viaAvoid.defaultSelectLabel"}),error:c,placeholder:r.formatMessage({id:"page.journeySearchForm.viaAvoid.placeholder",defaultMessage:"Enter station..."}),suggestions:t.suggestionsForViaAvoid,viaLabel:r.formatMessage({id:"page.journeySearchForm.via",defaultMessage:"Go via"}),forceShowForm:!1,updateSuggestions:t.updateSuggestions,updating:t.updatingLists.viaAvoid,hasEuropeExperience:t.hasEuropeExperience,untouch:t.untouch,viaAvoidType:t.formValues.viaAvoidType,viaAvoidStationName:t.formValues.viaAvoidType&&t.formValues.viaAvoidStation&&t.formValues.viaAvoidStation.name,orientation:t.orientation,containerRef:t.searchWidgetRef,isUkHorizontalSearchEnabled:t.isUkHorizontalSearchEnabled})))};const xt=(0,f.compose)((0,g.connect)(((e,r)=>({formValues:(0,C.gH)(e),hasEuropeExperience:(0,C.NP)(e,r),suggestionsForViaAvoid:(0,fr.El)(e,r),viaAvoidError:(0,C.VT)(e),updatingLists:(0,C.mN)(e),isInitialViaAvoidSelected:(0,C.Vk)(e)})),(e=>({change:(r,t)=>e((0,M.m)(U.Th,r,t)),untouch:r=>e((0,M.OP)(U.Th,r)),clearAsyncError:r=>e((0,M.T6)(U.Th,r)),updateSuggestions:(r,t)=>{e((0,pr.ue)(r,!0,U.Th)),e((0,pr.gD)({stationField:r,query:t,formName:U.Th}))}}))),y.injectIntl,o.FZ)(Lt);var Dt=e=>(null==e?void 0:e.current)&&(null==e?void 0:e.current)!==document.activeElement;const wt=e=>{var{FromInputRef:r,SwapStationRef:t,ToInputRef:a,OutboundDatetimeRef:n,ReturnDatetimeRef:i,RemoveReturnDatetimeRef:o,RailcardsRef:l,SubmitRef:c,formValues:d,deviceType:u,clickedField:p}=e;return[[[r,"From"],{Tab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n,i=t.get("Swap"),o=t.get("To");Dt(i)&&d.from.id?null==i||null===(a=i.current)||void 0===a||a.focus():null==o||null===(n=o.current)||void 0===n||n.focus()}}],[[t,"Swap"],{Tab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("To");Dt(n)&&(d.from.id&&(null==n||null===(a=n.current)||void 0===a||a.focus()))},ShiftTab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("From");Dt(n)&&(null==n||null===(a=n.current)||void 0===a||a.focus())}}],[[a,"To"],{Tab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("From"),i=t.get("outboundDateTime");if(Dt(n)&&Dt(i))if(d.from.id){if(u!==s.WO.MOBILE){var o;null==i||null===(o=i.current)||void 0===o||o.focus()}}else null==n||null===(a=n.current)||void 0===a||a.focus()},ShiftTab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n,i=t.get("Swap"),o=t.get("From");Dt(i)&&d.to.id?null==i||null===(a=i.current)||void 0===a||a.focus():null==o||null===(n=o.current)||void 0===n||n.focus()}}],[[n,"outboundDateTime"],{Tab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a=t.get("inboundDateTime"),n=t.get("outboundDateTime");if(Dt(a)){var i,o;if(p.get(n))null==n||null===(o=n.current)||void 0===o||o.click();null==a||null===(i=a.current)||void 0===i||i.focus()}},ShiftTab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("To");Dt(n)&&(null==n||null===(a=n.current)||void 0===a||a.focus())}}],[[i,"inboundDateTime"],{Tab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n,i=t.get("RemoveReturn"),o=t.get("RailCards");null!=i&&i.current?Dt(i)&&(null==i||null===(a=i.current)||void 0===a||a.focus()):Dt(o)&&(null==o||null===(n=o.current)||void 0===n||n.focus())},ShiftTab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a=t.get("outboundDateTime"),n=t.get("inboundDateTime");if(Dt(a)){var i,o;if(p.get(n))null==n||null===(o=n.current)||void 0===o||o.click();null==a||null===(i=a.current)||void 0===i||i.focus()}},Enter:e=>{var r,{refMap:t}=e,a=t.get("inboundDateTime");null==a||null===(r=a.current)||void 0===r||r.click()}}],[[o,"RemoveReturn"],{Tab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("RailCards");Dt(n)&&(null==n||null===(a=n.current)||void 0===a||a.focus())},ShiftTab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("inboundDateTime");Dt(n)&&(null==n||null===(a=n.current)||void 0===a||a.focus())},Enter:e=>{var r,{event:t,refMap:a}=e;t.preventDefault();var n,i=a.get("RemoveReturn"),o=a.get("inboundDateTime");(null==i||null===(r=i.current)||void 0===r||r.click(),Dt(o))&&(null==o||null===(n=o.current)||void 0===n||n.focus())}}],[[l,"RailCards"],{ShiftTab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("inboundDateTime");Dt(n)&&(null==n||null===(a=n.current)||void 0===a||a.focus())}}],[[c,"Submit"],{ShiftTab:e=>{var{event:r,refMap:t}=e;r.preventDefault();var a,n=t.get("RailCards");Dt(n)&&(null==n||null===(a=n.current)||void 0===a||a.focus())}}]]};var Zt=(0,g.connect)((e=>({initialValues:(0,T.q3)(),formValues:(0,C.gH)(e),formMeta:(0,C.tq)(e)})),null);const Ft=(0,f.compose)(b.v8,Zt,y.injectIntl,(0,E.Z)(A.Z))((e=>{var{portal:r=S.Portal.TRAINLINE,orientation:t,deviceType:a,locations:n,recentLocations:i,suggestionLocationIndexes:o,popularLocations:l,popularLocationsToc:c,onMeasurePerformance:d,locale:u,discountCardsLoadStatus:p,isPassengerProfileModalOpen:g,shouldBlockPassengerPickerDismiss:v,availableCardTypes:y,isRecognisedUser:f,isUKDiscountCardsModalOpen:E,onRequestOpenPassengerProfileModal:T,launchDiscountCardModal:C,launchUKDiscountCardModal:A,removeInvalidDiscountCards:_,toggleDiscountCardEnabled:P,fetchRailCards:R,enableNewUkPassengerPicker:k,isCappedFareBannerExperiment:N,submitForm:O,submitButtonLabel:L,onRequestOpenVoucherModal:x,deleteVoucher:D,isDirectSearchEnabled:w,isDirectSearchLimitedByMarket:Z,launchPRMDetailsModal:F,intl:M,isRailcardRecommendBannerEnabled:U,enableItaloPiuCode:j=!1,onDisplayCalendar:H,onChangeMonth:W,renderCalendarDate:Y,hasPromoCodeEntered:K,setPromoCodeEnteredFlag:J,shouldDisplayMonthlyPriceCalendar:q,journeyHasPromoApplied:Q,enableUkVouchers:X,disabledPromoText:$=!1,appliedPromoCode:ee,isUkHorizontalSearchEnabled:re=!1,formValues:te,isEnableEUAddPassenger:ae=!1,enableStationPickerEnhancements:ne,tripFinderBanner:ie,showUSFormatDateTime:oe=!1,isOpenReturnChangesForMWeb:se=!1,isSplitSaveEnabled:le=!1,isSplitSaveChecked:ce=!1,isUserOnCoachTab:de,trainAvailabilityLoadStatus:pe,handleSplitSaveToggle:me,shouldDismissPassengerPicker:ge,dispatch:he,sendTracking:ye}=e,fe=m.useRef(null),[Ee,be]=m.useState(null),Se=t===I.z.HORIZONTAL,Te=Se?G:V,Ce=!Se&&a!==s.WO.MOBILE,Ae=a===s.WO.MOBILE,Ie=(0,m.useRef)(),_e=(0,m.useRef)(),Pe=(0,m.useRef)(),Re=(0,m.useRef)(),ke=(0,m.useRef)(),Ne=(0,m.useRef)(),Oe=(0,m.useRef)(),Le=(0,m.useRef)(),[xe,De]=m.useState(new Map([[Ie,!1],[Pe,!1],[Re,!1],[ke,!1],[Oe,!1]])),we=(e,r)=>{De(new Map(xe.set(e,null!=r?r:!xe.get(e))))},Ze=(0,m.useMemo)((()=>wt({FromInputRef:Ie,SwapStationRef:_e,ToInputRef:Pe,OutboundDatetimeRef:Re,ReturnDatetimeRef:ke,RemoveReturnDatetimeRef:Ne,RailcardsRef:Oe,SubmitRef:Le,formValues:te,deviceType:a,clickedField:xe})),[Ie,_e,Pe,Re,ke,Ne,Oe,Le,te,a,xe]),Fe=()=>{var e,t,a=te.euFlowPassengers,i=te.directSearch||!1;!(0,ft.pN)({locations:n,isRecognisedUser:f,originId:null===(e=te.from)||void 0===e?void 0:e.id,destinationId:null===(t=te.to)||void 0===t?void 0:t.id})&&a.length&&(0,z.vv)(a,he),Se||r!==S.Portal.TRAINLINE||(ye((0,b.k1)({coreProperties:{},category:"direct trains checkbox",action:i?"direct trains checked":"direct trains unchecked",label:"direct trains checkbox"})),"undefined"!=typeof window&&window.newrelic&&window.newrelic.addPageAction("direct trains checkbox",{checked:i})),null==O||O()};return m.createElement(Ge.ZP,{schema:Ze},m.createElement("form",{autoComplete:"off",className:(0,h.css)(Te.root),ref:fe},m.createElement("div",{className:(0,h.css)(Te.wrapper)},m.createElement("div",{className:(0,h.css)(Te.fromTo)},m.createElement(Pr,{fromInputRefManaged:Ie,isStacked:Ce,isUkHorizontalSearchEnabled:re,locations:n,onMeasurePerformance:d,orientation:t,outboundDatetimeRef:Ee,popularLocations:l,popularLocationsToc:c,portal:r,recentLocations:i,searchWidgetRef:fe.current,suggestionLocationIndexes:o,toInputRefManaged:Pe,enableStationPickerEnhancements:ne,tripFinderBanner:ie})),m.createElement(xt,{orientation:t,searchWidgetRef:fe.current,isStacked:Ce,locale:u,locations:n,suggestionLocationIndexes:o,isUkHorizontalSearchEnabled:re}),m.createElement("div",{className:(0,h.css)(Te.dateTimePicker)},m.createElement(sr,{locale:u,locations:n,orientation:t,isStacked:Ce,setOutboundDatetimeRef:be,searchWidgetRef:fe.current,onDisplayCalendar:H,onChangeMonth:W,renderCalendarDate:Y,shouldDisplayMonthlyPriceCalendar:q,outboundRef:Re,returnRef:ke,clickedStatusHandler:we,isUkHorizontalSearchEnabled:re,showUSFormatDateTime:oe,isOpenReturnChangesForMWeb:se})),m.createElement("div",{className:(0,h.css)(Te.passengerPicker)},m.createElement(St,{portal:r,orientation:t,isStacked:Ce,searchWidgetRef:fe.current,discountCardsLoadStatus:p,isPassengerProfileModalOpen:g,shouldBlockPassengerPickerDismiss:v,locale:u,locations:n,onRequestOpenVoucherModal:x,availableCardTypes:y,isRecognisedUser:f,isUKDiscountCardsModalOpen:E,onRequestOpenPassengerProfileModal:T,launchPRMDetailsModal:F,launchDiscountCardModal:C,launchUKDiscountCardModal:A,removeInvalidDiscountCards:_,toggleDiscountCardEnabled:P,fetchRailCards:R,enableNewUkPassengerPicker:k,isCappedFareBannerExperiment:N,isRailcardRecommendBannerEnabled:U,enableItaloPiuCode:j,clickedStatusHandler:we,isEnableEUAddPassenger:ae,shouldDismissPassengerPicker:ge})),Se&&m.createElement("div",{className:(0,h.css)(Te.searchButton)},m.createElement(kt,{orientation:t,submitForm:Fe,submitButtonLabel:L,showSearchLabel:re}))),w&&r===S.Portal.TRAINLINE&&m.createElement(hr,{portal:r,isDirectSearchLimitedByMarket:!!Z,intl:M,orientation:t,deviceType:a,isUserOnCoachTab:de,trainAvailabilityLoadStatus:pe}),m.createElement(ve,{orientation:t,isStacked:Ce,onRequestOpenVoucherModal:x,deleteVoucher:D,locale:u,locations:n,suggestionLocationIndexes:o,intl:M}),m.createElement("div",{className:(0,h.css)(Te.validationMessages)},m.createElement(B,null)),Ae&&X&&m.createElement("div",{className:(0,h.css)(Te.promotionContainer)},m.createElement(ue,{orientation:t,searchWidgetRef:fe.current,isStacked:Ce,locale:u,hasPromoCodeEntered:K,setPromoCodeEnteredFlag:J,journeyHasPromoApplied:Q,appliedPromoCode:ee,disabledPromoText:$})),w&&r!==S.Portal.TRAINLINE&&m.createElement(hr,{portal:r,isDirectSearchLimitedByMarket:!!Z,intl:M,orientation:t,deviceType:a,isUserOnCoachTab:de,trainAvailabilityLoadStatus:pe}),!Ae&&X&&m.createElement(ue,{orientation:t,searchWidgetRef:fe.current,isStacked:Ce,locale:u,hasPromoCodeEntered:K,setPromoCodeEnteredFlag:J,journeyHasPromoApplied:Q,appliedPromoCode:ee,disabledPromoText:$}),le&&m.createElement(It,{orientation:t,deviceType:a,isChecked:!!ce,onChange:me}),!Se&&m.createElement("div",{className:(0,h.css)(Te.searchButton)},m.createElement(kt,{orientation:t,submitForm:Fe,submitButtonLabel:L,saveInputRef:Le}))))}));var Bt=t(56429),Mt=t(64169),Ut=t(31024),jt=t(16505),Ht=t(6575),Wt=t(11493);const Gt=h.StyleSheet.create({price:(0,n.Z)((0,n.Z)({},W.cp.small),{},{color:j.dp_app_text_subdued,[Fe.Z.breakpoints.small.max]:(0,n.Z)({},W.cp.mini),display:"flex",alignItems:"center",height:"100%"}),resizedPrice:{fontSize:W.cp.mini.fontSize},selectedPrice:{color:j.dp_app_text_base,fontWeight:400},priceSkeleton:{borderRadius:Ht.Qz,backgroundColor:j.dp_comp_skeleton_background_base,width:"100%",height:"var(--DEPRECATED-21px)"},magnifyingGlass:{alignSelf:"center",height:"var(--DEPRECATED-14px)",paddingTop:"var(--DEPRECATED-7px)"},cheapestCalendarPrice:{background:W.O9.palette.yellow_100,padding:"0 ".concat(W.W0.s1),color:j.dp_brand_neutral_core,borderRadius:Ht.HH}});var Vt=t(72222),Yt=(e,r)=>e?"transparent":r?j.dp_app_text_base:j.dp_brand_neutral_mid,Kt=()=>m.createElement("div",{"data-test":"price-skeleton",className:(0,h.css)(Gt.priceSkeleton,Wt.Z.loading)});const zt=e=>{var{isDateInThePast:r,isSelectedDate:t,price:a,loadStatus:n,showCheapestLabel:i,removeSpaceBeforeSymbolCurrency:o,forceCurrencyTwoLines:s,showLongerFormatCurrency:l}=e,c=n===S.LoadStatus.PENDING,d=Boolean((null==a?void 0:a.amount)&&(null==a?void 0:a.currencyCode));return c?m.createElement(Kt,null):d?m.createElement("div",{className:(0,h.css)(Gt.price,t&&Gt.selectedPrice,l&&Gt.resizedPrice)},(null==a?void 0:a.amount)&&(null==a?void 0:a.currencyCode)&&m.createElement("div",{"data-test":"showCheapestLabel",className:(0,h.css)(i&&Gt.cheapestCalendarPrice)},m.createElement(Vt.Z,{testId:"formattedCurrency",value:a.amount,currency:a.currencyCode,hideDecimalsForIntegers:!0,removeSpaceBeforeSymbolCurrency:o,forceCurrencyTwoLines:s}))):m.createElement(_t.Z,{className:(0,h.css)(Gt.magnifyingGlass),fill:Yt(r,t)})};var Jt=h.StyleSheet.create({calendarDateWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",minHeight:"47px"},calendarDateAlignment:{height:"47px"},calendarDateWithPrice:{fontWeight:600,[Fe.Z.breakpoints.small.max]:(0,n.Z)({},W.cp.small)},cheapestCalendarPrice:{background:W.O9.palette.yellow_100,padding:"0 ".concat(W.W0.s1),color:j.dp_brand_neutral_core,borderRadius:Ht.HH}});const qt=e=>{var{name:r,date:t,isDisabled:a,isSelected:n,isHovered:i,autoFocusOnHover:o,onSelect:s,onHover:l,forceCurrencyTwoLines:c,isBeforeMinDate:d,price:u,loadStatus:g,showCheapestLabel:v,removeSpaceBeforeSymbolCurrency:y,isMobile:f,showLongerFormatCurrency:E,testId:b}=e;return m.createElement(jt.Z,{name:r,date:t,isDisabled:a,isSelected:n,isHovered:i,autoFocusOnHover:o,type:Ut.th.PriceCalendar,onSelect:s,onHover:l,testId:b},m.createElement("div",{className:(0,h.css)([Jt.calendarDateWrapper,!c&&Jt.calendarDateAlignment])},m.createElement("p",{className:(0,h.css)(Jt.calendarDateWithPrice)},p()(t).format("D")),m.createElement(zt,{isDateInThePast:d,isSelectedDate:n,price:u,loadStatus:g,forceCurrencyTwoLines:c&&f,showCheapestLabel:v,removeSpaceBeforeSymbolCurrency:y&&f,showLongerFormatCurrency:E})))};var Qt,Xt,$t,ea,ra,ta,aa,na,ia,oa,sa,la,ca,da,ua,pa,ma,ga=t(72428),va=t(31369),ha=t(7256),ya=t(58186),fa=t(85536),Ea=t(43755),ba={fragment:{argumentDefinitions:[Qt={defaultValue:null,kind:"LocalArgument",name:"destination"},Xt={defaultValue:null,kind:"LocalArgument",name:"inwardIntervalEnd"},$t={defaultValue:null,kind:"LocalArgument",name:"inwardIntervalStart"},ea={defaultValue:null,kind:"LocalArgument",name:"journeyType"},ra={defaultValue:null,kind:"LocalArgument",name:"origin"},ta={defaultValue:null,kind:"LocalArgument",name:"outwardIntervalEnd"},aa={defaultValue:null,kind:"LocalArgument",name:"outwardIntervalStart"},na={defaultValue:null,kind:"LocalArgument",name:"requestedCurrencyCodeConversionContextId"},ia={defaultValue:null,kind:"LocalArgument",name:"requestedCurrencyCodeRequestedCurrencyCode"},oa={defaultValue:null,kind:"LocalArgument",name:"timePeriod"}],kind:"Fragment",metadata:null,name:"RoutePricingDataV2Query",selections:ma=[{alias:null,args:[{kind:"Variable",name:"destination",variableName:"destination"},{kind:"Variable",name:"inwardIntervalEnd",variableName:"inwardIntervalEnd"},{kind:"Variable",name:"inwardIntervalStart",variableName:"inwardIntervalStart"},{kind:"Variable",name:"journeyType",variableName:"journeyType"},{kind:"Variable",name:"origin",variableName:"origin"},{kind:"Variable",name:"outwardIntervalEnd",variableName:"outwardIntervalEnd"},{kind:"Variable",name:"outwardIntervalStart",variableName:"outwardIntervalStart"},{kind:"Variable",name:"requestedCurrencyCodeConversionContextId",variableName:"requestedCurrencyCodeConversionContextId"},{kind:"Variable",name:"requestedCurrencyCodeRequestedCurrencyCode",variableName:"requestedCurrencyCodeRequestedCurrencyCode"},{kind:"Variable",name:"timePeriod",variableName:"timePeriod"}],concreteType:null,kind:"LinkedField",name:"v2_routePricingDataSearch",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[sa={alias:null,args:null,kind:"ScalarField",name:"origin",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"destination",storageKey:null},{alias:null,args:null,concreteType:"v2_RoutePricingDataInterval",kind:"LinkedField",name:"outwardInterval",plural:!1,selections:ca=[{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v2_RoutePricingDataInterval",kind:"LinkedField",name:"inwardInterval",plural:!1,selections:ca,storageKey:null},{alias:null,args:null,concreteType:"v2_RoutePricingDataPrice",kind:"LinkedField",name:"price",plural:!1,selections:[da={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"currencyCode",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v2_RoutePricingDataTrip",kind:"LinkedField",name:"trips",plural:!0,selections:[{alias:null,args:null,concreteType:"v2_RoutePricingDataJourney",kind:"LinkedField",name:"outwardJourney",plural:!1,selections:pa=[sa,la,{alias:null,args:null,kind:"ScalarField",name:"journeyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"departAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"arriveAt",storageKey:null},{alias:null,args:null,concreteType:"v2_RoutePricingDataPrice",kind:"LinkedField",name:"price",plural:!1,selections:[da,ua,{alias:null,args:null,kind:"ScalarField",name:"priceConverted",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v2_RoutePricingDataJourney",kind:"LinkedField",name:"inwardJourney",plural:!1,selections:pa,storageKey:null}],storageKey:null}],type:"v2_RoutePricingDataResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ra,Qt,oa,aa,ta,$t,Xt,ea,ia,na],kind:"Operation",name:"RoutePricingDataV2Query",selections:ma},params:{id:"33135ef9fb776e7156f5e672d1a5d8ff",metadata:{},name:"RoutePricingDataV2Query",operationKind:"query",text:null}};ba.hash="64a5939b0b68dae91c63828edab42886";const Sa=ba;var Ta=t(86977),Ca=t.n(Ta);const Aa=e=>{var{cleanWhenCalendarIsNotOpen:r=!0,onCalendarOpen:t=(()=>{}),onChangeMonth:a=(()=>{})}=e,[i,o]=(0,m.useState)({outbound:{isCalendarOpen:!1,dates:void 0},inbound:{isCalendarOpen:!1,dates:void 0},isInbound:!1,hasChangedMonth:!1}),s=(0,g.useDispatch)(),{from:l,to:c,outbound:d}=(0,g.useSelector)(C.gH),u=(0,g.useSelector)(ha.EI),p=(0,g.useSelector)(ga.nv),{routePricingDataQueryRef:v,fetchReturnRoutePriceData:h}=(()=>{var[e,r]=(0,Ea.useQueryLoader)(Sa),{from:t,to:a,outbound:n}=(0,g.useSelector)(C.gH),i=(0,g.useSelector)(ha.EI),o=(0,fa.H6)(),s=Boolean((0,g.useSelector)(ya.r8)&&!o),l=Boolean((0,g.useSelector)(ya.uo)&&s);return{routePricingDataQueryRef:e,fetchReturnRoutePriceData:(0,m.useCallback)((e=>{var{outwardIntervalStart:n,outwardIntervalEnd:o,inwardIntervalStart:s,inwardIntervalEnd:c,isInward:d}=e;l&&r({destination:a.code,origin:t.code,outwardIntervalStart:n,outwardIntervalEnd:o,inwardIntervalStart:s,inwardIntervalEnd:c,journeyType:d?"RETURN":"SINGLE",requestedCurrencyCodeRequestedCurrencyCode:i,timePeriod:"BYDAY"})}),[l,t,a,n,i])}})(),y=(0,fa.H6)(),f=(0,g.useSelector)(ya.p1),E=(0,g.useSelector)(ya.uo),b=(0,g.useSelector)(va.rI),S=Boolean((0,g.useSelector)(ya.r8)&&!y),T=(0,m.useCallback)((e=>{var{firstVisibleDate:r,lastVisibleDate:t,isInbound:a}=e;if((f||E)&&r&&t&&!y){var n,i,o={hash:"<unused-hash>",searchParams:{origin:null!==(n=l.id)&&void 0!==n?n:l.code,destination:null!==(i=c.id)&&void 0!==i?i:c.code,start:r,end:t,currencyCode:u}};if(E){var p="YYYY-MM-DDTHH:mm:ss.SSS[Z]",m={outwardIntervalStart:Ca()(r).format(p),outwardIntervalEnd:Ca()(t).format(p),isInward:!1},g={outwardIntervalStart:Ca()(d.date).startOf("day").format(p),outwardIntervalEnd:Ca()(d.date).add(1,"day").startOf("day").format(p),inwardIntervalStart:Ca()(r).format(p),inwardIntervalEnd:Ca()(t).format(p),isInward:!0};h(a?g:m)}s((0,ga.t5)(o))}}),[u,s,h,l.code,l.id,y,d.date,f,E,c.code,c.id]);(0,m.useEffect)((()=>{var{isInbound:e}=i,r=e?i.inbound:i.outbound;r.isCalendarOpen&&r.dates&&T({firstVisibleDate:null==r?void 0:r.dates.firstVisibleDate,lastVisibleDate:null==r?void 0:r.dates.lastVisibleDate,isInbound:i.isInbound})}),[i.inbound,i.isInbound,i.outbound,c.id]),(0,m.useEffect)((()=>{var{isInbound:e,hasChangedMonth:r}=i,n=e?i.inbound:i.outbound,{isCalendarOpen:o,dates:s}=n;r&&a({dates:s,routePricingData:p,isInbound:e}),o&&!r&&t({dates:s,routePricingData:p,isInbound:e})}),[p]);var A=(0,m.useCallback)(((e,t,a)=>{!e&&r&&s((0,ga.ug)());var i={isCalendarOpen:e,dates:t};t&&o((e=>(0,n.Z)((0,n.Z)({},e),{},{outbound:a?e.outbound:i,inbound:a?i:e.inbound,hasChangedMonth:!1,isInbound:Boolean(a)})))}),[r,s]),I=(0,m.useCallback)(((e,r)=>{var t={dates:e};o((e=>(0,n.Z)((0,n.Z)({},e),{},{outbound:r?e.outbound:(0,n.Z)((0,n.Z)({},e.outbound),t),inbound:r?(0,n.Z)((0,n.Z)({},e.inbound),t):e.inbound,hasChangedMonth:!0})))}),[o]);return{shouldDisplayMonthlyPriceCalendar:S,shouldFetchPriceCalendarReturnData:E,setIsCalendarOpen:A,changeMonth:I,routePricingData:p,routePricingDataLoadStatus:b,returnRoutePricingDataRef:v}};var Ia=t(143),_a=t(63364);const Pa=e=>{var{mobileScrollEnabled:r,intersectionObserverOptions:t}=e,[a,n]=(0,_a.nH)(),i=(0,Ia.g)((e=>m.createElement(m.Fragment,null,e.children)),t),o=m.useCallback((e=>{r&&e.forEach((e=>{e.isIntersecting&&!a&&n()}))}),[n,r]);return m.createElement(i,{callback:o},m.createElement("span",null))};var Ra=t(21168),ka=t(19408),Na=t(92490),Oa=t(94762),La=t(54641),xa=t(57194),Da=t(94018),wa=t(29433),Za=t(97866),Fa=t(40939),Ba=t(51059),Ma=t(58126),Ua=t(83447),ja=t(31521),Ha=t(45499),Wa=t(83570),Ga=t(83504),Va=t(29647),Ya=t(75853),Ka=t(18332),za=t(94575),Ja=t(31795),qa=t(24087),Qa=t(33695),Xa=t(53638),$a=t(68760),en=t(62331),rn=t(5202),tn=t(30272),an=t(63495),nn=t(73584),on=t(88589),sn=t(26532),ln=t(89034),cn=t(46206),dn=(e,r)=>{if(!e)return!1;var t=(e=>{for(var r=p()(e.firstVisibleDate),t=p()(e.lastVisibleDate),a=[];r<=t;)a.push(r.clone().format("YYYY-MM-DD")),r.add(1,"days");return a})(e);return t.some((e=>{var t=p()(e);if(p()().isAfter(t,"day"))return!1;var a=r.find((e=>{var{start:r}=e;return p()(r).format("YYYY-MM-DD")===t.format("YYYY-MM-DD")}));return!Boolean((null==a?void 0:a.price)&&a.price.amount)}))},un=(e,r)=>{var{dates:t,routePricingData:a}=e,{lowestPrice:n,highestPrice:i}=(e=>{var r=e.reduce(((e,r)=>{var{price:t}=r;return null!=t&&t.amount&&e.push(t.amount),e}),[]);if(!r.length)return{lowestPrice:null,highestPrice:null};var t=Math.min(...r),a=Math.max(...r);return{lowestPrice:"".concat(t),highestPrice:"".concat(a)}})(a),o=dn(t,a);return{eventType:cn.EventTypes.GENERIC_EVENT,coreProperties:{genericValue1:i||o&&"magnifying glass"||null,genericValue2:n||o&&"magnifying glass"||null,genericValue3:e.isInbound?"inbound":"outbound"},eventProperties:{eventCategory:"search widget calendar",eventAction:"isCalenderOpen"===r?"calendar displayed":"change month",eventLabel:a.length>0&&a.some((e=>Boolean(e.price&&e.price.amount)))?"prices displayed":"no prices displayed"}}},pn=t(53108);const mn=h.StyleSheet.create({tripFinderBannerContainer:{padding:"".concat(W.W0.s2," 0")}});var gn=t(84605),vn=t(31627),hn=t(98883),yn="trip finder",fn=t(37761);const En=()=>{var{sendTracking:e}=(0,b.rS)(),r=(0,za.YB)();return(0,m.useEffect)((()=>{e((0,b.k1)({coreProperties:{},category:yn,action:"trip finder banner displayed",label:"trip finder banner displayed"}))}),[e]),m.createElement("div",{className:(0,c.css)(mn.tripFinderBannerContainer),"data-test":"trip-finder-banner",onClick:()=>e((0,b.k1)({coreProperties:{},category:yn,action:"trip finder banner clicked",label:"trip finder banner clicked"})),role:"none"},m.createElement(gn.Z,{mood:vn.t.SECONDARY,header:r.formatMessage({id:"components.tripFinderPunchout.header"}),body:r.formatMessage({id:"components.tripFinderPunchout.body"}),pictogram:hn.default,action:{href:(0,fn.o)(r.locale)}}))};var bn=t(68697),Sn=t(87654),Tn=t(53300),Cn=t(21650);const An=e=>{var{date:r,isInbound:t}=e,i=(0,Ea.usePreloadedQuery)(Sa,e.returnPricingRef),o=function(e){var r,{calendarDate:t,routePricingData:a,isInbound:i}=e,o=i?"inwardJourney":"outwardJourney",s=null==a||null===(r=a.v2_routePricingDataSearch)||void 0===r?void 0:r.map((e=>{var r;return"v2_RoutePricingDataResponse"===(null==e?void 0:e.__typename)&&(null===(r=e.trips)||void 0===r?void 0:r.map((e=>null==e?void 0:e[o])))||[]})).reduce(((e,r)=>e.concat(r)),[]).filter(Boolean),l=null;return null==s||s.forEach((e=>{if((0,Tn.Z)(new Date("".concat(null==e?void 0:e.departAt)),new Date(t))){var r,a,i=(null==e||null===(r=e.price)||void 0===r?void 0:r.amount)||null;"number"==typeof i&&(null===l||i<(null===(a=l)||void 0===a?void 0:a.amount))&&null!=e&&e.price&&i&&e.price.currencyCode&&(l=(0,n.Z)((0,n.Z)({},e.price),{},{amount:i,currencyCode:e.price.currencyCode}))}})),l}({calendarDate:r,isInbound:t,routePricingData:i}),s=(0,n.Z)((0,n.Z)({},e),{},{price:void 0});return m.createElement(Cn.Z,{experimentKey:Qa.zA.ENABLE_RETURN_MONTHLY_PRICE_CALENDAR,skipDispatchExperienced:!0},(r=>{var{isVariant:n}=r;return n?m.createElement(qt,(0,a.Z)({},s,{price:o||void 0})):m.createElement(qt,(0,a.Z)({},e,{price:t?void 0:e.price}))}))};var In=t(52116),_n=["onSearchWidgetClick","onDisplayCalendar"],Pn=(0,o.FZ)((0,g.connect)(((e,r)=>{var t=(0,Fa.fN)(e),{deviceType:a}=r;return{locale:t,deviceType:a,locations:(0,Na.Yu)(e),recentLocations:(0,tn.eA)(e),suggestionLocationIndexes:(0,an.jZ)(e),popularLocations:(0,rn.hJ)(e),popularLocationsToc:(0,Oa.Bq)(e),availableCardTypes:(0,en.ic)(e),hasPromoCodeEntered:(0,xa.rQ)(e),disabledPromoText:(0,ja.ck)(e),shouldBlockPassengerPickerDismiss:Boolean((0,on.bE)(e).length||(0,on.JR)(e).length||(0,on.PP)(e).length),isRecognisedUser:(0,$a.yW)(e),isPassengerProfileModalOpen:(0,on.uv)(e,Ra.e.PASSENGER_PROFILE),isUKDiscountCardsModalOpen:(0,on.uv)(e,Ra.e.UK_DISCOUNT_CARD),discountCardsLoadStatus:(0,La.P0)(e),enableNewUkPassengerPicker:(0,ka.eB)(e,Qa.zA.ENABLE_NEW_UK_PASSENGER_PICKER),isRailcardRecommendBannerEnabled:(0,Ha.du)(e),isCappedFareBannerExperiment:(0,ka.eB)(e,Qa.zA.ENABLE_PRICE_CAP_BANNER),enableUkVouchers:(0,wa.Lq)(e),appliedPromoCode:(0,Ba.tJ)(e),isEnableEUAddPassenger:a===s.WO.MOBILE&&(0,Za.k_)(e)&&!(0,Ga.gZ)(e),enableStationPickerEnhancements:a===s.WO.MOBILE&&(0,Za.tB)(e),shouldDismissPassengerPicker:!(0,on.uv)(e,Ra.e.VOUCHER),tripFinderBanner:(0,wa.su)(e)&&!(0,Ga.gZ)(e)&&m.createElement(En,null),isEUInbound:(0,Ba.fE)(e,(0,Ga.FD)(e))}}),(e=>({onRequestOpenPassengerProfileModal:r=>{e((0,ln.Ll)({type:Ra.e.PASSENGER_PROFILE,params:{passengerId:r}}))},onRequestOpenVoucherModal:()=>{e((0,ln.Ll)({type:Ra.e.VOUCHER,params:{}}))},deleteVoucher:()=>e((0,nn.Qw)()),setPromoCodeEnteredFlag:r=>e((0,xa.LS)(r)),launchDiscountCardModal:r=>{e((0,sn._w)(r))},launchPRMDetailsModal:r=>{e((0,Ua.fE)(r))},removeInvalidDiscountCards:(r,t,a)=>n=>{e((0,sn.PT)({userIndex:r,passenger:t,cards:a,newPassengerType:n}))},toggleDiscountCardEnabled:r=>{var{userIndex:t,cardId:a}=r;e((0,sn.hG)({userIndex:t,cardId:a}))},fetchRailCards:()=>e((0,en.jb)()),launchUKDiscountCardModal:(r,t)=>{e((0,ln.Ll)({type:Ra.e.UK_DISCOUNT_CARD,params:{discountCards:r,onSelect:t}}))}})))((e=>{var{onSearchWidgetClick:r,onDisplayCalendar:t}=e,s=(0,i.Z)(e,_n),{portal:u,enableItaloPiuCode:h}=(0,Ya.x)(),{mobile:y}=(0,o.zw)(),f=(0,g.useSelector)(Wa.Yw),{sendTracking:E}=(0,b.rS)(),{experimentsDict:T}=(0,Ka.zM)(["experimentsDict"]),C=(0,m.useRef)(T),{shouldDisplayMonthlyPriceCalendar:A,shouldFetchPriceCalendarReturnData:I,setIsCalendarOpen:_,changeMonth:P,routePricingData:R,routePricingDataLoadStatus:k,returnRoutePricingDataRef:N}=Aa({cleanWhenCalendarIsNotOpen:!0,onCalendarOpen:e=>{E(un(e,"isCalenderOpen"))},onChangeMonth:e=>{E(un(e,"changeMonth"))}});(0,Bt.py)(u)||null===Mt.nP.getItem("HAS_HORIZONTAL_SEARCH_BEEN_RENDERED")&&Mt.nP.setItem("HAS_HORIZONTAL_SEARCH_BEEN_RENDERED",!0);var O=(0,Va.az)(R),{enableUSLocalisation:L}=(0,Ya.x)(),{locale:x}=(0,za.YB)(),D=x===xr.vi.AMERICANENGLISH&&L,w=(0,Ma.Z)(),Z=(0,g.useDispatch)(),{query:F}=(0,v.TH)(),B="true"===(null==F?void 0:F.splitSave),M=(0,g.useSelector)(Ba.iK),{trainAvailabilityLoadStatus:U}=(0,bn.n)(F,M),j=(0,m.useCallback)((e=>Z((0,d.gx)({search:Xa.Z.stringifyQuery(e)}))),[Z]),H=(0,g.useSelector)(Da.vR),{isSplitSaveEnabled:W}=(0,pn.m)(),G=!(0,Bt.L)(u)&&!y&&W&&H===qa.ZP.TRAIN&&!(()=>{var e,{journeySearchVariables:r}=(0,Ja.Kl)();return"OPENRETURN"===((null==r||null===(e=r.relayVariables)||void 0===e?void 0:e.journeyType)||"SINGLE")})(),{isDirectSearchEnabled:V,isDirectSearchLimitedByMarket:Y,isUniversalDirectSearchEnabledForLeisure:K}=(0,Sn.Z)();K&&(0,l.QH)(T,[Qa.zA.ENABLE_DIRECT_SEARCH_REQUEST]);var z=(0,m.useCallback)((()=>{Z((0,d.gx)({search:Xa.Z.stringifyQuery((0,n.Z)((0,n.Z)({},F),{},{directSearch:Boolean(!F.directSearch||"false"===F.directSearch)}))}))}),[Z,F]);return m.createElement("div",{onClick:r,onKeyDown:r},m.createElement(Ft,(0,a.Z)({},s,{portal:u,isSplitSaveEnabled:G,isSplitSaveChecked:B,handleSplitSaveToggle:()=>{E((0,b.k1)({coreProperties:{},category:"split save toggle",action:B?"search toggle disabled":"search toggle enabled",label:"split save toggle clicked"})),B?null==j||j((0,n.Z)((0,n.Z)({},F),{},{splitSave:void 0})):null==j||j((0,n.Z)((0,n.Z)({},F),{},{splitSave:"true"}))},journeyHasPromoApplied:f,enableItaloPiuCode:h,isUserOnCoachTab:H===qa.ZP.COACH,trainAvailabilityLoadStatus:U,onDisplayCalendar:(e,r,t)=>{_(e,r,t),t&&A&&(0,ka.BD)(C.current,Qa.zA.ENABLE_RETURN_MONTHLY_PRICE_CALENDAR)},onChangeMonth:(e,r)=>P(e,r),shouldDisplayMonthlyPriceCalendar:A,renderCalendarDate:A?e=>{var{name:r,date:t,isSelected:n,isHoverDate:i,isDisabled:o,setHoveredDate:s,selectDate:l,autoFocusOnHover:d,isBeforeMinDate:u,isCurrentMonth:g,cssStyles:v,testId:h,isInbound:f}=e,{price:b,shouldShowCheapestLabel:T}=O(p()(t)),{forceCurrencyTwoLines:C,removeSpaceBeforeSymbolCurrency:A}=(0,Va.oB)(null==b?void 0:b.currencyCode);if(!g)return m.createElement("td",{key:t,className:(0,c.css)(...v.styles.calenderDayEmpty)});var _={testId:h,date:t,name:r,isSelected:n,isDisabled:o,isHovered:i,autoFocusOnHover:d,isBeforeMinDate:u,onSelect:e=>{l(e),E(((e,r,t,a)=>({eventType:cn.EventTypes.GENERIC_EVENT,coreProperties:{genericValue1:"".concat(r),genericValue2:t?"inbound":"outbound",genericValue3:void 0!==e?"".concat(e):"magnifying glass"},eventProperties:{eventCategory:"search widget calendar",eventAction:"date click",eventLabel:a?"cheapest date click":"date click"}}))(null==b?void 0:b.amount,t&&p()(t).format("YYYY-MM-DD"),f,T))},onHover:s,forceCurrencyTwoLines:y&&C,price:b,loadStatus:k,isMobile:y,showCheapestLabel:T,removeSpaceBeforeSymbolCurrency:A&&y,showLongerFormatCurrency:C&&!y,isInbound:f};return N?m.createElement(In.SV,{fallback:m.createElement(qt,(0,a.Z)({key:"".concat(t)},_,{loadStatus:S.LoadStatus.ERROR,price:void 0}))},m.createElement(m.Suspense,{fallback:m.createElement(qt,(0,a.Z)({key:"".concat(t)},_,{loadStatus:S.LoadStatus.PENDING,price:void 0}))},m.createElement(An,(0,a.Z)({key:"".concat(t)},_,{returnPricingRef:N})))):m.createElement(qt,(0,a.Z)({key:"".concat(t)},_,{price:I?void 0:_.price}))}:void 0,showUSFormatDateTime:D,isOpenReturnChangesForMWeb:w,isDirectSearchEnabled:V,isDirectSearchLimitedByMarket:Y,toggleDirectSearchWithoutResubmit:z})),m.createElement(Pa,{mobileScrollEnabled:y,intersectionObserverOptions:{rootMargin:"0% 0% -40% 0%",threshold:1}}))})));Pn.displayName="SearchWidgetWrapperComposed";const Rn=Pn},87654:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(48977),n=t(75853),i=t(18332),o=t(33695);const s=()=>{var{directSearchEnabled:e,enableDirectTrainFilter:r}=(0,n.x)(),{experimentsDict:t}=(0,i.zM)(["experimentsDict"]),s=(0,a.$n)(t,o.zA.ENABLE_DIRECT_SEARCH_REQUEST);return{isDirectSearchEnabled:e||r||s,isDirectSearchLimitedByMarket:r&&!s,isUniversalDirectSearchEnabledForLeisure:s}}},8434:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>x,up:()=>N,$2:()=>R});var a=t(88543),n=t(96172),i=t(2031),o=t(32034),s=t(5941),l=t(60654),c=t(97866),d=t(58186),u=t(51001),p=t(93754),m=t(40939),g=t(51807),v=t(84025),h=t.n(v),y=t(32554),f=t(42769),E=t(50093),b=t(29901),S=t(98184),T=t(72222),C=t(71695),A=t(60289),I=t(23394);const _=E.StyleSheet.create({root:{width:"100%"},container:{position:"relative",padding:"4px 13px",boxSizing:"border-box",border:"1px solid #ffc022",borderRadius:I.E0.m,backgroundColor:"#fff",color:"#333"},clearfix:{overflow:"hidden"},bottom:{overflow:"hidden",[A.ZP.medium.max]:{float:"left",marginLeft:"25px",paddingLeft:"15px",borderLeft:"1px solid #d7d7d7"}},link:{float:"left",color:"#3367ab",fontSize:"13px"},price:{position:"relative",fontSize:"13px",top:1,float:"right",marginLeft:"5px",[A.ZP.medium.max]:{float:"none"}},label:{display:"block",padding:"3px 0",lineHeight:1.3,fontSize:"15px",[A.ZP.medium.max]:{float:"left",width:"94px"}}});const P=e=>{var{isVisible:r,price:t,linkURL:a,styleSheet:n,currencyCode:i,locale:o}=e;return r&&t&&a&&i&&o===C.vi.ENGLISH?b.createElement("div",{className:(0,E.css)(_.root,n)},b.createElement("div",{className:(0,E.css)(_.container)},b.createElement("div",{className:(0,E.css)(_.clearfix)},b.createElement("span",{className:(0,E.css)(_.label)},b.createElement(S.FormattedMessage,{id:"page.matrix.bff.label"})),b.createElement("div",{className:(0,E.css)(_.bottom)},b.createElement("a",{href:a,className:(0,E.css)(_.link)},b.createElement(S.FormattedMessage,{id:"page.matrix.bff.link"})),b.createElement("span",{className:(0,E.css)(_.price)},b.createElement(T.Z,{value:t,currency:i})))))):null};var R=e=>({query:e.location.query}),k=(0,o.P1)(p.kS,(e=>e&&!!e.outward)),N=(0,o.P1)(g.Dk,p.p1,k,((e,r,t)=>e===l.LoadStatus.SUCCESS&&r===l.LoadStatus.SUCCESS&&!!t)),O=(e,r)=>{var{query:t}=r;return"/farefinder/BestFares.aspx?".concat((0,s.stringify)(((e,r)=>{var{origin:t,destination:a,outwardDate:n,inwardDate:i}=e,o=t&&(0,y.EQ)(r,t),s=a&&(0,y.EQ)(r,a),l=h()(n).format("YYYYMMDD");return i?{orig:o,dest:s,out:l,rtn:h()(i).format("YYYYMMDD")}:{orig:o,dest:s,out:l}})(t,e)))},L=(0,o.P1)(p.kS,(e=>e&&e.outward.week));const x=(0,i.compose)(n.EN,(0,a.connect)(((e,r)=>{var t=R(r);return(0,c.t$)(e)&&(e=>e.location&&e.location.pathname===f.L1.results())(r)&&N(e,t)&&!(0,d.Px)(e,t)?{isVisible:!0,price:L(e,t),currencyCode:(0,u.ZC)(e),linkURL:O(e,t),locale:(0,m.fN)(e)}:{isVisible:!1}})))(P)},32183:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var a=t(41344),n=t(33337),i=t(29901),o=t(98184),s=t(83707),l=t(75853),c=t(98318),d=t(50093),u=t(23394);const p=d.StyleSheet.create({changeButton:{width:"auto",paddingLeft:u.W0.s4,paddingRight:u.W0.s4,minHeight:29,fontWeight:"normal",display:"flex",alignItems:"center"}});var m=d.StyleSheet.create({changeButtonMobile:{width:"auto",borderRadius:u.E0.m,color:c.dp_app_text_base,backgroundColor:c.dp_comp_button_tertiary_background,border:"solid 1px ".concat(c.dp_app_border_base),fontWeight:600,paddingLeft:u.W0.s2,paddingRight:u.W0.s2,lineHeight:"20px",display:"flex",alignItems:"center",marginLeft:u.W0.s4,":active":{backgroundColor:c.dp_comp_button_tertiary_background_pressed,color:c.dp_app_text_base},":focus":{backgroundColor:c.dp_comp_button_tertiary_background_pressed,color:c.dp_app_text_base},":hover:not(:disabled)":{backgroundColor:c.dp_comp_button_tertiary_background_hover}}});const g=(0,a.FZ)((e=>{var{deviceType:r}=e,t=r===n.WO.MOBILE,{homePageRedirectUrl:a}=(0,l.x)();return i.createElement(s.V7,{href:a,styleSheet:t?m.changeButtonMobile:p.changeButton,onClick:e=>e.stopPropagation(),"data-test":"redirect-to-marketing-site-button",testId:"redirect-to-marketing-site-button"},i.createElement(o.FormattedMessage,{id:t?"page.matrix.changeJourneyHeader.mobile.edit":"page.matrix.changeJourneyHeader.change"}))}))},7822:(e,r,t)=>{"use strict";t.d(r,{h:()=>Y,G:()=>m});const a=e=>{var{enableSearchAgain:r,enableSearchShadowSave:t,hasDiscountCardApplied:a,isInboundUser:n,isMobile:i,isResultsPage:o,isVoucherApplied:s,journeyType:l}=e;return r&&t&&i&&o&&n&&("single"===l||"return"===l)&&!s&&!a};var n=t(64169),i=t(96201);const o=(e,r)=>e.filter((e=>{return e.customerId===r&&(t=e.outwardDate,!(0,i.Z)(new Date(t),new Date));var t}));var s=t(82768),l=(0,s.D95)((e=>void 0!==e)),c=(0,s.zGw)(l,(e=>(0,s.CEd)(["outwardDate","inwardDate","searchQuery"],e)));const d=(e,r)=>{var t=e.filter((e=>!(0,s.fS0)(c(r),c(e))));return[r,...t.slice(0,2)]};var u="savedSearches";const p={get(){var e;return null!==(e=n.I_.getItem(u))&&void 0!==e?e:[]},getValidSavedSearches(e){var r=this.get();return o(r,e)},set(e){n.I_.setItem(u,e)},setSearch(e){if(e.searchQuery){var r=this.getValidSavedSearches(e.customerId);this.set(d(r,e))}},clear(){n.I_.removeItem(u)}};const m=e=>{if(a(e)){var{customerId:r,destination:t,destinationURN:n,inwardDate:i,journeyType:o,origin:s,originURN:l,outwardDate:c,passengers:d,searchQuery:u}=e;p.setSearch({customerId:r,destination:t,destinationURN:n,inwardDate:i,journeyType:o,origin:s,originURN:l,outwardDate:c,passengers:d,searchQuery:u})}};var g=t(29901),v=t(41344),h=t(33695),y=t(75853),f=t(21650),E=t(50093),b=t(44055),S=t(59230),T=t(27380),C=t(94575),A=t(79629),I=t(53300),_=t(50580),P=t(73263),R=t(50699),k=t(98318),N=t(95341),O=t(35779),L=t(6575);const x=E.StyleSheet.create({arrowForward:{height:O.Ui,marginBlock:O.LS,width:O.Ui},card:{listStyle:"none",":last-child":{paddingRight:O.Ui}},cardLink:{backgroundColor:k.dp_brand_white,borderRadius:L.Qz,display:"flex",flexDirection:"column",flexShrink:0,gap:O.OT,height:"155px",justifyContent:"space-between",padding:O.eR,scrollSnapAlign:"center",textDecoration:"none",whiteSpace:"pre-line",width:"135px"},cards:{display:"flex",gap:O.eR,overflowX:"auto",scrollSnapType:"x mandatory",scrollPaddingRight:O.Ui,scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},date:{alignItems:"flex-end",display:"flex",flexGrow:1,justifyContent:"space-between"},inwardDate:{alignItems:"center",display:"flex",gap:O.LS},numberOfPassengers:{alignItems:"center",display:"flex",gap:O.LS,position:"relative",right:"6px"},originToDestination:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre"}});var D=t(42769),w=t(26625);const Z=e=>{var{searches:r}=e,{sendTracking:t}=(0,w.rS)(),a=(0,C.YB)(),n={originCityToDestinationCity(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a.formatMessage({id:"page.home.searchAgain.text.originCityToDestinationCity"},{originCity:e,destinationCity:r})},sameDay:a.formatMessage({id:"page.home.searchAgain.text.sameDay"})};return g.createElement("ul",{className:(0,E.css)(x.cards)},r.map(((e,r)=>{var a,i,o=null!==(a=null===(i=e.passengers)||void 0===i?void 0:i.length)&&void 0!==a?a:0;return g.createElement("li",{key:e.searchQuery,className:(0,E.css)(x.card)},g.createElement("a",{className:(0,E.css)(x.cardLink),href:D.L1.results()+e.searchQuery,onClick:()=>{((e,r,t)=>{var a,n,i,o;e((0,w.k1)({action:"recent search clicked",category:"recent searches component",coreProperties:{genericValue1:"".concat(null!==(a=null===(n=r.passengers)||void 0===n?void 0:n.length)&&void 0!==a?a:0),genericValue2:r.journeyType,genericValue3:"".concat(t)},label:"".concat(null===(i=r.origin)||void 0===i?void 0:i.toLocaleLowerCase(),"-").concat(null===(o=r.destination)||void 0===o?void 0:o.toLocaleLowerCase())}))})(t,e,r)}},g.createElement(_.C,{className:(0,E.css)(x.originToDestination),fontWeight:"semibold"},n.originCityToDestinationCity(e.origin,e.destination)),g.createElement("div",{className:(0,E.css)(x.numberOfPassengers)},g.createElement(P.default,{fill:k.dp_app_icon_fill_subdued}),g.createElement(_.C,{color:"subdued",fontWeight:"semibold"},o)),g.createElement("div",{className:(0,E.css)(x.date)},g.createElement("div",null,g.createElement(_.C,null,(0,A.Z)(new Date(e.outwardDate),"dd MMM")),e.inwardDate&&g.createElement("div",{className:(0,E.css)(x.inwardDate)},g.createElement(R.default,{fill:k.dp_app_icon_fill_subdued}),g.createElement(_.C,{color:"subdued",typeStyle:"micro"},(0,I.Z)(new Date(e.outwardDate),new Date(e.inwardDate))?n.sameDay:(0,A.Z)(new Date(e.inwardDate),"dd MMM")))),g.createElement(N.Z,{className:(0,E.css)(x.arrowForward)}))))})))};var F="isSearchAgainCollapsibleExpanded";const B={get:()=>n.I_.getItem(F),set(e){n.I_.setItem(F,e)}},M=E.StyleSheet.create({accessibleSectionSearchAgain:{margin:"".concat(O.VG," ").concat(O.Ui)},container:{backgroundColor:k.dp_app_backdrop_three_brightest,borderRadius:L.sC,padding:"".concat(O.Ui," 0 ").concat(O.Ui," ").concat(O.Ui)},detailsContainer:{border:"none"},expandedBody:{border:"none",marginTop:O.eR},detailsContainerExpanded:{width:"calc(100% - ".concat(O.Ui,")")},detailsContainerCollapsed:{width:"calc(100% - ".concat(O.Ui,")")}});var U=t(71230);const j=e=>{var r,{sendTracking:t}=(0,w.rS)(),a={title:(0,C.YB)().formatMessage({id:"page.home.searchAgain.title"})};return(0,g.useEffect)((()=>{(e=>{e((0,w.k1)({action:"recent search impression",category:"recent searches component",coreProperties:{},label:"home recent searches"}))})(t)}),[]),g.createElement(U.h,{ariaLabelledBy:T.Jn,className:(0,E.css)(M.accessibleSectionSearchAgain)},g.createElement(S.ZP,{expandedBody:g.createElement(Z,e),expandedOnMount:null===(r=B.get())||void 0===r||r,header:()=>g.createElement(b.C,{typeStyle:"title3"},a.title),isMobile:!0,key:"search-again-collapsible",onToggle:e=>{((e,r)=>{e((0,w.k1)({action:"recent searches ".concat(r?"collapsed":"expanded"),category:"recent searches component",coreProperties:{},label:"home recent searches"}))})(t,e),B.set(e)},styleSheet:M}))};var H=t(88543),W=t(68760);const G=()=>{var e=(0,H.useSelector)(W.c4);return p.getValidSavedSearches(e)};var V=t(32912);const Y=()=>{var{enableSearchAgain:e}=(0,y.x)(),{mobile:r}=(0,v.zw)(),{isInboundUser:t}=(0,V.ZP)(),a=G();return e&&r&&t&&(null==a?void 0:a.length)>0?g.createElement(f.Z,{experimentKey:h.zA.ENABLE_SEARCH_AGAIN},(e=>{var{isVariant:r}=e;return r&&g.createElement(j,{searches:a})})):null}},75590:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i,h:()=>o});var a=t(98318),n=t(50093);const i=n.StyleSheet.create({wrapper:{color:a.dp_app_text_base,display:"inline-block"},label:{display:"inline-block",":last-child":{marginRight:0}},passengerLabel:{textTransform:"capitalize"},styleReservation:{textTransform:"lowercase"}});var o=n.StyleSheet.create({wrapper:{color:"inherit"}})},57535:(e,r,t)=>{"use strict";t.d(r,{Z:()=>h});var a=t(50093),n=t(29901),i=t(98184),o=t(60575),s=t(97159),l=t(75590),c=t(37977),d=t(88543),u=t(29728),p=t(31521),m=t(41152),g=t(64997),v=e=>{var{children:r}=e;return n.createElement("span",{className:(0,a.css)(l.Z.styleReservation)},r)};const h=e=>{var{passengersCount:r,isEurope:t,styleSheet:h,shouldDisplayFullNames:y,bikes:f}=e,E=(()=>{var e,r,t=(0,d.useSelector)(p.SY),a=((0,d.useSelector)(u.qn).extras||[]).filter(g.op),n=(0,d.useSelector)((e=>{if(t)return(0,m.fZ)(e,t)})),i=(0,d.useSelector)((e=>{if(t)return(0,m.kq)(e,t)}));if(i){var o=(0,g.dG)(a,n),s=(0,g.dG)(a,i),l=(0,g.mi)(null==t||null===(e=t.inwardJourneyPlan)||void 0===e?void 0:e.bikeRestrictionStatus,{availableQuantity:null==s?void 0:s.availableQuantity}),c=(0,g.mi)(null==t||null===(r=t.outwardJourneyPlan)||void 0===r?void 0:r.bikeRestrictionStatus,{availableQuantity:null==o?void 0:o.availableQuantity}),v=(0,g.N8)(c,l);return(0,g.Ye)(v)}})(),b=t?"euPassengers":"passengers",S=y?s.W:l.Z,T=(0,a.css)(S.label,h&&h.label),C=(0,o.s)(r,"children"),A=(e=>e&&((0,o.s)(e,"children")?e.children:e.youths)>0)(r)&&n.createElement("span",{className:T,"data-test":C?"children":"youths"},n.createElement(i.FormattedMessage,{id:"customerJourneySummary.".concat(b,".").concat(C?"CHILD":"YOUTH"),values:r})),I=r&&r.adults>0&&n.createElement("span",{className:T,"data-test":"adults"},n.createElement(i.FormattedMessage,{id:"customerJourneySummary.".concat(b,".ADULT"),values:r})),_=(e=>e&&(0,o.s)(e,"youths")&&e.seniors>0)(r)&&n.createElement("span",{className:T,"data-test":"seniors"},n.createElement(i.FormattedMessage,{id:"customerJourneySummary.".concat(b,".SENIOR"),values:r})),P=f&&n.createElement("span",{className:T,"data-test":"bikes"},n.createElement(c.ZP,{id:"customerJourneySummary.bike",tagsMap:{styleReservation:v},values:{bikes:f,direction:E}}));return n.createElement("span",{className:(0,a.css)(S.wrapper,l.Z.passengerLabel,h&&h.wrapper)},[I,A,_,P].filter((e=>Boolean(e))).map(((e,r,t)=>e&&n.createElement(n.Fragment,{key:"".concat(r,"-").concat(t.length)},e,r<t.length-1&&n.createElement("span",{"data-test":"passengerSeparator"},n.createElement(i.FormattedMessage,{id:"page.matrix.changeJourneyHeader.passengerCount.separator"}))))))}},47462:(e,r,t)=>{"use strict";t.d(r,{Gh:()=>Q,JV:()=>u,KC:()=>K,Lw:()=>y,Rn:()=>N,TD:()=>B,Tz:()=>Y,Z8:()=>H,_q:()=>D,aL:()=>j,aw:()=>R,az:()=>L,bo:()=>J,d9:()=>z,ed:()=>P,iN:()=>q,k2:()=>M,mS:()=>U,ot:()=>A,pp:()=>I,qp:()=>x,ri:()=>k,sZ:()=>X,w4:()=>Z,we:()=>V,wu:()=>C,xJ:()=>G,xO:()=>_,yU:()=>w});var a=t(82768),n=t(32034),i=t(10526),o=t(61229),s=t(51059),l=t(97819),c=t(56267),d=t(50549),u=(e,r,t)=>t.map((t=>t?(0,a.xHg)((0,l.SE)(e,r,t)):[])),p=(0,n.P1)(o.HO,o.AE,c._D,u),m=(0,n.P1)(o.HO,o.AE,c.dI,u),g=(e,r,t,a)=>e.map((e=>(0,l.Ei)(e,r,t,a))),v=(0,n.P1)(p,o.ft,o.ng,i.SP,g),h=(0,n.P1)(m,o.ft,o.ng,i.SP,g),y=(0,n.P1)(v,h,((e,r)=>e.concat(r))),f=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return(e,t,a,n)=>e.map((e=>e.filter((e=>t[e]&&r.every((r=>r({fares:a,isOpenReturn:n,alternative:t[e]})))))))},E=(0,n.P1)(v,o.ft,o.ng,s.Dw,f(d.xD,d.LA)),b=(0,n.P1)(h,o.ft,o.ng,s.Dw,f(d.xD,d.LA)),S=(0,n.P1)(v,o.ft,o.ng,s.Dw,f(d.xD,d.e8)),T=(0,n.P1)(h,o.ft,o.ng,s.Dw,f(d.xD,d.e8)),C=(0,n.P1)(v,o.ft,o.ng,s.Dw,f(d.xD)),A=(0,n.P1)(h,o.ft,o.ng,s.Dw,f(d.xD)),I=(0,n.P1)(v,o.ft,o.ng,s.Dw,f(d.jl,d.LA)),_=(0,n.P1)(h,o.ft,o.ng,s.Dw,f(d.jl,d.LA)),P=(0,n.P1)(v,o.ft,o.ng,s.Dw,f(d.jl,d.e8)),R=(0,n.P1)(h,o.ft,o.ng,s.Dw,f(d.jl,d.e8)),k=(0,n.P1)(v,o.ft,o.ng,s.Dw,f(d.Vw,d.LA)),N=(0,n.P1)(v,o.ft,o.ng,s.Dw,f(d.Vw,d.e8)),O=(e,r)=>r.map((r=>r&&r.length?r.filter((r=>e[r])).reduce(((r,t)=>e[t].price&&e[r].price&&e[t].price.amount<e[r].price.amount?t:r)):null)),L=(0,n.P1)(o.ft,E,O),x=(0,n.P1)(o.ft,b,O),D=(0,n.P1)(o.ft,S,O),w=(0,n.P1)(o.ft,T,O),Z=e=>e&&e.hoveredCell&&e.hoveredCell.alternativeId||void 0,F=(e,r)=>(0,a.UWY)((0,a.UWY)([e,r])),B=(0,n.P1)(C,A,F),M=(0,n.P1)(I,_,F),U=(0,n.P1)(P,R,F),j=(0,n.P1)(k,(()=>[]),F),H=(0,n.P1)(N,(()=>[]),F),W=(e,r)=>(0,a.UWY)(e.filter(((e,t)=>!r[t]))),G=(0,n.P1)(C,c.xP,W),V=(0,n.P1)(A,c.xF,W),Y=(0,n.P1)(I,c.xP,W),K=(0,n.P1)(_,c.xF,((e,r)=>e.map(((e,t)=>r[t]?[]:e)))),z=(0,n.P1)(k,c.xP,W),J=(0,n.P1)(G,c.Pf,((e,r)=>r.length?r[0]:e[0])),q=(0,n.P1)(V,c.AK,((e,r)=>r.length?r[0]:e[0])),Q=(0,n.P1)(G,(e=>e[0])),X=(0,n.P1)(V,(e=>e[0]))},518:(e,r,t)=>{"use strict";t.d(r,{Li:()=>y,Zx:()=>f});var a=t(32034),n=t(10526),i=t(50549),o=t(61229),s=t(32143),l=t(97819),c=t(48728),d=t(47462),u=t(49893),p=t(80771),m=t(43088),g=(0,a.P1)(m.db,(e=>e?e.selectedOutward:void 0)),v=(0,a.P1)(m.db,(e=>e?e.selectedInward:void 0)),h=(e,r,t,a,n,s,d,m,g,v,h)=>{var y=h&&e[h]||void 0;if(y){var f=(0,l.zX)(h,e,r,a),E=(0,l.l0)(f)?f:((e,r,t,a)=>{var n=(0,l.k0)(r,t,[e],a);return(0,l.zX)(n,r,t,a)})(h,e,r,a),b=(0,c.p)(y,t),S=(0,o.vz)(null==y?void 0:y.composition),T=(0,u.MI)(a,b,y.isPartial,S)(E);if(!y.isPartial){var C=[].concat(s,d,m,g).includes(h);(!0===n||void 0===n&&C&&v)&&(T=(0,i.LA)({fares:r,alternative:y})?p.NI[p.pM].rowId:p.NI[p.hv].rowId)}return T?{alternativeId:h,rowId:T}:void 0}},y=(0,a.P1)(o.ft,o.ng,o.yp,n.SP,v,d.az,d._q,d.qp,d.yU,u.C9,s.qw,h),f=(0,a.P1)(o.ft,o.ng,o.yp,n.SP,g,d.az,d._q,d.qp,d.yU,u.C9,s.W6,h);(0,a.P1)(f,(e=>e?e.alternativeId:void 0)),(0,a.P1)(y,(e=>e?e.alternativeId:void 0))},22524:(e,r,t)=>{"use strict";t.d(r,{Y:()=>l});var a=t(23198),n=t(32034),i=t(62331),o=t(54422),s=t(51059),l=(0,n.P1)(s.Wc,o._L,i.ic,((e,r,t)=>((e,r)=>r&&r.reduce(((r,t)=>(r[t]?r[t].count++:r[t]=(0,a.Z)((0,a.Z)({},e[t]),{},{count:1}),r)),{}))(t,e.passengerDiscountCards||0!==r.length?[].concat(e.passengerDiscountCards?e.passengerDiscountCards:[],r):void 0)))},22746:(e,r,t)=>{"use strict";t.d(r,{$s:()=>P,BZ:()=>u,CX:()=>y,EU:()=>b,F3:()=>f,GS:()=>v,Iw:()=>A,P6:()=>d,U8:()=>h,cH:()=>_,iv:()=>p,mG:()=>m,oH:()=>E,r3:()=>R,rc:()=>g,xT:()=>T});var a=t(32034),n=t(61229),i=t(51059),o=t(47462),s=t(56267),l=(e,r)=>{if(r){var t=r.map((r=>e[r])).filter((e=>!!e&&!!e.price)).reduce(((e,r)=>e?r.price.amount<e.price.amount?r:e:r),void 0);return t?t.id:void 0}},c=(e,r,t)=>t.length?l(e,t):l(e,r),d=(0,a.P1)(n.ft,o.xJ,l),u=(0,a.P1)(n.ft,o.xJ,s.Pf,c),p=(0,a.P1)(n.ft,o.we,l),m=(0,a.P1)(n.ft,o.we,s.AK,c),g=(0,a.P1)(n.ft,o.Tz,l),v=(0,a.P1)(n.ft,o.KC,g,((e,r,t)=>{if(t&&e[t]){var a=e[t].correlationToken;return r.map((r=>r.find((r=>!!e[r]&&e[r].correlationToken===a)))).find(Boolean)}})),h=(0,a.P1)(n.ft,o.d9,l),y=(0,a.P1)(n.ft,d,((e,r)=>r&&e[r]?e[r].price:void 0)),f=(0,a.P1)(y,(e=>e?e.amount:1/0)),E=(0,a.P1)(n.ft,p,((e,r)=>r&&e[r]?e[r].price:void 0)),b=(0,a.P1)(E,(e=>e?e.amount:1/0)),S=(0,a.P1)(f,b,((e,r)=>e+r)),T=(0,a.P1)(n.ft,g,((e,r)=>r&&e[r]?e[r].price:void 0)),C=(0,a.P1)(T,(e=>e?e.amount:1/0)),A=(0,a.P1)(n.ft,h,((e,r)=>r&&e[r]?e[r].price:void 0)),I=(0,a.P1)(A,(e=>e?e.amount:1/0)),_=(0,a.P1)(C,I,i.Dw,((e,r,t)=>t?r:e)),P=(0,a.P1)(S,C,i.Dw,((e,r,t)=>!t&&e<=r)),R=(0,a.P1)(S,C,i.Dw,((e,r,t)=>!!t||!(!isFinite(r)||!isFinite(e))&&r<=e))},56267:(e,r,t)=>{"use strict";t.d(r,{xF:()=>_,xP:()=>I,AK:()=>D,Pf:()=>x,ce:()=>R,kd:()=>P,uh:()=>b,dI:()=>y,Xo:()=>E,_D:()=>h,_8:()=>g});var a=t(84025),n=t.n(a),i=t(82768),o=t(32034),s=t(60654),l=t(10011),c=t(61229),d=t(51059),u=t(52718),p=t(57425);const m=(e,r,t)=>{var a=[].concat(r),n=(0,i.tPi)(0,e,t?a.reverse():a);return(0,i.w6H)(0,e-n.length).map((()=>null)).concat(t?n.reverse():n)};var g=e=>Object.keys(e).filter((r=>!!e[r])).sort(((r,t)=>n()(e[r].departAt).unix()-n()(e[t].departAt).unix())),v=e=>(r,t,a,n)=>{var i=Object.keys(r).filter((t=>r[t]&&r[t].direction===e)).reduce(((e,t)=>(e[t]=r[t],e)),{});return 0===Object.keys(i).length?[]:m(a?p.sE:n?p.Lv:p.HW,g(i),t===s.TransitDefinitionDateType.ARRIVE_BEFORE)},h=(0,o.P1)(c.HO,d.iW,d.f1,(e=>!!e.devicePlatform&&"mobile"===e.devicePlatform.deviceInfo.type),v("outward")),y=(0,o.P1)(c.HO,d.U0,d.f1,(e=>!!e.devicePlatform&&"mobile"===e.devicePlatform.deviceInfo.type),v("inward")),f=(e,r)=>e.map((e=>e&&r[e]?r[e].hash:null)),E=(0,o.P1)(h,c.HO,f),b=(0,o.P1)(y,c.HO,f),S=e=>(r,t,a,n,i)=>r.map(((r,o)=>{var s=r&&t[r],c=s&&s.legs[0],d=c&&a[c],u=!!d&&!!n&&(0,l.Ro)(n).add(i[o],"ms").isAfter(d.departAt),p=d&&d.realTime&&d.realTime.isCancelled;return e?u:p||!d||u})),T=(e,r,t,a,n,o)=>e.map((e=>{var s=e&&t[e]?t[e]:null,l=s&&(0,i.xHg)(s.sections.filter((e=>n[e])).map((e=>(0,i.xHg)(n[e].alternatives.filter((e=>o[e])).map((e=>o[e].fares.map((e=>r[e])).filter((e=>!!e))))))));return l&&(e=>e.find((e=>!(0,i.xbD)(e.deliveryOptions))))(l)?(0,u.e$)(l,a):0})),C=(0,o.P1)(y,c.ng,c.HO,c.v3,c.AE,c.ft,T),A=(0,o.P1)(h,c.ng,c.HO,c.v3,c.AE,c.ft,T),I=(0,o.P1)(h,c.HO,c.J_,c.sl,A,S()),_=(0,o.P1)(y,c.HO,c.J_,c.sl,C,S()),P=(0,o.P1)(h,c.HO,c.J_,c.sl,A,S(!0)),R=(0,o.P1)(y,c.HO,c.J_,c.sl,C,S(!0)),k=(e,r,t,a)=>r.map(((r,a)=>!e[a]&&null!==r&&t[r])).filter((e=>e&&n()(e.departAt).isSame(n()(a)))),N=(0,o.P1)(I,h,c.HO,d.SR,k),O=(0,o.P1)(_,y,c.HO,d.Gc,k),L=(e,r)=>e.length?(0,i.xHg)(e[0].sections.filter((e=>r[e])).map((e=>r[e].alternatives))):[],x=(0,o.P1)(N,c.AE,L),D=(0,o.P1)(O,c.AE,L)},90789:(e,r,t)=>{"use strict";t.d(r,{IL:()=>m,TT:()=>p,o3:()=>u,rJ:()=>c});var a=t(82768),n=t(32034),i=t(61229),o=t(97819),s=t(47462),l=(0,n.P1)(s.Lw,i.ft,((e,r)=>(0,a.xHg)((0,a.xHg)(e).filter((e=>!!r[e])).map((e=>r[e].fares))))),c=(0,n.P1)(l,i.ng,((e,r)=>e.reduce(((e,t)=>(e[t]=r[t],e)),{}))),d=e=>(0,n.P1)(c,(r=>!!Object.values(r).filter((e=>!!e)).find((r=>e(r))))),u=d(o.Yz),p=d(o.NU),m=d(o.Md)},73173:(e,r,t)=>{"use strict";t.d(r,{It:()=>j,$y:()=>w,Mx:()=>O,gM:()=>L,CD:()=>Z,fQ:()=>F,at:()=>R,Ku:()=>B,Xl:()=>N});var a=t(33337),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(60654),c=t(89103),d=t(86003),u=t(59838),p={aug:{start:"2019-08-24T00:00:00",end:"2019-08-27T02:00:00"}},m={kgx:"urn:trainline:generic:loc:KGX6121gb",london:"urn:trainline:generic:loc:182gb"},g=t(92490),v=t(61229),h=t(51059),y=t(32143),f=t(51807),E=t(56567),b=t(56267),S=t(90789),T=t(60575),C=(0,s.P1)(S.rJ,v.J_,((e,r)=>(0,o.xHg)(Object.values(e).filter((e=>(0,T.s)(e,"fareLegs"))).map((e=>e.fareLegs))).reduce(((e,t)=>(e[t.legId]=r[t.legId],e)),{}))),A=(e,r)=>{var t=r.find(Boolean);return t?e[t]:void 0},I=(0,s.P1)(v.HO,b._D,A),_=(0,s.P1)(v.HO,b.dI,A),P=(e,r,t)=>{if(!r)return!1;var a=t?e.inwardDateType:e.outwardDateType,n=i()(t?e.inwardDate:e.outwardDate),o=a===l.TransitDefinitionDateType.DEPART_AFTER?r.departAt:r.arriveAt;return!i()(o).isSame(n,"day")},R=(0,s.P1)(I,_,h.Wc,((e,r,t)=>!t.searchId&&(P(t,e)||P(t,r,!0)))),k={[d.jP.MANDATORY_RESERVATION_FAILED]:"page.matrix.warning.productGone",[d.jP.QUOTA_NOT_AVAILABLE]:"page.matrix.warning.noSeatsLeft",[d.jP.BIKE_NOT_AVAILABLE]:"page.matrix.error.noBikesLeft",[d.yQ.GENERIC_BASKET_MERGE_FAILED]:"page.matrix.warning.productGone"},N=(0,s.P1)(E.v,(e=>e.includes(d.r0.DEFAULT_RESERVATION_FAILED)?["page.matrix.warning.noSeatsLeft"]:e.map((e=>k[e])).filter(u.v))),O=(0,s.P1)(v.Cu,(e=>e&&e.warnings&&e.warnings.filter((e=>"ItinerarySearch.JourneySearch.Nrs.UnderlyingSystemUnavailable"===e.code)))),L=(0,s.P1)(v.Cu,(e=>d.h6.filter((r=>{var t;return null==e||null===(t=e.warnings)||void 0===t?void 0:t.some((e=>e.code===r))})))),x=(0,s.P1)(v._F,v.wy,f.rA,f.ox,v.sl,c.Tu,(function(){var e,r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,d=i()(l,"ddd, DD MMM YYYY HH:mm:ss").add(81,"days"),u=o?null===(e=n[0])||void 0===e?void 0:e.departAt:null===(r=t[0])||void 0===r?void 0:r.departAt;return c===a.WO.MOBILE?i()(u).isSameOrAfter(d,"day"):i()(o).isSameOrAfter(d,"day")||i()(s).isSameOrAfter(d,"day")})),D=(0,s.P1)(v.HO,v.sl,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,t=i()(r).add(81,"days"),a=i()(r).add(5,"days");return!(0,o.xbD)(e)&&Object.values(e).every((e=>i()(null==e?void 0:e.departAt).isBetween(a,t,"day")))})),w=(0,s.P1)(C,(e=>!!Object.keys(e).filter((r=>e[r]&&"GR"===e[r].carrier)).length)),Z=(0,s.P1)(S.o3,x,((e,r)=>e&&r)),F=(0,s.P1)(S.o3,x,((e,r)=>!e&&r)),B=(0,s.P1)(y.FW,y.oM,((e,r)=>!(!(e&&e.length&&r&&r.length)||(0,o.fS0)(e,r)))),M=(e,r)=>Boolean(e[r]&&e[r].code&&Object.values(m).includes(e[r].code)),U=((0,s.P1)(g.Yu,h.Wc,((e,r)=>Boolean(r.origin&&M(e,r.origin)))),(0,s.P1)(g.Yu,h.Wc,((e,r)=>Boolean(r.destination&&M(e,r.destination)))),(0,s.P1)(g.Yu,h.Wc,((e,r)=>Boolean(r.via&&r.via.length&&r.via.some((r=>M(e,r)))))),(e,r,t)=>i()(e).isBetween(r,t,"minutes","[)")),j=((0,s.P1)(h.Wc,(e=>Boolean(e.outwardDate&&U(e.outwardDate,p.aug.start,p.aug.end)))),(0,s.P1)(h.Wc,(e=>Boolean(e.inwardDate&&U(e.inwardDate,p.aug.start,p.aug.end)))),(0,s.P1)(D,v.b7,v.Ld,v.j6,((e,r,t,a)=>Boolean(e&&r&&t&&a))),(0,s.P1)(D,v.HT,v.$s,((e,r,t)=>{var a={inBoundJourneys:!1,outBoundJourneys:!1};return e&&(a.inBoundJourneys=t,a.outBoundJourneys=r),a})))},49893:(e,r,t)=>{"use strict";t.d(r,{$v:()=>B,C9:()=>M,LA:()=>F,MI:()=>v,OG:()=>T,QH:()=>y,VE:()=>k,dj:()=>f,p1:()=>b,zz:()=>O});var a=t(23198),n=t(32034),i=t(59838),o=t(10526),s=t(50549),l=t(61229),c=t(51059),d=t(97819),u=t(48728),p=t(47462),m=t(56267),g=(e,r)=>e.localeCompare(r),v=(e,r,t,a)=>n=>{if(n){var i=(0,d.Yz)(n)&&n.fareType&&e[n.fareType]?e[n.fareType].name:n.fareType;if(a){var o,s=null===(o=n.fareLegs[0].travelClass)||void 0===o?void 0:o.name;return"@split-".concat(s)}var l=t&&n.price&&n.price.amount||0,c=[n.destination,n.origin].sort(g).join("~");return"".concat(i,"~").concat(n.routeRestriction,"~").concat(c,"~").concat(r,"~").concat(l)}},h=(e,r,t,a,n)=>{var i=r[a],o=(0,l.vz)(null==i?void 0:i.composition);return v(e,n,i.isPartial,o)((0,d.zX)(a,r,t,e))},y=(e,r,t,a,n)=>a.reduce(((a,i)=>{var o=i&&e[i]?(0,u.p)(e[i],t):void 0,s=h(n,e,r,i,o);return!s||a.includes(s)||s.includes("undefined~undefined")?a:a.concat(s)}),[]),f=(0,n.P1)(l.ft,l.ng,l.yp,p.TD,o.SP,y),E=(0,n.P1)(l.ft,l.ng,l.yp,p.k2,o.SP,y),b=(0,n.P1)(l.ft,l.ng,l.yp,p.mS,o.SP,y),S=(0,n.P1)(l.ft,l.ng,l.yp,p.aL,o.SP,y),T=(0,n.P1)(l.ft,l.ng,l.yp,p.Z8,o.SP,y),C=e=>{var{isReturnTicket:r}=e;return(e,t,n,o,l,c,d,p,m,g)=>l.map((l=>{var v,y=((e,r,t,a,n)=>i=>i.filter((i=>r[i]&&e===h(n,r,t,i,(0,u.p)(r[i],a)))).sort(((e,t)=>{var a=r[e].price,n=r[t].price;return a&&n&&a.amount!==n.amount?a.amount<n.amount?-1:1:0}))[0]||null)(l,e,t,n,o),f=p.map(y),E=f.filter(Boolean);v=r&&E.length?m.map(((e,r)=>t=>{var a=Array.from(new Set(r.filter((r=>e[r])).map((r=>e[r].correlationToken)).filter(i.v)));return t.map((r=>a.includes(e[r].correlationToken)?r:null))})(e,E)).reduce(((e,r)=>e.concat(r)),[]):m.map(y);var b=(e,r)=>e&&e.map(((e,t)=>null!==e?{id:e,unsellableCode:null}:Object.values(g).reduce(((e,a)=>(a.hash===r[t]&&a.unsellableReason&&(e.unsellableCode=a.unsellableReason.code),e)),{id:null,unsellableCode:null}))),S=b(f,c),T=b(v,d);return(0,a.Z)((0,a.Z)({rowId:l},(e=>r=>{var[t,a]=r.split("~"),[n="",i=""]=t.split("@"),[o,l]=i.split("-");return{fareTypeId:e[n]?n:Object.keys(e).find((r=>!!e[r]&&e[r].name===n)),routeRestrictionId:a,isSplitSave:!!o.length,isStandardClass:l!==s.U9.FIRST}})(o)(l)),{},{outwardJourneyHashes:c,inwardJourneyHashes:d,outwardAlternativeIds:f,inwardAlternativeIds:v,outwardOptionalAlternatives:S,inwardOptionalAlternatives:T})}))},A=(0,n.P1)(l.ft,l.ng,l.yp,o.SP,f,m.Xo,m.uh,p.wu,p.ot,l.HO,C({isReturnTicket:!1})),I=(0,n.P1)(l.ft,l.ng,l.yp,o.SP,E,m.Xo,m.uh,p.pp,p.xO,l.HO,C({isReturnTicket:!0})),_=(0,n.P1)(l.ft,l.ng,l.yp,o.SP,b,m.Xo,m.uh,p.ed,p.aw,l.HO,C({isReturnTicket:!0})),P=(0,n.P1)(l.ft,l.ng,l.yp,o.SP,S,m.Xo,m.uh,p.ri,(()=>[]),l.HO,C({isReturnTicket:!1})),R=(0,n.P1)(l.ft,l.ng,l.yp,o.SP,T,m.Xo,m.uh,p.Rn,(()=>[]),l.HO,C({isReturnTicket:!1})),k=(0,n.P1)(o.SP,A,I,_,P,R,(function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];return!![].concat(...t).map((r=>r.fareTypeId?e[r.fareTypeId]:void 0)).filter(i.v).find((e=>o.B_.includes(e.code)))})),N=(e,r)=>{var t=r=>r.outwardAlternativeIds.concat(...r.inwardAlternativeIds?r.inwardAlternativeIds:[]).filter((r=>r&&e[r]&&e[r].price)).reduce(((r,t)=>Math.min(r,e[t].price.amount)),1/0);return r.sort(((e,r)=>t(e)-t(r)))},O=(0,n.P1)(l.ft,A,N),L=(0,n.P1)(l.ft,I,N),x=(0,n.P1)(l.ft,_,N),D=(0,n.P1)(l.ft,P,N),w=(0,n.P1)(l.ft,R,N),Z=(e,r,t)=>"openReturn"===t.journeySearchType?r:e,F=(0,n.P1)(L,D,c.Wc,Z),B=(0,n.P1)(x,w,c.Wc,Z),M=((0,n.P1)(F,B,((e,r)=>[...e,...r])),(0,n.P1)(l.ft,l.ng,O,((e,r)=>"true"===r.query.showMatrix),((e,r,t,a)=>!a&&(t.length>2||1!==t.length&&1!==t.filter((t=>{var{outwardAlternativeIds:a,inwardAlternativeIds:n}=t,i=a.concat(...n||[]).find(Boolean);return i&&e[i]&&(0,s.LA)({fares:r,alternative:e[i]})})).length))))},80771:(e,r,t)=>{"use strict";t.d(r,{NI:()=>c,ON:()=>p,hv:()=>l,nu:()=>d,pM:()=>s});var a=t(23198),n=t(32034),i=t(47462),o=t(56267),s="STANDARD",l="FIRST",c={[s]:{localeId:"page.matrix.cheapest.single.standard",rowId:"cheapest.standard"},[l]:{localeId:"page.matrix.cheapest.single.first",rowId:"cheapest.first"}},d=e=>e===c[s].rowId||e===c[l].rowId,u=e=>e.filter(Boolean).length>0,p=(0,n.P1)(i.az,i._q,i.qp,i.yU,o.Xo,o.uh,((e,r,t,n,i,o)=>{var d=((e,r)=>(t,n,i)=>u(n)||u(i)?(0,a.Z)((0,a.Z)({},c[t]),{},{outwardJourneyHashes:e,inwardJourneyHashes:r,outwardAlternativeIds:n,inwardAlternativeIds:i}):void 0)(i,o);return[d(s,e,t),d(l,r,n)].filter(Boolean)}))},43088:(e,r,t)=>{"use strict";t.d(r,{Hp:()=>c,VW:()=>v,db:()=>i,h3:()=>u,lm:()=>p,ox:()=>m,qi:()=>g,tD:()=>d,wT:()=>o,x3:()=>s,xA:()=>h});var a=t(82768),n=t(32034),i=e=>e.ui.matrix,o=e=>e.uiState.components.journeySummaryCallout,s=e=>(0,a.ETc)(["uiState","components","coach","selectedTab"],e),l=(0,n.P1)(i,(e=>e&&e.hoveredCell)),c=(0,n.P1)(i,(e=>e&&e.returnAlternativesFirstClassExpanded)),d=(0,n.P1)(i,(e=>e&&e.firstReturnFaresExpanded)),u=(0,n.P1)(l,(e=>e&&e.rowId)),p=(0,n.P1)(i,((e,r)=>{var{type:t}=r;return t}),((e,r)=>e&&e[r])),m=(0,n.P1)(p,((e,r)=>{var{isDisabled:t}=r;return t}),((e,r)=>r||!!e)),g=(0,n.P1)(i,(e=>e?e.outward:void 0)),v=(0,n.P1)(i,(e=>e?e.inward:void 0)),h=(0,n.P1)(g,v,((e,r)=>e?{outward:e}:r?{inward:r}:void 0))},29430:(e,r,t)=>{"use strict";t.d(r,{S:()=>a});var a=(e,r)=>e.length?{amount:e.reduce(((e,r)=>e+r.price.amount),0),currency:e.every((r=>r.price.currency===e[0].price.currency))?e[0].price.currency:r}:{amount:0,currency:r}},89357:(e,r,t)=>{"use strict";t.d(r,{Sg:()=>u,as:()=>g,dY:()=>p,i$:()=>m});var a=t(84025),n=t.n(a),i=t(235),o=t(20595),s=t(78307),l=t(61730),c=t(77962),d=t(16256),u={[d.Up.NUMBER]:{AGE:{code:"error".concat(d.Up.NUMBER,"/AGE"),message:"modal.discountCard.form.errors.age"},AGE_UNCAPPED:{code:"error".concat(d.Up.NUMBER,"/AGE_UNCAPPED"),message:"modal.discountCard.form.errors.age.uncapped"},CARD_NUMBER_INCORRECT:{code:"error".concat(d.Up.NUMBER,"/CARD_NUMBER_INCORRECT"),message:"modal.discountCard.form.errors.card.number.incorrect"},CARD_NUMBER_REQUIRED:{code:"error".concat(d.Up.NUMBER,"/CARD_NUMBER_REQUIRED"),message:"modal.discountCard.form.errors.card.number.required"},CARD_NOT_SELECTED:{code:"error".concat(d.Up.NUMBER,"/CARD_NOT_SELECTED"),message:"modal.discountCard.form.errors.card.not.selected"},OVERLAPPING_GROUP:{code:"error".concat(d.Up.NUMBER,"/OVERLAPPING_GROUP"),message:"modal.discountCard.form.errors.overlapping.group"},CARD_NUMBER_LENGTH_INCORRECT:{code:"error".concat(d.Up.NUMBER,"/CARD_NUMBER_LENGTH_INCORRECT"),message:"modal.discountCard.form.errors.card.characters.incorrect"}},[d.Up.EXPIRATION]:{EXPIRED:{code:"error".concat(d.Up.EXPIRATION,"/EXPIRED"),message:"modal.discountCard.form.errors.expiration.expired"},INVALID:{code:"error".concat(d.Up.EXPIRATION,"/INVALID"),message:"modal.discountCard.form.errors.expiration.invalid"}},[d.By]:{FROM_EMPTY:{code:"error".concat(d.By,"/FROM_EMPTY"),message:"modal.discountCard.form.errors.route.from.empty",meta:{jsf_lookup_by_translation:"from/".concat(o.Z.from.empty)}},FROM_INVALID:{code:"error".concat(d.By,"/FROM_INVALID"),message:"modal.discountCard.form.errors.route.from.invalid",meta:{jsf_lookup_by_translation:"from/".concat(o.Z.from.invalidName)}},TO_EMPTY:{code:"error".concat(d.By,"/TO_EMPTY"),message:"modal.discountCard.form.errors.route.to.empty",meta:{jsf_lookup_by_translation:"to/".concat(o.Z.to.empty)}},TO_INVALID:{code:"error".concat(d.By,"/TO_INVALID"),message:"modal.discountCard.form.errors.route.to.invalid",meta:{jsf_lookup_by_translation:"to/".concat(o.Z.to.invalidName)}},TO_SAME_AS_ORIGIN:{code:"error".concat(d.By,"/TO_INVALID"),message:"modal.discountCard.form.errors.route.to.sameAsOrigin",meta:{jsf_lookup_by_translation:"to/".concat(o.Z.to.sameAsOrigin)}},VIA_INVALID:{code:"error".concat(d.By,"/VIA_INVALID"),message:"modal.discountCard.form.errors.route.via.invalid",meta:{jsf_lookup_by_translation:"viaAvoidStation/".concat(o.Z.viaAvoidStation.invalidName)}},VIA_SAME_AS_FROM:{code:"error".concat(d.By,"/VIA_SAME_AS_FROM"),message:"modal.discountCard.form.errors.route.via.sameAsOrigin",meta:{jsf_lookup_by_translation:"viaAvoidStation/".concat(o.Z.viaAvoidStation.sameAsOrigin)}},VIA_SAME_AS_TO:{code:"error".concat(d.By,"/VIA_SAME_AS_TO"),message:"modal.discountCard.form.errors.route.via.sameAsDestination",meta:{jsf_lookup_by_translation:"viaAvoidStation/".concat(o.Z.viaAvoidStation.sameAsDestination)}}}},p=e=>{var r=parseInt(e.year||"0",10),t=parseInt(e.month||"0",10),a=parseInt(e.day||"0",10);return n()("".concat(r,"-").concat(t,"-").concat(a),"YYYY-MM-DD")},m=(e,r)=>{if(!e.displayed.includes(d.Up.EXPIRATION))return[];if(!0===d.uo[d.Up.EXPIRATION].alwaysOptional&&!Object.values(r).some((e=>!!e)))return[];if(Object.keys(r).filter((e=>!r[e])).length>0)return[u[d.Up.EXPIRATION].INVALID];var t=p(r),a=n()();return t.isValid()?t.isBefore(a)?[u[d.Up.EXPIRATION].EXPIRED]:[]:[u[d.Up.EXPIRATION].INVALID]},g=(e,r,t,a,o)=>{if(!e.displayed.includes(d.Up.ROUTE_FROM))return[];if(r)return[];var p=(0,i.qF)(l.P.SUBMIT,{from:t,to:a,viaAvoidType:o.name?"via":void 0,viaAvoidStation:o.name?o:void 0,journeySearchType:s.ki.SINGLE,passengers:[],euFlowPassengers:[],ukFlowCardTypes:[],outbound:(0,c.ym)(n()()),seasons:{seasonsStartDate:""}});return Object.keys(p).map((e=>{var r="".concat(e,"/").concat(p[e]);return Object.values(u[d.By]).find((e=>e.meta.jsf_lookup_by_translation===r))}))}},16256:(e,r,t)=>{"use strict";t.d(r,{By:()=>i,Up:()=>n,kb:()=>o,qo:()=>d,uo:()=>c});var a=function(e){return e.NOTHING_REQUIRED="@discount_card_form/variations/nothing_required",e.NUM_ONLY="@discount_card_form/variations/num_only",e.EXP_ONLY="@discount_card_form/variations/exp_only",e.NUM_EXP="@discount_card_form/variations/num_exp",e.NUM_EXP_ROUTE="@discount_card_form/variations/num_exp_route",e.NUM_EXP_ROUTE_VIA="@discount_card_form/variations/num_exp_route_via",e}({}),n=function(e){return e.NUMBER="@discount_card_form/inputs/number",e.EXPIRATION="@discount_card_form/inputs/expiration",e.ROUTE_FROM="@discount_card_form/inputs/route/from",e.ROUTE_VIA="@discount_card_form/inputs/route/via",e.ROUTE_TO="@discount_card_form/inputs/route/to",e}({}),i="@discount_card_form/inputs/route",o=[n.ROUTE_FROM,n.ROUTE_VIA,n.ROUTE_TO],s={[a.NOTHING_REQUIRED]:[],[a.NUM_ONLY]:[n.NUMBER],[a.EXP_ONLY]:[n.EXPIRATION],[a.NUM_EXP]:[n.EXPIRATION,n.NUMBER],[a.NUM_EXP_ROUTE]:[n.EXPIRATION,n.NUMBER,n.ROUTE_FROM,n.ROUTE_TO],[a.NUM_EXP_ROUTE_VIA]:[n.EXPIRATION,n.NUMBER,n.ROUTE_FROM,n.ROUTE_VIA,n.ROUTE_TO]},l=[n.NUMBER,n.EXPIRATION,n.ROUTE_FROM,n.ROUTE_VIA,n.ROUTE_TO],c=(n.NUMBER,{[n.NUMBER]:{alwaysOptional:!1,requirementFlag:"isNumberRequired"},[n.EXPIRATION]:{alwaysOptional:!0,requirementFlag:null},[n.ROUTE_FROM]:{alwaysOptional:!0,requirementFlag:null},[n.ROUTE_VIA]:{alwaysOptional:!0,requirementFlag:null},[n.ROUTE_TO]:{alwaysOptional:!0,requirementFlag:null}});function d(e,r,t){var n=function(e){return e?e.hasItinerary?e.hasVia?a.NUM_EXP_ROUTE_VIA:a.NUM_EXP_ROUTE:e.hasExpirationDate?e.hasNumber?a.NUM_EXP:a.EXP_ONLY:e.hasNumber?a.NUM_ONLY:a.NOTHING_REQUIRED:null}(r),i={available:[],displayed:[],required:[]};return n&&r?(i.available=s[n],i.required=i.available.filter((e=>{var{alwaysOptional:t,requirementFlag:a}=c[e];return!t&&null!==a&&!0===r[a]})),i.displayed=e?i.available:i.required,t&&(i.displayed=i.available.filter((e=>l.includes(e)))),i):i}},578:(e,r,t)=>{"use strict";t.d(r,{Q:()=>i,W:()=>a});var a={"5bda8654-9df1-4cbe-a6db-70905b4779ff":{id:"5bda8654-9df1-4cbe-a6db-70905b4779ff",titleColor:"#000000",backgroundColor:"rgba(255, 243, 128, 0.5)",details:["Adults aged 1617 save 50%","Also valid with season tickets","Great for college and sixth-form students"],tc:"No minimum fares or travel restrictions.",infoLink:"https://www.thetrainline.com/trains/great-britain/railcards/16-17-saver"},"b84c91f7-dd8d-46db-bdcb-3141fb0682c7":{id:"b84c91f7-dd8d-46db-bdcb-3141fb0682c7",titleColor:"#e33a16",backgroundColor:"#fceee6",details:["Adults aged 1625 save ","Available in 1- or 3-year validity","Great for teenagers, students and graduates"],tc:"Minimum fares and travel restrictions apply.",infoLink:"https://www.thetrainline.com/trains/great-britain/railcards/16-25-railcard"},"f1956557-3d42-45f4-9b52-7547d2c22ea1":{id:"f1956557-3d42-45f4-9b52-7547d2c22ea1",titleColor:"#d63a16",backgroundColor:"#fef4f3",details:["Adults aged 2630 save ","Valid for Peak and Off-Peak travel","Great for Millennials, graduates, and young professionals"],tc:"Minimum fares and travel restrictions apply.",infoLink:"https://www.thetrainline.com/trains/great-britain/railcards/26-30-railcard"},"3939e082-6f4a-4f46-b119-2aa13aaeed12":{id:"3939e082-6f4a-4f46-b119-2aa13aaeed12",titleColor:"#174082",backgroundColor:"#e8ecf3",details:["Adults aged 60+ save ","Available in 1- or 3-year validity","Great for seniors, grandparents, and retirees"],tc:"No minimum fares, but travel restrictions apply.",infoLink:"https://www.thetrainline.com/trains/great-britain/railcards/senior-railcard"},"acb7256d-7a1f-4649-8116-8540b6c7f4b4":{id:"acb7256d-7a1f-4649-8116-8540b6c7f4b4",titleColor:"#0099d1",backgroundColor:"#e6f5fa",details:["1 Adult and up to 3 accompanying adults save ","Up to 4 Children save 60%","Great for commuters in London and the south east"],tc:"Minimum fares and travel restrictions apply.",infoLink:"https://www.thetrainline.com/trains/great-britain/railcards/network-railcard"},"0edc96f8-e93b-459b-a90f-1795989281fc":{id:"0edc96f8-e93b-459b-a90f-1795989281fc",titleColor:"#763c96",backgroundColor:"#f0ecf4",details:["2 Adults travelling together save ","Valid on Off-Peak and weekend fares","Great for friends, couples, flatmates and colleagues"],tc:"No minimum fares, but travel restrictions apply.",infoLink:"https://www.thetrainline.com/trains/great-britain/railcards/two-together-railcard"},"62116b49-c298-413a-a8d9-c85d836bd8ee":{id:"62116b49-c298-413a-a8d9-c85d836bd8ee",titleColor:"#e6052d",backgroundColor:"#fde6ea",details:["1 Adult and up to 3 accompanying adults save ","Up to 4 Children save 60%","Great for travelling in groups with children"],tc:"Minimum fares and travel restrictions apply.",infoLink:"https://www.thetrainline.com/trains/great-britain/railcards/family-friends-railcard"}},n={"5bda8654-9df1-4cbe-a6db-70905b4779ff":{id:"5bda8654-9df1-4cbe-a6db-70905b4779ff",name:"16-17 Saver",code:"urn:trainline:atoc:card:TSU"},"b84c91f7-dd8d-46db-bdcb-3141fb0682c7":{id:"b84c91f7-dd8d-46db-bdcb-3141fb0682c7",name:"16-25 Railcard",code:"urn:trainline:atoc:card:YNG"},"f1956557-3d42-45f4-9b52-7547d2c22ea1":{id:"f1956557-3d42-45f4-9b52-7547d2c22ea1",name:"26-30 Railcard",code:"urn:trainline:atoc:card:TST"},"3939e082-6f4a-4f46-b119-2aa13aaeed12":{id:"3939e082-6f4a-4f46-b119-2aa13aaeed12",name:"Senior Railcard",code:"urn:trainline:atoc:card:SRN"},"acb7256d-7a1f-4649-8116-8540b6c7f4b4":{id:"acb7256d-7a1f-4649-8116-8540b6c7f4b4",name:"Network Railcard",code:"urn:trainline:atoc:card:NEW"},"0edc96f8-e93b-459b-a90f-1795989281fc":{id:"0edc96f8-e93b-459b-a90f-1795989281fc",name:"Two Together Railcard",code:"urn:trainline:atoc:card:2TR"},"62116b49-c298-413a-a8d9-c85d836bd8ee":{id:"62116b49-c298-413a-a8d9-c85d836bd8ee",name:"Family & Friends Railcard",code:"urn:trainline:atoc:card:FAM"}},i={"a3d5089d-b3b8-4a11-89f0-8896a32484ab":{id:"a3d5089d-b3b8-4a11-89f0-8896a32484ab",validityPeriod:"P1Y",listPrice:{amount:30,currencyCode:"GBP"},cardType:n["acb7256d-7a1f-4649-8116-8540b6c7f4b4"]},"6dd723a1-80fa-4aba-8148-8e98863da921":{id:"6dd723a1-80fa-4aba-8148-8e98863da921",validityPeriod:"P1Y",listPrice:{amount:30,currencyCode:"GBP"},cardType:n["0edc96f8-e93b-459b-a90f-1795989281fc"]},"55c629dd-2ee8-4119-ac9e-a583afa887da":{id:"55c629dd-2ee8-4119-ac9e-a583afa887da",validityPeriod:"P1Y",listPrice:{amount:30,currencyCode:"GBP"},cardType:n["62116b49-c298-413a-a8d9-c85d836bd8ee"]},"da43667a-01f0-4a19-82ea-1378786378c2":{id:"da43667a-01f0-4a19-82ea-1378786378c2",validityPeriod:"P1Y",listPrice:{amount:30,currencyCode:"GBP"},cardType:n["b84c91f7-dd8d-46db-bdcb-3141fb0682c7"]},"702c1ecb-20fd-4b69-b468-54bb5451b656":{id:"702c1ecb-20fd-4b69-b468-54bb5451b656",validityPeriod:"P1Y",listPrice:{amount:30,currencyCode:"GBP"},cardType:n["f1956557-3d42-45f4-9b52-7547d2c22ea1"]},"b4449ff4-fc51-4076-8a9b-2538335109a9":{id:"b4449ff4-fc51-4076-8a9b-2538335109a9",validityPeriod:"P1Y",listPrice:{amount:30,currencyCode:"GBP"},cardType:n["3939e082-6f4a-4f46-b119-2aa13aaeed12"]},"ebc46afe-4672-4e5f-9d82-089876c7ed8c":{id:"ebc46afe-4672-4e5f-9d82-089876c7ed8c",validityPeriod:"P3Y",listPrice:{amount:70,currencyCode:"GBP"},cardType:n["b84c91f7-dd8d-46db-bdcb-3141fb0682c7"]},"3f2f1602-7013-4b73-ab07-b98598817089":{id:"3f2f1602-7013-4b73-ab07-b98598817089",validityPeriod:"P1Y",listPrice:{amount:30,currencyCode:"GBP"},cardType:n["5bda8654-9df1-4cbe-a6db-70905b4779ff"]},"21513906-e7bc-4e81-a09a-0418078c0d55":{id:"21513906-e7bc-4e81-a09a-0418078c0d55",validityPeriod:"P3Y",listPrice:{amount:70,currencyCode:"GBP"},cardType:n["62116b49-c298-413a-a8d9-c85d836bd8ee"]},"5fa2f1eb-b3ea-4509-9b5b-7a81d3544e93":{id:"5fa2f1eb-b3ea-4509-9b5b-7a81d3544e93",validityPeriod:"P3Y",listPrice:{amount:70,currencyCode:"GBP"},cardType:n["3939e082-6f4a-4f46-b119-2aa13aaeed12"]}}},65837:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var a,n,i,o,s={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"PricePredictionEligibilityQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:null,kind:"LinkedField",name:"v1_pricePredictionEligibility",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_PricePredictionJourneyEligibility",kind:"LinkedField",name:"journeys",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"alternativeId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"daysBeforePredictedToIncreaseInPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"v1_PricePredictionEligibilityResponse",abstractKey:null},o={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_PricePredictionError",kind:"LinkedField",name:"errors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null}],storageKey:null}],type:"v1_PricePredictionErrorResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PricePredictionEligibilityQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v1_pricePredictionEligibility",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,o],storageKey:null}]},params:{id:"648ee775a9ad61ae77309c11e3d60082",metadata:{},name:"PricePredictionEligibilityQuery",operationKind:"query",text:null}};s.hash="3888844e0924f1f2f97ccb90478c4f0a";const l=s;t(43755);const c=l},55661:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var a=t(88543),n=t(49987),i=t(61229),o=t(32143),s=t(83504),l=(e,r)=>({id:r,legs:e.reduce(((e,r)=>[...e,{origin:{id:r.departureLocation,url:r.departureLocation},destination:{id:r.arrivalLocation,url:r.arrivalLocation},transportMode:{id:r.transportMode,url:r.transportMode},distanceInKm:r.distanceInKm,co2EmissionsInGramsPerPassenger:r.co2EmissionInGramsPerPassenger}]),[])});const c=()=>{var e=(0,a.useSelector)((e=>(0,s.FD)(e))),r=(0,a.useSelector)((r=>(0,o.P8)(r,e))),t=(0,a.useSelector)((r=>(0,o.Q4)(r,e))),c=(0,a.useSelector)((r=>(0,i.Cu)(r,e))),d=(0,a.useSelector)(n.HG),u=sessionStorage.getItem("CO2RequestBody");if(null!==u&&sessionStorage.getItem("selectorParams")===JSON.stringify(e))return JSON.parse(u);if(void 0!==c&&void 0!==c.legs){var p=d?"GB":"FR",m=((e,r,t)=>{var a=void 0,n=void 0;r&&r.legs&&t&&(a=null==r?void 0:r.legs.map((e=>t.legs[e]))),e&&e.legs&&t&&(n=null==e?void 0:e.legs.map((e=>t.legs[e])));var i=a&&r?l(a,r.id):void 0,o=n&&e?l(n,e.id):void 0,s=[];return void 0!==i&&s.push(i),void 0!==o&&s.push(o),0!==s.length?s:void 0})(r,t,c);if(void 0!==m){var g={journeys:m,includeEmissionsContextualization:!0,countryCode:p};return sessionStorage.setItem("CO2RequestBody",JSON.stringify(g)),sessionStorage.setItem("selectorParams",JSON.stringify(e)),g}}}},54761:(e,r,t)=>{"use strict";t.d(r,{ID:()=>A,_V:()=>y,aB:()=>S,jL:()=>b,jk:()=>T,lb:()=>h,q:()=>_,vq:()=>P});var a=t(82768),n=t(32034),i=t(7041),o=t(61229),s=t(51059),l=t(97819),c=t(14238),d=t(45049),u=t(32143),p=t(22746),m=t(72847),g=(0,n.P1)(c.nB,d.lv,c.RB,((e,r,t)=>e===c.y8.SINGLE&&r&&t&&(0,c.gN)(r,t)||void 0)),v=(0,n.P1)(d.Av,c.RB,((e,r)=>e&&r&&(0,d.lp)(e,r))),h=(0,n.P1)(c.nB,g,v,((e,r,t)=>({[c.y8.EACH_WAY]:t,[c.y8.SINGLE]:r}[e]||void 0))),y=(0,n.P1)(c.nB,d.lv,d.Av,c.Wx,c.XT,((e,r,t,a,n)=>e&&a&&n&&(e===c.y8.SINGLE?r&&(0,c.H4)(a[r.rules.appliesToJourneyId],n):t&&(0,c.H4)(a[t.outwardOffer.rules.appliesToJourneyId],n)))),f=e=>e&&(0,i.Vg)((0,i.K7)(e.departAt,e.arriveAt)),E=((0,n.P1)(y,f),(e,r)=>Boolean(r&&(0,a.xHg)(e).includes(r))),b=(0,n.P1)(m.Q7,u.W6,E),S=(0,n.P1)(m.Q7,u.qw,E),T=(0,n.P1)(p.CX,p.oH,p.xT,p.Iw,s.Dw,((e,r,t,a,n)=>{if(n)return a;if(!r)return e;if(e||t){var i=(e?e.amount:0)+r.amount,o=t&&t.amount;return void 0===o||i<=o?{amount:i,currencyCode:r.currencyCode}:t}})),C=(e,r)=>e[r]&&{departAt:e[r].departAt,arriveAt:e[r].arriveAt},A=(0,n.P1)(o.Cu,p.P6,o.HO,((e,r,t)=>{var a=e&&r&&(0,l.mX)(e,r);return a&&C(t,a)})),I=(e,r,t)=>{var a=r&&r[0],n=e&&a&&(0,l.mX)(e,a);return n&&C(t,n)},_=(0,n.P1)(o.Cu,m.N0,o.HO,I),P=(0,n.P1)(o.Cu,m.so,o.HO,I);(0,n.P1)(o.Cu,p.iv,o.HO,((e,r,t)=>{var a=e&&r&&(0,l.mX)(e,r);return a&&C(t,a)})),(0,n.P1)(A,f)},14238:(e,r,t)=>{"use strict";t.d(r,{AY:()=>g,DJ:()=>v,H4:()=>f,Ig:()=>U,LU:()=>x,MM:()=>R,Pj:()=>F,RB:()=>k,Wx:()=>O,XT:()=>L,Zi:()=>E,dC:()=>B,gN:()=>y,l2:()=>M,ly:()=>b,mk:()=>D,nB:()=>Z,nq:()=>h,r9:()=>N,vh:()=>P,x4:()=>_,y8:()=>w});var a=t(82768),n=t(32034),i=t(60654),o=t(67292),s=t(26067),l=t(59838),c=t(8129),d=t(73641),u=t(87222),p=t(51059),m=t(70252),g=(e,r)=>r.map((r=>e[r])).filter((e=>!!e)),v=(e,r)=>r.map((r=>e[r])).filter((e=>!!e)),h=(e,r)=>r[e.fares[0]],y=(e,r)=>{var t=h(e,r);return t&&t.price},f=(e,r)=>{var t=e&&(0,a.YMb)(e.legs),n=e&&(0,a.Z$Q)(e.legs),i=t?r[t]:void 0,s=n?r[n]:void 0;return i&&s&&{departAt:i.localDepartAt,departAtDate:(0,o.Xn)(i.localDepartAt),arriveAt:s.localArriveAt}},E=(e,r)=>r[e.rules.appliesToJourneyId],b=(e,r,t)=>f(E(e,r),t),S=(0,n.P1)(d.ox,u.wm,((e,r)=>e&&r&&e[r]||void 0)),T=(0,n.P1)(d.ox,u.Uy,((e,r)=>e&&r&&e[r]||void 0)),C=(0,n.P1)(T,(e=>e&&e.loadDetails)),A=(0,n.P1)(C,(e=>e&&e.status)),I=(0,n.P1)(S,(e=>e&&e.loadDetails)),_=(0,n.P1)(I,(e=>e&&e.status)),P=(0,n.P1)(_,u.wm,c.rt,((e,r,t)=>e===i.LoadStatus.SUCCESS&&r&&t&&t[r]||void 0)),R=(0,n.P1)(P,(e=>e&&e.fareSearches||void 0)),k=(0,n.P1)(P,(e=>e&&e.fares||void 0)),N=(0,n.P1)(P,(e=>e&&e.offers||void 0)),O=(0,n.P1)(P,(e=>e&&e.journeys||void 0)),L=(0,n.P1)(P,(e=>e&&e.legs||void 0)),x=(0,n.P1)(P,(e=>e&&e.fareTypes||void 0)),D=(0,n.P1)(P,(e=>e&&e.passengers||void 0)),w=function(e){return e.SINGLE="single",e.EACH_WAY="eachWay",e}({}),Z=(0,n.P1)(u.fW,O,((e,r)=>r?(0,a.VO0)(r).some((e=>!!e&&e.direction===s.N.INWARD))?w.EACH_WAY:w.SINGLE:e.returnDefinition?w.EACH_WAY:w.SINGLE)),F=(0,n.P1)(m.c,p.Dw,p.oy,p.Yh,p.Q$,((e,r,t,a,n)=>e&&a&&!r&&!t&&(n===i.Experiences.NATIONAL_EXPRESS_COACH||n===i.Experiences.UK_TRAIN))),B=(0,n.P1)(u.ii,u.s3,_,A,u.d7,u.V4,F,((e,r,t,a,n,o,s)=>!1===o&&r===i.LoadStatus.SUCCESS||!s?i.LoadStatus.ERROR:e===i.LoadStatus.SUCCESS&&n&&r!==i.LoadStatus.PENDING&&a!==i.LoadStatus.PENDING?t:i.LoadStatus.PENDING)),M=(0,n.P1)(p.Wc,(e=>"true"===e.refinePassengerType)),U=(0,n.P1)(O,L,((e,r)=>{if(!e||!r)return!1;var{outward:t,inward:a}=Object.values(e).filter(l.v).reduce(((e,t)=>{var a=t.legs[0]&&r[t.legs[0]];return a&&e[t.direction.toLowerCase()].push((0,o.Xn)(a.localDepartAt)),e}),{outward:[],inward:[]}),n=(e,r,t)=>e===t[0];return!(t.every(n)&&a.every(n))}))},45049:(e,r,t)=>{"use strict";t.d(r,{Ao:()=>X,Av:()=>E,EN:()=>T,Jd:()=>C,QK:()=>q,QO:()=>j,R9:()=>$,Xl:()=>U,hX:()=>J,lp:()=>f,lv:()=>y,oC:()=>K,t3:()=>te,vA:()=>re,wF:()=>z});var a=t(23198),n=t(82768),i=t(32034),o=t(35926),s=t(26260),l=t(4237),c=t(24087),d=t(26067),u=t(92490),p=t(14238),m=(e,r)=>(0,n.YMb)(e.filter((e=>e&&!!(0,p.gN)(e,r))).sort(((e,t)=>e&&t?(0,p.gN)(e,r).amount-(0,p.gN)(t,r).amount:0))),g=(e,r)=>(0,n.VO0)(r).filter((r=>r&&e&&r.rules.permittedOutwardOfferIds&&r.rules.permittedOutwardOfferIds.includes(e))),v=(0,i.P1)(p.r9,p.Wx,((e,r)=>e&&r&&(0,n.VO0)(e).filter((e=>e&&e.rules&&!!r[e.rules.appliesToJourneyId]&&r[e.rules.appliesToJourneyId].direction===d.N.OUTWARD)))),h=(e,r)=>{var t=e&&r&&e.reduce(((e,t)=>{var a=(0,p.nq)(t,r),n=a&&a.price.amount;return e&&(void 0===n||e.amount<n)?e:{offer:t,amount:n}}),void 0);return t&&t.offer},y=(0,i.P1)(v,p.RB,h),f=(e,r)=>{var t=(0,p.gN)(e.outwardOffer,r),a=(0,p.gN)(e.inwardOffer,r);return t&&a&&{amount:t.amount+a.amount,currencyCode:t.currencyCode}},E=(0,i.P1)(v,p.r9,p.RB,((e,r,t)=>e&&r&&t&&e.reduce(((e,a)=>{var n,i=g(a.id,r);i&&(n=m(i,t));var o={outwardOffer:a,inwardOffer:n};if(o&&o.inwardOffer){var s,l=e&&f(e,t);return o&&(s=f(o,t)),l&&(!s||l.amount<s.amount)?e:o}}),void 0))),b=(e,r)=>(0,n.VO0)(e).find((e=>!!e&&e.offers&&e.offers.includes(r.id))),S=(0,i.P1)(p.nB,y,E,p.MM,((e,r,t,a)=>{if(e&&a){if(e===p.y8.EACH_WAY&&t&&t.outwardOffer)return b(a,t.outwardOffer);if(e===p.y8.SINGLE&&r)return b(a,r)}})),T=e=>(0,i.P1)(p.r9,p.RB,((r,t)=>e&&r&&t?e.map((e=>{var a,{standardClassAlternative:n}=e,i=g(n.selectionId,r);if(i){var o=(0,p.gN)(m(i,t),t);a={price:o,fullPrice:o}}return a})).filter(Boolean):[])),C=(0,i.P1)(s.be,p.r9,p.RB,((e,r,t)=>{if(e&&r&&t){var a=(0,p.gN)(m([r[e]],t),t);return{price:a,fullPrice:a}}})),A=(0,i.P1)(S,p.r9,p.Wx,((e,r,t)=>e&&r&&t&&(0,p.DJ)(r,e.offers).filter((e=>!!e&&!!(0,p.Zi)(e,t)&&(0,p.Zi)(e,t).direction===d.N.OUTWARD)))),I=(0,i.P1)(s.be,p.r9,g),_=(0,i.P1)(A,p.RB,h),P=(0,i.P1)(I,p.RB,h),R=e=>e&&(0,n.YMb)(e),k=(0,i.P1)(A,R),N=(0,i.P1)(I,R),O=(e,r)=>e&&r&&(0,p.nq)(e,r),L=(0,i.P1)(_,p.RB,O),x=(0,i.P1)(P,p.RB,O),D=e=>e&&e.price,w=(0,i.P1)(L,D),Z=(0,i.P1)(x,D),F=(e,r)=>{var t=e=>r[e];return e&&r&&Array.prototype.concat(...e.map((e=>e.fares))).filter(t).map(t)},B=(0,i.P1)(A,p.RB,F),M=((0,i.P1)(I,p.RB,F),(e,r)=>e&&r&&e.map((e=>{var{rules:t}=e;return r[t.appliesToJourneyId]}))),U=(0,i.P1)(A,p.Wx,M),j=(0,i.P1)(I,p.Wx,M),H=(0,i.P1)(u.Yu,B,((e,r)=>r&&e[r[0].departureLocation])),W=(0,i.P1)(u.Yu,B,((e,r)=>r&&e[r[0].arrivalLocation])),G=(0,i.P1)(E,p.RB,u.Yu,((e,r,t)=>e&&e.inwardOffer&&r&&t&&r[e.inwardOffer.fares[0]]&&t[r[e.inwardOffer.fares[0]].departureLocation])),V=(0,i.P1)(E,p.RB,u.Yu,((e,r,t)=>e&&e.inwardOffer&&r&&t&&r[e.inwardOffer.fares[0]]&&t[r[e.inwardOffer.fares[0]].arrivalLocation])),Y=e=>e&&e.name,K=(0,i.P1)(H,Y),z=(0,i.P1)(G,Y),J=(0,i.P1)(W,Y),q=(0,i.P1)(V,Y),Q=(e,r,t)=>{var a=e&&r&&t&&(0,p.ly)(e,r,t);return a&&a.departAt},X=(0,i.P1)(k,p.Wx,p.XT,Q),$=(0,i.P1)(N,p.Wx,p.XT,Q),ee=(e,r,t,n,i,s,d,u)=>{if(e&&r&&t&&n&&i&&d&&u){var m=e.filter((e=>t[e.rules.appliesToJourneyId]&&(0,p.gN)(e,r)&&(0,p.H4)(t[e.rules.appliesToJourneyId],n))).map((e=>{var o=t[e.rules.appliesToJourneyId],m=(0,p.gN)(e,r),g=(0,p.H4)(o,n);return(0,a.Z)((0,a.Z)({},g),{},{journeyId:e.rules.appliesToJourneyId,disruptions:{},type:c.ZP.COACH,departureStation:d,arrivalStation:u,coachService:{routes:o.legs.reduce(((e,r)=>(n[r]&&n[r].route&&n[r].carrier&&e.push({route:n[r].route,carrier:n[r].carrier}),e)),[])},standardClassAlternative:{isCheapest:m.amount===i.amount,selectionId:e.id,price:m,isSelected:e.id===s,isAvailable:!0,isSale:!1},changes:o.legs.length-1,hasRailReplacementService:!1,bikeRestrictionStatus:l.M.NOT_ALLOWED})}));return(0,o.Mk)(m)}},re=(0,i.P1)(A,p.RB,p.Wx,p.XT,w,s.be,K,J,ee),te=(0,i.P1)(I,p.RB,p.Wx,p.XT,Z,s.Nv,z,q,ee)},16031:(e,r,t)=>{"use strict";t.d(r,{Af:()=>Z,DW:()=>u,JW:()=>h,Kc:()=>M,Kj:()=>B,P8:()=>P,Q4:()=>_,Ru:()=>w,Zv:()=>H,_h:()=>W,b8:()=>T,nt:()=>p,st:()=>L,vU:()=>E,wT:()=>f,xf:()=>S,yC:()=>x,yS:()=>j});var a=t(82768),n=t(32034),i=t(82758),o=t(26260),s=t(59838),l=t(51059),c=t(14238),d=(e,r)=>e&&r&&e[r]||void 0,u=(0,n.P1)(c.r9,o.be,d),p=(0,n.P1)(c.r9,o.Nv,d),m=(e,r)=>e&&r&&(0,c.AY)(e,r.fares)[0]||void 0,g=(0,n.P1)(c.RB,u,m),v=((0,n.P1)(c.RB,p,m),(e,r)=>e&&r&&(0,a.VO0)(r).find((r=>!!r&&r.offers.includes(e)))||void 0),h=(0,n.P1)(o.be,c.MM,v),y=((0,n.P1)(o.Nv,c.MM,v),(e,r)=>e&&r&&e.fares.map((e=>r[e])).filter(s.v)||void 0),f=(0,n.P1)(u,c.RB,y),E=(0,n.P1)(p,c.RB,y),b=(e,r)=>e&&r&&r[e[0].fareType]||void 0,S=(0,n.P1)(f,c.LU,b),T=(0,n.P1)(E,c.LU,b),C=e=>e&&e.name,A=((0,n.P1)(S,C),(0,n.P1)(T,C),e=>e&&e.condition),I=((0,n.P1)(S,A),(0,n.P1)(T,A),(e,r)=>r&&e&&r[e.rules.appliesToJourneyId]||void 0),_=(0,n.P1)(u,c.Wx,I),P=(0,n.P1)(p,c.Wx,I),R=(e,r)=>e&&r&&e.legs.map((e=>r[e]))||void 0,k=(0,n.P1)(_,c.XT,R),N=(0,n.P1)(P,c.XT,R),O=(e,r)=>e&&r&&(0,c.gN)(e,r)||void 0,L=(0,n.P1)(u,c.RB,O),x=(0,n.P1)(p,c.RB,O),D=e=>e&&e[0]&&e[0].localDepartAt||void 0,w=(0,n.P1)(k,D),Z=(0,n.P1)(N,D),F=e=>e&&e[e.length-1].localArriveAt||void 0,B=(0,n.P1)(k,F),M=(0,n.P1)(N,F),U=e=>e&&e[0]&&e[0].route||void 0,j=(0,n.P1)(k,U),H=(0,n.P1)(N,U),W=(0,n.P1)(g,c.mk,l.Q$,((e,r,t)=>e&&r&&e.rules&&e.rules.appliesToPassengerIds&&(0,a.VO0)(e.rules.appliesToPassengerIds.reduce(((a,n)=>{if(r[n]){var o=(0,i.QA)(r[n].dateOfBirth,t);a[o]?a[o].qty++:a[o]={type:o,fareId:e.id,qty:1}}return a}),{})).filter((e=>!!e))||[]))},2693:(e,r,t)=>{"use strict";t.d(r,{a8:()=>h,ZP:()=>f,Ts:()=>y});var a=t(50093),n=t(29901),i=t(98184),o=t(57839),s=t(98318),l=t(35779),c=t(6575),d=t(24425),u=t(23394);const p=a.StyleSheet.create({availabilityLabel:{display:"flex",justifyContent:"center",textAlign:"center",backgroundColor:s.dp_app_info_brightest,margin:"0 auto 0 0",alignItems:"center",padding:"0 ".concat(l.zg),borderRadius:"0 0 ".concat(c.Qz," ").concat(c.Qz),fontWeight:600,alignSelf:"center",lineHeight:d.x_,fontSize:d.cl,width:"fit-content",[u.cy.min.m]:{fontSize:d.cl,backgroundColor:"transparent",lineHeight:d.x_,color:s.dp_app_warning_dull,display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1"}},selected:{[u.cy.min.m]:{paddingTop:"2px",color:s.dp_brand_white}},cheapest:{color:s.dp_brand_black,backgroundColor:s.dp_app_warning_mid}});var m=t(88543),g=t(83504),v=t(95444),h=function(e){return e.LIMITED="LIMITED",e.COUNT="COUNT",e.NULL="NULL",e}({}),y=(e,r,t,a)=>{var n=(null==e?void 0:e.status)===o.A.LIMITED,i=(null==e?void 0:e.status)===o.A.AVAILABLE;if(a)return(e=>{if(!e)return h.NULL;var{remaining:r}=e;return"number"!=typeof r?h.NULL:r>0&&r<60?h.COUNT:h.NULL})(e);if(!(e&&(n||t&&i)))return h.NULL;var{remaining:s}=e,l=Number(s)>(t?60:30),c=Number(s)<=0;return l||c?h.NULL:!r||l||c?Number(s)<=10&&Boolean(s)?h.COUNT:h.LIMITED:h.COUNT};const f=e=>{var r,{availability:t,isSelected:o,isCheapest:s,showLimitedAvailability:l,increaseOnlyXLeftRangeInbound:c}=e,d=(r=(0,m.useSelector)((e=>(0,g.FD)(e))),(0,m.useSelector)((e=>(0,v._)(e,r)))),u=y(t,d,l,c);return u===h.NULL?null:n.createElement("div",{"data-test":"availability-tag-".concat(u),className:(0,a.css)([p.availabilityLabel,o&&p.selected,s&&p.cheapest])},u===h.COUNT?n.createElement("span",null,s&&n.createElement(i.FormattedMessage,{id:"page.matrix.cheapest"}),s&&" - ",n.createElement(i.FormattedMessage,{id:"page.ukresults.limitedSeats",values:{seatsAvailable:null==t?void 0:t.remaining}})):n.createElement("span",null,s&&n.createElement(i.FormattedMessage,{id:"page.matrix.cheapest"}),s&&" - ",n.createElement(i.FormattedMessage,{id:"page.ukresults.limitedAvailability"})))}},6102:(e,r,t)=>{"use strict";t.d(r,{Wr:()=>a,bW:()=>i,y1:()=>n});var a=function(e){return e.PARIS_LYON="PARIS_LYON",e.MADRID_BARCELONA="MADRID_BARCELONA",e.BARCELONA_VALENCIA="BARCELONA_VALENCIA",e.BARCELONA_ZARAGOZA="BARCELONA_ZARAGOZA",e.MADRID_ALICANTE="MADRID_ALICANTE",e.MADRID_MALAGA="MADRID_MALAGA",e.MADRID_SEVILLA="MADRID_SEVILLA",e.MADRID_VALENCIA="MADRID_VALENCIA",e.MADRID_ZARAGOZA="MADRID_ZARAGOZA",e.MILANO_ROMA="MILANO_ROMA",e.NAPOLI_ROMA="NAPOLI_ROMA",e.BARI_ROMA="BARI_ROMA",e.BOLOGNA_FERRARA="BOLOGNA_FERRARA",e.BOLOGNA_FIRENZE="BOLOGNA_FIRENZE",e.BOLOGNA_MILANO="BOLOGNA_MILANO",e.BOLOGNA_NAPOLI="BOLOGNA_NAPOLI",e.BOLOGNA_PADOVA="BOLOGNA_PADOVA",e.BOLOGNA_RIMINI_CITTA="BOLOGNA_RIMINI_CITTA",e.BOLOGNA_ROMA="BOLOGNA_ROMA",e.BOLOGNA_TORINO="BOLOGNA_TORINO",e.BOLOGNA_VENEZIA="BOLOGNA_VENEZIA",e.BOLOGNA_VERONA="BOLOGNA_VERONA",e.BOLZANO_VERONA="BOLZANO_VERONA",e.BRESCIA_MILANO="BRESCIA_MILANO",e.BRESCIA_VERONA="BRESCIA_VERONA",e.CASERTA_ROMA="CASERTA_ROMA",e.DESENZANO_DEL_GARDA_MILANO="DESENZANO_DEL_GARDA_MILANO",e.DESENZANO_DEL_GARDA_VERONA="DESENZANO_DEL_GARDA_VERONA",e.FIRENZE_MILANO="FIRENZE_MILANO",e.FIRENZE_NAPOLI="FIRENZE_NAPOLI",e.FIRENZE_PADOVA="FIRENZE_PADOVA",e.FIRENZE_TORINO="FIRENZE_TORINO",e.FIRENZE_VENEZIA="FIRENZE_VENEZIA",e.FIRENZE_VERONA="FIRENZE_VERONA",e.GENOVA_MILANO="GENOVA_MILANO",e.MILANO_NAPOLI="MILANO_NAPOLI",e.MILANO_PADOVA="MILANO_PADOVA",e.MILANO_PESCHIERA_DEL_GARDA="MILANO_PESCHIERA_DEL_GARDA",e.MILANO_REGGIO_EMILIA_CITTA="MILANO_REGGIO_EMILIA_CITTA",e.MILANO_RIMINI_CITTA="MILANO_RIMINI_CITTA",e.MILANO_TORINO="MILANO_TORINO",e.MILANO_VENEZIA="MILANO_VENEZIA",e.MILANO_VERONA="MILANO_VERONA",e.MILANO_VICENZA="MILANO_VICENZA",e.NAPOLI_SALERNO="NAPOLI_SALERNO",e.PADOVA_ROMA="PADOVA_ROMA",e.PADOVA_VENEZIA="PADOVA_VENEZIA",e.PADOVA_VERONA="PADOVA_VERONA",e.PADOVA_VICENZA="PADOVA_VICENZA",e.PESCHIERA_DEL_GARDA_VERONA="PESCHIERA_DEL_GARDA_VERONA",e.REGGIO_EMILIA_CITTA_ROMA="REGGIO_EMILIA_CITTA_ROMA",e.RHO_FIERA_MILANO_TORINO="RHO_FIERA_MILANO_TORINO",e.ROMA_SALERNO="ROMA_SALERNO",e.ROMA_TORINO="ROMA_TORINO",e.ROMA_VENEZIA="ROMA_VENEZIA",e.ROMA_VERONA="ROMA_VERONA",e.TRENTO_VERONA="TRENTO_VERONA",e.TREVISO_VENEZIA="TREVISO_VENEZIA",e.VENEZIA_VERONA="VENEZIA_VERONA",e.VENEZIA_VICENZA="VENEZIA_VICENZA",e.VERONA_VICENZA="VERONA_VICENZA",e.LONDON_EDINBURGH="london - edinburgh",e}({}),n=function(e){return e.FREE="free",e.PAID="paid",e.UNAVAILABLE="unavailable",e.FREE_ON_EXCLUSIVE_FARE="freeOnExclusiveFare",e.PAID_ON_EXCLUSIVE_FARE="paidOnExclusiveFare",e.UNAVAILABLE_DISCLAIMER="unavailableDisclaimer",e.FREE_DISCLAIMER="freeDisclaimer",e.RESTRICTION_EXTRA_FEE="restrictionExtraFee",e}({}),i=function(e){return e.REGIONAL="regional",e.HIGH_SPEED="highSpeed",e.ADVANCE="advance",e.FLEXIBLE="flexible",e.SEMI_FLEXIBLE="semiFlexible",e.NON_REFUNDABLE="nonRefundable",e}({})},12052:(e,r,t)=>{"use strict";t.d(r,{B4:()=>_r,Gr:()=>kr,mg:()=>Nr,zb:()=>Pr});var a,n,i,o,s,l,c,d,u,p,m,g,v,h,y,f,E,b,S,T,C,A,I,_,P,R,k,N,O,L,x,D,w,Z,F,B,M,U,j,H,W,G,V,Y,K,z,J,q,Q,X,$,ee,re,te,ae,ne,ie,oe,se,le,ce,de,ue,pe,me,ge,ve,he,ye,fe,Ee,be,Se,Te,Ce,Ae,Ie,_e,Pe,Re,ke,Ne,Oe,Le,xe,De,we,Ze,Fe,Be,Me,Ue,je,He,We,Ge,Ve,Ye,Ke,ze,Je,qe,Qe,Xe,$e,er,rr,tr,ar,nr,ir,or,sr,lr,cr,dr,ur,pr,mr,gr,vr,hr,yr,fr,Er=t(23198),br=t(60654),Sr=t(6102),Tr="ntv",Cr="italo",Ar=e=>e.heroRoutes.routes.map((r=>{var{route:t,stationGroup1:a,stationGroup2:n,operators:i}=r;return{route:t,stationGroup1:a,stationGroup2:n,operators:i.map((r=>{var{id:t,shouldBeInBanner:a}=r;return(0,Er.Z)({id:t,shouldBeInBanner:a},e.heroRoutes.operators[t])}))}})),Ir=Ar(t(9808)),_r=()=>Ar(t(9808));function Pr(e,r){var t,a,n=(null==e||null===(t=e.split(":"))||void 0===t||null===(t=t.slice(-1))||void 0===t?void 0:t[0])||(null==r||null===(a=r.split(":"))||void 0===a||null===(a=a.slice(-1))||void 0===a?void 0:a[0]);return n===Tr?Cr:n}function Rr(e){var r;return(null==e||null===(r=e.filter((e=>{var{shouldBeInBanner:r}=e;return r})))||void 0===r?void 0:r.map((e=>{var r,t,{brand:a,carrier:n}=e,i=(null==a||null===(r=a.code)||void 0===r||null===(r=r.split(":"))||void 0===r||null===(r=r.slice(-1))||void 0===r?void 0:r[0])||(null==n||null===(t=n.code)||void 0===t||null===(t=t.split(":"))||void 0===t||null===(t=t.slice(-1))||void 0===t?void 0:t[0]);return i===Tr?Cr:i})))||[]}var kr={PARIS_LYON:{route:Sr.Wr.PARIS_LYON,label:"paris-lyon",cities:["Paris","Lyon"],carriersLogos:Rr(null==Ir||null===(a=Ir[0])||void 0===a?void 0:a.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(n=Ir[0])||void 0===n?void 0:n.operators},MADRID_BARCELONA:{route:Sr.Wr.MADRID_BARCELONA,label:"madrid-barcelona",cities:["Madrid","Barcelona"],carriersLogos:Rr(null==Ir||null===(i=Ir[1])||void 0===i?void 0:i.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(o=Ir[1])||void 0===o?void 0:o.operators},BARCELONA_VALENCIA:{route:Sr.Wr.BARCELONA_VALENCIA,label:"barcelona-valencia",cities:["Barcelona","Valencia"],carriersLogos:Rr(null==Ir||null===(s=Ir[2])||void 0===s?void 0:s.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(l=Ir[2])||void 0===l?void 0:l.operators},BARCELONA_ZARAGOZA:{route:Sr.Wr.BARCELONA_ZARAGOZA,label:"barcelona-zaragoza",cities:["Barcelona","Zaragoza"],carriersLogos:Rr(null==Ir||null===(c=Ir[3])||void 0===c?void 0:c.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(d=Ir[3])||void 0===d?void 0:d.operators},MADRID_ALICANTE:{route:Sr.Wr.MADRID_ALICANTE,label:"madrid-alicante",cities:["Madrid","Alicante"],carriersLogos:Rr(null==Ir||null===(u=Ir[4])||void 0===u?void 0:u.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(p=Ir[4])||void 0===p?void 0:p.operators},MADRID_MALAGA:{route:Sr.Wr.MADRID_MALAGA,label:"madrid-malaga",cities:["Madrid","Mlaga"],carriersLogos:Rr(null==Ir||null===(m=Ir[5])||void 0===m?void 0:m.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(g=Ir[5])||void 0===g?void 0:g.operators},MADRID_SEVILLA:{route:Sr.Wr.MADRID_SEVILLA,label:"madrid-sevilla",cities:["Madrid","Sevilla"],carriersLogos:Rr(null==Ir||null===(v=Ir[6])||void 0===v?void 0:v.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(h=Ir[6])||void 0===h?void 0:h.operators},MADRID_VALENCIA:{route:Sr.Wr.MADRID_VALENCIA,label:"madrid-valencia",cities:["Madrid","Valencia"],carriersLogos:Rr(null==Ir||null===(y=Ir[7])||void 0===y?void 0:y.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(f=Ir[7])||void 0===f?void 0:f.operators},MADRID_ZARAGOZA:{route:Sr.Wr.MADRID_ZARAGOZA,label:"madrid-zaragoza",cities:["Madrid","Zaragoza"],carriersLogos:Rr(null==Ir||null===(E=Ir[8])||void 0===E?void 0:E.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(b=Ir[8])||void 0===b?void 0:b.operators},MILANO_ROMA:{route:Sr.Wr.MILANO_ROMA,label:"milano-roma",cities:["Milano","Roma"],carriersLogos:Rr(null==Ir||null===(S=Ir[9])||void 0===S?void 0:S.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(T=Ir[9])||void 0===T?void 0:T.operators},NAPOLI_ROMA:{route:Sr.Wr.MILANO_ROMA,label:"napoli-roma",cities:["Napoli","Roma"],carriersLogos:Rr(null==Ir||null===(C=Ir[10])||void 0===C?void 0:C.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(A=Ir[10])||void 0===A?void 0:A.operators},BARI_ROMA:{route:Sr.Wr.BARI_ROMA,label:"bari-roma",cities:["Bari","Roma"],carriersLogos:Rr(null==Ir||null===(I=Ir[11])||void 0===I?void 0:I.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(_=Ir[11])||void 0===_?void 0:_.operators},BOLOGNA_FERRARA:{route:Sr.Wr.BOLOGNA_FERRARA,label:"bologna-ferrara",cities:["Bologna","Ferrara"],carriersLogos:Rr(null==Ir||null===(P=Ir[12])||void 0===P?void 0:P.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(R=Ir[12])||void 0===R?void 0:R.operators},BOLOGNA_FIRENZE:{route:Sr.Wr.BOLOGNA_FIRENZE,label:"bologna-firenze",cities:["Bologna","Firenze"],carriersLogos:Rr(null==Ir||null===(k=Ir[13])||void 0===k?void 0:k.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(N=Ir[13])||void 0===N?void 0:N.operators},BOLOGNA_MILANO:{route:Sr.Wr.BOLOGNA_MILANO,label:"bologna-milano",cities:["Bologna","Milano"],carriersLogos:Rr(null==Ir||null===(O=Ir[14])||void 0===O?void 0:O.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(L=Ir[14])||void 0===L?void 0:L.operators},BOLOGNA_NAPOLI:{route:Sr.Wr.BOLOGNA_NAPOLI,label:"bologna-napoli",cities:["Bologna","Napoli"],carriersLogos:Rr(null==Ir||null===(x=Ir[15])||void 0===x?void 0:x.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(D=Ir[15])||void 0===D?void 0:D.operators},BOLOGNA_PADOVA:{route:Sr.Wr.BOLOGNA_PADOVA,label:"bologna-padova",cities:["Bologna","Padova"],carriersLogos:Rr(null==Ir||null===(w=Ir[16])||void 0===w?void 0:w.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Z=Ir[16])||void 0===Z?void 0:Z.operators},BOLOGNA_RIMINI_CITTA:{route:Sr.Wr.BOLOGNA_RIMINI_CITTA,label:"bologna-rimini_citta",cities:["Bologna","Rimini Citta"],carriersLogos:Rr(null==Ir||null===(F=Ir[17])||void 0===F?void 0:F.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(B=Ir[17])||void 0===B?void 0:B.operators},BOLOGNA_ROMA:{route:Sr.Wr.BOLOGNA_ROMA,label:"bologna-roma",cities:["Bologna","Roma"],carriersLogos:Rr(null==Ir||null===(M=Ir[18])||void 0===M?void 0:M.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(U=Ir[18])||void 0===U?void 0:U.operators},BOLOGNA_TORINO:{route:Sr.Wr.BOLOGNA_TORINO,label:"bologna-torino",cities:["Bologna","Torino"],carriersLogos:Rr(null==Ir||null===(j=Ir[19])||void 0===j?void 0:j.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(H=Ir[19])||void 0===H?void 0:H.operators},BOLOGNA_VENEZIA:{route:Sr.Wr.BOLOGNA_VENEZIA,label:"bologna-venezia",cities:["Bologna","Venezia"],carriersLogos:Rr(null==Ir||null===(W=Ir[20])||void 0===W?void 0:W.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(G=Ir[20])||void 0===G?void 0:G.operators},BOLOGNA_VERONA:{route:Sr.Wr.BOLOGNA_VERONA,label:"bologna-verona",cities:["Bologna","Verona"],carriersLogos:Rr(null==Ir||null===(V=Ir[21])||void 0===V?void 0:V.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Y=Ir[21])||void 0===Y?void 0:Y.operators},BOLZANO_VERONA:{route:Sr.Wr.BOLZANO_VERONA,label:"bolzano-verona",cities:["Bolzano","Verona"],carriersLogos:Rr(null==Ir||null===(K=Ir[22])||void 0===K?void 0:K.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(z=Ir[22])||void 0===z?void 0:z.operators},BRESCIA_MILANO:{route:Sr.Wr.BRESCIA_MILANO,label:"brescia-milano",cities:["Brescia","Milano"],carriersLogos:Rr(null==Ir||null===(J=Ir[23])||void 0===J?void 0:J.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(q=Ir[23])||void 0===q?void 0:q.operators},BRESCIA_VERONA:{route:Sr.Wr.BRESCIA_VERONA,label:"brescia-verona",cities:["Brescia","Verona"],carriersLogos:Rr(null==Ir||null===(Q=Ir[24])||void 0===Q?void 0:Q.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(X=Ir[24])||void 0===X?void 0:X.operators},CASERTA_ROMA:{route:Sr.Wr.CASERTA_ROMA,label:"caserta-roma",cities:["Caserta","Roma"],carriersLogos:Rr(null==Ir||null===($=Ir[25])||void 0===$?void 0:$.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(ee=Ir[25])||void 0===ee?void 0:ee.operators},DESENZANO_DEL_GARDA_MILANO:{route:Sr.Wr.DESENZANO_DEL_GARDA_MILANO,label:"desenzano_del_garda-milano",cities:["Desenzano del Garda","Milano"],carriersLogos:Rr(null==Ir||null===(re=Ir[26])||void 0===re?void 0:re.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(te=Ir[26])||void 0===te?void 0:te.operators},DESENZANO_DEL_GARDA_VERONA:{route:Sr.Wr.DESENZANO_DEL_GARDA_VERONA,label:"desenzano_del_garda-verona",cities:["Desenzano del Garda","Verona"],carriersLogos:Rr(null==Ir||null===(ae=Ir[27])||void 0===ae?void 0:ae.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(ne=Ir[27])||void 0===ne?void 0:ne.operators},FIRENZE_MILANO:{route:Sr.Wr.FIRENZE_MILANO,label:"firenze-milano",cities:["Firenze","Milano"],carriersLogos:Rr(null==Ir||null===(ie=Ir[28])||void 0===ie?void 0:ie.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(oe=Ir[28])||void 0===oe?void 0:oe.operators},FIRENZE_NAPOLI:{route:Sr.Wr.FIRENZE_NAPOLI,label:"firenze-napoli",cities:["Firenze","Napoli"],carriersLogos:Rr(null==Ir||null===(se=Ir[29])||void 0===se?void 0:se.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(le=Ir[29])||void 0===le?void 0:le.operators},FIRENZE_PADOVA:{route:Sr.Wr.FIRENZE_PADOVA,label:"firenze-padova",cities:["Firenze","Padova"],carriersLogos:Rr(null==Ir||null===(ce=Ir[30])||void 0===ce?void 0:ce.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(de=Ir[30])||void 0===de?void 0:de.operators},FIRENZE_TORINO:{route:Sr.Wr.FIRENZE_TORINO,label:"firenze-torino",cities:["Firenze","Torino"],carriersLogos:Rr(null==Ir||null===(ue=Ir[31])||void 0===ue?void 0:ue.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(pe=Ir[31])||void 0===pe?void 0:pe.operators},FIRENZE_VENEZIA:{route:Sr.Wr.FIRENZE_VENEZIA,label:"firenze-venezia",cities:["Firenze","Venezia"],carriersLogos:Rr(null==Ir||null===(me=Ir[32])||void 0===me?void 0:me.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(ge=Ir[32])||void 0===ge?void 0:ge.operators},FIRENZE_VERONA:{route:Sr.Wr.FIRENZE_VERONA,label:"firenze-verona",cities:["Firenze","Verona"],carriersLogos:Rr(null==Ir||null===(ve=Ir[33])||void 0===ve?void 0:ve.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(he=Ir[33])||void 0===he?void 0:he.operators},GENOVA_MILANO:{route:Sr.Wr.GENOVA_MILANO,label:"genova-milano",cities:["Genova","Milano"],carriersLogos:Rr(null==Ir||null===(ye=Ir[34])||void 0===ye?void 0:ye.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(fe=Ir[34])||void 0===fe?void 0:fe.operators},MILANO_NAPOLI:{route:Sr.Wr.MILANO_NAPOLI,label:"milano-napoli",cities:["Milano","Napoli"],carriersLogos:Rr(null==Ir||null===(Ee=Ir[35])||void 0===Ee?void 0:Ee.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(be=Ir[35])||void 0===be?void 0:be.operators},MILANO_PADOVA:{route:Sr.Wr.MILANO_PADOVA,label:"milano-padova",cities:["Milano","Padova"],carriersLogos:Rr(null==Ir||null===(Se=Ir[36])||void 0===Se?void 0:Se.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Te=Ir[36])||void 0===Te?void 0:Te.operators},MILANO_PESCHIERA_DEL_GARDA:{route:Sr.Wr.MILANO_PESCHIERA_DEL_GARDA,label:"milano-peschiera_del_garda",cities:["Milano","Peschiera del Garda"],carriersLogos:Rr(null==Ir||null===(Ce=Ir[37])||void 0===Ce?void 0:Ce.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Ae=Ir[37])||void 0===Ae?void 0:Ae.operators},MILANO_REGGIO_EMILIA_CITTA:{route:Sr.Wr.MILANO_REGGIO_EMILIA_CITTA,label:"milano-reggio_emilia_citta",cities:["Milano","Reggio Emilia Citta"],carriersLogos:Rr(null==Ir||null===(Ie=Ir[38])||void 0===Ie?void 0:Ie.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(_e=Ir[38])||void 0===_e?void 0:_e.operators},MILANO_RIMINI_CITTA:{route:Sr.Wr.MILANO_RIMINI_CITTA,label:"milano-rimini_citta",cities:["Milano","Rimini Citta"],carriersLogos:Rr(null==Ir||null===(Pe=Ir[39])||void 0===Pe?void 0:Pe.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Re=Ir[39])||void 0===Re?void 0:Re.operators},MILANO_TORINO:{route:Sr.Wr.MILANO_TORINO,label:"milano-torino",cities:["Milano","Torino"],carriersLogos:Rr(null==Ir||null===(ke=Ir[40])||void 0===ke?void 0:ke.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Ne=Ir[40])||void 0===Ne?void 0:Ne.operators},MILANO_VENEZIA:{route:Sr.Wr.MILANO_VENEZIA,label:"milano-venezia",cities:["Milano","Venezia"],carriersLogos:Rr(null==Ir||null===(Oe=Ir[41])||void 0===Oe?void 0:Oe.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Le=Ir[41])||void 0===Le?void 0:Le.operators},MILANO_VERONA:{route:Sr.Wr.MILANO_VERONA,label:"milano-verona",cities:["Milano","Verona"],carriersLogos:Rr(null==Ir||null===(xe=Ir[42])||void 0===xe?void 0:xe.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(De=Ir[42])||void 0===De?void 0:De.operators},MILANO_VICENZA:{route:Sr.Wr.MILANO_VICENZA,label:"milano-vicenza",cities:["Milano","Vicenza"],carriersLogos:Rr(null==Ir||null===(we=Ir[43])||void 0===we?void 0:we.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Ze=Ir[43])||void 0===Ze?void 0:Ze.operators},NAPOLI_SALERNO:{route:Sr.Wr.NAPOLI_SALERNO,label:"napoli-salerno",cities:["Napoli","Salerno"],carriersLogos:Rr(null==Ir||null===(Fe=Ir[44])||void 0===Fe?void 0:Fe.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Be=Ir[44])||void 0===Be?void 0:Be.operators},PADOVA_ROMA:{route:Sr.Wr.PADOVA_ROMA,label:"padova-roma",cities:["Padova","Roma"],carriersLogos:Rr(null==Ir||null===(Me=Ir[45])||void 0===Me?void 0:Me.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Ue=Ir[45])||void 0===Ue?void 0:Ue.operators},PADOVA_VENEZIA:{route:Sr.Wr.PADOVA_VENEZIA,label:"padova-venezia",cities:["Padova","Venezia"],carriersLogos:Rr(null==Ir||null===(je=Ir[46])||void 0===je?void 0:je.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(He=Ir[46])||void 0===He?void 0:He.operators},PADOVA_VERONA:{route:Sr.Wr.PADOVA_VERONA,label:"padova-verona",cities:["Padova","Verona"],carriersLogos:Rr(null==Ir||null===(We=Ir[47])||void 0===We?void 0:We.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Ge=Ir[47])||void 0===Ge?void 0:Ge.operators},PADOVA_VICENZA:{route:Sr.Wr.PADOVA_VICENZA,label:"padova-vicenza",cities:["Padova","Vicenza"],carriersLogos:Rr(null==Ir||null===(Ve=Ir[48])||void 0===Ve?void 0:Ve.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Ye=Ir[48])||void 0===Ye?void 0:Ye.operators},PESCHIERA_DEL_GARDA_VERONA:{route:Sr.Wr.PESCHIERA_DEL_GARDA_VERONA,label:"peschiera_del_garda-verona",cities:["Peschiera del Garda","Verona"],carriersLogos:Rr(null==Ir||null===(Ke=Ir[49])||void 0===Ke?void 0:Ke.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(ze=Ir[49])||void 0===ze?void 0:ze.operators},REGGIO_EMILIA_CITTA_ROMA:{route:Sr.Wr.REGGIO_EMILIA_CITTA_ROMA,label:"reggio_emilia_citta-roma",cities:["Reggio Emilia Citta","Roma"],carriersLogos:Rr(null==Ir||null===(Je=Ir[50])||void 0===Je?void 0:Je.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(qe=Ir[50])||void 0===qe?void 0:qe.operators},RHO_FIERA_MILANO_TORINO:{route:Sr.Wr.RHO_FIERA_MILANO_TORINO,label:"rho_fiera_milano-torino",cities:["Rho Fiera Milano","Torino"],carriersLogos:Rr(null==Ir||null===(Qe=Ir[51])||void 0===Qe?void 0:Qe.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(Xe=Ir[51])||void 0===Xe?void 0:Xe.operators},ROMA_SALERNO:{route:Sr.Wr.ROMA_SALERNO,label:"roma-salerno",cities:["Roma","Salerno"],carriersLogos:Rr(null==Ir||null===($e=Ir[52])||void 0===$e?void 0:$e.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(er=Ir[52])||void 0===er?void 0:er.operators},ROMA_TORINO:{route:Sr.Wr.ROMA_TORINO,label:"roma-torino",cities:["Roma","Torino"],carriersLogos:Rr(null==Ir||null===(rr=Ir[53])||void 0===rr?void 0:rr.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(tr=Ir[53])||void 0===tr?void 0:tr.operators},ROMA_VENEZIA:{route:Sr.Wr.ROMA_VENEZIA,label:"roma-venezia",cities:["Roma","Venezia"],carriersLogos:Rr(null==Ir||null===(ar=Ir[54])||void 0===ar?void 0:ar.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(nr=Ir[54])||void 0===nr?void 0:nr.operators},ROMA_VERONA:{route:Sr.Wr.ROMA_VERONA,label:"roma-verona",cities:["Roma","Verona"],carriersLogos:Rr(null==Ir||null===(ir=Ir[55])||void 0===ir?void 0:ir.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(or=Ir[55])||void 0===or?void 0:or.operators},TRENTO_VERONA:{route:Sr.Wr.TRENTO_VERONA,label:"trento-verona",cities:["Trento","Verona"],carriersLogos:Rr(null==Ir||null===(sr=Ir[56])||void 0===sr?void 0:sr.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(lr=Ir[56])||void 0===lr?void 0:lr.operators},TREVISO_VENEZIA:{route:Sr.Wr.TREVISO_VENEZIA,label:"treviso-venezia",cities:["Treviso","Venezia"],carriersLogos:Rr(null==Ir||null===(cr=Ir[57])||void 0===cr?void 0:cr.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(dr=Ir[57])||void 0===dr?void 0:dr.operators},VENEZIA_VERONA:{route:Sr.Wr.VENEZIA_VERONA,label:"venezia-verona",cities:["Venezia","Verona"],carriersLogos:Rr(null==Ir||null===(ur=Ir[58])||void 0===ur?void 0:ur.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(pr=Ir[58])||void 0===pr?void 0:pr.operators},VENEZIA_VICENZA:{route:Sr.Wr.VENEZIA_VICENZA,label:"venezia-vicenza",cities:["Venezia","Vicenza"],carriersLogos:Rr(null==Ir||null===(mr=Ir[59])||void 0===mr?void 0:mr.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(gr=Ir[59])||void 0===gr?void 0:gr.operators},VERONA_VICENZA:{route:Sr.Wr.VERONA_VICENZA,label:"verona-vicenza",cities:["Verona","Vicenza"],carriersLogos:Rr(null==Ir||null===(vr=Ir[60])||void 0===vr?void 0:vr.operators),isAvailableOnMobile:!0,modalData:null==Ir||null===(hr=Ir[60])||void 0===hr?void 0:hr.operators},[Sr.Wr.LONDON_EDINBURGH]:{route:Sr.Wr.LONDON_EDINBURGH,label:"london-edinburgh",cities:["London","Edinburgh"],carriersLogos:Rr((null===(yr=Ir.find((e=>e.route===Sr.Wr.LONDON_EDINBURGH)))||void 0===yr?void 0:yr.operators)||[]),isAvailableOnMobile:!1,modalData:(null===(fr=Ir.find((e=>e.route===Sr.Wr.LONDON_EDINBURGH)))||void 0===fr?void 0:fr.operators)||[],experience:br.Experiences.UK_TRAIN,terms:[{group:"luggage",text:"modal.carriersComparison.table.luggage.text.perPerson",symbol:"*",values:{count:1}},{group:"luggage",text:"modal.carriersComparison.table.luggage.text.subjectToAvailability",symbol:"currency",values:{}}]}},Nr=(e,r,t)=>e.map((e=>(null==r?void 0:r.includes(e))||(null==t?void 0:t.includes(e)))).reduce(((e,r)=>e&&r),!0)},38073:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var a=t(50093),n=t(29901),i=t(98184),o=t(35779),s=t(98318),l=t(6575);const c=a.StyleSheet.create({saleTag:{display:"flex",padding:o.LS,margin:"".concat(o.zg," 0"),alignItems:"flex-start",gap:o.LS,backgroundColor:s.dp_brand_tertiary_dim,color:s.dp_app_text_base_inverted,fontSize:"12px",border:"1px solid ".concat(s.dp_brand_tertiary_core),borderRadius:l.HH,fontWeight:600,lineHeight:o.eR},desktop:{padding:"".concat(o.zg," ").concat(o.LS),justifyContent:"center",alignItems:"center",gap:"10px",margin:0,fontSize:"10px",overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1"}});var d=t(41344),u=t(33337);const p=()=>{var{deviceType:e}=(0,d.zw)();return n.createElement("div",{"data-test":"sale-tag",className:(0,a.css)([c.saleTag,e!==u.WO.MOBILE&&c.desktop])},n.createElement(i.FormattedMessage,{id:"page.results.sale"}))}},40316:(e,r,t)=>{"use strict";t.d(r,{P:()=>s});var a=t(29901),n=t(88543),i=t(60654),o=t(42292),s=e=>{var r=(0,n.useSelector)(o.aK),t=(0,n.useSelector)(o.fG);return(0,a.useMemo)((()=>e===i.AvailableTransportModes.MIXED?t:r),[e,t,r])}},72847:(e,r,t)=>{"use strict";t.d(r,{AH:()=>oe,Hu:()=>ue,K2:()=>Q,KR:()=>le,LT:()=>C,MD:()=>ce,N0:()=>ne,N9:()=>B,Q7:()=>se,YJ:()=>ee,hn:()=>h,j:()=>de,p7:()=>M,so:()=>te,xg:()=>q});var a=t(82768),n=t(32034),i=t(28935),o=t(7041),s=t(50549),l=t(61229),c=t(51059),d=t(32143),u=t(97819),p=t(7173),m=t(95444),g=t(70196),v=t(33946),h=(e,r,t)=>t.map((t=>t?(0,u.SE)(e,r,t):[])),y=(e,r)=>{var t=e.flexibility&&e.flexibility.code?e.flexibility.code:void 0,a=r.flexibility&&r.flexibility.code?r.flexibility.code:void 0;return t&&a?i.o[a]-i.o[t]:0},f=e=>{var r,t,a,n=null!==(r=null==e||null===(t=e.price)||void 0===t?void 0:t.amount)&&void 0!==r?r:null==e||null===(a=e.fullPrice)||void 0===a?void 0:a.amount;return"number"==typeof n&&n>=0?n:1/0},E=(e,r)=>f(r)<f(e)?r:e,b=(e,r)=>!!e&&!!r[e]&&!!r[e].price&&r[e].price.amount,S=function(e,r,t,a){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=((e,r)=>t=>{var a=r.map((r=>e[r])).filter((e=>!!e)),n=t?((e,r)=>e.filter((e=>e&&e.flexibility&&e.flexibility.code&&e.flexibility.code===r)))(a,t):a.sort(y),i=n.reduce(E,n.find(Boolean));return i?i.id:void 0})(e,r),s=o(i.h.FLEXIBLE),l=o(i.h.SEMI_FLEXIBLE),c=o(i.h.NON_FLEXIBLE),d=o(),u=b(s,e),p=b(c,e),m=s&&!c||u&&p&&u<=p?s:c;switch(a){case i.h.FLEXIBLE:return n?s||l||c:s;case i.h.SEMI_FLEXIBLE:return n?l||m:t?l:l||s;default:return d}},T=(e,r,t,a)=>r.map((r=>r.map((n=>S(e,n,Boolean(t&&1===t.legs.length),a,r.length>1))))).map((r=>r.some((r=>!r||!e[r]))?[]:1===r.length?r.filter((e=>!!e)):a&&a!==i.h.NON_FLEXIBLE?r.every((r=>!!e[r]))&&r.some((r=>e[r]&&e[r].flexibility&&e[r].flexibility.code&&e[r].flexibility.code===a))?r:[]:r)),C=(e,r,t,a)=>T(e,r,t,a),A=(e,r,t,a)=>(a&&!t&&(a=i.h.NON_FLEXIBLE),T(e,r,void 0,a)),I=(0,n.P1)(l.HO,l.AE,v.DQ,h),_=(0,n.P1)(l.HO,l.AE,v.kf,h),P=(e,r)=>(t,n,i)=>t.map((t=>{var o=((e,r,t)=>(0,a.xHg)(e).reduce(((e,a)=>e||!!r[a]&&(0,s.e8)({fares:t,alternative:r[a]})),!1))(t,n,i);return t.map((t=>{var s=t.filter((r=>!!n[r]&&e({fares:i,alternative:n[r]})));return r&&o&&(0,a.xbD)(s)?t:s}))})),R=P(s.LA,!1),k=P(s.e8,!0),N=(0,n.P1)(I,l.ft,l.ng,R),O=(0,n.P1)(I,l.ft,l.ng,k),L=(0,n.P1)(_,l.ft,l.ng,R),x=(0,n.P1)(_,l.ft,l.ng,k),D=(0,n.P1)(l.ft,N,m._,g.I,A),w=(0,n.P1)(l.ft,L,m._,g.I,A),Z=(0,n.P1)(l.ft,O,m._,g.I,A),F=(0,n.P1)(l.ft,x,m._,g.I,A),B=(0,n.P1)(c.fE,D,w,((e,r,t)=>e?t:r)),M=(0,n.P1)(c.fE,Z,F,((e,r,t)=>e?t:r)),U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(r,t,a)=>[t,a].map((t=>t.map((e=>e.map((e=>r[e])))).filter((e=>e.length>0)).reduce(((r,t,a)=>{var n=e?"fullPrice":"price",i=0===a&&!(0,d.Sq)(n)(r)||"number"!=typeof(0,d.Sq)(n)(r)?1/0:(0,d.Sq)(n)(r);return(0,d.Sq)(n)(t)<i?t:r}),[])))},j=e=>(0,a.qCK)(a.Smz,(0,a.UID)((r=>(0,a.ETc)([e,"amount"])(r)||0))),H=j("price"),W=j("fullPrice"),G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r=>r.filter((e=>e.length>0)).reduce(((r,t)=>{var a=e?W:H;return!r.length||a(t)<a(r)?t:r}),[])},V=(0,a.qCK)(G(!1),U(!1)),Y=(0,a.qCK)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r=>r.filter((e=>e.length>0)).reduce(((r,t)=>{var a=e?W:H;return!r.length||a(t)>a(r)?t:r}),[])}(!1),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(r,t,a)=>[t,a].map((t=>t.map((e=>e.map((e=>r[e])))).filter((e=>e.length>0)).reduce(((r,t,a)=>{var n=e?"fullPrice":"price",i=0===a&&!(0,d.Sq)(n)(r)||"number"!=typeof(0,d.Sq)(n)(r)?1/0:(0,d.Sq)(n)(r);return(0,d.Sq)(n)(t)>i?t:r}),[])))}(!1)),K=(0,a.qCK)(H,V),z=(0,a.qCK)(H,Y),J=(0,a.qCK)((0,a.UID)((0,a.vgT)("id")),V),q=(0,n.P1)(l.ft,B,M,K),Q=(0,n.P1)(l.ft,B,M,z),X=(0,n.P1)(l.ft,B,M,(0,a.qCK)(W,G(!0),U(!0))),$=(0,n.P1)(l.HO,((e,r)=>r),((e,r)=>Object.entries(e).reduce(((e,t)=>{var[a,n]=t;return n&&r.query.outwardDate&&(0,o.CD)(n.departAt)===(0,o.CD)(r.query.outwardDate)&&(e[a]=n),e}),{}))),ee=(0,n.P1)($,l.ft,l.AE,B,M,((e,r,t,a,n)=>{var i=(0,p.lp)(e,t),o=i.reduce(((e,t)=>(e[t]=r[t],e)),{}),s=e=>e.filter((e=>i.includes(e)));return K(o,a.map(s),n.map(s))})),re=(0,n.P1)(l.ft,D,Z,V),te=(0,n.P1)(l.ft,D,Z,J),ae=(0,n.P1)(l.ft,w,F,V),ne=(0,n.P1)(l.ft,w,F,J),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(r,t,n,i)=>{var o=e?W:H;return(0,a.xHg)([t,n].map((e=>e.filter((e=>e.every((e=>!!r[e]))&&o(e.map((e=>r[e])))===i)))))}},oe=(0,n.P1)(l.ft,B,M,X,ie(!0)),se=(0,n.P1)(l.ft,B,M,q,ie(!1)),le=e=>r=>r.map((r=>e[r])).filter((e=>!!e)),ce=function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((r=>e[r.fares[0]]))[0];if(r&&r.fareLegs&&r.fareLegs[0]&&r.fareLegs[0].travelClass)return r.fareLegs[0].travelClass.name},de=(0,n.P1)(l.ng,re,ce),ue=(0,n.P1)(l.ng,ae,ce)},95444:(e,r,t)=>{"use strict";t.d(r,{M:()=>c,_:()=>d});var a=t(82768),n=t(32034),i=t(10517),o=t(59838),s=t(16362),l=t(61229),c=(0,n.P1)(l.J_,s.GR,((e,r)=>(0,a.jj$)(Object.values(e).map((e=>e&&e.carrier&&r[e.carrier]&&r[e.carrier].name.toLocaleLowerCase())).filter(o.v)))),d=(0,n.P1)(c,(e=>1===e.length&&e[0]===i.X.EUROSTAR))},63062:(e,r,t)=>{"use strict";t.d(r,{tN:()=>y});var a=t(23198),n=t(82768),i=t(32034),o=t(51486),s=t(28935),l=t(59838),c=t(93601),d=t(16362),u=t(10526),p=t(6105),m=t(61229),g=t(42292),v=function(){var e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return[];var r=Object.values((0,n.vMG)((e=>e.fareType.name),e.sort(((e,r)=>e.flexibility&&e.flexibility.code&&r.flexibility&&r.flexibility.code?s.o[e.flexibility.code]-s.o[r.flexibility.code]:0)))).map((e=>{var r=JSON.parse(JSON.stringify(e));return e.map(((t,a)=>{var n=e[a+1];return n&&t.price&&n.price&&t.price.amount===n.price.amount&&t.fareType.name===n.fareType.name&&t.flexibility&&t.flexibility.code&&n.flexibility&&n.flexibility.code&&s.o[t.flexibility.code]<s.o[n.flexibility.code]&&r.splice(r.map((e=>e.id)).indexOf(t.id),1)})),r}));return(0,n.xHg)(r)}((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((t=>t.fareLegs.filter((t=>t.legId===e&&t.comfort&&t.comfort.id===r)).length)))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;return(0,n.jj$)((0,n.xHg)(e.map((o=>o.fareLegs.map((o=>{var{comfort:s={},legId:c,travelClass:d}=o;if(!(0,n.xbD)(s)&&!(0,n.xbD)(r)&&t.length){var u=v(e,i,s.id).sort(((e,r)=>e.price&&r.price&&e.price.amount<r.price.amount?-1:1)),p=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((t=>t.fares.filter((t=>{var a=e[t];return a&&a.fareLegs.filter((e=>e.comfort&&e.comfort.id===r)).length})).length))}(t,r,s.id),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,n.mNm)((e=>e.extraType.code),e)}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return(0,n.xHg)(e.map((e=>e.selectedExtras)).filter(l.v)).filter((e=>e.legIds.includes(r))).filter(l.v)}(p,c)),g=u.length&&u[0]&&u[0].price;return(0,a.Z)((0,a.Z)({},s),{},{travelClass:d,cheapestPrice:g,fares:u,extras:m})}})).filter(l.v)))).filter((e=>e.fares.length))).sort(((e,r)=>e.cheapestPrice&&r.cheapestPrice&&e.cheapestPrice.amount<r.cheapestPrice.amount?-1:1))},y=(0,i.P1)(m.Cu,g.b7,u.SP,d.GR,c.gg,p.I7,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!((0,n.xbD)(e)||(0,n.xbD)(r)||(0,n.xbD)(t))){var{legs:d={},fares:u={},sections:p={},alternatives:m={}}=e,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,n.xHg)(e.map((e=>r[e])).filter(l.v).map((e=>e.alternatives.map((e=>t[e])).filter(l.v))))}(r.sections,p,m),{legs:v=[]}=r,y=v.map((e=>d[e])).filter(l.v).map((e=>{var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.xHg)(e.map((e=>e.fares.map((e=>r[e])).map((r=>r&&(0,a.Z)((0,a.Z)({},r),{},{price:e.price,fullPrice:e.fullPrice,hash:e.hash,flexibility:e.flexibility})))))).filter(l.v)}(g,u),d=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((r=>r.fareLegs.filter((r=>r.legId===e)).length))}(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((r=>{var t=r.fareType&&e[r.fareType];return t&&(0,a.Z)((0,a.Z)({},r),{},{fareType:t})})).filter(l.v)}(r,t),e.id),p=(0,n.mNm)((e=>e.id),h(d,u,g,e.id));return(0,a.Z)((0,a.Z)({},e),{},{comforts:p,carrierLogo:(0,o.zb)(s,i,c,e)})}));return y.length?{journey:r,legs:y}:void 0}}))},70196:(e,r,t)=>{"use strict";t.d(r,{I:()=>o});var a=t(32034),n=t(14891),i=t(51059),o=(0,a.P1)(n.$Y,n.aO,i.Xg,((e,r,t)=>t&&r?r:e))},33946:(e,r,t)=>{"use strict";t.d(r,{DQ:()=>d,T2:()=>p,g1:()=>m,kf:()=>u});var a=t(32034),n=t(59838),i=t(61229),o=t(51059),s=t(44481),l=t(56267),c=e=>r=>{var t=Object.keys(r).filter((t=>!!r[t]&&r[t].direction===e)).reduce(((e,t)=>(e[t]=r[t],e)),{});return(0,l._8)(t)},d=(0,a.P1)(i.HO,c(s.t.OUTWARD)),u=(0,a.P1)(i.HO,c(s.t.INWARD)),p=(0,a.P1)(o.fE,d,u,((e,r,t)=>e?t:r)),m=(0,a.P1)(i.HO,((e,r,t)=>t),((e,r)=>c(r)(e).map((r=>e[r])).filter(n.v)))},3211:(e,r,t)=>{"use strict";t.d(r,{iZ:()=>T,kT:()=>C});var a=t(32034),n=t(20757),i=t(59838),o=t(7041),s=t(61229),l=t(51059),c=t(32143),d=t(97819),u=t(72847),p=t(42292),m=e=>{var r=e.filter(Number.isFinite),t=Math.max(...r);return Number.isFinite(t)?t:void 0},g=(e,r)=>{if(void 0===e||void 0===r)return Number.POSITIVE_INFINITY;var t=e/r;return Number.isFinite(t)?t:Number.POSITIVE_INFINITY},v=e=>(0,o.K7)(e.departAt,e.arriveAt),h=(e,r)=>{var t=(0,c.qv)(e,r),a=(0,c.EU)(t);if(a&&a.amount>0)return(0,n.Z)(a.amount)},y=(e,r,t)=>t.map((t=>{var a=((e,r)=>{var t=(0,d.mX)(e,r);return null!=t?e.journeys[t]:void 0})(e,t);if(a)return{hash:a.hash,price:h(r,t),duration:v(a),alternativesIds:t}})).filter(i.v),f=(0,a.P1)(s.ft,u.N9,u.p7,(function(e){return[...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[[]],...arguments.length>2&&void 0!==arguments[2]?arguments[2]:[[]]].map((r=>r.filter((r=>!!e[r])))).filter((e=>e&&e.length>0))})),E=(0,a.P1)(s.Cu,s.ft,f,((e,r,t)=>{if(e&&!(t.length<=1))return(e=>{var r=e.map((e=>e.price)),t=e.map((e=>e.duration)),a=m(r),n=m(t),i=e.map((e=>g(e.price,a)+g(e.duration,n))),o=Math.min(...i);if(Number.isFinite(o))return e[i.indexOf(o)].alternativesIds})(y(e,r,t))})),b=(0,a.P1)(s.ft,E,c.qv),S=(0,a.P1)(s.ng,b,u.MD),T=(0,a.P1)(s.Cu,s.HO,E,S,p.in),C=(0,a.P1)(l.fE,T,((e,r)=>{if(r)return e?{selectedInward:r}:{selectedOutward:r}}))},81153:(e,r,t)=>{"use strict";t.d(r,{Kz:()=>q,eA:()=>ue,O3:()=>le,IL:()=>se,mx:()=>ne,XQ:()=>$,BD:()=>ie,nk:()=>ce,n8:()=>re});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(64047),c=t(10798),d=t(71695),u=t(60575),p=t(51486),m=t(80609),g=t(80110),v=t(57839),h=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.map((e=>JSON.stringify(e.slice().sort()))).every(((e,r,t)=>e===t[0]))},y=t(59838),f=t(7041),E=t(93601),b=t(16362),S=t(56543),T=t(6105),C=t(29433),A=(t(65737),t(40939)),I=t(61229),_=t(51059),P=t(32143),R=t(51807),k=t(7173),N=t(79257),O=t(16558),L=t(48728),x=t(18353),D=t(84297),w=t(72847),Z=(t(95444),t(33946)),F=t(42292),B=t(92490),M=t(89103),U=t(33337),j=t(50549),H=t(10526),W=(e,r,t)=>!!t&&t.every((t=>!(!e[t]||!r[e[t].transportMode]||"bus"!==r[e[t].transportMode].mode))),G=(e,r)=>{var t=1===e.legs.length,a=r.reduce(((e,r)=>{var t,a=null==r||null===(t=r.selectedExtras)||void 0===t?void 0:t.map((e=>{var r;return{name:e.extraType.name,group:e.extraType.group,description:null==e||null===(r=e.extraType)||void 0===r?void 0:r.description}}));return a?[...e,a]:e}),[]),n=(0,o.xHg)(a);if(t)return n;var i=(e=>{var r,t;return null!==(r=null==e||null===(t=e[0])||void 0===t?void 0:t.filter((r=>{var{name:t}=r;return e.every((e=>e.some((e=>{var{name:r}=e;return r===t}))))})))&&void 0!==r?r:[]})(a);return i},V=(e,r)=>{if(e.length&&Object.keys(r).length)return e.map((e=>e.fares.map((e=>{if(e in r){var{fareLegs:t,availability:a}=r[e];return t&&t.length>0&&t[0].reservationType===g.U.CHILD_ON_LAP?{status:v.A.AVAILABLE}:a}})))).reduce(((e,r)=>[...e,...r])).filter(Boolean).reduce(((e,r)=>{if(r.status!==v.A.LIMITED)return e;var{remaining:t=1/0}=e,{remaining:a=1/0}=r;return t<a?e:r}),{})},Y=(e,r,t)=>{if(e.length&&Object.keys(r).length){var a=void 0;return e.forEach((e=>e.fares.forEach((e=>{if(e in r){var n=r[e];null!=t&&t["".concat(null==n?void 0:n.fareType)]&&(a=t["".concat(null==n?void 0:n.fareType)])}})))),a}},K=(e,r,t,a,n,i)=>{var o=e.length?(0,P.mW)(e):void 0,s=e.length?(0,P.e0)(e):void 0,l=(0,D.O)(e,null==o?void 0:o.currencyCode),c=o&&l>0?{amount:o.amount+l,currencyCode:o.currencyCode}:void 0;return{hash:e.map((e=>e.hash)),price:o,fullPrice:e.length?(0,P.EU)(e):void 0,isCheapest:r.every((e=>t.includes(e))),isCheapestFullPrice:r.every((e=>(a||[]).includes(e))),isSmartPrice:(0,x.RJ)(e),limitedAvailability:V(e,n),fareType:Y(e,n,i),originalPrice:c,calculatedPrice:s}},z=(e,r,t,a,n,i,o)=>{var s=((e,r,t,a)=>r.reduce(((e,r)=>[...e,...(0,F.h3)(t,r)]),[]).reduce(((r,t)=>{var n=(0,c.U)(e,t.legId);if(n&&n.carrier){var i=(0,c.U)(a,n.carrier);if(i)return[...r,i]}return r}),[]).map((e=>{var{name:r}=e;return r.toLowerCase()})))(e,a,n,i).includes("trenitalia");return((e,r,t)=>!!t&&t.every((t=>{var a=(0,c.U)(e,t);return!!a.brand&&"frecciarossa"===(0,c.U)(r,a.brand).name})))(e,r,t.legs)&&(e=>[d.vi.ENGLISH,d.vi.ITALIAN].includes(e))(o)&&!s},J=(0,s.P1)(I.HO,I.J_,S.n,((e,r,t)=>r?Object.keys(e).reduce(((n,i)=>{var o=e[i];if(o){var s=o.legs.map((e=>r[e])).filter(y.v),c=(0,k.Uw)(t,s),d=(0,l.q7)(c);n[i]=(0,a.Z)((0,a.Z)({},o),{},{disruptions:d})}return n}),{}):e)),q=(0,s.P1)(J,(e=>{if("object"!=typeof e||0===Object.keys("journeys").length)return{};var r=Object.values(e).map((e=>e&&e.disruptions)).filter((e=>e&&e.length>0)),t=r.filter((e=>void 0!==e));return{numberOfJourneys:Object.keys(e).length,flattenedDisruptions:(0,o.xHg)(t)}})),Q=(0,s.P1)(q,(e=>{if(!e.flattenedDisruptions)return[];var r=[];return e.flattenedDisruptions.forEach((t=>{t.severity===O.vK&&((e.flattenedDisruptions&&e.flattenedDisruptions.filter((e=>e.content===t.content)).length)===e.numberOfJourneys&&r.push(t.content))})),r.filter(((e,t)=>r.indexOf(e)===t))})),X=(0,s.P1)(J,I.ft,w.N9,w.p7,w.Q7,w.AH,I.J_,I.ng,B.Yu,((e,r,t,a,n,i,o,s,l)=>({journeys:e,alternatives:r,standardAlternativeSections:t,firstAlternativeSections:a,cheapestAlternativesIds:n,cheapestFullPriceAlternativesIds:i,legs:o,fares:s,locations:l}))),$=(0,s.P1)(X,b.GR,E.gg,T.I7,Z.T2,A.fN,Q,H.SP,((e,r,t,n,i,s,l,c)=>i.map((r=>e.journeys[r])).filter((e=>!!e)).map(((i,d)=>{var u=(0,w.KR)(e.alternatives),g=(0,o.xHg)(e.cheapestAlternativesIds),v=(0,o.xHg)(e.cheapestFullPriceAlternativesIds),h=e.standardAlternativeSections[d]||[],y=u(h),f=e.firstAlternativeSections[d]||[],E=u(f),b=((e,r,t,a,n)=>n?(0,o.qnb)(3,(0,o.jj$)(n.map((n=>(0,p.zb)(t,r,a,e[n]))))):[])(e.legs,r,t,n,i.legs),S=K(y,h,g,v,e.fares,c),T=K(E,f,g,v,e.fares,c),C=z(e.legs,t,i,u(g),e.fares,r,s),A=G(i,y),I=G(i,E),_=(e=>{var r,{firstAlternatives:t,fares:a}=e,n=(0,o.xHg)(null!==(r=null==t?void 0:t.map((e=>null==e?void 0:e.fares)))&&void 0!==r?r:[]),i=null==n?void 0:n.reduce(((e,r)=>{var t,n;return[...e,...null!==(t=null==a||null===(n=a[r])||void 0===n?void 0:n.fareLegs)&&void 0!==t?t:[]]}),[]);return null==i?void 0:i.every((e=>{var r;return(null==e||null===(r=e.travelClass)||void 0===r?void 0:r.name)===j.U9.FIRST}))})({firstAlternatives:E,fares:null==e?void 0:e.fares});return{allLegsFirstClass:_,isBus:W(e.legs,n,i.legs),hasBus:(0,L.z)(m.He.BUS,e.legs,n,i.legs),hasFerry:(0,L.z)(m.He.FERRY,e.legs,n,i.legs),carrierLogos:b,hash:i.hash,departAt:i.departAt,arriveAt:i.arriveAt,standardAlternativeContainer:(0,a.Z)((0,a.Z)({},S),{},{extras:A,isBestComfort:!1}),firstAlternativeContainer:(0,a.Z)((0,a.Z)({},T),{},{isBestComfort:C,extras:I}),legs:i.legs,extras:[...A,...I],unsellableReason:i.unsellableReason,journeyId:i.id,disruptions:i.disruptions&&i.disruptions.filter((e=>!l.includes(e.content)))}})))),ee=((0,s.P1)($,(e=>{var r=e.filter((e=>e.isBus));return r.length>0&&r.length!==e.length})),e=>e.filter((e=>e.affiliation&&e.affiliation.href)).map((e=>e.affiliation&&e.affiliation.label)).find(Boolean)),re=(0,s.P1)(I.HO,Z.T2,I.ft,w.N9,w.p7,((e,r,t,a,n)=>(0,o.jj$)((0,o.xHg)(r.map((r=>e[r])).filter((e=>!!e)).map(((e,r)=>{var i=(0,w.KR)(t),o=a[r]||[],s=n[r]||[],l=i(o),c=i(s);return[ee(l),ee(c)]})))).filter(y.v))),te=(0,s.P1)(Z.T2,I.HO,_.Fd,R.XJ,_.uY,R.Zo,((e,r,t,a,n,o)=>{var s=new Set;return t&&(!n||a&&!o)&&s.add((0,f.CD)(t)),r&&(!a||a&&o)?(e.map((e=>r[e])).filter((e=>(0,u.s)(e,"departAt"))).forEach((e=>{s.add((0,f.CD)(e.departAt))})),Array.from(s).sort(((e,r)=>i()(e).isBefore(r)?-1:1))):Array.from(s)})),ae=(0,s.P1)($,te,((e,r)=>{var t=e.reduce(((e,r)=>{var t=(0,f.CD)(r.departAt);return e[t]=e[t]||[],e[t].push(r),e}),{}),a=Object.keys(t);return r.filter(((e,n)=>Boolean(t[e])||0!==n&&n!==r.length-1&&a.some((e=>r.slice(0,n).includes(e)))&&a.some((e=>r.slice(n+1).includes(e)))))})),ne=(0,s.P1)($,ae,((e,r)=>r&&0!==r.length?r.map((r=>({journeyDay:r,rows:e.filter((e=>(0,f.CD)(e.departAt)===r)).sort(((e,r)=>{var t=(0,f.rm)(e.departAt,r.departAt);return 0===t?(0,f.rm)(e.arriveAt,r.arriveAt):t}))}))):[{journeyDay:"",rows:[]}])),ie=(0,s.P1)(I.Cu,$,F.$i,I.J_,B.Yu,((e,r,t,n,i)=>{var o,s,l=[];return r.forEach((e=>{if(e.hash===(null==t?void 0:t.journeyHash)){var r,c;o={id:e.journeyId};var d,u=null===(r=e.standardAlternativeContainer)||void 0===r?void 0:r.fullPrice;if(null===(c=e.standardAlternativeContainer)||void 0===c||!c.fullPrice)u=null===(d=e.firstAlternativeContainer)||void 0===d?void 0:d.fullPrice;s=(0,a.Z)({},u),null==e||e.legs.forEach((e=>{var r,t,a,o,s=n[e];l.push({origin:null===(r=i[null==s?void 0:s.departureLocation])||void 0===r?void 0:r.code,destination:null===(t=i[null==s?void 0:s.arrivalLocation])||void 0===t?void 0:t.code,departureUtcDateTime:null===(a=n[e])||void 0===a?void 0:a.departAt,arrivalUtcDateTime:null===(o=n[e])||void 0===o?void 0:o.arriveAt})}))}})),{journey:o,journeyLegs:l,price:s,searchId:null==e?void 0:e.id}})),oe=(0,s.P1)(I.J_,(e=>e&&Object.keys(e).map((r=>e[r]&&e[r].brand)))),se=(0,s.P1)(oe,E.gg,((e,r)=>r&&e&&e.length>0&&e.some((e=>void 0!==e&&Boolean(r[e])&&"urn:trainline:sncf:brand:tgvmax"===r[e].code)))),le=(0,s.P1)(ne,(e=>(0,o.UWY)(e.map((e=>e.rows))))),ce=(0,s.P1)(_.fE,_.ED,_.r,F.vP,le,((e,r,t,a,n)=>{if(!a||0===n.length)return!1;if(e){if(!t||!a.selectedInward)return!1}else if(!r||!a.selectedOutward)return!1;var i=(0,N.B)(e?t:r);if(!i)return!1;var o=n.find((e=>e.hash===i.journeyHash)),s=e?a.selectedInward:a.selectedOutward;if(o&&i.journeyHash===(null==s?void 0:s.journeyHash)){if(!(s&&i.journeyHash&&i.alternativeHash&&s.journeyHash))return!1;var l=o.standardAlternativeContainer,c=o.firstAlternativeContainer;if(h(l?l.hash:[],i.alternativeHash)||h(c?c.hash:[],i.alternativeHash))return!1}return!0})),de=(0,s.P1)(C.UK,C.bp,M.Tu,((e,r,t)=>t===U.WO.MOBILE?r:e)),ue=(0,s.P1)(_.HQ,de,((e,r)=>e&&r))},42292:(e,r,t)=>{"use strict";t.d(r,{$0:()=>hr,$i:()=>te,D3:()=>Xr,Dg:()=>vt,E_:()=>Tr,Eb:()=>Pt,FG:()=>Bt,FU:()=>Et,GB:()=>Ze,Gb:()=>at,HK:()=>Pr,JH:()=>re,Jf:()=>De,Jn:()=>ee,KY:()=>Rt,Kn:()=>Vr,Kv:()=>ne,MJ:()=>ie,N6:()=>cr,Nx:()=>Gr,OL:()=>Mr,Oh:()=>Cr,PQ:()=>Lr,PW:()=>Je,Pn:()=>kt,QM:()=>Wt,QY:()=>we,Qh:()=>Ee,Qy:()=>Ot,R6:()=>ht,RV:()=>Qt,SB:()=>lt,T7:()=>de,Tm:()=>mt,VW:()=>Yr,Ww:()=>wt,XD:()=>Oe,Yg:()=>Mt,_h:()=>it,aK:()=>Vt,ar:()=>ot,b7:()=>fe,bC:()=>dr,eh:()=>Ne,fE:()=>ae,fG:()=>Gt,g6:()=>Ut,gU:()=>Jt,gc:()=>rt,h3:()=>Tt,hB:()=>Wr,hh:()=>Ht,hy:()=>xe,in:()=>pe,io:()=>Lt,kH:()=>Nt,m_:()=>wr,mf:()=>Zt,mz:()=>ct,oD:()=>Ce,oY:()=>Qr,om:()=>lr,p$:()=>Er,pz:()=>oe,q4:()=>se,rF:()=>qe,rq:()=>Dr,s7:()=>Xt,td:()=>nt,ti:()=>ue,u$:()=>Ar,uH:()=>br,uS:()=>Fe,uY:()=>Or,vD:()=>Ft,vP:()=>ve,ve:()=>Sr,wJ:()=>Te,yL:()=>yt,yd:()=>ft,zI:()=>gt});var a=t(31616),n=t(23198),i=t(84025),o=t.n(i),s=t(82768),l=t(32034),c=t(60654),d=t(10798),u=t(99302),p=t(59199),m=t(71695),g=t(51282),v=t(78307),h=t(33695),y=t(28935),f=t(80110),E=t(19408),b=t(97866),S=t(83504),T=t(7256),C=t(85536),A=t(18353),I=t(84297),_=t(80911),P=t(62635),R=t(59838),k=t(7041),N=t(93601),O=t(16362),L=t(10526),x=t(79399),D=t(92490),w=t(6105),Z=t(14891),F=t(29433),B=t(65737),M=t(50549),U=t(61229),j=t(51059),H=t(32143),W=t(97819),G=t(34570),V=t(79257),Y=t(72847),K=t(95444),z=t(70196),J=t(33946),q=t(72750),Q=t(51486),X=["id"],$=["fareLegsByComfort"],ee=e=>"".concat(e.journeyHash,":").concat(e.alternativeHash,":").concat(e.travelClass),re=(0,l.P1)(j.ED,V.B),te=(0,l.P1)(j.zN,V.B),ae=e=>e.selectedInward?{selectedInward:ee(e.selectedInward)}:e.selectedOutward?{selectedOutward:ee(e.selectedOutward)}:e.selectedPartner?{selectedPartner:ee(e.selectedPartner)}:{},ne=e=>e.selectedInward?(0,V.B)(e.selectedInward):e.selectedOutward?(0,V.B)(e.selectedOutward):e.selectedPartner?(0,V.B)(e.selectedPartner):void 0,ie=e=>{var{selectedOutward:r,selectedInward:t,selectedPartner:a}=e;return r?r.journeyHash:t?t.journeyHash:a?a.journeyHash:void 0},oe=e=>{var{selectedOutward:r,selectedInward:t,selectedPartner:a}=e;return r?r.alternativeHash||[]:t?t.alternativeHash||[]:a&&a.alternativeHash||[]},se="business",le={eurostar:"eurostar"},ce=(0,l.P1)(K.M,(e=>1===e.length&&le[e[0]]||void 0)),de=(0,l.P1)(ce,z.I,((e,r)=>e===le.eurostar&&r===y.h.FLEXIBLE&&se||e)),ue=(0,l.P1)(j.r,V.B),pe=(e,r,t,a)=>{if(e){var n=(0,W.mX)(e,t);if(n&&r[n]){var i=t?Object.keys(e.alternatives).filter((e=>t.includes(e))).map((r=>e.alternatives[r].hash)):void 0;return{journeyHash:r[n].hash,journeyId:n,travelClass:a||M.U9.STANDARD,alternativeHash:i}}}},me=(0,l.P1)(U.Cu,U.HO,Y.so,Y.j,pe),ge=(0,l.P1)(U.Cu,U.HO,Y.N0,Y.Hu,pe),ve=(0,l.P1)(j.fE,me,ge,((e,r,t)=>e&&t?{selectedInward:t,selectedPartner:void 0}:!e&&r?{selectedOutward:r,selectedPartner:void 0}:void 0)),he=(0,l.P1)(j.fE,me,ge,((e,r,t)=>e&&t?t:!e&&r?r:void 0)),ye=(e,r,t)=>{if(t){var a=r.find((r=>!!e[r]&&e[r].hash===t.journeyHash));return a?e[a]:void 0}},fe=(0,l.P1)(U.HO,V.U,((e,r)=>r&&Object.values(e).find((e=>!!e&&r.journeyHash===e.hash)))),Ee=(0,l.P1)(fe,(e=>!!e&&1===e.legs.length)),be=(e,r,t)=>{var a=e.reduce(((e,r)=>(r.fareLegs.filter((e=>e.legId===t)).length>0&&e.push(r),e)),[]);return(0,s.mNm)((e=>e.id),a.filter((e=>e.fareType&&r[e.fareType])).map((e=>r[e.fareType])))},Se=e=>(0,l.P1)(U.J_,w.I7,((r,t)=>t[r[e].transportMode])),Te=(0,l.P1)(U.Cu,V.U,fe,((e,r,t)=>{if(t&&r.alternativeHash){var{alternatives:a,sections:i}=e;return t.sections.reduce(((e,t,o)=>{var s=(0,d.U)(i,t),{id:l}=s,c=s.alternatives.filter((e=>a[e])).map((e=>(0,d.U)(a,e))),u=c.find((e=>e.hash===r.alternativeHash[o]));if(!u)return e;var p=c.filter((e=>e.hash!==u.hash)).map((e=>e.hash));return(0,n.Z)((0,n.Z)({},e),{},{[l]:{selectedHash:u.hash,otherHash:p}})}),{})}})),Ce=(0,l.P1)(U.HO,J.T2,re,ye),Ae=(0,l.P1)(Ce,(e=>e?e.departAt:void 0)),Ie=(0,l.P1)(U.HO,J.T2,ue,ye),_e=(e,r,t)=>t?t.legs.reduce(((t,a)=>[...t,Se(a)(e,r)]),[]):[],Pe=(0,l.P1)((e=>e),((e,r)=>r),Ce,_e),Re=(0,l.P1)((e=>e),((e,r)=>r),Ie,_e),ke=(0,l.P1)(Ie,(e=>e?e.departAt:void 0)),Ne=(0,l.P1)(j.fE,Re,Pe,((e,r,t)=>e?r:t)),Oe=(0,l.P1)(j.fE,ke,Ae,((e,r,t)=>e?r:t)),Le=(e,r,t,a,n,i)=>{if(i){var o=r.reduce(((r,t,a)=>{if(r>=0)return r;var n=e[t];return n&&n.hash===i.journeyHash?a:-1}),-1),s=i.travelClass===M.U9.FIRST?a:t,l=(o>=0?s[o]:[]).map((e=>n[e]));return l.length?l:[]}},xe=(0,l.P1)(U.HO,J.T2,Y.N9,Y.p7,U.ft,re,Le),De=(0,l.P1)(U.HO,J.T2,Y.N9,Y.p7,U.ft,ue,Le),we=((0,l.P1)(U.HO,J.T2,Y.N9,Y.p7,U.ft,Le),(0,l.P1)(U.ft,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!Object.keys(e).find((r=>{var t;return!(null===(t=e[r])||void 0===t||!t.cards)}))})),(0,l.P1)(j.fE,xe,De,((e,r,t)=>Boolean(e?t&&t.length:r&&r.length)))),Ze=(0,l.P1)(we,H.Kp,H.b8,j.fE,j.iK,b.DO,(e=>e),((e,r,t)=>t),((e,r,t,a,n,i,o,s)=>{var{filters:l,filteredJourneys:c}=s,d=(0,E.eB)(o,h.zA.ENABLE_EU_FILTERS,!0),u=(0,C.tq)(),p=a?t:r;return n&&i&&d&&!u?!(l.directJourneysFilterSelected&&!c.find((e=>e===p)))&&e:e})),Fe=(0,l.P1)(xe,(e=>e&&e.length&&e.some((e=>void 0!==e.affiliation))||!1)),Be=(0,l.P1)(xe,U.ng,L.SP,W.E5),Me=(0,l.P1)(De,U.ng,L.SP,W.E5),Ue=e=>{if(Array.isArray(e)&&0!==e.length&&!e.some((e=>!Boolean(null==e?void 0:e.price))))return{currencyCode:e[0].price.currencyCode,amount:(0,s.Smz)(e.map((e=>e.price.amount)))}},je=e=>{if(Array.isArray(e)&&0!==e.length&&e[0]&&e[0].fullPrice)return{currencyCode:e[0].fullPrice.currencyCode,amount:(0,s.Smz)(e.map((e=>e.fullPrice.amount)))}},He=e=>{var r,t,a;if(0!==e.length&&null!==(r=e[0])&&void 0!==r&&r.savings&&0!==(null===(t=e[0])||void 0===t?void 0:t.savings.length)&&!(null==(n=null===(a=e[0])||void 0===a?void 0:a.savings)?void 0:n.some((e=>(null==e?void 0:e.savingClassification)===_.fn.CARRIER_VOUCHER)))){var n,i=e[0].savings[0].price.currencyCode;return{currencyCode:i,amount:(0,I.O)(e,i)}}},We=e=>{if(Array.isArray(e)&&0!==e.length&&e[0]&&e[0].calculatedPrice)return{currencyCode:e[0].calculatedPrice.currencyCode,amount:(0,s.Smz)(e.map((e=>e.calculatedPrice.amount)))}},Ge=(e,r,t,a,n,i,o,s)=>{var l,c,p,m,g,{legs:v,fares:h}=r,y=(0,d.U)(v,e),f=y.brand&&(0,d.U)(a,y.brand).code,E=y.carrier&&(0,d.U)(t,y.carrier).name,b=(0,Q.zb)(a,t,o,y),S=new Set;s&&(c=((e,r,t)=>{var a=e.fares.reduce(((e,r)=>[...e,...(0,d.U)(t,r).fareLegs]),[]).find((e=>e.legId===r));if(!a)throw new Error('No FareLeg with given legId "'.concat(r,'" in provided alternative with id "').concat(e.id,'".'));return a})(s,e,h),p=s.fares.map((e=>(0,d.U)(h,e))),m=null===(g=(s.selectedExtras||[]).filter((e=>e.legIds.includes(y.id))))||void 0===g?void 0:g.filter((e=>{var r=null==S?void 0:S.has(e.extraType.code);return S.add(e.extraType.code),!r})));var T=y.co2EmissionInGramsPerPassenger;return{id:y.id,hash:y.hash,departAt:y.departAt,arriveAt:y.arriveAt,timetableId:y.timetableId,vendorQuotaIdentifier:y.vendorQuotaIdentifier,origin:(0,d.U)(n,y.departureLocation),destination:(0,d.U)(n,y.arrivalLocation),fareTypes:p&&be(p,i,e)||[],carrierLogo:b,extras:m||[],boardBeforeGuaranteed:c&&c.boardBeforeGuaranteed&&(0,u.k)(c.boardBeforeGuaranteed),carrierName:E,brandCode:f,co2EmissionInGramsPerPassenger:T,transportMode:null===(l=b.mode)||void 0===l?void 0:l.toLowerCase()}},Ve=(e,r)=>{var t=e.fares.map((e=>(0,d.U)(r,e))).reduce(((e,r)=>[...e,...r.fareLegs]),[]).reduce(((e,r)=>{var{legId:t}=r;return!e.has(t)&&e.add(t),e}),new Set);return Array.from(t)},Ye=(e,r)=>{if(!r)return[];var{alternatives:t,sections:a}=e;return r.sections.reduce(((e,r)=>{var n=(0,d.U)(a,r);return[...e,{mixedLegComforts:"boolean"!=typeof n.mixedLegComforts||n.mixedLegComforts,alternatives:n.alternatives.filter((e=>t[e])).map((e=>(0,d.U)(t,e)))}]}),[])},Ke=e=>(r,t,a,n,i,o,s,l)=>{var c=e?"alternativeHash":"journeyHash";if(!l||!r||!r[c])return[];var{alternatives:u,sections:p,fares:m}=t;return l.sections.reduce(((g,v,h)=>{var y,f=(0,d.U)(p,v),E=f.id,b="boolean"!=typeof f.mixedLegComforts||f.mixedLegComforts,S=l.legs;if(e){var T=f.alternatives.filter((e=>u[e])).map((e=>(0,d.U)(u,e)));if(!(y=T.find((e=>e.hash===r[c][h]))))return[];S=Ve(y,m)}return[...g,{id:E,mixedLegComforts:b,legs:S.map((e=>Ge(e,t,a,n,i,o,s,y))).sort(((e,r)=>(0,k.rm)(e.departAt,r.departAt)))}]}),[])},ze=e=>(r,t,a,n,i,o,s,l)=>{var c=e?"alternativeHash":"journeyHash";if(!l||!r||!r[c])return[];var{alternatives:u,sections:p,fares:m}=t;return l.sections.reduce(((o,g,v)=>{var h,y=l.legs;if(e){var f=(0,d.U)(p,g);if(!(h=f.alternatives.filter((e=>u[e])).map((e=>(0,d.U)(u,e))).find((e=>e.hash===r[c][v]))))return[];y=Ve(h,m)}var E=y.map((e=>((e,r,t,a,n,i,o,s)=>{var l,c,{legs:u,fares:p}=r,m=(0,d.U)(u,e),g=m.brand&&(0,d.U)(a,m.brand).code,v=m.carrier&&(0,d.U)(t,m.carrier).name,h=(0,Q.zb)(a,t,o,m),y=new Set,f=[],E=Object.values(p).filter(Boolean),b=(null==s?void 0:s.fares)||[],S=b.length>0?((e,r)=>e.find((e=>{var{id:t}=e;return r.includes(t)})))(E,b):E.find((e=>null==e?void 0:e.fareLegs.some((e=>e.legId===m.id))));return S&&null!=S&&S.vouchers&&(f=S.vouchers),s&&(l=(null===(c=s.selectedExtras||[])||void 0===c?void 0:c.filter((e=>{var r=null==y?void 0:y.has(e.extraType.code);return y.add(e.extraType.code),!r}))).filter((e=>e.legIds.includes(m.id))).map((e=>({name:e.extraType.name,description:e.extraType.description,group:e.extraType.group})))),{id:m.id,localDepartAt:m.departAt,localArriveAt:m.arriveAt,timetableId:m.timetableId,vendorQuotaIdentifier:m.vendorQuotaIdentifier,origin:(0,d.U)(n,m.departureLocation),destination:(0,d.U)(n,m.arrivalLocation),carrierLogo:h,extras:l,carrierName:v,transportModeName:"Coach"===h.mode?"bus":(h.mode||"").toLowerCase(),items:[],price:null==s?void 0:s.price,co2EmissionInGramsPerPassenger:m.co2EmissionInGramsPerPassenger,vouchers:f,brandCode:g,flexibility:null==s?void 0:s.flexibility}})(e,t,a,n,i,0,s,h))).sort(((e,r)=>(0,k.rm)(e.localDepartAt,r.localDepartAt)));return[...o,...E]}),[])},Je=((0,l.P1)(V.U,U.Cu,O.GR,N.gg,D.Yu,L.SP,w.I7,fe,Ke(!1)),(0,l.P1)(V.U,U.Cu,O.GR,N.gg,D.Yu,L.SP,w.I7,fe,ze(!0))),qe=(0,l.P1)(V.U,U.Cu,O.GR,N.gg,D.Yu,L.SP,w.I7,fe,Ke(!0)),Qe=(0,l.P1)(U.Cu,Ce,Ye),Xe=(0,l.P1)(U.Cu,Ie,Ye),$e=(0,l.P1)(U.Cu,fe,Ye),er=(e,r)=>!!r.alternativeHash&&r.alternativeHash.includes(e.hash),rr=(e,r,t,a)=>{if(0===e.length||!r&&!t)return[];if(!(r.alternativeHash||t&&t.alternativeHash))throw new Error("No selected alternative in the option");return e.reduce(((e,i)=>{if(0===i.alternatives.length)return e;var o=i.alternatives.find((e=>er(e,r)))||t&&i.alternatives.find((e=>er(e,t)));if(!o)return a!==x.qV.ALTERNATIVE_NOT_FOUND&&console.error(new Error("Chosen option alternative missing")),[];var s=i.alternatives.filter((e=>o&&o.comfortClassCorrelationToken===e.comfortClassCorrelationToken));return[...e,(0,n.Z)((0,n.Z)({},i),{},{alternatives:s})]}),[])},tr=(0,l.P1)($e,V.U,he,G.qZ,rr),ar=(0,l.P1)(Qe,re,me,G.qZ,rr),nr=(0,l.P1)(Xe,ue,ge,rr),ir=(e,r)=>e.reduce(((e,r)=>[...e,...r.alternatives]),[]).filter((e=>r&&r.alternativeHash&&r.alternativeHash.includes(e.hash))),or=(0,l.P1)(ar,re,ir),sr=(0,l.P1)(nr,ue,ir),lr=(0,l.P1)(or,(e=>e&&e.length?e.map((e=>e.id)):[])),cr=(0,l.P1)(sr,(e=>e&&e.length?e.map((e=>e.id)):[])),dr=(0,l.P1)(or,Ue),ur=(0,l.P1)(or,je),pr=(0,l.P1)(or,He),mr=(0,l.P1)(or,We),gr=(0,l.P1)(sr,He),vr=(0,l.P1)(sr,We),hr=(0,l.P1)(or,(e=>e.filter((e=>e.affiliation&&e.affiliation.href)).map((e=>e.affiliation)).find(Boolean))),yr=(0,l.P1)(sr,Ue),fr=(0,l.P1)(sr,je),Er=(0,l.P1)(j.fE,dr,yr,((e,r,t)=>e?t:r)),br=(0,l.P1)(j.fE,ur,fr,((e,r,t)=>e?t:r)),Sr=(0,l.P1)(j.fE,pr,gr,((e,r,t)=>e?t:r)),Tr=(0,l.P1)(j.fE,mr,vr,((e,r,t)=>e?t:r)),Cr=(0,l.P1)(j.fE,or,sr,((e,r,t)=>{var a,n,i=e?t:r;if(0!==i.length&&null!==(a=i[0])&&void 0!==a&&a.savings&&0!==(null===(n=i[0])||void 0===n?void 0:n.savings.length))return i[0].savings[0].savingClassification})),Ar=(0,l.P1)(j.fE,j.k$,j.vs,((e,r,t)=>{var a=(0,V.B)(e&&t||r||void 0);return a&&a.travelClass})),Ir=(0,l.P1)(j.fE,Ce,Ie,((e,r,t)=>e?t:r)),_r=(0,l.P1)(Ir,(e=>e?e.hash:void 0)),Pr=(0,l.P1)(Ir,(e=>e?[e.id]:[])),Rr=(0,l.P1)(U.HO,U.AE,Pr,Y.hn),kr={[M.U9.STANDARD]:M.LA,[M.U9.FIRST]:M.e8},Nr=(0,l.P1)(Rr,U.ft,U.ng,Ar,((e,r,t,a)=>{var n,i=(0,s.UWY)(e),o=a&&i?[i.map((e=>e.filter((e=>r[e]&&!0===kr[a]({fares:t,alternative:r[e]})))))]:[];(0,s.xbD)((0,s.xHg)(o))||a!==M.U9.FIRST||(o=null===(n=o)||void 0===n?void 0:n[0].map(((e,r)=>(0,s.xbD)((0,s.xHg)(e))?[i[r]]:[e])));return o})),Or=(0,l.P1)(Nr,$e,((e,r)=>{if(0===r.length)return[];var t=(0,s.UWY)((0,s.xHg)(e));return r.map((e=>e.alternatives.filter((e=>t&&t.includes(e.id))).map((e=>(0,n.Z)((0,n.Z)({},e),{},{isSmartPrice:(0,A.RJ)([e])}))))).filter((e=>e.length>0))})),Lr=(0,l.P1)(Or,(e=>e.reduce(((e,r)=>{var t=r.map((e=>e.flexibility.code));return e+(0,s.jj$)(t).length}),0)===e.length)),xr=(0,l.P1)(U.ft,Nr,Ir,z.I,Y.LT),Dr=(0,l.P1)(_r,xr,Ar,U.ft,j.fE,((e,r,t,a,n)=>{var i=(0,s.xHg)(r).map((e=>(0,d.U)(a,e).hash));if(!e||!t)return{};var o={journeyHash:e,travelClass:t,alternativeHash:i};return n?{selectedInward:{journeyHash:e,travelClass:t,alternativeHash:i},selectedPartner:o}:{selectedOutward:{journeyHash:e,travelClass:t,alternativeHash:i},selectedPartner:o}})),wr=(e,r)=>{if(e){var t=e.amount;return void 0!==t&&r&&(t+=r.amount),{currencyCode:e.currencyCode,amount:t}}},Zr=(e,r)=>{var t=o()(e),a=o()(r);return void 0!==r&&!t.isSame(a,"day")},Fr=(0,l.P1)(j.SR,Ae,Zr),Br=(0,l.P1)(j.Gc,ke,Zr),Mr=(0,l.P1)(j.fE,Fr,Br,((e,r,t)=>e?t:r)),Ur=(e,r)=>{var t=o()(e),a=o()(r);return void 0!==e&&void 0!==r&&!t.isSame(a,"day")&&a.hour()>=3},jr=(0,l.P1)(H.NG,H.yn,Ur),Hr=(0,l.P1)(H.aV,H.w,Ur),Wr=(0,l.P1)(j.fE,jr,Hr,((e,r,t)=>e?t:r)),Gr=e=>{if(e.parents&&e.parents.length&&e.parents[0].locationType){var r=e.parents[0];if(r.locationType===P.f.CITY)return r.name;if((e=>void 0!==e.parents)(r))return Gr(r)}},Vr=e=>e.address&&e.address.length?e.address.join(", "):void 0,Yr=(0,l.P1)(j.fE,Be,Me,Ar,((e,r,t,a)=>a===M.U9.FIRST&&(e?t:r).some((e=>e.some((e=>!!e&&e.fareLegs.some((e=>!!e.travelClass&&e.travelClass.name!==M.U9.FIRST)))))))),Kr=(0,l.P1)(j.fE,z.I,xe,De,((e,r,t,a)=>{var n=e?a:t;return(0,R.v)(n)&&n.length>1&&!n.every((e=>(0,R.v)(e.flexibility)&&e.flexibility.code===r))})),zr=e=>(r,t)=>e===r&&t,Jr=zr(y.h.SEMI_FLEXIBLE),qr=zr(y.h.FLEXIBLE),Qr=(0,l.P1)(z.I,Kr,Jr),Xr=(0,l.P1)(z.I,Kr,qr),$r=e=>{var r=e.filter((e=>e.price));return r.reduce(((e,r)=>r.price.amount<e.price.amount?r:e),r[0])},et=(e,r)=>{var t=e.map((e=>$r(e)));if(0!==t.length)return{price:Ue(t),isSmartPrice:(0,A.RJ)(t),isSelected:t.some((e=>null==r?void 0:r.includes(null==e?void 0:e.hash))),savings:He(t.filter((e=>null==e?void 0:e.savings)))}},rt=(0,l.P1)(Or,V.U,((e,r)=>et(e,null==r?void 0:r.alternativeHash))),tt=e=>(0,l.P1)(Or,V.U,((r,t)=>{var a=r.map((r=>r.filter((r=>{var t;return(null==r||null===(t=r.flexibility)||void 0===t?void 0:t.code)===e}))));return et(a,null==t?void 0:t.alternativeHash)})),at=tt(y.h.SEMI_FLEXIBLE),nt=tt(y.h.FLEXIBLE),it=(0,l.P1)(rt,tt(y.h.SEMI_FLEXIBLE),tt(y.h.FLEXIBLE),((e,r,t)=>[e,r,t].find((e=>null==e?void 0:e.isSelected)))),ot=(0,l.P1)(Or,(e=>{var r=e.map((e=>$r(e)));return Ue(r)})),st=function(e){return e[e.MAX=79]="MAX",e[e.MEDIUM=59]="MEDIUM",e[e.MIN=39]="MIN",e}({}),lt=(0,l.P1)(U._F,U.J_,((e,r)=>{var t,a=new RegExp("^(TGV|IC)","i"),n=0;return e.forEach((e=>{var{legs:t}=e;t.forEach((e=>{var t=null==r?void 0:r[e];if(a.test(null==t?void 0:t.vendorQuotaIdentifier)){var i=(0,u.k)((0,k.K7)(t.departAt,t.arriveAt));i>n&&(n=i)}}))})),(t=n)>180?st.MAX:t>90?st.MEDIUM:t>0&&t<=90?st.MIN:0})),ct=(0,l.P1)(g.gH,T.EI,((e,r)=>r===m.OI.EUR&&((null==e?void 0:e.journeySearchType)===v.ki.SINGLE&&(null==e?void 0:e.euFlowPassengers.filter((e=>e.selected)).filter((e=>{var{age:r,type:t}=e;return r?r>12&&r<28||r>=60:[c.PassengerType.YOUTH,c.PassengerType.SENIOR].includes(t)}))).length>0))),dt=(0,l.P1)(U.ft,Nr,Ir,(()=>y.h.SEMI_FLEXIBLE),Y.LT),ut=(0,l.P1)(U.ft,Nr,Ir,(()=>y.h.FLEXIBLE),Y.LT),pt=(e,r)=>{var t=(0,s.xHg)(e);if(0!==t.length){var a=(0,s.xHg)(r.map((e=>e.filter((e=>t.includes(e.id))))));return Ue(a)}},mt=(0,l.P1)(dt,Or,pt),gt=(0,l.P1)(mt,ot,((e,r)=>!!e&&e.amount===r.amount)),vt=(0,l.P1)(Z.$Y,gt,((e,r)=>r&&e!==y.h.FLEXIBLE?y.h.SEMI_FLEXIBLE:e)),ht=(0,l.P1)(vt,Or,(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,s.xHg)(r).some((r=>{var t;return(null==r||null===(t=r.flexibility)||void 0===t?void 0:t.code)===e&&!(null==r||!r.cards)}))})),yt=(0,l.P1)(mt,ot,((e,r)=>{if(e&&r)return{amount:e.amount-r.amount,currencyCode:e.currencyCode}})),ft=(0,l.P1)(ut,Or,pt),Et=(0,l.P1)(ft,ot,((e,r)=>{if(e&&r)return{amount:e.amount-r.amount,currencyCode:e.currencyCode}})),bt=e=>{var{id:r,fullPrice:t}=e;if(!t)throw new Error("Alternative ".concat(r," has no fullPrice"));return t},St=(e,r)=>{var{legId:t,comfort:a}=e,{legId:n,comfort:i}=r;return t===n&&a.id===i.id},Tt=(e,r)=>{var t=r.fares.reduce(((r,t)=>[...r,...(0,d.U)(e,t).fareLegs]),[]).map((e=>{var{id:r}=e,t=(0,a.Z)(e,X);return(0,n.Z)({},t)}));return(0,s.jj$)(t)},Ct=e=>e.filter((e=>!!e.comfort)),At=(e,r)=>({fareLegsByComfort:e.reduce(((e,r)=>(e[r.comfort.code]||(e[r.comfort.code]=(0,n.Z)((0,n.Z)({},r.comfort),{},{fareLegsIds:[]})),e[r.comfort.code].fareLegsIds.push(r.legId),e)),{}),reservationTypes:e.map((e=>e.reservationType||f.U.NONE)),deltaPrice:r,legIds:e.map((e=>e.legId)),comfort:e[0].comfort}),It=(e,r,t,a)=>{var i=(e=>{var r=e.filter((e=>e.fullPrice));return r.reduce(((e,r)=>r.fullPrice.amount<e.fullPrice.amount?r:e),r[0])})(e);if(!i)return[];var o=Ct(Tt(t,i));if(0===o.length)return[];var l=r?((e,r,t)=>e.reduce(((e,a)=>{var n=Ct(Tt(r,a)),i=(0,s.F2w)(St,n,t);return 1===i.length&&e.push({alternative:a,fareLegs:[i[0]]}),e}),[]))(e,t,o):e.filter((e=>e!==i)).map((e=>({alternative:e,fareLegs:Ct(Tt(t,e))}))),{currencyCode:c}=bt(i),d={amount:0,currencyCode:c},u={};if(a){var{hash:p}=i,m=o.reduce(((e,r)=>!(!r.travelClass||r.travelClass.name!==M.U9.FIRST)||e),!1)?M.U9.FIRST:M.U9.STANDARD;u={mixedComfort:!0,travelClass:m,hash:p}}return[...r?o.map((e=>(0,n.Z)((0,n.Z)({},At([e],d)),u))):[(0,n.Z)((0,n.Z)({},At(o,d)),u)],...l.map((e=>{var{fareLegs:r,alternative:t}=e;return(0,n.Z)((0,n.Z)({},At(r,{amount:bt(t).amount-bt(i).amount,currencyCode:c})),a&&(0,n.Z)((0,n.Z)({},u),{},{hash:t.hash}))}))]},_t=(e,r)=>r.map((r=>{var{fareLegsByComfort:t}=r,i=(0,a.Z)(r,$),o=Object.keys(t).reduce(((r,a)=>(r[a]=(0,n.Z)((0,n.Z)({},t[a]),{},{availableOnTrainList:(0,s.xHg)(t[a].fareLegsIds.map((r=>((e,r)=>{var{vendorQuotaIdentifier:t,timetableId:a}=(0,d.U)(e,r);if(a)return t&&t.length>a.length?t:a})(e,r)))).filter(Boolean)}),r)),{});return(0,n.Z)((0,n.Z)({},i),{},{fareLegsByComfort:o})})),Pt=(0,l.P1)(tr,U.ng,U.J_,((e,r,t)=>_t(t,e.reduce(((e,t)=>{var a=((e,r)=>{var t=(0,s.xHg)(r.map((r=>Tt(e,r)))),a=(0,s.jj$)(t.map((e=>e.comfort)).map((e=>e&&e.code)));return Boolean(t.length!==a.length)})(r,t.alternatives);return[...e,...It(t.alternatives,t.mixedLegComforts,r,a)].sort(((e,r)=>e.comfort.name>r.comfort.name?1:e.comfort.name<r.comfort.name?-1:0)).sort(((e,r)=>e.deltaPrice.amount-r.deltaPrice.amount))}),[])))),Rt=(0,l.P1)(tr,U.ng,j.fE,((e,r,t)=>{if(!e.length)return[];var a=e.length;return a?(0,s.P2Z)(a,(function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r}))(...e.map((e=>e.alternatives))).map((e=>{var a=e.reduce(((e,r)=>[...e,r.hash]),[]),i=e.reduce(((e,t)=>{var a=(e=>e.reduce(((e,r)=>{var{legId:t,comfort:a}=r;return a?(0,n.Z)((0,n.Z)({},e),{},{[t]:a.id}):e}),{}))(Tt(r,t));return(0,n.Z)((0,n.Z)({},e),a)}),{}),o=!!e.find((e=>(0,M.e8)({fares:r,alternative:e})))?M.U9.FIRST:M.U9.STANDARD;return{isInward:t,travelClass:o,alternativeHash:a,comfortLegs:i}})):[]})),kt=(0,l.P1)(V.U,Rt,((e,r)=>{if(!e)throw new Error("Unable to find the current selection. Query props may be undefined?");var t=JSON.stringify(e.alternativeHash||[]),a=r.find((e=>JSON.stringify(e.alternativeHash)===t));if(!a)throw new Error("Unable to find the current comfort related to the alternative hash ".concat(t,"."));return a})),Nt=(0,l.P1)(((e,r)=>r.alternative),_r,((e,r)=>{var{travelClass:t,alternativeHash:a,isInward:n}=e;return r&&t?n?{selectedInward:{journeyHash:r,travelClass:t,alternativeHash:a}}:{selectedOutward:{journeyHash:r,travelClass:t,alternativeHash:a}}:{}})),Ot=(0,l.P1)(((e,r)=>r.alternativeHash),U.ft,((e,r)=>{var t=Object.values(r).find((r=>!!r&&r.hash===e));if(t)return t.comfortClassCorrelationToken})),Lt=e=>(0,l.P1)(qe,(r=>{var t=(0,s.xHg)(r.map((e=>e.legs))).map((e=>e.carrierName)).filter(R.v);return e?(0,s.jj$)(t):t})),xt=(0,l.P1)(j.fE,U.ft,lr,cr,(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e?arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,s.xHg)(t.map((e=>r[e]&&r[e].fares)).filter(R.v))})),Dt=(0,l.P1)(xt,U.ng,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.xHg)(e.map((e=>r[e]&&r[e].fareLegs.map((e=>e.travelClass&&e.travelClass.name)).filter(R.v))).filter(R.v))})),wt=e=>(0,l.P1)(F.M3,Lt(!1),F.vu,j.n$,Dt,Ee,((r,t,a,n,i,o)=>(0,B.nU)(e,{isEnabled:r,carriers:{journeyCarriers:t,whitelist:a},passengerCount:n,travelClassNames:i,isSingleLegJourney:o}))),Zt=(0,l.P1)(F.M3,wt(B.Wl.DEFAULT_VIEW_FULLPRICE_IT_ONLY),((e,r)=>!(e&&r))),Ft=e=>(0,l.P1)(qe,(r=>r.some((r=>r.legs.some((r=>!!r.carrierName&&r.carrierName.toLowerCase()===e)))))),Bt=(0,l.P1)(qe,(e=>e.reduce(((e,r)=>e.concat(r.legs)),[]).reduce(((e,r)=>{var t=r.carrierName?r.carrierName:r.carrierLogo&&r.carrierLogo.name?r.carrierLogo.name:void 0;return t&&!e.includes(t)?e.concat(t):e}),[]))),Mt=(0,l.P1)(xe,(e=>e&&e.length?e[0].flexibility:void 0)),Ut=(0,l.P1)(De,(e=>e&&e.length?e[0].flexibility:void 0)),jt=(e,r)=>{if(!e||e.length<1||Object.keys(r).length<1)return new Map;var t=(0,s.jj$)((0,s.xHg)(e.map((e=>e.farePassengers)))),a=(0,s.jj$)((0,s.xHg)(e.map((e=>e.fares)))),n=Object.values(r).filter((e=>!!e&&a.includes(e.id))),i=e.every((e=>void 0!==e.billableUnits)),o=(0,s.jj$)((0,s.xHg)(e.map((e=>e.billableUnits||[])))),l=new Map;t.forEach((e=>{var{id:r,passengerType:t}=e.passengers[0],a=l.get(r),n=a?a.fareIds:[],s={passengerId:r,passengerType:t,fareIds:n};if(i){var c=o.filter((e=>e.passengerIds.includes(r)));s.originalPrice=c.reduce(((e,r)=>{var{originalPrice:{amount:t=NaN},passengerIds:a}=r;return e+t/a.length}),0),s.actualPrice=c.reduce(((e,r)=>{var{price:{amount:t=NaN},passengerIds:a}=r;return e+t/a.length}),0),s.currency=c.reduce(((e,r)=>e||r.price.currencyCode),void 0),Number.isNaN(s.originalPrice)&&(s.originalPrice=void 0),Number.isNaN(s.actualPrice)&&(s.actualPrice=void 0)}a||l.set(r,s),n.push(e.fareId)}));var c=new Map;return l.forEach((e=>{var r="".concat(e.passengerType,"#").concat(e.actualPrice);e.fareIds.forEach((e=>{var t=n.find((r=>r.id===e));t&&(r+="#".concat(t.fareType))})),c.set(r,(c.get(r)||[]).concat(e))})),c},Ht=(0,l.P1)(or,U.ng,((e,r)=>jt(e,r))),Wt=(0,l.P1)(sr,U.ng,((e,r)=>jt(e,r))),Gt=(0,l.P1)(S.FD,(e=>(0,n.Z)((0,n.Z)({},e),{},{query:(0,n.Z)((0,n.Z)({},e.query),{},{transportModes:[c.AvailableTransportModes.MIXED]})}))),Vt=(0,l.P1)(S.FD,(e=>(0,n.Z)((0,n.Z)({},e),{},{query:(0,n.Z)((0,n.Z)({},e.query),{},{transportModes:[c.AvailableTransportModes.COACH]})}))),Yt=(e,r,t,a,n)=>{if(t){var i=(0,W.yY)(e,r,t);if(i&&null!=t&&t.journeys[i]){var o=a?Object.keys(t.alternatives).filter((e=>a.includes(e))).map((e=>t.alternatives[e].hash)):void 0;return{journeyHash:null==t?void 0:t.journeys[i].hash,journeyId:i,travelClass:n||M.U9.STANDARD,alternativeHash:o}}}},Kt=(0,l.P1)((()=>!1),((e,r)=>r.query.outwardDate),U.Cu,Y.so,Y.j,Yt),zt=(0,l.P1)((()=>!0),((e,r)=>r.query.inwardDate),U.Cu,Y.N0,Y.Hu,Yt),Jt=(0,l.P1)(j.fE,Kt,zt,((e,r,t)=>e&&t?{selectedInward:t}:!e&&r?{selectedOutward:r}:void 0)),qt=(0,l.P1)(((e,r)=>o()(JSON.parse(r.query.boardingTime)[0]).utc().format("YYYY-MM-DDTHH:mm:ss")),((e,r)=>o()(JSON.parse(r.query.arrivalTime)[0]).utc().format("YYYY-MM-DDTHH:mm:ss")),U.Cu,Y.so,Y.j,((e,r,t,a,n)=>{if(t){var i=(0,W.rH)(e,r,t)||(0,W.yY)(!1,e,t);if(i&&null!=t&&t.journeys[i]){var o=a?Object.keys(t.alternatives).filter((e=>a.includes(e))).map((e=>t.alternatives[e].hash)):void 0;return{journeyHash:null==t?void 0:t.journeys[i].hash,journeyId:i,travelClass:n||M.U9.STANDARD,alternativeHash:o}}}})),Qt=(0,l.P1)(qt,(e=>e?{selectedOutward:e}:void 0));var Xt=(0,l.P1)(q.dv,j.ED,j.r,O.GR,N.gg,D.Yu,L.SP,w.I7,((e,r,t,a,n,i,o,s)=>{var[l,c]=function(e,r,t,a,n,i,o,s){var l=(0,V.B)(e),c=(0,V.B)(r);if(null==l||!l.journeyHash)return[];var d=null!=c&&c.journeyHash?[l,c]:[l],u=Object.values(null!=t?t:{});return d.map((e=>{var r,t=u.find((t=>{var{journeys:a}=t;return r=Object.values(a).filter((e=>!!e)).find((r=>{var{hash:t}=r;return t===e.journeyHash}))}));if(r&&t)return{id:r.id,legs:ze(!0)(e,t,a,n,i,o,s,r),distanceInKm:r.distanceInKm}}))}(r,t,e,a,n,i,o,s);if(l){var d={id:(0,p.j)([l.id]),outwardJourney:l};return c&&(d.inwardJourney=c),d}}))},2353:(e,r,t)=>{"use strict";t.d(r,{D$:()=>B,LP:()=>w,OQ:()=>D,X9:()=>N,hc:()=>Z,if:()=>F,kR:()=>x,oC:()=>M});var a=t(32034),n=t(51282),i=t(78307),o=t(71695),s=t(42769),l=t(16362),c=t(92490),d=t(4794),u=t(61229),p=t(51059),m=t(31521),g=t(83504),v=t(9635),h=t(20786),y=t(10517),f=t(19536),E=t(51001),b=t(85540),S=t(82768),T="urn:trainline:trenitalia:carrier:trenitalia",C=e=>(null==e?void 0:e.countryCode)===o.Qd.ITALY,A=(0,a.P1)(n.gH,c.Yu,((e,r)=>null==r?void 0:r[e.from.id])),I=(0,a.P1)(n.gH,c.Yu,((e,r)=>null==r?void 0:r[e.to.id])),_=(0,a.P1)(A,I,((e,r)=>C(e)&&C(r))),P=(0,a.P1)((e=>e),g.FD,l.GR,((e,r,t)=>{var a=(0,u.Cu)(e,r),n=(0,u.J_)(e,r),i=null==a?void 0:a.journeys;return!(!i||!Object.keys(i).length)&&Object.values(i).some((e=>{var r,a=null==e?void 0:e.legs.some((e=>{var r,a,i,o=null===(r=n[e])||void 0===r?void 0:r.carrier;return o&&((null===(a=t[o])||void 0===a?void 0:a.code)===T||"urn:trainline:ntv:carrier:ntv"===(null===(i=t[o])||void 0===i?void 0:i.code))})),i=1===(null==e||null===(r=e.sections)||void 0===r?void 0:r.length);return a&&i}))})),R=(0,a.P1)((e=>e),g.FD,l.GR,((e,r,t)=>{var a=(0,u.Cu)(e,r),n=(0,u.J_)(e,r),i=null==a?void 0:a.journeys;return!(!i||!Object.keys(i).length)&&Object.values(i).some((e=>null==e?void 0:e.legs.some((e=>{var r,a,i=null===(r=n[e])||void 0===r?void 0:r.carrier;return i&&(null===(a=t[i])||void 0===a?void 0:a.code)===T}))))})),k=(0,a.P1)(d.jk,(e=>{var r;return(null==e||null===(r=e.query)||void 0===r?void 0:r.journeySearchType)===i.ki.SINGLE})),N=(0,a.P1)(d.jk,(e=>{var r;return null==e||null===(r=e.query)||void 0===r||null===(r=r.euVoucher)||void 0===r?void 0:r.voucherCode})),O=(0,a.P1)(h.s,h.tz,((e,r)=>{var t,a,n=r&&(null===(t=(0,S.Z$Q)(r))||void 0===t?void 0:t.itemIds),i=e&&(null===(a=(0,S.Z$Q)(e))||void 0===a?void 0:a.productId),o=i&&(null==n?void 0:n.includes(i));return Boolean(o)})),L=(0,a.P1)(h.tz,E.IY,((e,r)=>{var t,a=e&&(null===(t=(0,S.Z$Q)(e))||void 0===t?void 0:t.itemIds),n=null==r?void 0:r.filter((e=>(null==e?void 0:e.productId)&&(null==a?void 0:a.includes(null==e?void 0:e.productId))));return null==n?void 0:n.some((e=>(null==e?void 0:e.vendor)===b.d.TRENITALIA))})),x=(0,a.P1)(L,O,k,N,((e,r,t,a)=>e&&r&&t&&Boolean(a))),D=(0,a.P1)(N,_,R,p.KR,((e,r,t,a)=>Boolean(e)&&r&&t&&a===i.ki.SINGLE)),w=(0,a.P1)(N,_,P,p.KR,((e,r,t,a)=>Boolean(e)&&r&&t&&a===i.ki.RETURN)),Z=(0,a.P1)(d.Dl,c.Yu,m.qK,m.SY,((e,r,t,a)=>{var n=1===t.length,i=!(null!=a&&a.inwardJourneyPlan),o=e.find((e=>e.pathname===s.L1.results())),l=o&&o.query&&!!o.query.euVoucher;if(n&&i&&l){var{origin:c,destination:d}=null==a?void 0:a.outwardJourneyPlan,u=C(r[c.id])&&C(r[d.id]),{euVoucher:p}=o.query;if(u)return{passengerId:p.passengerId,codes:[p.voucherCode]}}})),F=(0,a.P1)(h.eE,m.Vc,((e,r)=>{var t;if(!e||0===e.length||!r||0===r.length)return!1;var a=e.filter((e=>Boolean(null==e?void 0:e.productId)));if(0===a.length)return!1;var n=null===(t=(0,S.GYS)(a))||void 0===t?void 0:t[0];if(!n)return!1;var i=n.productId,o=r.find((e=>(null==e?void 0:e.id)===i));if(!o)return!1;var s=[i];return o.itineraryCorrelation&&(s=r.filter((e=>(null==e?void 0:e.itineraryCorrelation)===o.itineraryCorrelation)).map((e=>null==e?void 0:e.id))),a.filter((e=>s.includes(e.productId))).some((e=>{var r,t,a,n,i=null==e||null===(r=e.subLineItems)||void 0===r?void 0:r.some((e=>"category"in e&&"voucher"===(null==e?void 0:e.category))),o=(null==e||null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase())===y.X.TRENITALIA||(null==e||null===(a=e.vendor)||void 0===a?void 0:a.toLowerCase())===y.X.ILSA||"ntv"===(null==e||null===(n=e.vendor)||void 0===n?void 0:n.toLowerCase());return i&&o}))})),B=(0,a.P1)(v.SU,(e=>e&&f.A6.includes(e)?e:void 0)),M=(0,a.P1)(u.ng,N,((e,r)=>Boolean(r)&&Object.values(e).some((e=>{var r;return(null==e?void 0:e.vouchers)&&(null==e||null===(r=e.vouchers)||void 0===r?void 0:r.length)>0}))))},68950:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a={isCarrierFilterEnabled:!1,isCarrierFilterChecked:!1,isCarrierFilterMenuOpen:!1,allCarriersSelected:!1,selectedCarriers:[],selectAllCarriers:()=>{},toggleMenuOpen:()=>{},closeMenu:()=>{},handleCarrierFilterValueChange:()=>{},toggleCarrierFilter:()=>{},resetCarrierFilter:()=>{},setAllCarriers:()=>{}};const n=(0,t(29901).createContext)(a)},93990:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n=t(68950);const i=()=>(0,a.useContext)(n.Z)},77797:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a={isDirectTrainUnavailable:!1,isDirectTrainFilterEnabled:!1,isDirectTrainFilterChecked:!1,toggleDirectTrainFilter:()=>{}};const n=(0,t(29901).createContext)(a)},77572:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a={filters:{directJourneysFilterSelected:!1,priceFilterSelected:!1,carrierFilterSelected:!1},filteredJourneys:[]};const n=t(29901).createContext(a)},11795:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n={isPriceFilterEnabled:!1,isPriceFilterChecked:!1,isPriceFilterMenuOpen:!1,priceFilterValue:Number.MAX_SAFE_INTEGER,toggleMenuOpen:()=>{},closeMenu:()=>{},handlePriceFilterValueChange:()=>{},togglePriceFilter:()=>{},resetPriceFilter:()=>{}};const i=(0,a.createContext)(n)},33257:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n=t(11795);const i=()=>(0,a.useContext)(n.Z)},82194:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(29901),n=t(77572);const i=()=>{var e=a.useContext(n.Z);if(void 0===e)throw new Error("useFilters must be used with FiltersContext.Provider wrapper");return e}},25190:(e,r,t)=>{"use strict";t.d(r,{D:()=>y});var a=t(23198),n=t(29901),i=t(88543),o=t(6924),s=t(51059),l=t(81153),c=t(51918),d=t(40316),u=t(82194),p=t(33257),m=t(93990),g=t(75853),v=t(33695),h=t(19408),y=e=>{var r=(0,d.P)(e),{filteredJourneys:t,filters:y,setFilteredJourneys:f}=(0,u.Z)(),{priceFilterValue:E}=(0,p.Z)(),{selectedCarriers:b}=(0,m.Z)(),S=(0,c.Z)(l.mx,r),[T,C]=(0,n.useState)(S),A=(0,i.useSelector)(s.iK),{enablePriceFilter:I,enableCarriersFilter:_}=(0,g.x)(),P=(0,c.Z)(h.eB,v.zA.ENABLE_CARRIERS_FILTER,!0),R=A&&(I||_&&P),k=(0,n.useMemo)((()=>S.find(Boolean)),[S]),N=(0,n.useMemo)((()=>k&&k.rows.find(Boolean)),[k]),O=N?N.departAt:void 0;return(0,n.useEffect)((()=>{if(R){var e=S.map((e=>(0,a.Z)((0,a.Z)({},e),{},{rows:(0,o._H)(e.rows,(0,a.Z)((0,a.Z)({},y),{},{priceFilterValue:E,selectedCarriers:b}))}))),r=e.reduce(((e,r)=>[...e,...r.rows.map((e=>e.journeyId))]),[]);!(t&&t.length===r.length&&t.every(((e,t)=>e===r[t])))&&f&&(f(r),C(e))}else C(S)}),[S,t,y,R,f,E]),{journeyDays:S,filteredJourneyDays:T,filtersEnabled:R,firstJourneyDepartAt:O}}},6924:(e,r,t)=>{"use strict";t.d(r,{O:()=>a,Yb:()=>i,_H:()=>n});var a=(e,r)=>{var{directJourneysFilterSelected:t}=r;return t?(e=>e.filter((e=>1===e.legs.length&&void 0===e.unsellableReason)))(e):e},n=(e,r)=>{var{priceFilterSelected:t,carrierFilterSelected:a,priceFilterValue:n,selectedCarriers:i}=r,o=e;return t&&(o=((e,r)=>e.filter((e=>{var t,a,n=null==e||null===(t=e.firstAlternativeContainer)||void 0===t||null===(t=t.price)||void 0===t?void 0:t.amount,i=null==e||null===(a=e.standardAlternativeContainer)||void 0===a||null===(a=a.price)||void 0===a?void 0:a.amount;return n&&n<=r||i&&i<=r})))(o,n)),a&&(o=((e,r)=>r.length>0?e.filter((e=>{var t;return(null==e||null===(t=e.carrierLogos)||void 0===t?void 0:t.map((e=>e.name))).some((e=>e&&r.includes(e)))})):e)(o,i)),o},i=e=>{var{directJourneysFilterSelected:r}=e;return r}},23374:(e,r,t)=>{"use strict";t.d(r,{Wb:()=>f,lF:()=>R});var a=t(23198),n=t(50093),i=t(29901),o=t(98184),s=t(72222),l=t(49042),c=t(37977),d=t(78113),u=t(26625),p=t(98318),m=t(78809),g=t(23394),v=t(52068),h=(0,a.Z)((0,a.Z)({},g.cp.small),{},{fontFamily:v.R.body.face.fontFamily,letterSpacing:0}),y=n.StyleSheet.create({wrapper:(0,a.Z)((0,a.Z)({minHeight:"96px",backgroundColor:p.dp_app_info_brighter,flexDirection:"row",alignSelf:"flex-start",borderRadius:g.E0.m,boxShadow:"0 2px ".concat(g.W0.s2," 1px rgba(25, 35, 37, 0.2)"),opacity:1,width:"60%"},m.fadeIn),{},{[g.cy.max.m]:{width:"50%"}}),wrapperHidden:(0,a.Z)({},m.fadeOut),titleWrapper:{display:"flex",justifyContent:"space-between"},title:(0,a.Z)({backgroundColor:p.dp_app_info_duller,padding:"".concat(g.W0.s1," ").concat(g.W0.s2),color:p.dp_app_text_inverted,marginLeft:g.W0.s4,borderBottomRightRadius:"3px",borderBottomLeftRadius:"3px",fontWeight:600},h),cross:{alignSelf:"flex-end",margin:"".concat(g.W0.s1," ").concat(g.W0.s1," 0"),cursor:"pointer",width:g.W0.s6,height:g.W0.s6},copy:(0,a.Z)((0,a.Z)({},h),{},{color:p.dp_app_info_duller}),copyBold:{fontWeight:600},copyWrapper:{padding:"6px 14px 14px"},container:{position:"fixed",zIndex:1,bottom:0,left:0,marginLeft:g.W0.s4,marginBottom:g.W0.s4,[g.cy.max.m]:{visibility:"hidden"}},ticketAlertLink:{color:p.dp_app_info_duller,textDecoration:"underline"}}),f=function(e){return e.NEXT_CHEAPEST_PRICE="nextCheapestPrice",e.SOLD_OUT="soldOut",e.TICKET_ALERT="ticketAlert",e}({}),E=8e3,b={UPDATED_LOWER_PRICE_CLICKED:"updated lower price clicked",UPDATED_PRICE_IMPRESSION:"updated lowest price impression"},S={ALTERNATIVE_OFFERED:"lowest cached price not returned- alternative price offered",SOLD_OUT:"sold out - not available",TICKET_ALERT_CLICKED:"ticket alert link clicked",UNCONFIRMED_TIMETABLE:"unconfirmed timetable"},T={coreProperties:{},category:{RESULTS:"results"}.RESULTS,action:b.UPDATED_PRICE_IMPRESSION},C=e=>{var{cachedCheapestPriceAmount:r,availableCheapestPriceAmount:t,cachedCurrencyCode:l,availableCurrencyCode:c}=e;return i.createElement(u.fQ,{hooks:[u.OS.ON_RENDER],event:(0,u.k1)((0,a.Z)((0,a.Z)({},T),{},{label:S.ALTERNATIVE_OFFERED}))},i.createElement(o.FormattedMessage,{id:"page.priceCalendar.cachedPriceMessage.nextCheapestPrice",values:{cachedCheapestPrice:i.createElement(s.Z,{value:r,currency:l}),availableCheapestPrice:i.createElement("span",{className:(0,n.css)(y.copyBold)},i.createElement(s.Z,{value:t,currency:c}))}}))},A=e=>{var{cachedCheapestPriceAmount:r,cachedCurrencyCode:t}=e;return i.createElement(u.fQ,{hooks:[u.OS.ON_RENDER],event:(0,u.k1)((0,a.Z)((0,a.Z)({},T),{},{label:S.SOLD_OUT}))},i.createElement(o.FormattedMessage,{id:"page.priceCalendar.cachedPriceMessage.soldOut",values:{cachedCheapestPrice:i.createElement(s.Z,{value:r,currency:t})}}))},I=(0,u.ZP)((0,o.injectIntl)((e=>{var{sendTracking:r,intl:t}=e;return i.createElement(c.ZP,{id:"page.priceCalendar.cachedPriceMessage.ticketAlertLink",tagsMap:{a:e=>{var{children:n}=e;return i.createElement(l.Z,{href:t.formatMessage({id:"links.page.priceCalendar.cachedPriceMessage.ticketAlertUrl"}),target:"_blank",styleSheet:y.ticketAlertLink,onClick:()=>r((0,u.k1)((0,a.Z)((0,a.Z)({},T),{},{action:b.UPDATED_LOWER_PRICE_CLICKED,label:S.TICKET_ALERT_CLICKED})))},n)}}})}))),_=()=>i.createElement(u.fQ,{hooks:[u.OS.ON_RENDER],event:(0,u.k1)((0,a.Z)((0,a.Z)({},T),{},{label:S.UNCONFIRMED_TIMETABLE}))},i.createElement(i.Fragment,null,i.createElement(o.FormattedMessage,{id:"page.priceCalendar.cachedPriceMessage.ticketAlert"},(e=>i.createElement("div",null,e))),i.createElement(I,null))),P=e=>{var{availableCheapestPrice:r,cachedCheapestPrice:t,messageId:a,timeout:s=E,onHide:l}=e,[c,u]=i.useState(!1),p=i.useCallback((()=>{u(!0),l&&l()}),[l]);i.useEffect((()=>(setTimeout((()=>{p()}),s),()=>p())),[p,c,s]);var m=((e,r,t)=>{switch(e){case f.TICKET_ALERT:return i.createElement(_,null);case f.SOLD_OUT:return Boolean((null==r?void 0:r.amount)&&(null==r?void 0:r.currencyCode))?i.createElement(A,{cachedCheapestPriceAmount:r.amount,cachedCurrencyCode:r.currencyCode}):null;case f.NEXT_CHEAPEST_PRICE:return Boolean((null==r?void 0:r.amount)&&(null==r?void 0:r.currencyCode)&&(null==t?void 0:t.amount)&&(null==t?void 0:t.currencyCode))?i.createElement(C,{cachedCheapestPriceAmount:r.amount,availableCheapestPriceAmount:t.amount,cachedCurrencyCode:r.currencyCode,availableCurrencyCode:t.currencyCode}):null;default:return null}})(a,t,r);return m?i.createElement("div",{className:(0,n.css)(y.wrapper,c&&y.wrapperHidden),"data-test":"cached-price-message-wrapper"},i.createElement("div",{className:(0,n.css)(y.titleWrapper)},i.createElement("span",null,i.createElement("p",{className:(0,n.css)(y.title)},i.createElement(o.FormattedMessage,{id:"page.priceCalendar.cachedPriceMessage.title.".concat(a)}))),i.createElement("span",{onClick:()=>p(),"data-test":"close-icon"},i.createElement(d.Z,{className:(0,n.css)(y.cross)}))),i.createElement("div",{className:(0,n.css)(y.copyWrapper)},i.createElement("p",{className:(0,n.css)(y.copy)},m))):null},R=e=>i.createElement("div",{className:(0,n.css)(y.container),"data-test":"cached-price-message-container"},i.createElement(P,e))},68697:(e,r,t)=>{"use strict";t.d(r,{n:()=>v});var a=t(23198),n=t(29901),i=t(88543),o=t(60654),s=t(94018),l=t(51807),c=t(24087),d=t(14238),u=t(44282),p=t(43288),m=t(35786),g=t(29433),v=(e,r)=>{var t,v={query:(0,a.Z)({},(0,m.V)(e,c.ZP.TRAIN,r?{transportModes:[o.AvailableTransportModes.MIXED]}:{}))},{sendNonActiveResultsAnalyticsFrameworkAction:h,sendAnalyticsFrameworkAction:y}=(t=(0,i.useDispatch)(),{sendAnalyticsFrameworkAction:(0,n.useCallback)((()=>t({type:p.Ij})),[t]),sendNonActiveResultsAnalyticsFrameworkAction:(0,n.useCallback)((()=>t({type:u.o})),[t])}),f=(0,i.useSelector)(s.vR),E=(0,i.useSelector)(g.Jp),b=(0,i.useSelector)((e=>(0,l.Zb)(e,v)||(E?o.LoadStatus.UNDEFINED:o.LoadStatus.PENDING))),S={query:(0,a.Z)({},(0,m.V)(e,c.ZP.COACH,r?{transportModes:[o.AvailableTransportModes.COACH]}:{}))},T=(0,i.useSelector)((e=>(0,l.uB)(e,S)||o.LoadStatus.PENDING)),C=(0,i.useSelector)(d.dC),A=r?T:C,I=(0,n.useRef)(),_=(0,n.useRef)();return(0,n.useEffect)((()=>(r&&"ERROR"!==_.current&&"ERROR"===A&&y(),r||"SUCCESS"===_.current||"SUCCESS"!==A||f!==c.ZP.TRAIN||(I.current=window.setTimeout((()=>{h(),window.clearTimeout(I.current)}),500)),_.current=A,()=>{window.clearTimeout(I.current)}))),{selectedTabLoadStatus:(0,n.useMemo)((()=>f===c.ZP.TRAIN?b===o.LoadStatus.SUCCESS:A===o.LoadStatus.SUCCESS),[f,A,b]),coachOverallLoadStatus:A,trainAvailabilityLoadStatus:b}}},35032:(e,r,t)=>{"use strict";t.d(r,{Z:()=>T});var a=t(98184),n=t(88543),i=t(96172),o=t(2031),s=t(72750),l=t(94018),c=t(29901),d=t(28187),u=t(60654),p=t(50093),m=t(58401),g=t(8888),v=t(23394);const h=p.StyleSheet.create({centeredText:{marginLeft:"auto",marginRight:"auto",whiteSpace:"nowrap",padding:"".concat(v.W0.s2," 0 ").concat(v.W0.s2)}});var y=p.StyleSheet.create({root:{flexBasis:"auto",[g.Z.breakpoints.mobile.small]:{minWidth:"var(--DEPRECATED-140px)"},minWidth:"var(--DEPRECATED-168px)",padding:v.W0.s2}});const f=e=>{var{to:r,disabled:t,skin:n,isActive:i,messageId:o,onClick:s}=e;return c.createElement(m.Z,{disabled:t,isActive:i,to:r,skin:n,styleSheet:y.root,onClick:s},c.createElement("span",{className:(0,p.css)(h.centeredText),"data-test":"".concat(r,"-tab")},c.createElement(a.FormattedMessage,{id:o})))};var E=p.StyleSheet.create({wrapper:{marginBottom:0,display:"inline-grid",gridTemplateColumns:"1fr 1fr",[g.Z.breakpoints.xsmall.min]:{marginLeft:v.W0.s6}}});p.StyleSheet.create({root:{flexBasis:"auto",[g.Z.breakpoints.mobile.small]:{minWidth:"var(--DEPRECATED-140px)"},minWidth:"var(--DEPRECATED-168px)",padding:v.W0.s2}});const b=e=>{var{onTabsChange:r,selectedTab:t,styleSheet:a}=e,n=e=>{t!==e&&r(e)},i={disabled:!1,to:u.CarrierTabType.ALL_TRAINS,skin:"indigoPill",isActive:t===u.CarrierTabType.ALL_TRAINS,onClick:()=>n(u.CarrierTabType.ALL_TRAINS),messageId:"components.carrierFilterTabs.allTrains"},o={disabled:!1,to:u.CarrierTabType.OUR_TRAINS,skin:"indigoPill",isActive:t===u.CarrierTabType.OUR_TRAINS,onClick:()=>n(u.CarrierTabType.OUR_TRAINS),messageId:"components.carrierFilterTabs.ourTrains"};return c.createElement(d.Z,{skin:"pill",styleSheet:void 0!==a?a.root:E.wrapper},c.createElement(f,i),c.createElement(f,o))};var S=(0,o.compose)(i.EN,a.injectIntl,(0,n.connect)((e=>({selectedTab:(0,l.$O)(e)})),(e=>({onTabsChange:r=>e((0,s.zB)({carrierTabType:r}))}))))(b);S.displayName="CarrierFilterTabsComposed";const T=S},90159:(e,r,t)=>{"use strict";t.d(r,{A:()=>h});var a=t(88543),n=t(51059),i=t(78307),o=t(60654),s=t(41344),l=t(83504),c=t(26329),d=t(57833),u=t(84530),p=t(12052),m=t(29433),g=t(29901),v=t(64569),h=()=>{var{isTicketAlertBannerShown:e}=(0,g.useContext)(v.E),r=(0,a.useSelector)(m.z8),t=(0,a.useSelector)(l.FD),h=(0,a.useSelector)((e=>(0,c.A)(e,t))),y=(0,a.useSelector)((e=>(0,u.gT)(e,t))),f=(0,a.useSelector)(n.KR),E=(0,a.useSelector)(n.oy),b=(0,a.useSelector)(n.Q$),S=(0,a.useSelector)(n.O3),{mobile:T}=(0,s.zw)(),C=0===y,A=h===d.h.LOADED,I=f===i.ki.OPEN_RETURN,_=b===o.Experiences.UK_TRAIN,{query:{origin:P,destination:R}}=t,k=((e,r)=>(0,p.B4)().some((t=>t.stationGroup1.includes(e)&&t.stationGroup2.includes(r)||t.stationGroup1.includes(r)&&t.stationGroup2.includes(e))))(P,R);return A&&r&&!T&&_&&!I&&!E&&!S&&C&&k&&!e}},57008:(e,r,t)=>{"use strict";t.d(r,{Z:()=>h});var a=t(98318),n=t(50093),i=t(29901),o=t(98184),s=t(83823),l=t(388),c=t(7127),d=t(25792),u=t(23198),p=t(60289),m=t(83367),g={width:"15px",verticalAlign:"middle",[p.ZP.small.max]:{height:m.spacers.px14}};const v=n.StyleSheet.create({wrapper:{marginLeft:m.spacers.s},nonRail:(0,u.Z)((0,u.Z)({},g),{},{color:a.dp_app_info_mid,transform:"rotate(180deg)"}),disruption:(0,u.Z)((0,u.Z)({},g),{},{color:a.dp_brand_tertiary_dim}),underground:(0,u.Z)((0,u.Z)({},g),{},{color:a.dp_app_info_mid}),replacementBus:(0,u.Z)((0,u.Z)({},g),{},{width:"14px"})});const h=(0,o.injectIntl)((e=>{var{intl:r,type:t}=e;return i.createElement("div",{className:(0,n.css)(v.wrapper),"data-test":"journey-warning-".concat(t),title:t&&t!==d.B.NONE?r.formatMessage({id:"page.ukresults.journeyWarning.message.".concat(t)}):""},(e=>({[d.B.UNDERGROUND]:i.createElement(l.Z,{className:(0,n.css)(v.underground)}),[d.B.NONRAIL]:i.createElement(c.Z,{fill:a.dp_brand_white,className:(0,n.css)(v.nonRail)}),[d.B.DISRUPTION]:i.createElement(c.Z,{fill:a.dp_brand_white,className:(0,n.css)(v.disruption)}),[d.B.REPLACEMENT_BUS]:i.createElement(s.Z,{fill:a.dp_brand_neutral_dullest,className:(0,n.css)(v.replacementBus)}),[d.B.NONE]:void 0}[e]))(t))}))},35926:(e,r,t)=>{"use strict";t.d(r,{Mk:()=>_,iJ:()=>C,nY:()=>I,cu:()=>A,y8:()=>S,VD:()=>T,z2:()=>b});var a=t(23198),n=t(67292),i=t(80609),o=t(25792),s=t(7041),l=t(24087),c=t(48500),d=t(22319),u=t(84025),p=t.n(u),m=t(82768),g=t(99302),v=function(e){return e.ACTUAL="Actual",e.ESTIMATED="Estimated",e.UNCERTAIN="Uncertain",e}({}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.length||!r)return!1;var[t]=e,a=r[t];return!!a&&!(!a.realTime||!a.realTime.isCancelled)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,{at:i="",type:o=v.ESTIMATED}=r,{isCancelled:s=!1,disruptions:l=[]}=e;if(!p()(i,g.f).isValid()||!p()(t,g.f).isValid())return{};var c=p().parseZone(i,g.f).seconds(0).milliseconds(0),d=p().parseZone(t,g.f).seconds(0).milliseconds(0),u=(0,a.Z)((0,a.Z)({},r),{},{isOnTime:c.isSameOrBefore(d),isLate:c.isAfter(d),isCancelled:s,disruptions:l});if(n){var m=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")===v.ACTUAL&&p()(e,g.f).isValid()){var r=p().parseZone(e,g.f).utc().seconds(0).milliseconds(0),t=p()().utc().seconds(0).milliseconds(0);return r.isBefore(t)}return!1}(o,i,s);return(0,a.Z)((0,a.Z)({},u),{},{hasDeparted:m,isDelayed:!m&&r.isDelayed})}return u},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.length||(0,m.xbD)(r))return{};var t=r[e[0]],a=r[e[e.length-1]],n=t&&t.departAt,i=a&&a.arriveAt,o={};return t&&t.realTime&&t.realTime.origin&&t.realTime.origin.departure&&p()(n,g.f).isValid()&&(o.originDeparture=y(t.realTime,t.realTime.origin.departure,n,!0)),a&&a.realTime&&a.realTime.destination&&a.realTime.destination.arrival&&p()(i,g.f).isValid()&&(o.destinationArrival=y(a.realTime,a.realTime.destination.arrival,i)),o},E=t(48728),b=(e,r,t,a)=>t&&{alternativeId:t.alternativeId,fareCategory:t.fareCategory,selectionId:(0,c.Py)(t),price:t.price,fullPrice:t.fullPrice,isSelected:t.alternativeId===a,isCheapest:e&&t.price.amount===r,isAvailable:t.isEnabled,availability:t.availability,isRecommended:t.isRecommended,isSplitSaveJourney:t.isSplitSaveJourney,isMultiFareJourney:t.isMultiFareJourney,savings:t.savings,isSale:t.isSale},S=(e,r)=>e||r,T=e=>{var r=S(e.standardClassAlternative,e.firstClassAlternative);return r?r.selectionId:""},C=e=>({items:e.map((e=>({content:e.message,link:e.disruptionUrl,severity:e.severity})))}),A=(e,r,t,a,s,c,d,u,p,m,g,v,y,T)=>{if(null!=e){var A=a&&a.first,I=a&&a.standard,{id:_,departAt:P,arriveAt:R,legs:k,unsellableReason:N,direction:O,bikeRestrictionStatus:L}=e,{transportWarning:x=o.B.NONE,hasRailReplacementService:D=!1,disruptions:w=[],platforms:Z={},isSplitSaveJourney:F,availableExtras:B}=S(I,A)||{};return{type:l.ZP.TRAIN,journeyId:_,departAt:P,departAtDate:(0,n.Xn)(P),arriveAt:R,departureStation:r,arrivalStation:t,changes:k?k.length-1:0,realTimeOriginDestinationInfo:f(k,m),availableExtras:B,journeyWarningType:x,hasRailReplacementService:D,disruptions:C(w),isCancelled:h(k,m),standardClassAlternative:b(s,c,I,p),firstClassAlternative:b(s,c,A,p),platforms:Z,unsellableReason:N,direction:O,hasBus:(0,E.z)(i.He.BUS,m,d,k),hasFerry:(0,E.z)(i.He.FERRY,m,d,k),showRealTimeInfo:u,cheapestFlexibleAlternative:g,carrierCombinationType:v,hasRecommendedStationPairing:y,mappedCarrierCode:T,isSplitSaveJourney:F,bikeRestrictionStatus:L}}},I=(e,r,t,a)=>{var{standard:n,first:i}=e,o=S(n,i);return{type:l.ZP.TRAIN,journeyId:o.journeyId,departAt:o.departAt,departAtDate:(0,c.gj)(o),arriveAt:o.arriveAt,changes:o.changes,platforms:o.platforms,hasETicket:o.hasETicket,departureStation:o.departureStation,arrivalStation:o.arrivalStation,availableExtras:o.availableExtras,bikeRestrictionStatus:o.journeyBikeRestrictionStatus,journeyWarningType:o.transportWarning,hasRailReplacementService:o.hasRailReplacementService,disruptions:C(o.disruptions),standardClassAlternative:b(r,t,n,a),firstClassAlternative:b(r,t,i,a),direction:o.direction}},_=e=>{var r=e=>(0,s.K7)(e.departAt,e.arriveAt),t=e.filter(d.SQ).map(r),n=Math.min(...t);return t.every((e=>e===n))?e.map((e=>(0,a.Z)((0,a.Z)({},e),{},{isFastest:!1}))):e.map((e=>(0,a.Z)((0,a.Z)({},e),{},{isFastest:(0,d.SQ)(e)&&r(e)===n})))}},92724:(e,r,t)=>{"use strict";t.d(r,{Kf:()=>m,xJ:()=>p});var a=t(82768),n=t(32034),i=t(78307),o=t(97866),s=t(61229),l=t(51059),c=t(7173),d=t(59838),u=t(58959),p=((0,n.P1)(s._F,s.wy,c.yX,c.Xh,o.r4,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!(arguments.length>4&&void 0!==arguments[4]&&arguments[4])||!e.length||!t.length)return!1;var n=(0,u.Hl)(e,t),i=Boolean(a.length)&&(n||(0,u.Hl)(r,a));return r.length?i:n})),(0,n.P1)(s._F,s.wy,l.KR,c.yX,c.Xh,l.n$,((e,r,t,n,o,s)=>{var l=t===i.ki.RETURN&&!(0,a.xbD)(r)&&o.length,c=e.filter(d.v).every((e=>(0,u.e5)(e,n,s)));return l?c&&r.filter(d.v).every((e=>(0,u.e5)(e,o,s))):c}))),m=(0,n.P1)(s._F,s.wy,l.KR,c.yX,c.Xh,l.n$,((e,r,t,n,o,s)=>{var l=t===i.ki.RETURN&&!(0,a.xbD)(r)&&o.length,c=e.filter(d.v).some((e=>(0,u.e5)(e,n,s)));return l?c||r.filter(d.v).some((e=>(0,u.e5)(e,o,s))):c}))},58959:(e,r,t)=>{"use strict";t.d(r,{CC:()=>o,Gk:()=>c,Hl:()=>s,JB:()=>u,e5:()=>p,gX:()=>l,v$:()=>d});var a=t(23198),n=t(64169),i=t(16558),o=()=>(Number(n.nP.getItem(i.ZW))||0)>.5,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e.length||!r.length)return!1;var t=[];return e.forEach((e=>{var{id:a,hasFirstClassRecommendedStationPair:n}=e;if(a){var i,o,s=r.find((e=>{var r,t;return(null===(r=e.standard)||void 0===r?void 0:r.journeyId)===a||(null===(t=e.first)||void 0===t?void 0:t.journeyId)===a})),l=Boolean(null==s||null===(i=s.standard)||void 0===i?void 0:i.isEnabled),c=Boolean(null==s||null===(o=s.first)||void 0===o?void 0:o.isEnabled);(l||c)&&n&&t.push({hasStandardAlternative:l,hasFirstClassAlternative:c})}})),Boolean(t.length&&t.some((e=>{var{hasStandardAlternative:r}=e;return r}))&&t.some((e=>{var{hasFirstClassAlternative:r}=e;return r})))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Boolean((arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((e=>e.isEnabled))&&r.some((e=>e.isEnabled))&&e.some((e=>e.hasFirstClassRecommendedStationPair)))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(e=>!["DKK","JPY","NOR","SEK"].includes(e))(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GBP")&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r-e<=25||1.3*e>=r}(e/t,r/t)},d=function(e){var r,t,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,{standard:l,first:d}=o,u=(null==l||null===(r=l.price)||void 0===r?void 0:r.currencyCode)||(null==d||null===(t=d.price)||void 0===t?void 0:t.currencyCode);return e.hasFirstClassRecommendedStationPair&&u&&null!=l&&null!==(n=l.price)&&void 0!==n&&n.amount&&null!=d&&null!==(i=d.price)&&void 0!==i&&i.amount&&c(l.price.amount,d.price.amount,u,s)?{standard:l,first:(0,a.Z)((0,a.Z)({},d),{},{isRecommended:!0})}:o},u=(e,r,t,n)=>{var i,o,s,l,d=(null==t||null===(i=t.price)||void 0===i?void 0:i.currencyCode)||(null==n||null===(o=n.price)||void 0===o?void 0:o.currencyCode);return e.hasFirstClassRecommendedStationPair&&d&&null!=t&&null!==(s=t.price)&&void 0!==s&&s.amount&&null!=n&&null!==(l=n.price)&&void 0!==l&&l.amount&&c(t.price.amount,n.price.amount,d,r)?{standardPrice:t,firstPrice:(0,a.Z)((0,a.Z)({},n),{},{isRecommended:!0})}:{standardPrice:t,firstPrice:n}},p=(e,r,t)=>{var a,n,i=r.find((r=>{var{standard:t,first:a}=r;return e.id===((null==t?void 0:t.journeyId)||(null==a?void 0:a.journeyId))})),o=d(e,i,t);return Boolean((null===(a=o.first)||void 0===a?void 0:a.isEnabled)&&(null===(n=o.first)||void 0===n?void 0:n.isRecommended))}},84530:(e,r,t)=>{"use strict";t.d(r,{gT:()=>m,v_:()=>u,xm:()=>g});var a=t(82768),n=t(32034),i=t(32274),o=t(19408),s=t(51059),l=t(25162),c=t(59838),d=t(7715),u=e=>(0,n.P1)((e=>e),(r=>"1"===((0,o.mR)(r,e,!0)||"").replace(/\$/,""))),p=(0,n.P1)(i.r,s.fV,(e=>e),((e,r,t)=>e&&(0,d.K3)(t,{query:r})!==d.ex.None)),m=(0,n.P1)(l.N,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.xHg)(Object.values(e).filter(c.v)).length})),g=(0,n.P1)(p,m,((e,r)=>e||r>=2))},32274:(e,r,t)=>{"use strict";t.d(r,{r:()=>i});var a=t(19408),n=t(33695),i=e=>(0,a.eB)(e,n.zA.ENABLE_UK_UPSELL_RAILCARDS_BANNER)},7715:(e,r,t)=>{"use strict";t.d(r,{AI:()=>k,K3:()=>x,Mh:()=>A,Nz:()=>N,Si:()=>_,_G:()=>P,e:()=>R,ex:()=>C,ye:()=>I});var a=t(84025),n=t.n(a),i=t(32034),o=t(71695),s=t(2954),l=t(32274),c=t(68760),d=t(62331),u=t(24879),p=t(7256),m=t(40939),g=t(60054),v=t(51059),h=t(42769),y=t(24087),f=t(94018),E=t(61229),b=t(7173),S=t(578),T=t(17406),C=function(e){return e.None="None",e.Promo="Promo",e.Success="Success",e.Warning="Warning",e}({}),A=(0,i.P1)(l.r,T.lL,((e,r)=>e&&r?r:void 0)),I=(0,i.P1)(A,c.L6,((e,r)=>Boolean(e&&!r))),_=e=>e?S.Q[e]:void 0,P=(e,r)=>{var t=_(r);return t&&Object.values(e).find((e=>e&&e.code===t.cardType.code))},R=(0,i.P1)(A,g.wy,((e,r)=>r?void 0:(0,h.US)(e))),k=(0,i.P1)(d.ic,A,P),N=(0,i.P1)(A,u.n,((e,r)=>{var t,a=e&&(null===(t=S.Q[e])||void 0===t?void 0:t.cardType.id),n=e=>[].concat.apply([],e),i=n(Object.keys(r).map((e=>{var t;return null===(t=r[e])||void 0===t?void 0:t.fares}))),o=[];return i.map((e=>{var r=n(null==e?void 0:e.cards).map((e=>e.cardType.id));o.push(n(r))})),!!(o&&a&&n(o).includes(a))})),O=(0,i.P1)(p.EI,m.fN,v.SR,A,T.VU,b.xQ,(()=>new Date),((e,r,t,a,i,s,l)=>{var c=r===o.vi.ENGLISH,d=e===o.OI.GBP,u=n()(t).isSame(l,"day");return Boolean(a&&s.length||c&&d&&!!s.length&&!u&&!i)})),L=(0,i.P1)(b.xQ,E.ft,E.yp,A,d.ic,((e,r,t,a,n)=>{var i,o=a&&(null===(i=S.Q[a])||void 0===i||null===(i=i.cardType)||void 0===i?void 0:i.code);if(!o)return!1;for(var s of e){var l=r[s.alternativeId];if(l&&l.cards)for(var c of l.cards){var d,u=t[c];if(null!=u&&u.id&&n[null==u?void 0:u.id]&&(null===(d=n[u.id])||void 0===d?void 0:d.code)===o)return!0}}return!1})),x=(0,i.P1)(O,A,v.um,L,s.bo,f.vR,((e,r,t,a,n,i)=>{var o=t.length>0,s=i===y.ZP.TRAIN;return e?r?a&&s?C.Success:C.Warning:o||n||!s?C.None:C.Promo:C.None}))},17406:(e,r,t)=>{"use strict";t.d(r,{VU:()=>p,jd:()=>m,lL:()=>c,nk:()=>d,z6:()=>u});var a=t(84025),n=t.n(a),i=t(64169),o="true",s="UPSELL_RAILCARD_ID",l="hasUpsellRailcardsBannerBeenDismissed",c=()=>i.nP.getItem(s),d=e=>i.nP.setItem(s,e),u=()=>{i.nP.removeItem(s)},p=()=>i.Dr.getItem(l)===o,m=()=>{i.Dr.setItem(l,o,n()().add(1,"hour").toDate())}},2954:(e,r,t)=>{"use strict";t.d(r,{O7:()=>f,bo:()=>h,dI:()=>E,o6:()=>y,oM:()=>v});var a=t(32034),n=t(98831),i=t(29433),o=t(32143),s=t(68117),l=t(26367),c=t(62331),d=t(26532),u=t(61229),p=t(51059),m=t(7173),g=(0,a.P1)(c.ic,p.um,((e,r)=>r.filter((r=>e[r]&&e[r].code===d.bT)).length>0)),v=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.values(t).find((e=>"GS3"===(null==e?void 0:e.industryCode)));return!!a&&e.reduce(((e,r)=>e.concat(r.fares)),[]).some((e=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.appliedDiscount)===a.id}))},h=(0,a.P1)(m.xQ,u.ng,l.Zk,g,((e,r,t,a)=>!a&&v(e,r,t))),y=(0,a.P1)(n.rb,h,((e,r)=>e===s.N.READY_TO_DISPLAY&&r)),f=(0,a.P1)(i.mM,p.iK,((e,r)=>e&&!r)),E=(0,a.P1)(m.yX,m.Xh,o.pp,o.qF,((e,r,t,a)=>{var n=t[0],i=a[0],o=(e||[]).reduce(((e,r)=>{var t,a;return n&&(null===(t=r.first)||void 0===t?void 0:t.alternativeId)===(null==n?void 0:n.id)?r.first:n&&(null===(a=r.standard)||void 0===a?void 0:a.alternativeId)===(null==n?void 0:n.id)?r.standard:e}),void 0),s=(r||[]).reduce(((e,r)=>{var t,a;return i&&(null===(t=r.first)||void 0===t?void 0:t.alternativeId)===(null==i?void 0:i.id)?r.first:i&&(null===(a=r.standard)||void 0===a?void 0:a.alternativeId)===(null==i?void 0:i.id)?r.standard:e}),void 0);return null!=s&&s.savings&&null!=o&&o.savings?{amount:s.savings.amount+o.savings.amount,currencyCode:o.savings.currencyCode}:(null==o?void 0:o.savings)||(null==s?void 0:s.savings)}))},26329:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var a=t(32034),n=t(60654),i=t(57833),o=t(51807),s=(0,a.P1)(o.PE,(e=>e&&e.status!==n.LoadStatus.PENDING?i.h.LOADED:i.h.SKELETON))},16558:(e,r,t)=>{"use strict";t.d(r,{Dc:()=>i,ZW:()=>n,eA:()=>o,i4:()=>s,vK:()=>a});var a=0,n="upsellPropensity",i="Under 25 Advance",o="Advance Single",s="cxtrad"},61945:(e,r,t)=>{"use strict";t.d(r,{W:()=>p});var a=t(41344),n=t(33337),i=t(48977),o=t(88543),s=t(51282),l=t(61229),c=t(83504),d=t(18332),u=t(33695),p=()=>{var e=(0,o.useSelector)((e=>(0,c.FD)(e))),{experimentsDict:r}=(0,d.zM)(["experimentsDict"],{shouldTrackExperiments:!1}),t=(0,i.uF)(r,u.zA.ENABLE_AUTO_APPLY_PROMO_CODES),{deviceType:p}=(0,a.zw)(),m=p===n.WO.MOBILE,g=(0,o.useSelector)((r=>(0,l.XA)(r,e))),{voucherInput:v}=(0,o.useSelector)(s.gH),h=Boolean(v);return{isAutoApplyExperimentVariant:"$1"===t&&!h&&m,hasCalculatedPrice:g}}},55644:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var a=t(50093),n=t(29901),i=t(96172),o=t(16900),s=t(56443),l=t(8415),c=t(23394);const d=a.StyleSheet.create({depotPadding:{padding:"".concat(c.W0.s1," ").concat(c.W0.s2)}});var u=t(94575);const p=(0,i.EN)((0,o.Z)((e=>{var{onClick:r,labelId:t="page.matrix.back",styleSheet:i,hideBackChevron:o,affiliate:c}=e,p=(0,u.YB)();return n.createElement(s.ZP,{text:p.formatMessage({id:t}),onClick:e=>{var t;e.preventDefault(),c?(t=c.href,window.location.href=t):r&&r(e)},className:(0,a.css)(i,d.depotPadding),buttonType:"tertiary",icon:o?void 0:l.Z,size:"small","data-test":"backButton","aria-label":p.formatMessage({id:t})})})))},83982:(e,r,t)=>{"use strict";t.d(r,{q:()=>p,Z:()=>m});var a=t(36841),n=t(29901);const i=()=>n.createElement("svg",{width:"21",height:"18",viewBox:"0 0 21 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M12.1152 4.4771L10.8872 7.83187C10.8554 7.90568 10.8554 8.0006 10.8872 8.08505L12.1151 11.4398C12.2316 11.7563 12.6762 11.7563 12.8032 11.4398L14.0204 8.08505C14.0522 8.01124 14.0522 7.91616 14.0204 7.83187L12.7928 4.47695C12.6763 4.16044 12.2211 4.16044 12.1152 4.47695V4.4771ZM4.38788 11.4505L5.84854 7.4414C5.86986 7.3887 5.88035 7.31489 5.8592 7.26203L4.64187 3.92837C4.57825 3.74901 4.70549 3.55917 4.90652 3.55917H7.27756L8.35747 0.594715C8.43143 0.383604 8.54785 0.193762 8.69608 0.0143967H1.09581C0.333671 0.0143967 -0.195629 0.763605 0.0690212 1.47027L3.71035 11.4505C3.82677 11.7668 4.28195 11.7668 4.38788 11.4505Z",fill:"#00874F"}),n.createElement("path",{d:"M17.7872 0.0144492L14.5269 8.93955L13.5106 11.7142C13.3519 12.1573 12.9392 12.4527 12.4628 12.4634C12.6111 12.8853 13.4367 15.1218 13.4367 15.1218C13.86 16.2927 15.5219 16.2927 15.9454 15.1218L20.931 1.47033C21.1956 0.752864 20.6663 0.00413176 19.9042 0.00413176H17.7873V0.014608L17.7872 0.0144492ZM6.30207 15.9973C6.77841 15.9973 7.17013 15.7021 7.35017 15.2062L11.3513 4.21335C11.5101 3.77017 11.9229 3.47477 12.3994 3.46414L12.1029 2.66255L11.4572 0.890165C11.4465 0.858419 11.436 0.837308 11.4254 0.816197C11.0338 -0.270313 9.49886 -0.270313 9.09664 0.805721L5.10605 11.7564C4.93667 12.1784 4.53445 12.4527 4.0686 12.4632C4.21683 12.8853 5.04243 15.1218 5.04243 15.1218C5.26478 15.7126 5.78358 15.9973 6.30207 15.9973Z",fill:"#004C45"}));const o=()=>n.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M2.45067 13.2093C2.39028 13.3839 2.19428 13.4752 2.02083 13.4144C1.92283 13.3839 1.84749 13.308 1.81724 13.2093L0.0679765 8.51643C-0.0226588 8.22784 -0.0226588 7.91654 0.0679765 7.6356L1.81724 2.94263C1.8851 2.76797 2.08122 2.67687 2.25456 2.74525C2.34508 2.78326 2.42053 2.85153 2.45055 2.94274L4.20004 7.6356C4.29045 7.92418 4.29045 8.23549 4.20004 8.51643L2.45067 13.2094V13.2093ZM5.38386 5.27393C5.31588 5.44859 5.11988 5.53969 4.94654 5.47142C4.85602 5.43341 4.78056 5.36514 4.75054 5.27393L3.00094 0.581073L2.97828 0.512693C2.9708 0.482327 2.96332 0.451962 2.96332 0.414062C2.96332 0.209037 3.1216 0.0495605 3.32519 0.0495605H6.79392C6.99751 0.0495605 7.15589 0.216571 7.15589 0.414062C7.15589 0.444428 7.15589 0.482327 7.14071 0.512693L7.11805 0.581073L5.38386 5.27404V5.27393ZM11.2428 5.27393C11.1748 5.44859 10.9788 5.53969 10.8054 5.47142C10.7148 5.43341 10.6395 5.36514 10.6093 5.27393L8.86754 0.581073L8.84488 0.512693C8.83729 0.482327 8.82981 0.451962 8.82981 0.414062C8.82981 0.216571 8.9882 0.0495605 9.19179 0.0495605H12.6603C12.8639 0.0495605 13.0223 0.216571 13.0223 0.414062C13.0223 0.444428 13.0223 0.482327 13.0072 0.512693L12.9845 0.581073L11.2428 5.27404V5.27393Z",fill:"#63666A"}),n.createElement("path",{d:"M8.31773 13.2088C8.25746 13.3834 8.06135 13.4747 7.88789 13.4139C7.78989 13.3834 7.71455 13.3075 7.6843 13.2088L5.93504 8.51592C5.84441 8.22734 5.84441 7.91603 5.93504 7.63509L7.6843 2.94212C7.75228 2.76746 7.94828 2.67637 8.12162 2.74475C8.21225 2.78276 8.28759 2.85103 8.31773 2.94224L10.0671 7.63509C10.1576 7.92368 10.1576 8.23499 10.0671 8.51592L8.31784 13.2089L8.31773 13.2088Z",fill:"#FF8200"}),n.createElement("path",{d:"M14.1826 13.2091C14.1223 13.3837 13.9263 13.475 13.7529 13.4142C13.6549 13.3837 13.5794 13.3078 13.5493 13.2091L11.7999 8.51623C11.7094 8.22764 11.7094 7.91634 11.7999 7.6354L13.5492 2.94243C13.6171 2.76777 13.8131 2.67667 13.9866 2.74505C14.0771 2.78307 14.1525 2.85133 14.1826 2.94254L15.932 7.6354C16.0226 7.92399 16.0226 8.23529 15.932 8.51623L14.1826 13.2091ZM5.38304 10.7868C5.31506 10.6121 5.11906 10.5209 4.94572 10.5893C4.8552 10.6273 4.77975 10.6956 4.74973 10.7868L3.00012 15.4872L2.97746 15.5557C2.92478 15.7531 3.04544 15.9504 3.24144 16.0036C3.27158 16.0112 3.30183 16.0188 3.33196 16.0188H6.80046C7.00405 16.0188 7.16244 15.8517 7.16244 15.6467C7.16244 15.6163 7.15496 15.5859 7.14737 15.5556L7.12471 15.4872L5.38304 10.7868ZM11.2419 10.7868C11.174 10.6121 10.978 10.5209 10.8046 10.5893C10.714 10.6273 10.6386 10.6956 10.6085 10.7868L8.86672 15.4872L8.84406 15.5557C8.79127 15.7531 8.91193 15.9504 9.10804 16.0036C9.13817 16.0112 9.16831 16.0188 9.19845 16.0188H12.6671C12.8707 16.0188 13.0289 15.8517 13.0289 15.6467C13.0289 15.6163 13.0214 15.5859 13.0139 15.5556L12.9912 15.4872L11.2419 10.7868Z",fill:"#63666A"}));var s=t(23198),l=t(98318),c=t(50093),d=t(23394);const u=c.StyleSheet.create({logoWrapper:{display:"flex",alignItems:"center",flexShrink:0},tocPlusOthers:(0,s.Z)((0,s.Z)({},d.cp.micro),{},{color:l.dp_app_selection_bright,fontWeight:"bold",marginLeft:d.W0.s1})});var p=function(e){return e.TARGETED_CARRIER="TARGETED_CARRIER",e.TARGETED_PLUS_OTHER_CARRIER="TARGETED_PLUS_OTHER_CARRIER",e.OTHER_CARRIER="OTHER_CARRIER",e}({});const m=e=>{var{carrierCombinationType:r}=e;switch(r){case p.TARGETED_CARRIER:return n.createElement("div",{className:(0,a.css)(u.logoWrapper),"data-test":"wmr-lnr-logo"},n.createElement(o,null),n.createElement(i,null));case p.TARGETED_PLUS_OTHER_CARRIER:return n.createElement("div",{className:(0,a.css)(u.logoWrapper),"data-test":"wmr-lnr-logo-plus-others"},n.createElement("span",{className:(0,a.css)(u.logoWrapper)},n.createElement(o,null),n.createElement(i,null)),n.createElement("span",{className:(0,a.css)(u.tocPlusOthers)},"+ others"));case p.OTHER_CARRIER:default:return null}}},63429:(e,r,t)=>{"use strict";t.d(r,{F:()=>d,Z:()=>u});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(52068),c={backgroundColor:"transparent"},d={padding:0,backgroundColor:"transparent",border:"none",color:n.dp_app_info_mid,textAlign:"left",whiteSpace:"nowrap",":focus":c,":hover":{backgroundColor:"transparent !important"},":active":c,":focus-visible":{outline:"4px solid ".concat(n.dp_comp_focus_ring)},textDecoration:"underline"};const u=i.StyleSheet.create({duration:(0,a.Z)((0,a.Z)({},l.W.small),{},{display:"flex",flexWrap:"wrap",alignItems:"center",color:n.dp_app_text_subdued}),durationTripDetails:{fontSize:"15px",color:n.dp_app_text_base,[s.cy.max.s]:(0,a.Z)((0,a.Z)({},l.W.body),{},{lineHeight:"20px"})},alert:{marginRight:s.W0.s2,height:o.Z.sizes.spacers.px17,width:o.Z.sizes.spacers.px17,fill:n.dp_app_warning_mid,position:"relative",top:o.Z.sizes.spacers.px3},coachDuration:{marginTop:s.W0.s1},durationWarning:{marginTop:"0.0875rem"},changesLink:(0,a.Z)((0,a.Z)({},d),{},{[s.cy.max.s]:{color:n.dp_app_link_base}}),changesLinkOnHover:(0,a.Z)((0,a.Z)({},d),{},{color:n.dp_app_text_subtle}),changesWarning:{display:"flex",alignItems:"center"},changes:{display:"flex",textDecoration:"underline",[s.cy.max.s]:{color:n.dp_app_text_subtle}},mobile:{fontSize:"15px",[s.cy.max.s]:{boxShadow:"0 1px 1px 0 ".concat(n.dp_brand_neutral_dim),background:n.dp_app_backdrop_base,border:"1px solid ".concat(n.dp_app_border_base),borderRadius:s.E0.m,width:"auto",padding:s.W0.s1,alignItems:"unset"},display:"flex",alignItems:"center"},colouredDurationChanges:(0,a.Z)((0,a.Z)({},d),{},{color:n.dp_app_info_mid,fontWeight:400,":hover":{color:n.dp_comp_button_secondary_background_hover}})})},7864:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>T});var a=t(50093),n=t(29901),i=t(98184),o=t(89426),s=t(14023),l=t(61666),c=t(47229),d=t(60654),u=t(75853),p=t(25792),m=t(24087),g=t(32443),v=t(57008),h=t(63429),y=e=>{var{changes:r}=e;return n.createElement(i.FormattedMessage,{id:"page.matrix.journeyHeader.changes",values:{num:r}})},f=()=>n.createElement("span",{"data-test":"comma-and-space"},","),E=e=>{var{journeyWarningType:r,type:t,isTripDetails:a,styleSheet:n,onHover:i,enableJourneyDetailsLinkBlueColor:o}=e,s=r&&r!==p.B.NONE;return{durationStyles:[h.Z.duration,n&&n.duration],coachDurationStyles:t===m.ZP.COACH?[h.Z.coachDuration,n&&n.coachDuration]:void 0,tripDetailsStyles:a?[h.Z.durationTripDetails,n&&n.durationTripDetails]:void 0,durationWarningStyles:s?[h.Z.durationWarning,n&&n.durationWarning]:void 0,changesWarningStyles:s?[h.Z.changesWarning,n&&n.changesWarning]:void 0,changesLinkStyles:i?[h.Z.changesLinkOnHover,n&&n.changesLinkOnHover]:[h.Z.changesLink,n&&n.changesLink],mobileStyles:[h.Z.mobile,n&&n.mobile],alertStyles:[h.Z.alert,n&&n.alert],changesStyles:[h.Z.changes,n&&n.changes],durationChangesStyles:o?[h.Z.colouredDurationChanges]:void 0}},b=e=>{var{departAt:r,arriveAt:t,disruptions:i,changes:o,testId:p="mobile-duration-and-changes"}=e,{durationStyles:m,coachDurationStyles:v,mobileStyles:h,alertStyles:b,changesStyles:S}=E(e),{portal:T}=(0,u.x)(),C=T===d.Portal.TRAINLINE;return n.createElement(s.Z,{as:"div",textType:"body",className:(0,a.css)(m,v,h),testId:p,fontFamily:"systemFont"},i&&i.items&&i.items.length>0&&(C?n.createElement(l.Z,{className:(0,a.css)(b)}):n.createElement(c.Z,{className:(0,a.css)(b)})),n.createElement(g.Z,{start:r,end:t}),n.createElement(f,null),n.createElement("div",{className:(0,a.css)(S)},n.createElement(y,{changes:o})))},S=e=>{var{departAt:r,arriveAt:t,changes:i,type:s,journeyWarningType:l,isTripDetails:c,testId:d="desktop-duration-and-changes",enableJourneyDetailsLinkBlueColor:u}=e,h=l&&l!==p.B.NONE,{durationStyles:b,tripDetailsStyles:S,coachDurationStyles:T,durationWarningStyles:C,changesWarningStyles:A,changesLinkStyles:I,durationChangesStyles:_}=E(e);return n.createElement("div",{className:(0,a.css)(b,S,T,C,_),"data-test":d},u?n.createElement("div",{className:(0,a.css)(A)},s===m.ZP.TRAIN||c?n.createElement(o.C9,{styleSheet:[I,_]},n.createElement(g.Z,{start:r,end:t}),n.createElement(f,null),n.createElement(y,{changes:i})):n.createElement(n.Fragment,null,n.createElement(g.Z,{start:r,end:t}),n.createElement(f,null),n.createElement(y,{changes:i})),h&&n.createElement(v.Z,{type:l})):n.createElement(n.Fragment,null,n.createElement(g.Z,{start:r,end:t}),n.createElement(f,null),n.createElement("div",{className:(0,a.css)(A)},s===m.ZP.TRAIN||c?n.createElement(o.C9,{styleSheet:I},n.createElement(y,{changes:i})):n.createElement(y,{changes:i}),h&&n.createElement(v.Z,{type:l}))))};const T=e=>e.isMobile?n.createElement(b,e):n.createElement(S,e)},91110:(e,r,t)=>{"use strict";t.d(r,{Z:()=>y});var a=t(50093),n=t(29901),i=t(14023),o=t(23198),s=t(98318),l=t(23394);const c=a.StyleSheet.create({wrapper:{display:"flex",width:"100%",marginBottom:l.W0.s1,[l.cy.min.m]:(0,o.Z)((0,o.Z)({},l.cp.mini),{},{color:s.dp_app_text_subdued,marginBottom:"2px"})},box:{verticalAlign:"top",[l.cy.min.xl]:{width:"80px"},[l.cy.max.l]:{width:"70px"},[l.cy.max.s]:{width:"106px"},[l.cy.max.xs]:{width:"92px"}},boxLeft:{[l.cy.min.xl]:{marginRight:l.W0.s2},[l.cy.max.l]:{marginRight:l.W0.s1},[l.cy.max.s]:{marginRight:l.W0.s4},[l.cy.max.xs]:{marginRight:l.W0.s2}},desktopWidth:{}});var d=t(8888),u=t(83367),p=t(34111);const m=a.StyleSheet.create({wrapper:{display:"flex",marginBottom:u.spacers.xs,[d.Z.breakpoints.small.min]:(0,o.Z)((0,o.Z)({},p.W.tiny),{},{color:s.dp_app_text_subtle,marginBottom:u.spacers.xxs})},box:{width:"88px",[d.Z.breakpoints.xxs.min]:{width:"103px"},[d.Z.breakpoints.small.min]:{display:"inline-block",flexBasis:"4.1125rem",width:"unset"},verticalAlign:"top"},boxLeft:{marginRight:"8px",[d.Z.breakpoints.xxs.min]:{marginRight:"12px"},[d.Z.breakpoints.small.min]:{marginRight:u.spacers.s}},desktopWidth:{maxWidth:u.spacers.px84}});var g=e=>e?c:m,v=e=>{var{styleSheet:r,departureStation:t,arrivalStation:o,applyRealTimeStyles:s}=e,l=g(s);return n.createElement("div",{className:(0,a.css)(l.wrapper,r&&r.wrapper)},n.createElement(i.Z,{as:"div",textType:s?"micro":"small",textColor:"subdued2",className:(0,a.css)(l.box,l.boxLeft,r&&[r.boxLeft,r.box]),"data-test":"outbound-station-name",fontFamily:"systemFont"},t),n.createElement(i.Z,{as:"div",textType:s?"micro":"small",textColor:"subdued2",className:(0,a.css)(l.box,r&&[r.box,r.boxRight]),"data-test":"inbound-station-name",fontFamily:"systemFont"},o))},h=e=>{var{styleSheet:r,departureStation:t,arrivalStation:i,applyRealTimeStyles:o}=e,s=g(o);return n.createElement("div",{className:(0,a.css)(s.wrapper,r&&r.wrapper)},n.createElement("div",{className:(0,a.css)(s.boxLeft,s.box,r&&[r.boxLeft,r.box],s.desktopWidth),"data-test":"outbound-station-name"},t),n.createElement("div",{className:(0,a.css)(s.box,r&&r.box,s.desktopWidth),"data-test":"inbound-station-name"},i))};const y=e=>e.isMobile?n.createElement(v,e):n.createElement(h,e)},22319:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>Wr,GM:()=>Hr,SQ:()=>jr});var a=t(64321),n=t(41344),i=t(33337),o=t(98318),s=t(86109),l=t(50093),c=t(29901),d=t(98184),u=t(44689),p=t(64047),m=t(55989),g=t(14023),v=t(95067),h=t(28856),y=t(31872),f=t(78307),E=t(89426),b=t(13035),S=t(91557),T=t(78877),C=t(79549),A=t(88065),I=t(48500),_=t(14238),P=e=>({price:null==e?void 0:e.price,fullPrice:null==e?void 0:e.fullPrice,isAvailable:null==e?void 0:e.isAvailable,isRecommended:null==e?void 0:e.isRecommended}),R=(e,r)=>({amount:e.amount+r.amount,currencyCode:e.currencyCode||r.currencyCode}),k=(e,r)=>({price:r.price&&e.price&&R(e.price,r.price),fullPrice:e.fullPrice&&r.fullPrice&&R(e.fullPrice,r.fullPrice),isAvailable:e.isAvailable||r.isAvailable}),N=(e,r,t,a,n)=>n===f.ki.RETURN||n===_.y8.EACH_WAY?((e,r,t,a)=>{var n=!(!e&&!t),i=t||n&&a,o=e||n&&r;return{standardPrice:o&&i&&k(o,i)||void 0,firstPrice:r&&a&&k(r,a)}})(e,r,t,a):{standardPrice:e&&P(e),firstPrice:r&&P(r)},O=t(52718),L=t(25792),x=t(26067),D=t(24087),w=t(35926),Z=t(41325),F=t(17836);const B=e=>{var{className:r,fill:t}=e;return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"7",viewBox:"0 0 11 7",className:r},c.createElement("g",{fill:t||"#FFF",fillRule:"evenodd"},c.createElement("g",{transform:"translate(0 1.5)"},c.createElement("rect",{width:"4",height:"1",x:"2",rx:".5"}),c.createElement("rect",{width:"4",height:"1",x:"2",y:"4",rx:".5"}),c.createElement("rect",{width:"4",height:"1",y:"2",rx:".5"})),c.createElement("path",{fillRule:"nonzero",d:"M8.72 3.741l1.474.395-3.588 2.64.868-3.241L6 3.14 9.588.5z"})))};var M=t(23198),U=t(60289),j=t(83367),H=t(52068);const W=l.StyleSheet.create({highlightTextCustomStyle:{backgroundColor:o.dp_app_info_bright,width:"fit-content",margin:"0 auto 0 0",[U.ZP.small.max]:{marginTop:"".concat(j.spacers.xs)},display:"flex",alignItems:"center"},fastest:(0,M.Z)((0,M.Z)({},H.W.small),{},{fontWeight:"bold",color:o.dp_app_text_inverted}),fastestIcon:{width:"var(--DEPRECATED-14px)",height:"var(--DEPRECATED-10px)",marginLeft:"".concat(j.spacers.xxs)}});const G=()=>c.createElement(F.Z,{styleSheet:W},c.createElement("span",{className:(0,l.css)(W.fastest)},c.createElement(d.FormattedMessage,{id:"page.coach.resultsItem.fastest"})),c.createElement(B,{className:(0,l.css)(W.fastestIcon)}));var V=t(37583),Y=t(64997),K=t(15910),z=t(547),J=t(83982),q=t(88543),Q=t(83504),X=t(18332),$=t(57839),ee=t(92724),re=t(58959),te=t(84530),ae=t(37527),ne=t(55330),ie=t(88470),oe=t(23394),se=t(99366),le=t(4385),ce=t(94878),de=t(63429),ue=l.StyleSheet.create({wrapper:{position:"relative",display:"block",textAlign:"left",width:"100%",listStyleType:"none",borderBottom:"1px solid ".concat(o.dp_app_border_base),backgroundColor:o.dp_brand_white,padding:oe.W0.s4,[oe.cy.minMax.s]:{padding:"".concat(oe.W0.s4," ").concat(oe.W0.s6),marginBottom:"".concat(oe.W0.s2),border:"none",boxShadow:"0 2px 6px 0 rgba(0, 0, 0, 0.12), 0 0 ".concat(oe.W0.s1," 0 rgba(0, 0, 0, 0.12)")}},wrapperMetasearchVariant:{position:"relative",display:"block",textAlign:"left",width:"100%",listStyleType:"none",backgroundColor:o.dp_brand_white,padding:oe.W0.s4,[oe.cy.minMax.s]:{padding:"".concat(oe.W0.s4," ").concat(oe.W0.s6),marginBottom:"".concat(oe.W0.s2),border:"none",boxShadow:"0 2px 6px 0 rgba(0, 0, 0, 0.12), 0 0 ".concat(oe.W0.s1," 0 rgba(0, 0, 0, 0.12)")},border:"solid 1px ".concat(o.dp_brand_white),borderBottom:"1px solid ".concat(o.dp_app_border_base)},durationChangeSkeltonWrapper:{background:"transparent"},wrapperHasLabel:{[oe.cy.max.s]:{paddingTop:"20px"}},wrapperTrains:{minHeight:"72px"},wrapperCoach:{cursor:"pointer",":hover":{backgroundColor:o.dp_brand_neutral_brightest}},main:{display:"flex",justifyContent:"left",width:"100%",[oe.cy.max.s]:{justifyContent:"space-between"}},centerPrice:{padding:oe.W0.s2,marginTop:"3px"},price:{width:"unset",paddingLeft:oe.W0.s1},notAvailablePriceRadio:{paddingRight:0},selected:{cursor:"default",backgroundColor:o.dp_brand_primary_brighter,border:"solid 2px ".concat(o.dp_brand_primary_mid),[oe.cy.max.s]:{background:o.dp_brand_neutral_brighter,boxShadow:"none"}},selectedMetasearchVariant:{cursor:"default",margin:0,border:"solid 1px ".concat(o.dp_brand_secondary_duller),[oe.cy.max.s]:{border:"none",background:o.dp_brand_neutral_brighter,boxShadow:"none"}},selectedMetasearchVariantByPartner:{paddingTop:"calc(3rem + 16px);",[oe.cy.minMax.s]:{paddingTop:"calc(3rem + 16px);"}},selectedMetasearchVariantByPartnerUnavailable:{paddingTop:"calc(2.5rem + 16px)",[oe.cy.minMax.s]:{paddingTop:"calc(2.5rem + 16px)"}},durationFastestContainer:{display:"flex",width:"100%",[oe.cy.max.s]:{flexDirection:"column",width:"auto"},alignItems:"baseline"},trainDurationContainer:{display:"flex",marginTop:oe.W0.s2,flexBasis:"100%",justifyContent:"space-between",alignItems:"center",[oe.cy.max.s]:{marginTop:oe.W0.s4},marginLeft:"-3px"},duration:{display:"flex",alignItems:"center"},coachDuration:{marginRight:oe.W0.s6},trainDuration:{cursor:"pointer",padding:"2px ".concat(oe.W0.s1),marginLeft:"-2px"},timesContainer:{display:"flex",alignItems:"center"},trainDurationHoverStyle:{backgroundColor:(0,ce.I)(le.ZP.dp_brand_secondary_duller,.05),borderRadius:oe.E0.m},column:{display:"flex",flexDirection:"column"},columnTimes:{marginRight:oe.W0.s2,width:"auto"},columnPrices:{width:"50%",[oe.cy.minMax.m]:{maxWidth:"90px"}},trainColumnTimes:{marginRight:oe.W0.s1,[oe.cy.max.s]:{marginRight:0},":hover":{cursor:"pointer"}},pricesWrapper:{display:"flex",justifyContent:"flex-end",[oe.cy.min.m]:{width:"100%"}},pricesWrapperSingleResult:{justifyContent:"center",width:"100%",[oe.cy.max.s]:{maxWidth:"190px",justifyContent:"flex-end"}},spaceRight:{marginRight:oe.W0.s1,[oe.cy.min.xl]:{marginRight:oe.W0.s2}},spaceRightCoach:{alignItems:"flex-end",[oe.cy.min.xl]:{marginRight:oe.W0.s1}},fromToStationsContainer:{marginTop:oe.W0.s1,display:"flex",width:"100%"},notAvailable:{opacity:.54},singleNotAvailable:{width:"100%"},ticketInfo:{display:"flex",alignItems:"center",color:o.dp_app_text_subdued,fontSize:oe.W0.s3,justifyContent:"flex-end"},ticketInfoIcon:{marginLeft:oe.W0.s1,display:"inline-flex",flexShrink:0},coachService:{display:"flex",alignItems:"center",marginTop:"6px"},busIcon:{width:oe.W0.s4,height:oe.W0.s4,marginRight:"5px"},iconBike:{flexShrink:0,[oe.cy.max.m]:{marginLeft:oe.W0.s2}},optionsContainerTrain:{display:"grid",flexDirection:"row",alignItems:"center",[oe.cy.min.m]:{display:"flex",gap:oe.W0.s2}},optionsContainerCoach:{display:"flex",flexDirection:"column",[oe.cy.min.m]:{gap:oe.W0.s2,flexDirection:"row"}},bikeWithSplitSaveWrapper:{display:"flex"},bikeWithoutSplitSaveWrapper:{display:"flex",justifyContent:"flex-end",gap:oe.W0.s2},bikeIcon:{pointerEvents:"none"},bikeIconButton:{display:"flex",cursor:"default"}}),pe={wrapper:{fontSize:se.cp.large.fontSize,lineHeight:se.cp.large.lineHeight,fontFamily:se.cp.title3.fontFamily,fontWeight:se.cp.title3.fontWeight},toColumn:{width:"var(--DEPRECATED-42px)",textAlign:"right"},fromColumn:{width:"var(--DEPRECATED-42px)",textAlign:"left"},arrowColumn:{width:"var(--DEPRECATED-18px)",textAlign:"center",flexShrink:0},icon:{marginTop:"-1px"},timeUSFormat:{width:"59px",marginRight:"6px"}},me=(l.StyleSheet.create(pe),l.StyleSheet.create((0,M.Z)((0,M.Z)({},pe),{},{toColumn:(0,M.Z)((0,M.Z)({},pe.toColumn),{},{textAlign:"left",width:"2.8rem"}),fromColumn:(0,M.Z)((0,M.Z)({},pe.fromColumn),{},{width:"2.8rem"}),arrowColumn:(0,M.Z)((0,M.Z)({},pe.arrowColumn),{},{width:"var(--DEPRECATED-25px)"})})),l.StyleSheet.create((0,M.Z)((0,M.Z)({},pe),{},{wrapper:(0,M.Z)((0,M.Z)({},pe.wrapper),{},{alignItems:"flex-start"}),arrowColumn:(0,M.Z)((0,M.Z)({},pe.arrowColumn),{},{marginTop:"1px",lineHeight:oe.W0.s3,width:oe.W0.s6,[oe.cy.max.l]:{minWidth:oe.W0.s6,marginLeft:"2px",marginTop:0}}),toColumn:{width:"80px",[oe.cy.max.m]:{width:"70px"}},fromColumn:{textAlign:"left"},departureTimeColumn:{width:"80px",display:"block",marginRight:oe.W0.s2,[oe.cy.max.l]:{width:"70px",marginRight:oe.W0.s1}},timeContainerRight:{[oe.cy.minMax.s]:{minWidth:"80px"}}}))),ge=l.StyleSheet.create({duration:(0,M.Z)((0,M.Z)({},se.cp.small),{},{display:"flex",color:o.dp_app_text_subdued,height:oe.W0.s4}),changesLink:(0,M.Z)((0,M.Z)({},de.F),{},{color:o.dp_app_text_subtle})}),ve=l.StyleSheet.create({container:{height:"18px"},alert:{marginRight:oe.W0.s1}}),he=l.StyleSheet.create({boxRight:{[oe.cy.max.s]:{width:"85px"}}}),ye=t(53897),fe=t(34111);const Ee=l.StyleSheet.create({wrapper:{position:"relative",display:"block",width:"100%",listStyleType:"none",borderBottom:"1px solid ".concat(o.dp_app_border_base),padding:"20px 16px 16px",[oe.cy.min.s]:{padding:"20px 24px 16px"},[oe.cy.max.s]:{marginBottom:"".concat(j.spacers.px8),paddingTop:j.spacers.px18,paddingBottom:j.spacers.px16,border:"none",boxShadow:"0 ".concat(j.spacers.px2," ").concat(j.spacers.px6," 0 rgba(0, 0, 0, 0.12), 0 0 ").concat(j.spacers.px4," 0 rgba(0, 0, 0, 0.12)")},[oe.cy.min.m]:{borderBottom:"1px solid ".concat(o.dp_app_border_base),padding:"".concat(oe.W0.s2," ").concat(oe.W0.s4)},backgroundColor:o.dp_app_backdrop_base},wrapperMetasearchVariant:{position:"relative",display:"block",width:"100%",listStyleType:"none",backgroundColor:o.dp_app_backdrop_base,border:"solid 1px ".concat(o.dp_app_backdrop_base),borderBottom:"1px solid ".concat(o.dp_app_border_base),padding:"20px 16px 16px",[oe.cy.min.s]:{padding:"20px 24px 16px"},[oe.cy.max.s]:{marginBottom:"".concat(j.spacers.px8),paddingTop:j.spacers.px18,paddingBottom:j.spacers.px16,border:"none",boxShadow:"0 ".concat(j.spacers.px2," ").concat(j.spacers.px6," 0 rgba(0, 0, 0, 0.12), 0 0 ").concat(j.spacers.px4," 0 rgba(0, 0, 0, 0.12)")},[oe.cy.min.m]:{borderBottom:"1px solid ".concat(o.dp_app_border_base),padding:"".concat(oe.W0.s2," ").concat(oe.W0.s4)}},durationChangeSkeltonWrapper:{background:"transparent"},wrapperHasLabel:{[oe.cy.max.s]:{paddingTop:"20px"}},wrapperTrains:{minHeight:ye.i.px72},wrapperCoach:{cursor:"pointer",":hover":{backgroundColor:oe.O9.palette.grey_50}},main:{display:"flex",justifyContent:"space-between",width:"100%"},centerPrice:{padding:j.spacers.s,marginTop:ye.i.px3},price:{},selected:{cursor:"default",backgroundColor:o.dp_brand_primary_brighter,border:"solid 2px ".concat(o.dp_brand_primary_mid),[oe.cy.max.s]:{background:o.dp_comp_table_row,boxShadow:"none"}},selectedMetasearchVariant:{cursor:"default",margin:0,border:"solid 1px ".concat(o.dp_brand_secondary_duller),[oe.cy.max.s]:{border:"none",background:o.dp_brand_neutral_brighter,boxShadow:"none"}},selectedMetasearchVariantByPartner:{paddingTop:"calc(3rem + 16px);",[oe.cy.minMax.s]:{paddingTop:"calc(3rem + 16px);"}},selectedMetasearchVariantByPartnerUnavailable:{paddingTop:"calc(2.5rem + 16px)",[oe.cy.minMax.s]:{paddingTop:"calc(2.5rem + 16px)"}},durationFastestContainer:{display:"flex",width:"100%",[oe.cy.max.s]:{flexDirection:"column",width:"auto"},alignItems:"baseline"},trainDurationContainer:{display:"flex",marginTop:ye.i.px4,flexBasis:"100%",justifyContent:"space-between",alignItems:"center",marginLeft:"calc(".concat(ye.i.px3," * -1)")},duration:{display:"flex",alignItems:"center"},coachDuration:{marginRight:ye.i.px24},trainDuration:{cursor:"pointer",padding:"".concat(ye.i.px2," ").concat(ye.i.px4),marginLeft:"calc(".concat(ye.i.px2," * -1)")},timesContainer:{display:"flex",alignItems:"center"},trainDurationHoverStyle:{backgroundColor:(0,ce.I)(le.ZP.dp_brand_secondary_duller,.05),borderRadius:oe.E0.m},column:{display:"flex",flexDirection:"column"},columnTimes:{marginRight:oe.W0.s1,width:"auto"},columnPrices:{},trainColumnTimes:{":hover":{cursor:"pointer"}},pricesWrapper:{display:"flex"},pricesWrapperSingleResult:{width:"100%",justifyContent:"center",maxWidth:j.spacers.px190,[oe.cy.max.s]:{justifyContent:"flex-end"}},spaceRight:{marginRight:j.spacers.xs},spaceRightCoach:{},fromToStationsContainer:{marginTop:j.spacers.xs,display:"flex"},notAvailable:{opacity:.54},singleNotAvailable:{width:"100%"},ticketInfo:{display:"flex",alignItems:"center"},ticketInfoIcon:{marginLeft:oe.W0.s1,display:"inline-flex",flexShrink:0},coachService:{display:"flex",alignItems:"center",marginTop:"6px"},busIcon:{width:"16px",height:"16px",marginRight:"5px"},iconBike:{flexShrink:0},optionsContainerTrain:{display:"flex",gap:oe.W0.s2,flexDirection:"row",alignItems:"center"},optionsContainerCoach:{display:"flex",flexDirection:"column",[oe.cy.min.m]:{gap:oe.W0.s2,flexDirection:"row"}},bikeWithSplitSaveWrapper:{},bikeWithoutSplitSaveWrapper:{},bikeIcon:{pointerEvents:"none"},bikeIconButton:{display:"flex",cursor:"default"}});var be={wrapper:(0,M.Z)((0,M.Z)({},fe.W.title4),{},{fontWeight:700,marginTop:j.spacers.xs}),toColumn:{width:"var(--DEPRECATED-42px)",textAlign:"right"},fromColumn:{width:"var(--DEPRECATED-42px)",textAlign:"left"},arrowColumn:{width:"var(--DEPRECATED-18px)",textAlign:"center",flexShrink:0},icon:{width:ye.i.px11,height:ye.i.px11,fill:o.dp_comp_carrier_logo_monochrome_fill,stroke:o.dp_comp_carrier_logo_monochrome_fill,strokeWidth:5},timeUSFormat:{width:"59px",marginRight:"6px"}},Se=l.StyleSheet.create(be),Te=(0,M.Z)((0,M.Z)({},be),{},{toColumn:(0,M.Z)((0,M.Z)({},be.toColumn),{},{textAlign:"left",width:"2.8rem"}),fromColumn:(0,M.Z)((0,M.Z)({},be.fromColumn),{},{width:"2.8rem"}),arrowColumn:(0,M.Z)((0,M.Z)({},be.arrowColumn),{},{width:"var(--DEPRECATED-25px)"})}),Ce=l.StyleSheet.create(Te),Ae=(l.StyleSheet.create((0,M.Z)((0,M.Z)({},Te),{},{wrapper:(0,M.Z)((0,M.Z)({},Te.wrapper),{},{alignItems:"flex-start"}),arrowColumn:(0,M.Z)((0,M.Z)({},Te.arrowColumn),{},{marginTop:"0.04375rem"})})),{platform:{textType:"mini"},estimated:{textType:"mini"}});const Ie=e=>{var{alternative:r,type:t,onSelectTicket:a,showRealTimeStyles:n,journeyId:i,dataTest:o,isFirstClass:s}=e,{isSmartContentRecommendedLabellingVariant:l,isSmartContentWithPropensityScoreVariant:d,isFirstClassRecommendationsWithoutStationListVariant:u}=(0,X.zM)(["isSmartContentRecommendedLabellingVariant","isSmartContentWithPropensityScoreVariant","isFirstClassRecommendationsWithoutStationListVariant"]),p=(0,q.useSelector)(Q.FD),m=(0,q.useSelector)((e=>!(0,te.xm)(e,p))),g=(0,q.useSelector)((e=>!(0,ee.xJ)(e,p))),v=m&&g&&l,h=m&&g&&(0,re.CC)()&&d,y=m&&g&&(0,re.CC)()&&u||h||v,f=n?ue:Ee,E=t===D.ZP.COACH?f.centerPrice:f.price,b=t===D.ZP.TRAIN&&n?ue.notAvailablePriceRadio:void 0;return(0,c.useEffect)((()=>{r&&r.isSelected&&a(r,i)}),[null==r?void 0:r.isSelected]),void 0===r?c.createElement(z.ZP,{style:b}):c.createElement(c.Fragment,null,c.createElement(ie.Z,{style:E,price:r.price,isSelected:r.isSelected,testIdRadio:o,isSale:r.isSale,radioButtonId:r.selectionId,isCheapest:r.isCheapest,onClick:()=>a(r,i),notAvailable:!r.isAvailable,limitedAvailability:r.availability&&r.availability.status===$.A.LIMITED,seatsAvailable:r.availability&&r.availability.remaining,isFirstClass:s}),y&&r.isRecommended&&c.createElement(ae.Z,{id:"page.matrix.recommended",styleSheet:ne.PJ}))};var _e=t(7864),Pe=t(91110),Re=t(36841),ke=t(82768),Ne=l.StyleSheet.create({wrapper:{marginTop:"1px",color:o.dp_app_text_subtle},estimated:{color:o.dp_app_text_subtle}}),Oe=function(e){return e.REALTIME="RealTime",e.SCHEDULED="Scheduled",e}({}),Le={as:"div",textType:"small",textWeight:"600",fontFamily:"systemFont"},xe={textType:"small",textWeight:"600",fontFamily:"systemFont"},De={textType:"mini"};const we=(0,n.FZ)((e=>{var{station:r={},styles:t={},deviceType:n}=e,o=n===i.WO.MOBILE,s=(0,M.Z)((0,M.Z)((0,M.Z)({},Le),t&&t.platform&&(0,M.Z)({},t.platform)),o&&De),l=(0,M.Z)((0,M.Z)((0,M.Z)({},xe),t&&t.estimated&&(0,M.Z)({},t.estimated)),o&&De);return!(0,ke.xbD)(r)&&r.platform?c.createElement(g.Z,(0,a.Z)({},s,{testId:"platform",className:(0,Re.css)(Ne.wrapper)}),c.createElement(d.FormattedMessage,{id:"page.ukresults.platform",values:{number:r.platform}}),r.dataSource!==Oe.REALTIME&&c.createElement(g.Z,(0,a.Z)({},l,{testId:"platformEstimated",className:(0,Re.css)(Ne.estimated)}),c.createElement(d.FormattedMessage,{id:"page.ukresults.platformEstimated"}))):null}));var Ze=t(69140),Fe=t(21931),Be=t(94575),Me=t(13972),Ue=t(88675),je=t(5930),He=t(32143),We=t(10208),Ge=t(65250),Ve=t(66985),Ye=t(72222),Ke=t(35779);const ze=l.StyleSheet.create({splitSaveButtonContainer:{display:"flex",alignItems:"center"},splitSaveText:(0,M.Z)((0,M.Z)({},oe.cp.micro),{},{fontSize:Ke.eR,fontWeight:600,background:"transparent",cursor:"pointer",textAlign:"right"}),splitSaveTextColor:{color:o.dp_app_link_base},splitSaveIcon:{transform:"scale(0.7)",paddingBottom:"6px"},splitTicketIcon:{transform:"scale(0.7)"}});var Je=t(75853),qe=t(56429);const Qe=e=>{var{isTravelClassFirstClass:r,onClick:t,savings:a}=e,{portal:n}=(0,Je.x)(),i=r?"splitsave.firstClass":"splitsave.text";return c.createElement("span",{className:(0,l.css)(ze.splitSaveButtonContainer)},c.createElement("button",{"data-test":"mobile-split-save-button",className:(0,l.css)(ze.splitSaveText,(0,qe.L)(n)&&ze.splitSaveTextColor),onClick:t},!a&&c.createElement(d.FormattedMessage,{id:i}),!!a&&c.createElement(d.FormattedMessage,{id:"splitsave.save.price",values:{price:c.createElement(Ye.Z,{value:a.amount,currency:a.currencyCode})}})),(0,qe.L)(n)?c.createElement(Ge.Z,{className:(0,l.css)(ze.splitSaveIcon)}):c.createElement(Ve.Z,{className:(0,l.css)(ze.splitTicketIcon)}))};var Xe=t(13860),$e=t(60141),er=t(85054),rr=t(44149),tr=t(97866),ar=t(42769),nr=t(28002),ir=t(51059),or=e=>{var r,t,{direction:a,alternativeId:n,isMobile:i,savings:o,journey:s,itineraryId:l}=e,{portal:d}=(0,Je.x)(),u=(0,Be.YB)().locale.toLowerCase(),p={legs:(0,q.useSelector)((e=>(0,Ue.Wz)(e,s,n)))},m=(0,je.y)({journeyPlan:s}),g=null===(r=(0,q.useSelector)(ir.VS))||void 0===r?void 0:r.name,v=null===(t=(0,q.useSelector)(ir.NA))||void 0===t?void 0:t.name,h=(0,nr.Z)({journey:s,itineraryId:l,direction:a,origin:g,destination:v}),y=(0,q.useSelector)(tr.Nn),f=(0,q.useSelector)(rr.f0),E=(0,q.useSelector)(Q.kS),b=y&&f&&(E.startsWith(ar.L1.results())||E.startsWith(ar.L1.travelOptions())||E.startsWith(ar.L1.deliveryOptions())||E.startsWith(ar.L1.bookingInformationOptions()));return c.createElement(Xe.iq,{Modal:Fe.Z,modalProps:{portal:d,locale:u,initialTab:"ticket",inward:"inward"===a,ticketingPlanProps:p,journeyLiveTrackerProps:m,renderAdvertisement:b?()=>c.createElement("div",{className:(0,Re.css)($e.P.position)},c.createElement(er.Z,{adsKey:rr.rY.JOURNEY_SUMMARY,isModalAd:!0})):void 0,renderCarbonFootprintBanner:h}},i?c.createElement(Qe,{savings:o}):c.createElement(We.Z,{mode:"light",savings:o}))};const sr=e=>{var{direction:r="outward",alternativeId:t,isMobile:a,savings:n}=e,i=(0,q.useSelector)((e=>(0,He.qu)(e,t))),o=(0,q.useSelector)((e=>(0,Me.$)(e,i||""))),s=!!o&&o.hasOwnProperty("id")?"outward"===r||!r&&!o.inwardJourney?o.outwardJourney:o.inwardJourney:void 0;return s&&null!=o&&o.id?c.createElement(or,{journey:s,direction:r,alternativeId:t,isMobile:a,savings:n,itineraryId:o.id}):null};var lr=t(39555),cr=t(52490);const dr=l.StyleSheet.create({infoIconSpan:{position:"relative"},calloutButton:{backgroundColor:"transparent",display:"flex",":hover":{cursor:"pointer"}},infoIcon:{height:"14px",width:"14px",fill:"#000000"},header:{marginBottom:"8px"},description:{marginBottom:Ke.Ui},description2:{marginBottom:Ke.Ui,display:"flex",alignItems:"center",flexWrap:"wrap",fontSize:"14px",lineHeight:"20px",":nth-child(1n) > span > svg":{verticalAlign:"top"}},descriptionSvg:{minHeight:"21px",minWidth:"21px"}});var ur=()=>{var{portal:e}=(0,Je.x)(),{formatMessage:r}=(0,Be.YB)(),[t,a]=(0,c.useState)(!1),n=(0,c.useRef)(null);return c.createElement("span",{className:(0,l.css)(dr.infoIconSpan)},c.createElement(E.ZP,{ariaLabel:r({id:"page.results.splitSaveToolTip.ariaLabel"}),testId:"split-save-tool-tip",saveInputRef:n,onClick:()=>a(!0),styleSheet:dr.calloutButton},c.createElement(lr.Z,{className:(0,l.css)(dr.infoIcon)})),c.createElement(b.Z,{isOpen:t,width:250,anchor:{element:n.current,nubbin:!0,position:{align:S.N.BOTTOM,grow:S.N.CENTER}},close:()=>a(!1)},c.createElement("div",{"data-test":"splitSaveExplainerModal"},c.createElement(g.Z,{as:"h1",textType:"small",className:(0,l.css)(dr.header),textWeight:"700"},c.createElement(d.FormattedMessage,{id:"modal.splitSaveExplainer.tooltip.title"})),c.createElement(g.Z,{as:"p",textType:"small",className:(0,l.css)(dr.description)},c.createElement(d.FormattedMessage,{id:"modal.splitSaveExplainer.description.line1"})),c.createElement(g.Z,{as:"p",textType:"small",className:(0,l.css)(dr.description)},c.createElement(d.FormattedMessage,{id:"modal.splitSaveExplainer.description.line2"})),(0,qe.L)(e)?c.createElement(g.Z,{as:"p",textType:"small",className:(0,l.css)(dr.description)},c.createElement(d.FormattedMessage,{id:"modal.splitSaveExplainer.description.line3",values:{icon:c.createElement(Ge.Z,{width:"16px",height:"16px"})}})):c.createElement(g.Z,{as:"p",textType:"body",className:(0,l.css)(dr.description2)},c.createElement(d.FormattedMessage,{id:"modal.splitSaveExplainer.description.line3",values:{icon:c.createElement(cr.Z,{width:"21",height:"21",className:(0,l.css)(dr.descriptionSvg)})}})),c.createElement(g.Z,{as:"p",textType:"small"},c.createElement(d.FormattedMessage,{id:"modal.splitSaveExplainer.description.line4"})))))};const pr=e=>{var{alternativeId:r,direction:t,savings:a,isMobile:n}=e;return c.createElement(c.Fragment,null,c.createElement(sr,{direction:null==t?void 0:t.toLowerCase(),alternativeId:r,isMobile:n,savings:a}),!n&&c.createElement(ur,null))};var mr=t(43755),gr=t(31868),vr=t(96903),hr=t(69668),yr=t(2414),fr=t(65837);const Er=l.StyleSheet.create({days:{paddingLeft:Ke.zg,cursor:"pointer",textDecoration:"underline",textUnderlineOffset:Ke.zg},pricePredictionButton:{display:"flex",alignItem:"center",background:"transparent",cursor:"pointer",":focus-visible":{outline:"4px solid ".concat(o.dp_comp_focus_ring)}}});var br=t(54107),Sr=t(35300),Tr=t(12720),Cr=t(31105),Ar=t(78524),Ir=t(98864);const _r=e=>{var r,{pricePredictionEligibilityQueryRef:t,journeyId:a,impressionTrackingEvent:n,standardClassAlternative:i,firstClassAlternative:o,onSelectTicket:s,onBuyNowMobile:u,isMobile:p}=e,m=(0,q.useDispatch)(),{onClickIconEventHandler:g,onCloseEventHandler:v,onPricePredictionMountEventHandler:h,onTabChangeEventHandler:y,onBuyNowButtonClickedEventHandler:f}=(0,Ir.Z)(),{variables:E}=t,b=(0,Be.YB)().locale,{v1_pricePredictionEligibility:S}=(0,mr.usePreloadedQuery)(fr.Z,t),T=((null==S?void 0:S.journeys)||[]).find((e=>(null==e?void 0:e.id)===a&&(null==e?void 0:e.eligible)));if("number"!=typeof(null==T?void 0:T.daysBeforePredictedToIncreaseInPrice)||T.daysBeforePredictedToIncreaseInPrice<0)return null;var{daysBeforePredictedToIncreaseInPrice:C}=T,A=C<=3?"var(--dp_app_negative_dull)":"var(--dp_app_text_subdued)",I=0===C?1:C;return c.createElement(vr.df,{threshold:.8,triggerOnce:!0,onChange:e=>{e&&n&&n(I)}},c.createElement(Xe.px,null,c.createElement(Xe.iq,{Modal:yr.Z,modalProps:{locale:b,searchId:(null===(r=E.input)||void 0===r?void 0:r.searchId)||"",journeyId:a||"",onCTAClickHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(p)u(e);else{var r=e?o:i;f(),m((0,Sr.k3)(!0)),s(r,a),m((0,br.CT)({isQuickBuy:!1})),(0,Cr.mark)(Ar.bn),(0,Tr.Rz)()}},onPricePredictionMount:h,onTabChange:y,onCloseClick:v}},c.createElement("button",{onClick:()=>g(I),className:(0,l.css)(Er.pricePredictionButton),"data-test":"price-prediction-trigger"},c.createElement(gr.default,{fill:A,"data-test":"icon-increase"}),c.createElement(hr.Z,{size:"small",className:(0,l.css)(Er.days)},c.createElement(d.FormattedMessage,{id:"page.results.pricePrediction.days",values:{days:I}}))))))};var Pr=t(43691),Rr=t(59385),kr=t(82812),Nr=t(52116),Or=l.StyleSheet.create({carrierLogosWrapper:{display:"flex",alignItems:"center",gap:oe.W0.s2,paddingBottom:oe.W0.s2},carrierLogosContainer:{display:"flex",gap:oe.W0.s2},dots:{verticalAlign:"super"}}),Lr=t(50453),xr=t(90159);const Dr=e=>{var{mappedCarrierCode:r}=e,t=(0,xr.A)(),a=["vt","gr","ld","xc","gc","ht","tp","cs"],n=e=>c.createElement("div",{className:(0,Re.css)(Or.carrierLogosContainer),"data-test":"carrier-logos-container",key:e},c.createElement(Lr.pl,{name:e,key:e,testId:e})),i=null==r?void 0:r.filter((e=>a.includes(e))),o=i.length>2?i.slice(0,2).map(n).concat(c.createElement("span",{key:"dots"},c.createElement(hr.Z,{className:(0,Re.css)(Or.dots)},"..."))):i.map(n);return c.createElement(c.Fragment,null,t&&o?c.createElement("div",{className:(0,Re.css)(Or.carrierLogosWrapper),"data-test":"carrier-logo-wrapper"},o):null)};var wr=t(2693),Zr=(0,y.skeletonize)(m.ZP),Fr=(0,y.skeletonize)(_e.ZP),Br=(0,y.skeletonize)(K.ZP),Mr={"urn:trainline:atoc:farecat:offpeak":"page.ukresults.offPeak","urn:trainline:atoc:farecat:superoffpeak":"page.ukresults.superOffPeak"},Ur=e=>{var{type:r,testId:t,isMobile:a,wrapperClassName:n,children:i,onClick:o,onMouseUp:s,onMouseDown:l,onTouchEnd:d,onTouchStart:u}=e;return a?r===D.ZP.COACH?c.createElement("button",{"data-test":t,className:n,onClick:o},i):c.createElement("button",{onMouseUp:s,onMouseDown:l,onTouchStart:u,onTouchEnd:d,"data-test":t,className:n,onClick:o},i):c.createElement("div",{className:n},i)},jr=e=>{var{isCancelled:r,standardClassAlternative:t,firstClassAlternative:a}=e,n=!!t&&t.isAvailable,i=!!a&&a.isAvailable;return!r&&(n||i)},Hr=(e,r,t,a,n,i,o)=>{var s=i===x.N.OUTWARD?t:null==n?void 0:n.standard,l=i===x.N.OUTWARD?a:null==n?void 0:n.first;return N(e,r,s,l,o)};const Wr=(0,n.FZ)((e=>{var{deviceType:r,onRequestOpenJourneySummaryModal:t,journeyId:n,onUpdateJourney:m,isCancelled:y,standardClassAlternative:_,firstClassAlternative:P,cheapestInboundStandard:R,cheapestFlexibleAlternative:k,cheapestInboundFirst:N,journeyType:x,onMobileReturnSelect:F,onSelect:B,selectedOutwardAlternative:M,direction:U,type:j,arriveAt:H,departAt:W,testId:K,changes:q,isFastest:Q,showCheapestLabel:X,departureStation:$,arrivalStation:ee,journeyWarningType:re,hasRailReplacementService:te,disruptions:ae,discountType:ne,unsellableReason:ie,platforms:oe,hasETicket:se,coachService:le,hasBus:ce,hasFerry:de,realTimeOriginDestinationInfo:pe,showRealTimeInfo:ye,showRealTimeStyles:fe,carrierCombinationType:be,hasRecommendedStationPairing:Te,portal:_e,enableViewInAppSectionFromDisruption:Re,querySelectedPartner:ke,enableMetasearchUIEnhancementsUK:Ne,selectedJourney:Oe,showSmartCardText:Le,enableJourneyDetailsLinkBlueColor:xe,availableExtras:De,isBikeEnabled:Fe,bikeRestrictionStatus:Be,pricePredictionEligibilityQueryRef:Me,impressionTrackingEvent:Ue,isPending:je,showStations:He,onMouseoverDisruption:We,mappedCarrierCode:Ge=[]}=e,Ve=c.useRef(null),[Ye,Ke]=c.useState(!1),[ze,Je]=c.useState(!1),qe=()=>Ke(!0),Qe=()=>Ke(!1),$e=r===i.WO.MOBILE,er=e=>(e.stopPropagation(),t&&n?t({journeyId:n}):void 0),rr=(e,r)=>(null==m||m(r),e&&B(e.selectionId,!1)),tr=e=>{if(x===f.ki.RETURN&&"INWARD"===U&&F){var r=M&&(M[e]||M.standard||M.first),t=(0,I.Py)(r),a=e===Rr.RV.FIRST?null==P?void 0:P.selectionId:(null==_?void 0:_.selectionId)||(null==P?void 0:P.selectionId);return a&&F(t,a)}return e===Rr.RV.FIRST?(null==P?void 0:P.isAvailable)&&B(P.selectionId,!0):(null==_?void 0:_.isAvailable)&&B(_.selectionId,!0)},ar=e=>{var r=x===f.ki.RETURN&&"INWARD"===U,{standardPrice:t,firstPrice:a}=Hr(_,P,R,N,M,U,x);if(e)tr(Rr.RV.FIRST);else{var n,i;switch((0,O.oG)(t,a,null==k?void 0:k.outwardAlternative)){case(0,O.lG)(a):tr(Rr.RV.FIRST);break;case(0,O.lG)(t):tr(Rr.RV.STANDARD);break;default:r?(n=(0,I.Py)(k.outwardAlternative),i=(0,I.Py)(k.inwardAlternative),k&&F&&F(n,i)):tr(t?Rr.RV.STANDARD:Rr.RV.FIRST)}r||u.animateScroll.scrollToTop({duration:50})}},nr=()=>jr({isCancelled:y,standardClassAlternative:_,firstClassAlternative:P})&&(!$e||"return"!==x||!!(R||k||N)),ir=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=nr();$e&&r&&ar(e)},or=(De||[]).find(Y.op),sr=(0,Y.mi)(Be,or),lr=Fe&&j===D.ZP.TRAIN&&[V.r.RESERVATION_REQUIRED,V.r.RESERVATION_NOT_REQUIRED].includes(sr),cr=null!=or&&or.availableQuantity?c.createElement(d.FormattedHTMLMessage,{id:"page.journeySearchForm.results.bikeStatusTooltip.title",values:{availableQuantity:null==or?void 0:or.availableQuantity}}):void 0,dr=ye&&j===D.ZP.TRAIN,ur=ye||fe&&j===D.ZP.COACH,mr=ur?ue:Ee,gr=null==P?void 0:P.isSelected,vr=!!_&&_.isSelected||!!P&&P.isSelected,hr=gr?null==P?void 0:P.alternativeId:null==_?void 0:_.alternativeId,yr=nr(),fr=(0,w.VD)(e),Er=void 0!==ke&&ke===fr,br=_&&_.isCheapest||P&&P.isCheapest,Sr=_&&(null==_?void 0:_.availability)||P&&(null==P?void 0:P.availability),Tr=Sr&&(0,wr.Ts)(Sr)!==wr.a8.NULL,Cr=br&&!Tr,Ar=Ne?(0,l.css)(mr.wrapperMetasearchVariant,(vr||$e&&Ye)&&mr.selectedMetasearchVariant,j===D.ZP.TRAIN&&mr.wrapperTrains,yr&&!vr&&j===D.ZP.COACH&&mr.wrapperCoach,Er&&(yr?mr.selectedMetasearchVariantByPartner:mr.selectedMetasearchVariantByPartnerUnavailable),$e&&!Er&&(Q||br&&X||Tr)&&mr.wrapperHasLabel):(0,l.css)(mr.wrapper,(vr||$e&&Ye)&&mr.selected,j===D.ZP.TRAIN&&mr.wrapperTrains,yr&&!vr&&j===D.ZP.COACH&&mr.wrapperCoach,$e&&(Q||br&&X||Tr)&&mr.wrapperHasLabel),Ir=j===D.ZP.TRAIN&&!te&&re?re:void 0,Or=He&&$&&ee,{standardPrice:Lr,firstPrice:xr}=Hr(_,P,R,N,M,U,x),Wr=(()=>{var e=_&&_.fareCategory,r=P&&P.fareCategory;if(null!=P&&P.isMultiFareJourney||null!=_&&_.isMultiFareJourney)return"multifare.text";if(!e||!r||e.code===r.code){var t=e||r;return t&&t.code&&Mr[t.code]}})(),Gr=!yr&&dr&&!ie&&pe&&pe.originDeparture&&pe.originDeparture.hasDeparted,Vr=y?z.Gp.CANCELLED:Gr?z.Gp.DEPARTED:ie&&ie.code,Yr=fe?me:Or?Ce:Se,Kr=ye&&!$e,zr=yr&&!gr&&(null==_?void 0:_.isSplitSaveJourney)||yr&&gr&&P.isSplitSaveJourney,Jr=gr?null==P?void 0:P.savings:null==_?void 0:_.savings,qr=()=>c.createElement(Xe.px,null,c.createElement(pr,{savings:Jr,direction:null==U?void 0:U.toLowerCase(),alternativeId:hr||"",isMobile:$e})),Qr=()=>c.createElement("button",{onClick:j===D.ZP.TRAIN||$e?er:void 0,className:(0,l.css)(mr.durationChangeSkeltonWrapper),onFocus:qe,onMouseOver:qe,onMouseLeave:Qe,"data-test":"resultEvents"},c.createElement(Fr,{disruptions:ae,isMobile:$e,departAt:W,arriveAt:H,changes:q,type:j,onHover:j===D.ZP.TRAIN&&Ye,journeyWarningType:j===D.ZP.TRAIN&&te?L.B.REPLACEMENT_BUS:Ir,styleSheet:Kr?ge:void 0,enableJourneyDetailsLinkBlueColor:xe})),Xr=()=>Me?c.createElement(Nr.SV,{fallback:null},c.createElement(_r,{standardClassAlternative:_,firstClassAlternative:P,onSelectTicket:rr,pricePredictionEligibilityQueryRef:Me,isMobile:$e,onBuyNowMobile:ir,journeyId:n,impressionTrackingEvent:Ue})):null,$r=()=>{return lr?c.createElement(c.Fragment,null,c.createElement(E.ZP,{onMouseOver:()=>Je(!0),saveInputRef:Ve,testId:"search-results-bike-icon",styleSheet:mr.bikeIconButton},c.createElement(s.default,{"data-test":"icon-bike",className:(0,l.css)(mr.bikeIcon)})),c.createElement(b.Z,{isOpen:ze,width:250,trigger:"hover",anchor:{element:Ve.current,nubbin:!0,position:{align:S.N.BOTTOM,grow:S.N.CENTER}},close:()=>Je(!1),title:cr},c.createElement(d.FormattedMessage,{id:(e=sr,r=e===V.r.RESERVATION_REQUIRED?"":"Not","page.travelOptions.bikeReservationCard.badge.reservation".concat(r,"Required"))}))):null;var e,r},et=(0,kr.Z)(),rt=et?"h:mm A":"HH:mm";return c.createElement(Ur,{testId:K,isMobile:$e,type:j,selectionId:fr,wrapperClassName:Ar,onClick:()=>ir(),onMouseDown:qe,onMouseUp:Qe,onTouchStart:qe,onTouchEnd:Qe},!(null==Ge||!Ge.length)&&c.createElement(Dr,{mappedCarrierCode:Ge}),c.createElement("div",{className:(0,l.css)(mr.main)},Ne&&!je&&Er&&c.createElement("div",{"data-test":"selected-partner",className:(0,l.css)(C.t.topFullWidth)},c.createElement(Ze.H,{searchPartner:Pr.O.GoogleTravelTransport,isSelected:vr})),c.createElement("div",{className:(0,l.css)(mr.column,mr.columnTimes,j===D.ZP.TRAIN&&mr.trainColumnTimes,!yr&&mr.notAvailable),"data-test":"changes-link"},c.createElement("div",{className:(0,l.css)(mr.timesContainer)},c.createElement(Zr,{styleSheet:Yr,arriveAt:H,departAt:W,timeFormat:rt,testId:j===D.ZP.TRAIN?"train-results":"coach-results",realTimeInfo:pe,showRealTimeInfo:fe,showUSFormatDateTime:et})),($e||ye)&&oe&&oe.origin&&c.createElement(we,{station:oe.origin,styles:$e?void 0:Ae}),Or&&c.createElement("div",{className:(0,l.css)(mr.fromToStationsContainer)},c.createElement(Pe.Z,{departureStation:$,arrivalStation:ee,isMobile:$e,applyRealTimeStyles:ye,styleSheet:he}))),$e&&Q&&c.createElement("div",{"data-test":"fastest-label",className:Ne&&Er?(0,l.css)(C.t.topLeftAttachedPartner):(0,l.css)(C.t.topLeftAttached)},c.createElement(T.J,{roundedBottom:!0,backgroundColor:o.dp_app_info_brighter,labelTextId:"page.coach.resultsItem.fastest"})),$e&&Tr&&yr&&c.createElement("div",{"data-test":"availability-tag-LIMITED",className:(0,l.css)(C.t.topRightAttached)},c.createElement(wr.ZP,{availability:Sr,isSelected:!1,isCheapest:Boolean(br)})),Cr&&X&&$e&&yr&&c.createElement("div",{"data-test":"cheapest",className:Ne&&Er?(0,l.css)(C.t.topRightAttachedPartner):(0,l.css)(C.t.topRightAttached)},c.createElement(T.J,{roundedBottom:!0,labelTextId:"page.matrix.cheapest"})),c.createElement("div",{className:(0,l.css)(mr.pricesWrapper,!yr&&mr.pricesWrapperSingleResult)},$e?c.createElement("div",null,c.createElement(Br,{standardClassAlternative:Lr,firstClassAlternative:xr,discountType:ne,isCancelled:y,unsellableReasonCode:Vr,showRealTimeStyles:fe,cheapestFlexibleAlternative:k,hasRecommendedStationPairing:Te,alternative:_||P,standardHasSale:null==_?void 0:_.isSale,firstHasSale:null==P?void 0:P.isSale})):yr?c.createElement(c.Fragment,null,c.createElement("div",{className:(0,l.css)(mr.column,mr.spaceRight,mr.columnPrices,j===D.ZP.COACH&&mr.spaceRightCoach)},c.createElement(Ie,{alternative:_,onSelectTicket:rr,type:j,journeyId:n,showRealTimeStyles:ur,dataTest:"standard-class-price-radio-btn"})),j===D.ZP.TRAIN&&c.createElement("div",{className:(0,l.css)(mr.column,mr.columnPrices)},c.createElement(Ie,{alternative:P,onSelectTicket:rr,type:j,journeyId:n,showRealTimeStyles:ye,isFirstClass:!0,dataTest:"first-class-price-radio-btn"}))):c.createElement("div",{className:(0,l.css)(mr.column)},c.createElement(z.ZP,{unsellableReasonCode:Vr,style:mr.singleNotAvailable})))),$e?c.createElement("div",{className:(0,l.css)(j===D.ZP.COACH?mr.durationFastestContainer:mr.trainDurationContainer)},c.createElement("div",{className:(0,l.css)(mr.duration,j===D.ZP.COACH?mr.coachDuration:mr.trainDuration)},Qr()),c.createElement("div",{className:(0,l.css)(j===D.ZP.TRAIN?mr.optionsContainerTrain:mr.optionsContainerCoach)},c.createElement("div",{className:(0,l.css)(zr?mr.bikeWithSplitSaveWrapper:mr.bikeWithoutSplitSaveWrapper)},zr&&c.createElement("div",{role:"button",tabIndex:0,onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation()},qr()),!!Me&&c.createElement("div",{role:"button",tabIndex:0,"data-test":"price-prediction-wrapper",onClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation()},Xr()),$r()),yr&&c.createElement("div",{className:(0,l.css)(mr.ticketInfo)},Wr?c.createElement(d.FormattedMessage,{"data-test":"fareCategory",id:Wr}):null,se&&c.createElement("span",{className:(0,l.css)(mr.ticketInfoIcon)},c.createElement(h.Z,{styles:{width:"20px",height:"20px"}}))),j===D.ZP.COACH&&le&&le.routes.length>0&&c.createElement("div",{className:(0,l.css)(mr.coachService)},c.createElement(v.Z,{className:(0,l.css)(mr.busIcon)}),c.createElement(g.Z,{as:"div",textType:"small",textColor:"subdued1",testId:"coach-service"},le.routes.map((e=>{var{route:r}=e;return r})).join(", "),"NX"===le.routes[le.routes.length-1].carrier&&" National Express")),be&&c.createElement(J.Z,{carrierCombinationType:be}))):c.createElement("div",{className:(0,l.css)(j===D.ZP.COACH?mr.durationFastestContainer:mr.trainDurationContainer)},c.createElement("div",{className:(0,l.css)(mr.duration,j===D.ZP.COACH?mr.coachDuration:mr.trainDuration,j===D.ZP.TRAIN&&Ye&&!xe&&mr.trainDurationHoverStyle)},c.createElement(p.ZP,(0,a.Z)({},ae,{onMouseover:We,styleSheet:Kr?ve:void 0,portal:_e,callToAction:Re})),Qr()),c.createElement("div",{className:(0,l.css)(j===D.ZP.TRAIN?mr.optionsContainerTrain:mr.optionsContainerCoach)},Le&&Oe===n&&c.createElement(A.Z,null),zr&&qr(),Xr(),c.createElement("div",{className:(0,l.css)(zr?mr.bikeWithSplitSaveWrapper:mr.bikeWithoutSplitSaveWrapper)},$r()),j===D.ZP.COACH&&Q&&!P?c.createElement(G,null):null,be&&c.createElement(J.Z,{carrierCombinationType:be}))),$e&&(ce||de)&&c.createElement(Z.Z,{hasBus:ce,hasFerry:de}))}))},69140:(e,r,t)=>{"use strict";t.d(r,{H:()=>h});var a=t(50093),n=t(29901),i=t(98184),o=t(2749),s=t(98318),l=t(35779),c=t(83367),d=t(23394);const u=a.StyleSheet.create({wrapperCommon:{padding:"".concat(d.W0.s2," 0"),borderRadius:"none",textAlign:"left",boxShadow:"none",display:"flex",backgroundPosition:"0.75rem center",backgroundRepeat:"no-repeat",margin:0,cursor:"default"},wrapperSelected:{backgroundColor:s.dp_app_selection_bright,color:s.dp_app_selection_dullest,border:"solid 1px ".concat(s.dp_app_selected_background_hover),borderBottom:"none"},wrapperDeselected:{backgroundColor:s.dp_app_backdrop_base_brighter,color:s.dp_app_text_disabled,border:"solid 1px ".concat(s.dp_app_backdrop_base_brighter),borderBottom:"none"},wrapperMobile:{backgroundPositionX:d.W0.s6,paddingLeft:"24px",paddingRight:d.W0.s6},cheapest:{fontWeight:"bold",color:s.dp_app_text_base,alignSelf:"center",lineHeight:"1.6rem",letterSpacing:"-0.3px"},partnerText:{paddingLeft:c.spacers.px8,fontWeight:420},partnerIcon:{marginLeft:"calc(".concat(l.cr," - ").concat(l.eR," - 2px)"),width:l.VG,height:l.VG,background:"white",borderRadius:"50%",border:"1px solid white"}});var p=t(43691),m=t(41344),g=t(1760),v={[p.O.GoogleTravelTransport]:"Google"},h=e=>{var r,{searchPartner:t,isSelected:s}=e,{mobile:l}=(0,m.zw)();return n.createElement(o.O,{dataTestId:"selected-by-partner-journey-wrapper",color:s?"BRAND_SECONDARY":"BRAND_NEUTRAL_BRIGHTER",arrowPosition:l?"NONE":"BOTTOM_LEFT",isFullWidthOnMobile:l},n.createElement("div",{className:(0,a.css)(u.wrapperCommon,s?u.wrapperSelected:u.wrapperDeselected,l?u.wrapperMobile:"")},n.createElement(g.Z,{className:(0,a.css)(u.partnerIcon)}),n.createElement("span",{className:(0,a.css)(u.partnerText)},n.createElement(i.FormattedMessage,{id:"page.results.dpiMetaSearch.searchPartnerResult",values:{searchPartner:null!==(r=v[t])&&void 0!==r?r:""}}))))}},41325:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var a=t(98318),n=t(50093),i=t(29901),o=t(98184),s=t(14023),l=t(95067),c=t(7374),d=t(80609),u=t(36841),p=t(8590);const m=u.StyleSheet.create({busFerryContainer:{marginTop:p.W0.s2},transportIcon:{width:p.W0.s4,height:p.W0.s4,marginRight:"5px"},includesTransport:{verticalAlign:"top"}});var g=e=>{var{transportType:r,IconComponent:t}=e;return i.createElement("div",{className:(0,n.css)(m.busFerryContainer)},i.createElement(t,{fill:a.dp_brand_neutral_dim,className:(0,n.css)(m.transportIcon)}),i.createElement(s.Z,{testId:"includes-".concat(r),textType:"mini",textColor:"subdued2",className:(0,n.css)(m.includesTransport)},i.createElement(o.FormattedMessage,{id:"page.results.includes".concat(r.charAt(0).toUpperCase()).concat(r.slice(1))})))};const v=e=>{var{hasBus:r,hasFerry:t}=e;return i.createElement(i.Fragment,null,r&&i.createElement(g,{transportType:d.He.BUS,IconComponent:l.Z}),t&&i.createElement(g,{transportType:d.He.FERRY,IconComponent:c.Z}))}},2749:(e,r,t)=>{"use strict";t.d(r,{O:()=>m});var a=t(50093),n=t(29901),i=t(83367),o=t(35779),s=t(98318),l=t(23394),c=11;const d=a.StyleSheet.create({arrow:{borderTop:"".concat(c,"px solid"),borderBottom:"".concat(c,"px solid transparent"),borderLeft:"".concat(c,"px solid transparent"),borderRight:"".concat(c,"px solid transparent"),width:0,height:0,boxSizing:"content-box",position:"relative",top:-1},arrowUp:{borderTop:"".concat(c,"px solid"),borderBottom:"".concat(c,"px solid transparent"),borderLeft:"".concat(c,"px solid transparent"),borderRight:"".concat(c,"px solid transparent"),transform:"rotate(180deg)",width:0,height:0,boxSizing:"content-box",position:"relative",top:0},none:{display:"none"},"top-left":{left:"calc(".concat(o.cr," - ").concat(c,"px)")},"top-right":{left:"calc(100% - ".concat(c,"px - ").concat(i.spacers.px20,")")},"bottom-left":{left:"calc(".concat(o.cr," - ").concat(c,"px)")},"bottom-right":{left:"calc(100% - ".concat(c,"px - ").concat(i.spacers.px20,")")},"brand-primary":{borderTopColor:s.dp_brand_primary_dim},"brand-secondary":{borderTopColor:s.dp_brand_secondary_bright},"brand-primary-brighter":{borderTopColor:s.dp_brand_primary_brighter},"brand-neutral-brighter":{borderTopColor:s.dp_brand_neutral_brighter},top:{marginTop:"-23px"},bottom:{marginBottom:"-23px"},wrapper:{position:"relative",flex:"0 0 100%",pointerEvents:"all"},fullWidthOnMobile:{marginLeft:"-".concat(l.W0.s6),marginRight:"-".concat(l.W0.s6),marginBottom:l.W0.s6}});var u={BRAND_PRIMARY:"brand-primary",BRAND_SECONDARY:"brand-secondary",BRAND_PRIMARY_BRIGHTER:"brand-primary-brighter",BRAND_NEUTRAL_BRIGHTER:"brand-neutral-brighter"},p={NONE:"none",BOTTOM_RIGHT:"bottom-right",BOTTOM_LEFT:"bottom-left",TOP_RIGHT:"top-right",TOP_LEFT:"top-left"},m=e=>{var{dataTestId:r="",arrowPosition:t="BOTTOM_LEFT",color:i="BRAND_SECONDARY",children:o,isFullWidthOnMobile:s}=e,l="TOP_LEFT"===t||"TOP_RIGHT"===t,c=d[l?"top":"bottom"],m=n.createElement("div",{className:(0,a.css)(d[l?"arrowUp":"arrow"],d[p[t]],d[u[i]]),"data-test":"info-arrow-bubble-arrow"});return n.createElement("div",{className:(0,a.css)(d.wrapper,c,s&&d.fullWidthOnMobile),"data-test":r},l&&m,o,!l&&m)}},55330:(e,r,t)=>{"use strict";t.d(r,{Or:()=>l,PJ:()=>d,P_:()=>s,jF:()=>c});var a=t(23198),n=t(98318),i=t(50093),o=t(52068),s=(0,a.Z)((0,a.Z)({backgroundColor:n.dp_app_backdrop_dull},o.W.small),{},{fontWeight:600}),l={borderBottomLeftRadius:0,borderBottomRightRadius:0},c=i.StyleSheet.create({highlightTextCustomStyle:s}),d=i.StyleSheet.create({highlightTextCustomStyle:(0,a.Z)((0,a.Z)({},s),{},{backgroundColor:n.dp_brand_secondary_brightest})})},37527:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(29901),n=t(98184),i=t(17836),o=t(55330);const s=e=>{var{id:r,styleSheet:t}=e;return a.createElement(i.Z,{styleSheet:t||o.jF},a.createElement(n.FormattedMessage,{id:r}))}},78877:(e,r,t)=>{"use strict";t.d(r,{J:()=>d});var a=t(98318),n=t(50093),i=t(29901),o=t(98184),s=t(14023),l=t(23394),c=n.StyleSheet.create({SimpleLabel:{padding:"0 ".concat(l.W0.s1),borderRadius:l.E0.m,display:"block"},roundedBottom:{borderTopLeftRadius:0,borderTopRightRadius:0}}),d=e=>{var{labelTextId:r,backgroundColor:t=a.dp_app_warning_mid,roundedBottom:l=!1}=e;return i.createElement(s.Z,{testId:"simple-label",textType:"micro",className:(0,n.css)(c.SimpleLabel,l?c.roundedBottom:void 0),textWeight:"600",style:{backgroundColor:t},fontFamily:"systemFont"},i.createElement(o.FormattedMessage,{id:r}))}},15910:(e,r,t)=>{"use strict";t.d(r,{LD:()=>H,ZP:()=>j});var a=t(11576),n=t(50093),i=t(88543),o=t(56646),s=t(83504),l=t(11493),c=t(33695),d=t(58959),u=t(84530),p=t(98318),m=t(29901),g=t(98184),v=t(72222),h=t(14023),y=t(51756),f=t(41966),E=t(90059),b=t(7489),S=t(52718),T=t(75853),C=t(18353),A=function(e){return e.STANDARD="standard-ticket-price",e.FIRST_CLASS="first-class-ticket-price",e}({}),I=t(22319),_=t(547);const P=n.StyleSheet.create({del:{display:"block",whiteSpace:"nowrap"}});const R=e=>{var{innerTestId:r,amount:t,currencyCode:a}=e;return m.createElement(h.Z,{as:"del",textType:"small",textColor:"subdued1",textWeight:"400",testId:r,className:(0,n.css)(P.del),fontFamily:"systemFont"},m.createElement(v.Z,{value:t,currency:a,hideDecimalsForIntegers:!0}))};var k=t(23198),N=t(23394),O=t(53897),L=t(34111);const x=n.StyleSheet.create({wrapper:{display:"flex",flexDirection:"column",textAlign:"right",position:"relative",alignItems:"flex-end"},del:{display:"block",whiteSpace:"nowrap"},notAvailable:{paddingRight:0,textAlign:"right"},priceContainer:{display:"flex",alignItems:"end"},icon:{marginTop:0,marginRight:"5px",alignSelf:"center",width:"18px",height:"14px"},chevron:{transform:"rotate(-90deg)",position:"absolute",right:"-22px",top:"6px",height:N.W0.s3,color:p.dp_brand_primary_mid,[N.cy.max.xs]:{right:"-18px"}},loading:{minWidth:"var(--DEPRECATED-70px)",height:"var(--DEPRECATED-42px)"},timetableUnconfirmedLinkOnMobile:(0,k.Z)((0,k.Z)({width:"var(--DEPRECATED-112px)"},L.W.body),{},{fontSize:O.i.px14,paddingLeft:O.i.px8,paddingRight:O.i.px17,paddingTop:O.i.px4,color:p.dp_app_text_subtle,textDecoration:"underline",textUnderlineOffset:O.i.px2,cursor:"pointer",textAlign:"center"}),firstClassAlternative:{display:"flex",alignItems:"center"},saleTagWrapper:{width:"35px",marginLeft:"auto"}});var D=t(60289);const w=n.StyleSheet.create({wrapper:{display:"flex",flexDirection:"column",textAlign:"right",position:"relative",alignItems:"flex-end"},del:{display:"block",whiteSpace:"nowrap"},notAvailable:{paddingRight:0,textAlign:"right"},priceContainer:{display:"flex",alignItems:"end"},icon:{marginTop:0,marginRight:O.i.px5,alignSelf:"center",width:"18px"},chevron:{transform:"rotate(-90deg)",position:"absolute",right:"calc(".concat(O.i.px20," * -1)"),top:O.i.px8,height:O.i.px9,color:p.dp_brand_primary_mid,[D.ZP.xxs.max]:{right:"calc(".concat(O.i.px16," * -1)"),top:O.i.px7}},loading:{minWidth:"var(--DEPRECATED-70px)",height:"var(--DEPRECATED-42px)"},timetableUnconfirmedLinkOnMobile:(0,k.Z)((0,k.Z)({width:"var(--DEPRECATED-112px)"},L.W.body),{},{fontSize:O.i.px14,paddingLeft:O.i.px8,paddingRight:O.i.px17,paddingTop:O.i.px4,color:p.dp_app_text_subtle,textDecoration:"underline",textUnderlineOffset:O.i.px2,cursor:"pointer",textAlign:"center"}),firstClassAlternative:{display:"flex",alignItems:"center"},saleTagWrapper:{width:"35px",marginLeft:"auto"}});var Z=t(38073),F=t(21650),B=t(61945),M={discountCard:y.Z,voucher:E.Z};const U=e=>{var r,t,a,i,o,s,l,d,u,{standardClassAlternative:y={},firstClassAlternative:E={},discountType:P,className:k,isCancelled:N=!1,unsellableReasonCode:O,cheapestFlexibleAlternative:L,showRealTimeStyles:D,alternativeHasPromo:U,standardHasSale:j,firstHasSale:H}=e,{isAutoApplyExperimentVariant:W,hasCalculatedPrice:G}=(0,B.W)(),{ticketsComingSoonLinkEnabled:V}=(0,T.x)(),{shouldRenderMobile:Y}=(0,C.Pb)(),K=D?x:w;if(k)return m.createElement("div",{className:[k,(0,n.css)(K.wrapper)].filter(Boolean).join(" ")});var z=null==L?void 0:L.outwardAlternative,J=(0,S.oG)(y,E,z),q=(0,S.t7)(y,J),Q=(0,S.t7)(E,J),X=Q?null===(r=E.price)||void 0===r?void 0:r.currencyCode:q?null==y||null===(t=y.price)||void 0===t?void 0:t.currencyCode:null==z||null===(a=z.price)||void 0===a?void 0:a.currencyCode;if(!(0,I.SQ)({isCancelled:N,standardClassAlternative:y,firstClassAlternative:E})||O)return V?m.createElement(h.Z,{as:"div"},m.createElement(_.ZP,{unsellableReasonCode:O,style:K.timetableUnconfirmedLinkOnMobile})):m.createElement(h.Z,{as:"div",textType:"title2",fontFamily:"brand"},m.createElement(_.ZP,{unsellableReasonCode:O,style:K.notAvailable}));var $=P&&M[P],ee=W&&(null==y?void 0:y.calculatedPrice)&&(null==y||null===(i=y.calculatedPrice)||void 0===i?void 0:i.amount)>0,re=W&&(null==E?void 0:E.calculatedPrice)&&(null==E?void 0:E.calculatedPrice.amount)>0,te=!Q&&y.fullPrice&&(y.price&&y.price.amount||0)<y.fullPrice.amount,ae=!Q&&!y.price,ne=Y&&!te&&(null==y?void 0:y.originalPrice)&&!G,ie=Y&&(null==E?void 0:E.originalPrice)&&!G,oe=te||ee;return m.createElement("div",{className:(0,n.css)(K.wrapper),"data-test":"mobile-price-ticket-container"},Q?m.createElement(h.Z,{as:"div",textType:D?"large":"title2",textWeight:D?"600":"400",fontFamily:"systemFont",testId:"".concat(A.FIRST_CLASS,"-cheaper")},m.createElement("div",{className:(0,n.css)(K.firstClassAlternative)},m.createElement(h.Z,{as:"span",textType:"small",fontFamily:"systemFont"},m.createElement(g.FormattedMessage,{id:"firstClassShortLabel"})," "),m.createElement(C.gA,{isSmartPrice:Boolean(null==E?void 0:E.isSmartPrice)},m.createElement(v.Z,{value:re?Number(null==E||null===(o=E.calculatedPrice)||void 0===o?void 0:o.amount):E.price.amount,currency:re?null==E||null===(s=E.calculatedPrice)||void 0===s?void 0:s.currencyCode:E.price.currencyCode,hideDecimalsForIntegers:!0}))),m.createElement(F.Z,{experimentKey:c.zA.ENABLE_SALE_TAG_SEARCH_RESULTS},(e=>{var{isVariant:r}=e;return r&&(E.isSale||H)&&m.createElement("div",{"data-test":"mobile-sale-tag-wrapper-first-class",className:(0,n.css)(K.saleTagWrapper)},m.createElement(Z.Z,null))})),ie&&!re&&m.createElement(R,{innerTestId:"".concat(A.FIRST_CLASS,"-full"),amount:E.originalPrice.amount,currencyCode:E.originalPrice.currencyCode}),re&&E.fullPrice&&m.createElement(R,{innerTestId:"".concat(A.FIRST_CLASS,"-full"),amount:E.fullPrice.amount,currencyCode:E.fullPrice.currencyCode}),y.price&&y.price.amount>0&&y.isAvailable&&m.createElement(h.Z,{as:"span",textType:"small",textWeight:"400",className:(0,n.css)(K.del),testId:"".concat(A.STANDARD,"-expensive"),fontFamily:"systemFont"},m.createElement(v.Z,{value:ee?Number(null===(l=y.calculatedPrice)||void 0===l?void 0:l.amount):y.price.amount,currency:ee?null===(d=y.calculatedPrice)||void 0===d?void 0:d.currencyCode:y.price.currencyCode,hideDecimalsForIntegers:!0}))):m.createElement(m.Fragment,null,m.createElement(h.Z,{as:"span",textType:D?"large":"title2",textWeight:D?"600":"400",testId:A.STANDARD,className:(0,n.css)(K.priceContainer),fontFamily:"systemFont"},te&&$&&m.createElement($,{fill:p.dp_brand_neutral_dullest,className:(0,n.css)(K.icon)}),te&&U&&m.createElement(b.Z,{fill:p.dp_brand_neutral_dullest,className:(0,n.css)(K.icon)}),J>=0?m.createElement(C.gA,{isSmartPrice:Boolean(null==y?void 0:y.isSmartPrice),desktopEnabled:!1},m.createElement(v.Z,{value:ee?y.calculatedPrice.amount:J,currency:ee?null===(u=y.calculatedPrice)||void 0===u?void 0:u.currencyCode:X,hideDecimalsForIntegers:!0})):"-"),m.createElement(F.Z,{experimentKey:c.zA.ENABLE_SALE_TAG_SEARCH_RESULTS},(e=>{var{isVariant:r}=e;return r&&(y.isSale||j)&&m.createElement("div",{"data-test":"mobile-sale-tag-wrapper-standard-class",className:(0,n.css)(K.saleTagWrapper)},m.createElement(Z.Z,null))})),oe&&m.createElement(R,{innerTestId:"".concat(A.STANDARD,"-full"),amount:y.fullPrice.amount,currencyCode:y.fullPrice.currencyCode}),ne&&!oe&&m.createElement(R,{innerTestId:"".concat(A.STANDARD,"-smartPrice"),amount:y.originalPrice.amount,currencyCode:y.originalPrice.currencyCode}),(0,S.Fx)(E)&&m.createElement(h.Z,{as:"span",textType:"small",textWeight:"400",testId:"".concat(A.FIRST_CLASS,"-price"),className:(0,n.css)(K.del),fontFamily:"systemFont"},m.createElement(h.Z,{as:"span",textType:"small",fontFamily:"systemFont"},m.createElement(g.FormattedMessage,{id:"firstClassShortLabel"})," "),m.createElement(v.Z,{value:E.price.amount,currency:E.price.currencyCode,hideDecimalsForIntegers:!0}))),!ae&&m.createElement(f.Z,{className:(0,n.css)(K.chevron)}))};const j=(0,i.connect)(((e,r)=>{var t,a,n,i,{isCancelled:l,standardClassAlternative:p,firstClassAlternative:m,hasRecommendedStationPairing:g,alternative:v,standardHasSale:h,firstHasSale:y}=r,f=null==p||null===(t=p.price)||void 0===t?void 0:t.amount,E=null==m||null===(a=m.price)||void 0===a?void 0:a.amount,b=(null==p||null===(n=p.price)||void 0===n?void 0:n.currencyCode)||(null==m||null===(i=m.price)||void 0===i?void 0:i.currencyCode),S=null!=v&&v.alternativeId?[null==v?void 0:v.alternativeId]:[],T=Boolean((0,o.Z)(e,S));return{isFirstClassRecommended:(0,u.v_)(c.zA.ENABLE_SMART_CONTENT_RECOMMENDED_JOURNEY_RESULTS)(e)&&!(0,u.xm)(e,(0,s.FD)(e))&&!l&&p&&m&&g&&(0,d.Gk)(f,E,b),alternativeHasPromo:T,isStandardSale:h,isFirstSale:y}}))(U);var H=(0,a.ZP)(U,(()=>(0,n.css)(w.loading,l.Z.loading)))},547:(e,r,t)=>{"use strict";t.d(r,{Gp:()=>T,ZP:()=>A});var a=t(50093),n=t(29901),i=t(98184),o=t(89426),s=t(75853),l=t(18585),c=t(23198),d=t(98318),u=t(53897),p=t(34111),m=(0,c.Z)((0,c.Z)({width:"var(--DEPRECATED-98px)"},p.W.body),{},{fontSize:u.i.px12,paddingLeft:u.i.px8,paddingRight:u.i.px17,paddingTop:u.i.px4,color:d.dp_app_text_subtle}),g=(0,c.Z)((0,c.Z)({},p.W.body),{},{fontSize:u.i.px12,fontWeight:"normal",textDecoration:"underline",textUnderlineOffset:u.i.px2,cursor:"pointer",backgroundColor:"transparent",border:"none",color:d.dp_app_text_subdued,padding:u.i.px4,borderRadius:u.i.px4,":focus":{backgroundColor:d.dp_app_backdrop_dull},":hover":{backgroundColor:"".concat(d.dp_app_backdrop_dull," !important")},":active":{backgroundColor:d.dp_app_backdrop_dull}});const v=a.StyleSheet.create({notAvailable:(0,c.Z)({},m),button:(0,c.Z)({},g)});var h=a.StyleSheet.create({notAvailable:(0,c.Z)((0,c.Z)({},m),{},{width:"100%",textAlign:"center",paddingLeft:0,paddingRight:0,color:d.dp_app_text_subdued})}),y=t(18072),f=t(50580),E=t(56443);const b=(0,i.injectIntl)((e=>{var{closeModalHandler:r,modalState:t,intl:a}=e;return n.createElement(y.ZP,{modalState:t,desktopModalSize:"small",mobileModalOptions:{size:"small",resizable:!1},closeModalHandler:r},n.createElement(y.ZP.Header,{id:"ticket-alert",headerText:a.formatMessage({id:"page.ukresults.ticketAlertCriticalOverlay.title"})}),n.createElement(y.ZP.Content,null,n.createElement("div",null,n.createElement(f.C,{typeStyle:"body"},n.createElement(i.FormattedMessage,{id:"page.ukresults.ticketAlertCriticalOverlay.paragraph"})))),n.createElement(y.ZP.Footer,{footerActions:[n.createElement(E.ZP,{buttonType:"tertiary",text:a.formatMessage({id:"page.ukresults.ticketAlertCriticalOverlay.dismissButton"}),onClick:r}),n.createElement(E.ZP,{buttonType:"secondary1",text:a.formatMessage({id:"page.ukresults.ticketAlertCriticalOverlay.actionButton"}),onClick:()=>{window.location.href=a.formatMessage({id:"links.ticketalert"})}})]}))}));var S=t(89918),T=function(e){return e.CANCELLED="cancelled",e.DEPARTED="departed",e.FULL_TRAIN="full_train",e.TIMETABLE_UNCONFIRMED="timetable_unconfirmed",e}({}),C=e=>{var r=(0,S.Z)(),{style:t,unsellableReasonCode:c}=e,d=String(c),{ticketsComingSoonLinkEnabled:u}=(0,s.x)(),p=u&&d.endsWith(T.TIMETABLE_UNCONFIRMED),m=((e,r)=>{if(r)return"page.ukresults.timetable_unconfirmed.link";var t={[T.TIMETABLE_UNCONFIRMED]:"page.ukresults.timetable_unconfirmed",[T.FULL_TRAIN]:"page.ukresults.soldOut",[T.CANCELLED]:"page.ukresults.cancelled",[T.DEPARTED]:"page.ukresults.departed",default:"page.ukresults.notAvailable"};return t[Object.keys(t).find((r=>e.endsWith(r)))||"default"]})(d,p),{buttonStyles:g}=(e=>{var{styleSheet:r}=e;return{buttonStyles:[v.button,r&&r.button]}})(e),{modalState:y,openModalHandler:f,closeModalHandler:E}=(0,l.Z)();return p&&r&&"page.ukresults.timetable_unconfirmed.link"===m?n.createElement("div",{className:(0,a.css)(h.notAvailable)},n.createElement(i.FormattedMessage,{id:m})):p?n.createElement(n.Fragment,null,n.createElement(o.C9,{onClick:f,styleSheet:g},n.createElement(i.FormattedMessage,{id:m})),n.createElement(b,{modalState:y,closeModalHandler:E})):n.createElement("div",{className:(0,a.css)(v.notAvailable,t)},n.createElement(i.FormattedMessage,{id:m}))};const A=(0,n.memo)(C)},88470:(e,r,t)=>{"use strict";t.d(r,{Z:()=>A});var a=t(50093),n=t(29901),i=t(98184),o=t(89914),s=t(72222),l=t(17836),c=t(31872),d=t(547),u=t(23198),p=t(35779),m=t(98318),g=t(23394),v=t(83367),h=t(4385),y=t(94878),f=t(34111),E={width:"var(--DEPRECATED-98px)",paddingLeft:v.spacers.s};const b=a.StyleSheet.create({cheapest:{fontWeight:"bold"},priceContainer:(0,u.Z)((0,u.Z)({},E),{},{display:"inline-flex",flex:1,cursor:"pointer",paddingTop:p.LS,paddingBottom:p.LS}),priceContainerHover:{":hover":{backgroundColor:(0,y.I)(h.ZP.dp_brand_secondary_duller,.05),borderRadius:g.E0.m}},shiftUp:{marginTop:"calc(".concat(p.zg," * -1)")},price:(0,u.Z)((0,u.Z)({},f.W.body),{},{lineHeight:1,fontWeight:"normal"}),input:{marginRight:v.spacers.s,":focus-visible":{outline:"none",boxShadow:"0 0 0 1px ".concat(m.dp_comp_focus_ring)}},highlightNoBackground:{backgroundColor:"initial",justifyContent:"flex-start",padding:"".concat(p.LS," ").concat(p.LS)},expandedHighlight:{background:g.O9.palette.yellow_110,padding:"".concat(p.LS," ").concat(p.LS)},alignRight:{textAlign:"right"},availabilityWrapper:(0,u.Z)((0,u.Z)({},f.W.tiny),{},{color:m.dp_app_text_subtle,letterSpacing:"-0.3px",lineHeight:1,fontWeight:"bold",marginTop:p.LS,padding:"0 ".concat(p.LS," ").concat(p.zg," ").concat(p.LS),width:"3.85rem"}),reduceMargin:{marginTop:p.zg},baseLoudColor:{color:m.dp_app_text_negative},saleWrapper:{padding:"0 ".concat(p.zg," ").concat(p.zg," ").concat(p.LS),width:"fit-content"}});var S=t(38073),T=t(21650),C=t(33695);const A=(0,i.injectIntl)((e=>{var{style:r,price:t,isSelected:u,onClick:p,testIdRadio:m,radioButtonId:g,isCheapest:v,limitedAvailability:h,seatsAvailable:y,notAvailable:f=!1,hoverBackground:E=!0,isFirstClass:A,isReturnView:I,isSale:_}=e,P=n.createElement(s.Z,{value:t.amount,currency:t.currencyCode}),R={highlightTextCustomStyle:v?b.expandedHighlight:b.highlightNoBackground};return n.createElement(c.SkeletonContainer,null,f?n.createElement(d.ZP,{style:I?b.alignRight:void 0}):n.createElement("label",{className:(0,a.css)(b.priceContainer,r,E&&!u&&b.priceContainerHover),htmlFor:g},n.createElement("div",{className:(0,a.css)(b.shiftUp)},n.createElement("input",{id:g,type:"radio",checked:u,className:(0,a.css)(b.input),"data-test":m,onChange:p})),n.createElement(o.o,{id:A?"priceRadio.accessibilityText.firstClassFare":"priceRadio.accessibilityText.standardFare"}),n.createElement("div",{"data-test":"alternative-price",className:(0,a.css)(b.price)},n.createElement(o.o,{id:"priceRadio.accessibilityText.cost"}),n.createElement(l.Z,{styleSheet:R},v?n.createElement(n.Fragment,null,n.createElement("span",{className:(0,a.css)(b.cheapest),"data-test":"cheapest-price-label"},P),n.createElement(o.o,{id:"priceRadio.accessibilityText.cheapestFare"})):P),n.createElement(T.Z,{experimentKey:C.zA.ENABLE_SALE_TAG_SEARCH_RESULTS},(e=>{var{isVariant:r}=e;return r&&_&&n.createElement("div",{className:(0,a.css)([b.saleWrapper,v&&b.reduceMargin])},n.createElement(S.Z,null))})),h&&n.createElement("div",{className:(0,a.css)(b.availabilityWrapper,!v&&b.reduceMargin)},y?n.createElement("span",{className:(0,a.css)(b.baseLoudColor)},n.createElement(i.FormattedMessage,{id:"page.ukresults.limitedSeats",values:{seatsAvailable:y}})):n.createElement(i.FormattedMessage,{id:"page.ukresults.limitedAvailability"})))))}))},35786:(e,r,t)=>{"use strict";t.d(r,{V:()=>n});var a=t(23198),n=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(null==e?void 0:e.selectedTab)!==r?(0,a.Z)((0,a.Z)({},e),{},{selectedTab:r,searchId:void 0,transitDefinitionDirection:void 0,temporalDirection:void 0},t):(0,a.Z)((0,a.Z)({},e),t)}},54222:(e,r,t)=>{"use strict";t.d(r,{GY:()=>f,QO:()=>y,Z:()=>h});var a=t(32034),n=t(10798),i=t(92490),o=t(61229),s=t(32143),l=t(52718),c=t(44481),d=t(56267),u=(e,r,t)=>t?(0,l.zc)(e,t.journeys,t.legs,r):[],p=(e,r,t)=>1===e.length?t===c.t.OUTWARD?e[0].startName:e[0].endName:r,m=(0,a.P1)(d._D,i.Yu,o.Cu,u),g=(0,a.P1)(d.dI,i.Yu,o.Cu,u),v=e=>e.length>1,h=((0,a.P1)(m,v),(0,a.P1)(g,v),(0,a.P1)(m,g,s.iB,((e,r,t)=>({departureStation:t&&t.outward.origin&&{name:p(e,t.outward.origin.name,c.t.OUTWARD),shortName:t.outward.origin.shortName,isGroupStation:v(e)},arrivalStation:t&&t.outward.destination&&{name:p(e,t.outward.destination.name,c.t.INWARD),shortName:t.outward.destination.shortName,isGroupStation:v(r)}})))),y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,a.P1)(h,(r=>{var{arrivalStation:t,departureStation:a}=r;return{arrivalStation:e?t:a,departureStation:e?a:t}}))},f=(0,a.P1)(o.Cu,s.Q4,s.P8,((e,r,t)=>[...(null==r?void 0:r.legs)||[],...(null==t?void 0:t.legs)||[]].map((r=>(0,n.U)(e.legs,r)))))},56567:(e,r,t)=>{"use strict";t.d(r,{v:()=>i});var a=t(32034),n=t(51059),i=(0,a.P1)(n.He,(e=>e.reservationErrors||[]))},48728:(e,r,t)=>{"use strict";t.d(r,{p:()=>a,z:()=>n});var a=(e,r)=>e&&e.cards?e.cards.filter((e=>!!r[e])).map((e=>r[e].cardType)).join("|"):void 0,n=function(e,r,t){return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).some((a=>!(!r[a]||!t[r[a].transportMode]||t[r[a].transportMode].mode!==e)))}},53897:(e,r,t)=>{"use strict";t.d(r,{i:()=>a});var a={px106:"6.625rem",px80:"var(--dp_s80)",px72:"var(--DEPRECATED-72px)",px64:"var(--dp_s64)",px50:"var(--DEPRECATED-50px)",px44:"var(--DEPRECATED-44px)",px32:"var(--dp_s32)",px24:"var(--dp_s24)",px20:"var(--DEPRECATED-20px)",px17:"var(--DEPRECATED-17px)",px16:"var(--dp_s16)",px14:"var(--DEPRECATED-14px)",px13:"var(--DEPRECATED-13px)",px12:"var(--dp_s12)",px11:"var(--DEPRECATED-11px)",px10:"var(--DEPRECATED-10px)",px9:"var(--DEPRECATED-9px)",px8:"var(--dp_s8)",px7:"var(--DEPRECATED-7px)",px6:"var(--DEPRECATED-6px)",px5:"0.3125em",px4:"var(--dp_s4)",px3:"var(--DEPRECATED-3px)",px2:"var(--dp_s2)",px1:"var(--DEPRECATED-1px)"}},34111:(e,r,t)=>{"use strict";t.d(r,{W:()=>n});var a=t(52068),n={title4:{fontSize:a.W.title4.fontSize,fontFamily:a.R.brand.face.fontFamily,lineHeight:1.2},title5:{fontSize:a.W.body.fontSize,lineHeight:1.428},body:{fontSize:"var(--DEPRECATED-13px)",lineHeight:1.578,letterSpacing:"-0.01875rem"},tiny:{fontSize:"0.6375rem",lineHeight:1.304}}},79549:(e,r,t)=>{"use strict";t.d(r,{t:()=>i});var a=t(50093),n=t(23394),i=a.StyleSheet.create({topLeftAttached:{position:"absolute",top:0,left:n.W0.s6,[n.cy.max.xs]:{left:n.W0.s4}},topLeftAttachedPartner:{position:"absolute",top:"calc(3rem - 2px)",left:n.W0.s6,[n.cy.max.xs]:{left:n.W0.s4}},topRightAttached:{position:"absolute",top:0,right:n.W0.s6,[n.cy.max.xs]:{right:n.W0.s4}},topRightAttachedPartner:{position:"absolute",top:"calc(3rem - 2px)",right:n.W0.s6,[n.cy.max.xs]:{right:n.W0.s4}},topFullWidth:{position:"absolute",top:0,left:0,right:0,height:"3rem",margin:"-1px"},exclusiveJourney:{position:"absolute",top:0,left:n.W0.s2}})},52786:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var a=t(64321),n=t(29901),i=t(48157),o=t(75853),s=t(56515),l=t(16981),c=t(39884),d=t(35779),u=t(50093).StyleSheet.create({div:{marginBottom:" 0.75rem"},descriptionText:{position:"relative",left:"32px",maxWidth:"85%",paddingRight:d.V_}}),p=t(36841),m=t(14023);const g=e=>{var{enableWebAccessibilityChanges:r}=(0,o.x)(),t=(0,i.Gc)(),{input:d,handleChange:g,label:v,disabled:h=!1,name:y,description:f}=e;return n.createElement(c.Z,{controlled:!!t},r?n.createElement("div",{className:(0,p.css)(u.div)},n.createElement(l.Z,(0,a.Z)({},d,e,{id:y,name:y,label:v,disabled:h,onChange:e=>{d&&d.onChange&&d.onChange(e),g&&g()},tabIndex:0})),f&&n.createElement(m.Z,{as:"p",textType:"mini",textColor:"subdued2",id:"".concat(e.name,"-description"),styleSheet:u.descriptionText},f)):n.createElement(s.Z,(0,a.Z)({},d,e,{innerLabel:v,disabled:h,onChange:e=>{d&&d.onChange&&d.onChange(e),g&&g()},description:f})))}},10269:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(19123);const c=i.StyleSheet.create({preference:{paddingRight:o.Z.sizes.spacers.m,marginTop:o.Z.sizes.spacers.s,marginBottom:o.Z.sizes.spacers.s,flexBasis:"calc(100% / 2)",flexGrow:1,minWidth:"300px",[o.Z.breakpoints.small.max]:(0,a.Z)({width:"100%",paddingRight:0},l.H.separator24)},preferenceGroupSection:{padding:"".concat(s.W0.s6," 0"),borderBottom:"1px ".concat(n.dp_app_border_bright," solid"),":last-child":{borderBottom:"none"}},preferenceGroupMealSection:{marginRight:s.W0.s4},preferenceGroupMealPassenger:{borderBottom:"1px ".concat(n.dp_app_border_bright," solid"),":last-child":{borderBottom:"none"}},label:{display:"inline-block",padding:0,paddingBottom:3,paddingRight:5,fontWeight:"bold",fontSize:o.Z.sizes.spacers.px16,marginBottom:o.Z.sizes.spacers.px10,color:n.dp_app_text_base,[o.Z.breakpoints.small.max]:{width:"100%"}},select:{height:"40px"},seatPreferenceContainer:{marginBottom:o.Z.sizes.spacers.px40},singleGroup:{marginBottom:s.W0.s6,backgroundColor:"white",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.06)",borderRadius:s.E0.l,border:"solid 1px ".concat(n.dp_app_border_base)},innerContainer:{padding:"0 ".concat(o.Z.sizes.spacers.m," 0 ").concat(o.Z.sizes.spacers.px80)},nearSeatInputLabel:{display:"inline-block",paddingBottom:3,fontSize:o.Z.sizes.spacers.px16,color:n.dp_app_text_base},nearSeatInputsWrapper:{display:"flex",[o.Z.breakpoints.small.max]:{flexDirection:"column"}},nearSeatInput:{marginRight:o.Z.sizes.spacers.px12,width:"33%",[o.Z.breakpoints.small.max]:{width:"auto",marginRight:0}},nearSeatInputCarriage:{[o.Z.breakpoints.small.max]:{marginTop:"8px"}},nearSeatInputSeat:{[o.Z.breakpoints.small.max]:{marginTop:"16px"}},nearSeatWrapper:{marginTop:o.Z.sizes.spacers.px24,[o.Z.breakpoints.small.max]:{marginTop:0,borderBottom:"1px solid ".concat(n.dp_brand_neutral_brighter),marginBottom:o.Z.sizes.spacers.px24,paddingBottom:o.Z.sizes.spacers.px24}},disabledLabel:{color:n.dp_brand_neutral_mid},noPadding:{padding:0}});i.StyleSheet.create({label:{display:"block",marginLeft:"1px !important",paddingRight:40},input:{marginLeft:0,":focus":{outline:"1px solid #4D90FE"}}})},7458:(e,r,t)=>{"use strict";t.d(r,{Lc:()=>b,q2:()=>y});var a=t(64321),n=t(50093),i=t(29901),o=t(98184),s=t(57397),l=t(87005),c=t(93422),d=t(65368),u=t(52786),p=t(10269),m=t(70604),g=n.StyleSheet.create({container:{padding:0}}),v=function(e){return e.seat="seat",e.carriage="carriage",e}({}),h=e=>{var{input:r,meta:{error:t},testId:n,maxLength:s,type:l}=e;return i.createElement(c.Z,(0,a.Z)({},r,{message:t?i.createElement(o.FormattedMessage,{id:"page.travelOptions.seatReservation.preferences.seatNear.".concat(l,".validation")}):void 0,testId:n,styleSheet:g,hideErrorMessage:!t,autoComplete:"off",autoCorrect:"off",maxLength:s,showLabelErrorStyle:!0}))},y=new RegExp(/^(0|[1-9]\d*)$/i),f=e=>e&&!y.test(e)?"Validation error":void 0,E=e=>{var{name:r,type:t,maxLength:a,isDisabled:l}=e;return i.createElement("div",{className:(0,n.css)(p.Z.nearSeatInput,t===v.seat?p.Z.nearSeatInputSeat:p.Z.nearSeatInputCarriage)},i.createElement("label",{htmlFor:r,className:(0,n.css)(p.Z.nearSeatInputLabel)},i.createElement(o.FormattedMessage,{id:"page.travelOptions.seatReservation.preferences.seatNear.".concat(t)})),i.createElement(s.Z,{component:h,name:r,testId:r,key:r,normalize:d.rV,maxLength:a,validate:f,type:t,disabled:l}))},b=e=>{var{seatPreferencesGroup:r,member:t,isNearSeatSelected:a,nearSeatValue:c,isDisabled:d}=e,g="seatSelection",h="".concat(t,".nearSeatCarriage"),y="".concat(t,".nearSeatSeat");return i.createElement("div",{className:(0,n.css)(p.Z.nearSeatWrapper),"data-test":"sit-near-wrapper"},i.createElement(s.Z,{component:u.Z,name:"".concat(t,".").concat(g),key:"".concat(t,".").concat(g),type:"checkbox",label:i.createElement(o.FormattedMessage,{id:"page.travelOptions.seatReservation.preferences.seatNear.label"},(e=>i.createElement("div",{"data-test":"sit-near-checkbox"},e))),styleSheet:l.Z,normalize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>2?arguments[2]:void 0;return(0,m.iB)(c,t,r.mergedIds,g),e?c:""},disabled:d}),a&&i.createElement("div",{className:(0,n.css)(p.Z.nearSeatInputsWrapper)},i.createElement(E,{name:h,type:v.carriage,maxLength:2,isDisabled:d}),i.createElement(E,{name:y,type:v.seat,maxLength:3,isDisabled:d})))}},19123:(e,r,t)=>{"use strict";t.d(r,{H:()=>o});var a=t(98318),n=t(50093),i=t(83367),o={separator24:{borderBottom:"1px solid ".concat(a.dp_brand_neutral_brighter),marginTop:0,marginBottom:i.spacers.px24,paddingBottom:i.spacers.px24,":last-of-type":{borderBottom:"none",paddingBottom:0,marginBottom:0}}};n.StyleSheet.create(o)},29719:(e,r,t)=>{"use strict";t.d(r,{G:()=>g,O:()=>m});var a=t(84025),n=t.n(a),i=t(32034),o=t(60654),s=t(29433),l=t(61229),c=t(51059),d=t(51807),u=t(83504),p=t(42769),m=(0,i.P1)(s._H,u.kS,c.iK,u.FD,(e=>e),((e,r,t,a,n)=>{if(e&&(r===p.L1.results()||r===p.L1.ticketOptions())&&t){var i=(0,d.Dk)(n,a),s=(0,l.II)(n,a);return i===o.LoadStatus.SUCCESS&&!!s}return!1})),g=(0,i.P1)(u.FD,(e=>e),((e,r)=>{var t=(0,l.II)(r,e);return!(!t||!n()(t).isValid())&&n()().isBefore(t)}))},82184:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>ie});var a=t(64321),n=t(23198),i=t(31616),o=t(41344),s=t(25413),l=t(31397),c=t(50093),d=t(66839),u=t(37719),p=t(29901),m=t(98184),g=t(88543),v=t(96172),h=t(2031),y=t(26625),f=t(60654),E=t(71695),b=t(68760),S=t(18646),T=t(94018),C=t(72003),A=t(29011),I=t(29433),_=t(7256),P=t(59254),R=t(88452),k=t(21192),N=t(69188),O=t(50989),L=t(75853),x=t(92254),D=t(67905),w=t(4695),Z=(e,r)=>{var{pathname:t,query:a}=e;return[w.T1,w.Sl].every((e=>!e(t)))&&[t,(0,D.stringify)((0,n.Z)((0,n.Z)({},a),{},{selectedTab:r}),{addQueryPrefix:!0})].join("")||void 0},F=t(16900),B=t(60054),M=t(85536);const U=e=>{var{children:r}=e,t=(0,g.useSelector)(I.wL),a=(0,M.tq)(),n=(0,g.useSelector)(B.xB),i=(0,g.useSelector)(B.NY);return a&&!t&&(n=i),r(n)};var j=t(42769),H=t(29181),W=[E.Vd.DANISH,E.Vd.GERMAN,E.Vd.AUSTRIANGERMAN,E.Vd.SWISSGERMAN,E.Vd.ENGLISH,E.Vd.AMERICANENGLISH,E.Vd.SPANISH,E.Vd.FRENCH,E.Vd.SWISSFRENCH,E.Vd.ITALIAN,E.Vd.SWISSITALIAN,E.Vd.DUTCH,E.Vd.NORWEGIAN,E.Vd.BRAZILIANPORTUGUESE,E.Vd.PORTUGUESE,E.Vd.SWEDISH],G=(e,r,t,a)=>(0,H.A)()?((e,r)=>"".concat(r.formatMessage({id:"links.myAccount.login"}),"?").concat(e))(r,t):j.L1.login((0,n.Z)((0,n.Z)({},e),{},{showRadioButtons:!1,loginSource:"header",to:a})),V=t(33695),Y=t(21650),K="Cartes et abonnements",z="https://www.thetrainline.com/fr/compagnies-ferroviaires/sncf/cartes-abonnements-de-train";function J(e){var{userCountry:r}=e,t=(0,g.useSelector)(I.ds),a=r===E.Qd.FRANCE;return t&&a?p.createElement(Y.Z,{experimentKey:V.zA.ENABLE_RAIL_CARD_MENU_NAVIGATION_BAR},(e=>{var{isVariant:r}=e;return r&&p.createElement(d.Z,{as:"a",variant:"ghost",textSize:"small",textWeight:"normal",href:z},K)})):null}var q=t(94575),Q=t(89014),X=["isHomePage","isConfirmationPage","isResultsPage"],$=["previousPage"],ee=["deviceType"],re=["deviceType","extendStyles","intl","isLoggedIn","sendTracking","userCountry","onBackClickHandler"],te={da:"da-dk",en:"en-gb",de:"de-de",es:"es-es",it:"it-it",fr:"fr-fr",nl:"nl-nl",nb:"nb-no",sv:"sv-se",pt:"pt-pt","pt-br":"pt-br","en-us":"en-us","de-ch":"de-ch","fr-ch":"fr-ch","it-ch":"it-ch","de-at":"de-at"},ae=e=>{switch(e){case"desktop":return"XL";case"tablet":return"M";default:return"XS"}},ne=(e,r)=>/&?lang=(\w*(-\w*)?)/.test(e)?e.replace(/lang=(\w*(-\w*)?)/,"lang=".concat(r)):e+"&lang=".concat(r);const ie=(0,h.compose)(v.EN,o.FZ,F.Z,m.injectIntl,y.ZP,(0,g.connect)(((e,r)=>{var t,a,{intl:n}=r,{intl:i,entities:{userPublicInfo:{country:o}}}=e,{location:s}=e.router,{locale:l=E.PG.ENGLISH}=i,c=l!==E.vi.ENGLISH?{lang:E.Uj[l]}:{},d=(0,b.QV)(e),u=d===b.bm[x.z.GUEST],p=d===b.bm[x.z.LOGGED_IN];return{signInOrAccountLinkHref:u?G(c,(0,P.n)(e),n,Z(s,(0,T.vR)(e))):n.formatMessage({id:"links.myAccountOverview"}),isLoggedIn:p,isHomePage:(0,A.Jc)(e),isConfirmationPage:(0,S.f6)(e),isResultsPage:(0,k.mX)(e),errorHandler:O.Ep,metricsHandler:O.Kh,locale:l.toLowerCase(),languages:(t=(0,N.lY)((0,I.pG)(e)),a=W,a.map((e=>t.find((r=>r.code===e)))).filter(Boolean)).map((e=>{var{code:r}=e;return{lang:te[r],navigateTo:s.search?ne(s.search,r):"?lang=".concat(r)}})),currencies:(0,_.Df)(e).map((e=>{var{code:r}=e;return{code:r}})),currentCurrency:(0,_.EI)(e),BasketInjectorComponent:U,userCountry:o,intl:n}}),(e=>({previousPage:()=>{e((0,u.Hm)())},loggedInHandler:()=>{e((0,b.i1)({reloadCurrentPage:!0}))},logoutHandler:()=>{e((0,R.k)())},analyticsHandler:r=>{var{eventType:t,analyticsData:a}=r;e((0,C.JS)({eventType:t,analyticsEventType:t,analyticsEventPayload:a}))}})),((e,r,t)=>{var{isHomePage:a,isConfirmationPage:o,isResultsPage:s}=e,l=(0,i.Z)(e,X),{previousPage:c}=r,d=(0,i.Z)(r,$),{deviceType:u}=t,p=(0,i.Z)(t,ee),m="mobile"===u&&!(a||o||s)?c:null;return(0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},p),l),d),{},{deviceType:u,onBackClickHandler:m})})))((e=>{var{deviceType:r,extendStyles:t,intl:o,isLoggedIn:u,sendTracking:m,userCountry:h,onBackClickHandler:E}=e,b=(0,i.Z)(e,re),S=(0,v.TH)(),T=(0,v.k6)(),C=E;if("/book/ticket-options"===S.pathname){var A=(0,n.Z)({},S.query);delete A.utm_source,delete A.utm_medium;var _=(0,n.Z)((0,n.Z)({},S),{},{query:A,pathname:"/book/results"});C=()=>{T.replace(_)}}var{portal:P,enableCustomHelpButton:R,disableCommerceForGuest:k,disableBurgerMenu:N}=(0,L.x)(),O=(()=>{var{enableSustainabilityDashboard:e}=(0,L.x)(),r=(0,g.useSelector)(I.ZN),{locale:t}=(0,q.YB)(),a=(0,w.Qv)(t);return e&&r&&a})(),{openOnboardingOverlay:x}=(0,Q.tz)();return p.createElement(s.ZP,{ssrValue:{viewPort:ae(r)}},p.createElement(l.ZP,(0,a.Z)({},b,{onBackClickHandler:C,portal:P,className:(0,c.css)(t),enableSkipToContentLink:!0,userCountry:h,disableCommerceForGuest:k,disableBurgerMenu:N,enableSustainabilityDashboardLink:O,openOnboardingOverlay:x,customLinks:()=>p.createElement(p.Fragment,null,R&&p.createElement(d.Z,{as:"a",variant:"ghost",textSize:"small",textWeight:"normal",href:o.formatMessage({id:"links.contactUs"})},o.formatMessage({id:u?"header.customLinks.helpCentre":"header.customLinks.contactUs"})),p.createElement(J,{userCountry:h})),onMenuOpenAnalyticsHandler:()=>P===f.Portal.TRAINLINE&&m((0,y.k1)({coreProperties:{},category:"header",action:"hamburger menu click",label:"click on the shareable header hamburger menu"}))})))}))},88065:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var a=t(50093),n=t(29901),i=t(98184),o=t(7017),s=t(98318),l=t(8888),c=t(23394);const d=a.StyleSheet.create({smartCardOnlyTextButtonContainer:{display:"flex",alignItems:"center"},smartCardOnlyText:{width:"101px",fontStyle:"normal",fontWeight:400,fontSize:"14px",textAlign:"right",color:s.dp_app_text_subdued,[c.cy.max.m]:{color:s.dp_app_text_base},position:"relative"},smartCardIcon:{height:l.Z.sizes.spacers.px17,width:l.Z.sizes.spacers.px17,position:"relative"}});const u=()=>n.createElement("div",{"data-test":"smartcard-text-block",className:(0,a.css)(d.smartCardOnlyTextButtonContainer)},n.createElement(o.Z,{className:(0,a.css)(d.smartCardIcon)}),n.createElement("div",{className:(0,a.css)(d.smartCardOnlyText)},n.createElement(i.FormattedMessage,{id:"page.matrix.smartCardOnly.text"})))},18353:(e,r,t)=>{"use strict";t.d(r,{RM:()=>Z,SJ:()=>F,gA:()=>H,Fk:()=>$,Yb:()=>re,sq:()=>ie,RJ:()=>S,GW:()=>T,tD:()=>u,Pb:()=>n,ig:()=>v});var a=t(10301),n=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],{enableSmartPriceBookingFlowUIMobileOnly:r,enableSmartPriceBookingFlowUIDesktopOnly:t}=(0,a.QE)();return{shouldRenderMobile:r&&e,shouldRenderDesktop:t&&e}},i=t(29901),o=t(84025),s=t.n(o),l=t(64169),c="SMART_PRICE_BANNER_TOTAL_SHOWN_COUNT",d="SMART_PRICE_BANNER_LAST_SHOWN_COUNT_DATE",u={dayViewsLimit:2,totalViewsLimit:5},p=(e,r)=>l.Fd.getItem(e)||r,m=(e,r)=>{var[t,a]=i.useState(Number(p(e,"".concat(r))));return[t,r=>{l.Fd.setItem(e,r||t+1),a((e=>r||e+1))}]},g=()=>{var[e,r]=m("SMART_PRICE_BANNER_TODAY_SHOWN_COUNT",0);return[e,()=>{var e=s()().format("YYYY-MM-DD");p(d,"na")===e?r():(l.Fd.setItem(d,e),r(1))}]};function v(){var[e,r]=m(c,0),[t,a]=g();return{totalViews:e,todayCount:t,handleBannerShown:()=>{r(),a()}}}var h=t(26625),y=t(60654),f=t(80911),E=t(44481),b=e=>null==e?void 0:e.some((e=>(null==e?void 0:e.savingClassification)===f.fn.SPLIT_SAVE)),S=e=>Boolean(e&&e.some((e=>{var r;return(null==e||null===(r=e.composition)||void 0===r?void 0:r.includes(y.CompositionTypes.INTERCHANGE_SPLIT))&&(null==e?void 0:e.savings)&&b(e.savings)}))),T=(e,r)=>Boolean(r&&r.some((r=>{var t,a;return e===E.t.OUTWARD?null===(t=r.outwardJourneyPlan)||void 0===t||null===(t=t.composition)||void 0===t?void 0:t.includes(y.CompositionTypes.INTERCHANGE_SPLIT):null===(a=r.inwardJourneyPlan)||void 0===a||null===(a=a.composition)||void 0===a?void 0:a.includes(y.CompositionTypes.INTERCHANGE_SPLIT)}))&&!1),C=t(98184),A=t(88543),I=t(50093),_=t(48545),P=t(89034),R=t(21168),k=t(23198),N=t(98318),O=t(36841),L=t(23394),x=N.dp_brand_primary_dim;const D=O.StyleSheet.create({container:(0,k.Z)((0,k.Z)({},L.cp.small),{},{padding:L.W0.s4,backgroundColor:x,color:N.dp_brand_white,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",zIndex:2}),containerMobile:{padding:"".concat(L.W0.s4," ").concat(L.W0.s6)},icon:{paddingLeft:L.W0.s1,width:L.W0.s4,height:L.W0.s3,position:"relative",top:2,transform:"scale(1.4)"},splitSaveInfo:{paddingLeft:L.W0.s2},link:{borderBottom:"1px solid ".concat(N.dp_brand_white),fontWeight:"bold",marginLeft:"".concat(L.W0.s1),pointerEvents:"all"},strikeThroughInfo:{backgroundColor:N.dp_brand_primary_dull,padding:L.W0.s2,marginTop:L.W0.s4,borderRadius:L.W0.s2,display:"flex",textAlign:"center"}});var w=t(2749),Z=()=>i.createElement(w.O,{arrowPosition:"TOP_RIGHT",color:"BRAND_PRIMARY",dataTestId:"smart-price-banner-desktop"},i.createElement("div",{role:"button",tabIndex:0,className:(0,I.css)(D.container),"data-test":"smart-price-banner-desktop-container"},i.createElement("p",null,i.createElement(_.Z,{className:(0,I.css)(D.icon)}),i.createElement("span",{className:(0,I.css)(D.splitSaveInfo)},i.createElement(C.FormattedMessage,{id:"components.euResults.splitSave"}))))),F=()=>{var{sendTracking:e}=(0,h.rS)(),r=(0,A.useDispatch)();i.useEffect((()=>{e((0,h.k1)({coreProperties:{},category:"banner",action:"smart price impression",label:"smart price impression"}))}),[]);var t=()=>{e((0,h.k1)({coreProperties:{},category:"banner",action:"smart price banner clicked",label:"smart price banner clicked"})),r((0,P.Ll)({type:R.e.SMARTPRICE_EXPLAINER}))};return i.createElement("div",{role:"button",tabIndex:0,className:(0,I.css)([D.container,D.containerMobile]),"data-test":"smart-price-banner-container",onClick:t,onKeyDown:t},i.createElement("p",null,i.createElement(_.Z,{className:(0,I.css)(D.icon)}),i.createElement("span",{className:(0,I.css)(D.splitSaveInfo)},i.createElement(C.FormattedMessage,{id:"components.euResults.splitSave"})),i.createElement("span",{role:"button",tabIndex:0,className:(0,I.css)(D.link),onClick:t,onKeyDown:t},i.createElement(C.FormattedMessage,{id:"components.euResults.splitSaveLink"}))),i.createElement("div",{className:(0,I.css)(D.strikeThroughInfo)},i.createElement("p",null,i.createElement(C.FormattedMessage,{id:"components.euResults.strikeThroughInfo"}))))},B=t(42838),M=t(6575),U=t(53897);const j=I.StyleSheet.create({icon:{marginRight:U.i.px5,alignSelf:"center",width:U.i.px14},wrapper:{height:"fit-content",backgroundColor:N.dp_brand_primary_brightest,padding:"4px 8px",borderRadius:M.sC,display:"flex",marginBottom:U.i.px5,marginLeft:U.i.px5},selected:{backgroundColor:N.dp_app_selection_dull,color:N.dp_brand_white,padding:"0px 8px"}});var H=e=>{var{children:r,isSmartPrice:t,isSelected:a,desktopEnabled:o=!0,mobileEnabled:s=!0,additionalStyles:l}=e,{shouldRenderDesktop:c,shouldRenderMobile:d}=n(t);return Boolean(o&&c||s&&d)&&t?i.createElement("div",{className:(0,I.css)([j.wrapper,a&&j.selected,null==l?void 0:l.wrapper]),"data-test":"smart-price-wrapper"},a?i.createElement(_.Z,{className:(0,I.css)(j.icon)}):i.createElement(B.Z,{className:(0,I.css)([j.icon,null==l?void 0:l.logo])}),r):i.createElement(i.Fragment,null,r)},W=t(88593),G=t(13111),V=t(28220),Y=t(45350),K=t(99366),z=t(35779),J=t(8888);const q=O.StyleSheet.create({icon:{transform:"scale(2)",transformOrigin:"left",[J.Z.breakpoints.mobile.upper]:{paddingTop:10}},subHeader:(0,k.Z)((0,k.Z)({},K.cp.large),{},{marginBottom:z.Ui,marginTop:z.Ui}),infoText:(0,k.Z)((0,k.Z)({},K.cp.body),{},{color:N.dp_app_text_subdued,fontSize:18}),firstParagraph:{marginTop:z.cr,marginBottom:z.VG}});var Q=t(94575),X=()=>i.createElement("img",{width:"100%",src:"https://static.trainlinecontent.com/content/WEB/images/modals/smart-price-info.png",alt:""}),$=e=>{var{close:r}=e,{formatMessage:t}=(0,Q.YB)();return i.createElement(V.ZP,{type:V.j2.MODAL,close:r,testId:"smart-price-modal"},i.createElement(G.Z,null,i.createElement("section",null,i.createElement(G.Z.Title,{text:i.createElement(C.FormattedMessage,{id:"components.euResults.smartPriceModalTitle"})})),i.createElement(G.Z.ActionButton,{label:t({id:"components.euResults.smartPriceModalClose"}),testId:"smart-price-modal-close"})),i.createElement(W.ZP,null,i.createElement("section",null,i.createElement(B.Z,{className:(0,I.css)(q.icon)}),i.createElement("p",{className:(0,I.css)(q.infoText,q.firstParagraph)},i.createElement(C.FormattedMessage,{id:"components.euResults.smartPriceModalInfoOne"})),i.createElement("p",{className:(0,I.css)(Y.W6.title,q.subHeader)},i.createElement(C.FormattedMessage,{id:"components.euResults.smartPriceModalSubTitleOne"})),i.createElement(X,null),i.createElement("p",{className:(0,I.css)(q.infoText)},i.createElement(C.FormattedMessage,{id:"components.euResults.smartPriceModalInfoTwo"})),i.createElement("p",{className:(0,I.css)(Y.W6.title,q.subHeader)},i.createElement(C.FormattedMessage,{id:"components.euResults.smartPriceModalSubTitleTwo"})),i.createElement("p",{className:(0,I.css)(q.infoText)},i.createElement(C.FormattedMessage,{id:"components.euResults.smartPriceModalInfoThree"})))))};const ee=I.StyleSheet.create({container:{paddingTop:L.W0.s2,paddingBottom:L.W0.s2,paddingLeft:L.W0.s4,backgroundColor:N.dp_brand_neutral_brightest},message:{color:N.dp_brand_primary_dullest},trainlineText:{color:N.dp_brand_primary_core,fontWeight:800},link:{color:N.dp_app_link_base,background:"none",lineHeight:1,borderBottom:"1px solid currentColor",cursor:"pointer"}});var re=e=>{var{}=e,{sendTracking:r}=(0,h.rS)(),t=(0,A.useDispatch)();return i.createElement("div",{"data-test":"smart-price-savings-banner",className:(0,O.css)(ee.container)},i.createElement("div",{className:(0,O.css)(ee.message)},i.createElement("span",null," ",i.createElement(C.FormattedMessage,{id:"components.euResults.youSavedWith"})),i.createElement("span",{className:(0,O.css)(ee.trainlineText)}," Trainline"),i.createElement("span",null,". "),i.createElement("button",{"data-test":"smart-price-open-modal",className:(0,O.css)(ee.link),onClick:()=>{r((0,h.k1)({coreProperties:{},category:"smart price savings banner",action:"heres how clicked",label:"heres how clicked"})),t((0,P.Ll)({type:R.e.SMARTPRICE_EXPLAINER}))}},i.createElement(C.FormattedMessage,{id:"components.euResults.splitSaveLink"}))))};const te=I.StyleSheet.create({smartPriceSavingsInfo:{display:"flex",justifyContent:"center",backgroundColor:N.dp_brand_primary_brightest,padding:L.W0.s3,borderRadius:L.W0.s6,marginTop:L.W0.s3},link:{marginLeft:L.W0.s1,color:N.dp_app_link_base,background:"none",lineHeight:1,borderBottom:"1px solid currentColor",cursor:"pointer",pointerEvents:"all"}});var ae=t(14023),ne=t(72222),ie=e=>{var{price:r}=e,t=(0,A.useDispatch)(),a=()=>t((0,P.Ll)({type:R.e.SMARTPRICE_EXPLAINER}));return i.createElement("article",{className:(0,I.css)(te.smartPriceSavingsInfo),"data-test":"smartPriceSavingsTotalBanner"},i.createElement(ae.Z,{textWeight:"600",as:"p",textType:"body"},""," ",i.createElement(C.FormattedMessage,{id:"components.euResults.smartPriceSave",values:{price:i.createElement(ne.Z,{value:r.amount,currency:r.currencyCode})}}),i.createElement("span",{role:"button",tabIndex:0,className:(0,I.css)(te.link),onClick:a,onKeyDown:a},i.createElement(C.FormattedMessage,{id:"components.euResults.splitSaveLink"}))))}},10208:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var a=t(50093),n=t(29901),i=t(98184),o=t(65250),s=t(66985),l=t(72222),c=t(23198),d=t(98318),u=t(23394);const p=a.StyleSheet.create({splitSaveButtonContainer:{display:"flex",alignItems:"flex-start"},splitTicketButtonContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"4px",padding:0},splitSaveText:(0,c.Z)((0,c.Z)({padding:"4px 0",marginLeft:"4px"},u.cp.mini),{},{fontWeight:700,textDecorationLine:"underline",background:"transparent",color:d.dp_app_link_base,cursor:"pointer",textAlign:"left",":focus-visible":{outline:"4px solid ".concat(d.dp_comp_focus_ring)}}),splitSaveLight:(0,c.Z)((0,c.Z)({},u.cp.small),{},{fontWeight:400})});var m=t(75853),g=t(56429);const v=e=>{var{mode:r,isTravelClassFirstClass:t,onClick:c,savings:d,styleSheet:u}=e,{portal:v}=(0,m.x)(),h="light"===r,y=(0,a.css)(p.splitSaveText,h&&p.splitSaveLight),f=t?"splitsave.firstClass":"splitsave.text";return n.createElement("span",{className:(0,a.css)(p.splitSaveButtonContainer,!(0,g.L)(v)&&h&&p.splitTicketButtonContainer)},(0,g.L)(v)?n.createElement(o.Z,{width:"16",viewBox:"0 0 24 24"}):n.createElement(s.Z,{className:(0,a.css)(null==u?void 0:u.splitSaveSvg)}),n.createElement("button",{"data-test":"split-save-button",className:y,onClick:c},!d&&n.createElement(i.FormattedMessage,{id:f}),!!d&&n.createElement(i.FormattedMessage,{id:"splitsave.save.price",values:{price:n.createElement(l.Z,{value:d.amount,currency:d.currencyCode})}})))}},56646:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u,q:()=>d});var a=t(23198),n=t(82768),i=t(83504),o=t(61229),s=t(91581),l=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t={};return(0,n.xbD)(r)||Object.keys(e).forEach((a=>{r.includes(a)&&(t[a]=e[a])})),t},c=e=>{var r=[];return Object.keys(e).forEach((t=>{var{vouchers:a=null}=e[t];if(null!=a&&a.length){var n=a.reduce(((e,r)=>[...e,r.voucherCode]),r);r=n}})),r},d=function(e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t=l(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),n=l(e,r),i=(0,a.Z)((0,a.Z)({},t),n);return c(i).join("|")},u=(e,r)=>{var t="";if(r&&r.length>0){var a=(0,i.FD)(e),n=(0,o.ft)(e,a),d=(0,o.ng)(e,a),u=(e=>{var r=[];return Object.keys(e).forEach((t=>{var{fares:a=[]}=e[t];r=Array.from(new Set([...r,...a]))})),r})((0,s.y)(n,r)),p=l(d,u),m=c(p);m&&m.length&&(t=m[0])}return t}},91581:(e,r,t)=>{"use strict";t.d(r,{G:()=>l,y:()=>s});var a=t(82768),n=t(61229),i=t(83504),o=t(62331),s=(e,r)=>{var t={};return e&&!(0,a.xbD)(e)&&Object.keys(e).forEach((a=>{r.includes(a)&&(t[a]=e[a])})),t},l=(e,r)=>{var t,l,c,d,u,p,m=[],g=(0,i.FD)(e),v=(0,n.yp)(e,g);if(!(0,a.xbD)(v)){var h=(0,n.ft)(e,g),y=(0,o.ic)(e),f=s(h,r),E=(u=f,p=[],Object.keys(u).forEach((e=>{var{cards:r=[]}=u[e];p=Array.from(new Set([...p,...r]))})),p),b=((e,r)=>{var t={};return e&&!(0,a.xbD)(e)&&Object.keys(e).forEach((a=>{r.includes(a)&&(t[a]=e[a])})),t})(y,(c=E,d=[],(l=v)&&!(0,a.xbD)(l)&&Object.keys(l).forEach((e=>{c.includes(e)&&d.push(l[e].cardType)})),d));t=b,m=Object.keys(t).reduce(((e,r)=>{var a;return t[r]&&null!==(a=t[r])&&void 0!==a&&a.description?[...e,t[r].description]:e}),[])}return m}},36493:(e,r,t)=>{"use strict";t.d(r,{D:()=>o,I:()=>i});var a=t(63085),n=t(78307),i=[a.j.P1M,a.j.P4D,a.j.P3D],o={[n.xj.SAME_DAY]:[a.j.P4D,a.j.P3D],[n.xj.ONE_MONTH]:[]}},59385:(e,r,t)=>{"use strict";t.d(r,{RV:()=>d,dZ:()=>u,eo:()=>m,zV:()=>p});var a=t(47967),n=t(50549),i=t(32143),o=t(7173),s=t(43650),l=t(83504),c=t(89277),d=function(e){return e.STANDARD="standard",e.FIRST="first",e}({});function u(e,r,t){var a=e===d.STANDARD&&!(!r||!t)&&!!(r&&r[e]||t&&t[e]);return{outbound:r&&r[e]||a&&r&&r.first||void 0,inbound:t&&t[e]||a&&t&&t.first||void 0}}var p=(e,r,t,i,l)=>{var p,m,g,v=(0,o.Gh)(e,r),h=i&&v[i.id],y=(0,a.RZ)(null==i?void 0:i.departAt,null==l?void 0:l.departAt),f=(0,a.eI)(null==i?void 0:i.arriveAt,null==l?void 0:l.arriveAt),E=(0,s.fV)(e,r),b=(0,a.$r)(y,f,E),{outward:S,inward:T}=(0,a.LC)(e,r,i,l),C=b.filter((e=>{var[r]=e;return r.travelClass===t})).map((e=>{var[r,t]=e;return{outbound:r,inbound:t}})),A=u(t===n.U9.FIRST?d.FIRST:d.STANDARD,S,T);if(null!==(p=A.outbound)&&void 0!==p&&null!==(p=p.price)&&void 0!==p&&p.amount&&null!==(m=A.inbound)&&void 0!==m&&null!==(m=m.price)&&void 0!==m&&m.amount){var I,_=A.outbound.price.amount+A.inbound.price.amount,[P]=C,R=P&&(null===(I=P.outbound)||void 0===I||null===(I=I.price)||void 0===I?void 0:I.amount);(!R||R>_)&&C.unshift(A)}if(l)g=C;else{var k=(h||[]).filter((e=>e.travelClass===t)).sort(c.d$),N=t===n.U9.FIRST?"Advance Single (1st Class)":"Advance Single",O=!1,L=!1;g=k.filter((e=>e.fareTypeName!==N||(!L&&e.isSplitSaveJourney?(L=!0,!0):!O&&(O=!0,!0)))).map((e=>({outbound:e})))}return g};function m(e,r){var t=(0,l.FD)(e);return p(e,t,r,(0,i.Q4)(e,t),(0,i.P8)(e,t))}},47967:(e,r,t)=>{"use strict";t.d(r,{eI:()=>b,RZ:()=>E,LC:()=>f,$r:()=>S,jP:()=>A,u0:()=>C});var a=t(32034),n=t(59385),i=t(50549),o=t(32143),s=t(7173),l=t(43650),c=t(83570),d=t(83504),u=t(48500),p=t(89277),m=e=>e&&e.price&&e.price.amount?e.price.amount:1/0,g=(e,r,t)=>{if(e.length<1)return[r,t];var a=((e,r,t)=>a=>{var o=e.find((e=>{var[r]=e;return!!r&&r.travelClass===a})),s=a===i.U9.STANDARD?n.RV.STANDARD:n.RV.FIRST,{outbound:l,inbound:c}=(0,n.dZ)(s,r,t);if(o){var[d,u]=o,p=m(l)+m(c);if(m(d)<=p)return[d,u]}return[l,c]})(e,r,t),[o,s]=a(i.U9.FIRST),[l,c]=a(i.U9.STANDARD);return[{first:o,standard:l},{first:s,standard:c}]},v=t(51282),h=t(78307),y=t(44544),f=(e,r,t,a)=>{var n=(0,v.ue)(e)||r.query.openReturnType,i=(0,y.EX)(e)&&n===h.xj.ONE_MONTH?(0,s.Mi)(e,r):(0,s.yX)(e,r),o=(0,u.Cq)(i||{}),l=(0,s.Xh)(e,r),c=(0,u.Cq)(l||{});return{outward:t&&o&&o[t.id],inward:a&&c&&c[a.id]}},E=(e,r)=>t=>{var a="outward"===t.direction?e:r;return t.departAt===a},b=(e,r)=>t=>{var a="outward"===t.direction?e:r;return t.arriveAt===a},S=function(e,r){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).map((r=>r.filter(e))).map((e=>e.filter(r))).filter((e=>{var{length:r}=e.filter((e=>"inward"===e.direction)),{length:t}=e.filter((e=>"outward"===e.direction));return r&&t})).sort(((e,r)=>{var[t]=e,[a]=r;return(0,p.d$)(t,a)}))},T=(e,r)=>{var t=r&&r.find((r=>r.alternativeId===e));return t&&t.travelClass===i.U9.FIRST},C=(0,a.P1)((e=>e),(e=>{var r=(0,d.FD)(e),t=(0,o.Q4)(e,r),a=(0,o.P8)(e,r),u=(0,s.Gh)(e,r),p=t&&u[t.id],m=a&&u[a.id],{outwardAlternativeId:v,inwardAlternativeId:h}=(0,c.rd)(e,r),y=((e,r,t,a)=>(e&&r?T(e,t)&&T(r,a):T(e,t))?i.U9.FIRST:i.U9.STANDARD)(v,h,p,m),C=E(t&&t.departAt,a&&a.departAt),A=b(t&&t.arriveAt,a&&a.arriveAt),I=(0,l.fV)(e,r),_=S(C,A,I),{outward:P,inward:R}=f(e,r,t,a),[k,N]=g(_,P,R);return{cheapestInward:N,cheapestOutward:k,selectedTravelClass:y,journeyAlts:(0,n.eo)(e,y)}})),A=(0,a.P1)((e=>e),(e=>[...(0,n.eo)(e,i.U9.STANDARD),...(0,n.eo)(e,i.U9.FIRST)]))},97159:(e,r,t)=>{"use strict";t.d(r,{W:()=>p,Z:()=>u});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),l=t(8590),c=t(83367),d=t(1018);const u=i.StyleSheet.create({wrapper:(0,a.Z)((0,a.Z)({},d.LZ),{},{display:"flex",alignItems:"center"}),icon:{marginRight:c.spacers.px6,fill:n.dp_brand_neutral_dullest},iconWrapper:{display:"flex",width:"".concat(c.spacers.px40)},iconTripCard:{},passengerNames:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"331px",[o.Z.breakpoints.small.max]:{fontSize:c.spacers.px16,lineHeight:1.5,marginLeft:c.spacers.px9}},label:(0,a.Z)((0,a.Z)({},d.LZ),{},{fontSize:l.W0.s4,lineHeight:1.5,display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})});var p=i.StyleSheet.create({wrapper:(0,a.Z)((0,a.Z)({},d.LZ),{},{display:"flex",alignItems:"center"}),icon:{marginLeft:"-2px",marginRight:l.W0.s2,fill:n.dp_brand_neutral_dullest,width:c.spacers.px24,height:c.spacers.px24,[o.Z.breakpoints.small.max]:{width:l.W0.s6,height:l.W0.s6}},iconTripCard:{alignSelf:"flex-start"},passengerNames:{maxWidth:"331px",[o.Z.breakpoints.small.max]:{fontSize:c.spacers.px16,fontWeight:600,lineHeight:1.5}},label:(0,a.Z)((0,a.Z)({},d.LZ),{},{marginLeft:0,display:"inline-block",[s.cy.min.m]:{marginLeft:c.spacers.px6}})})},1018:(e,r,t)=>{"use strict";t.d(r,{$b:()=>d,LZ:()=>c,ZP:()=>m,_L:()=>g,gP:()=>u,oA:()=>p});var a=t(23198),n=t(98318),i=t(50093),o=t(8888),s=t(23394),{spacers:l}=o.Z.sizes,c={fontSize:l.px14,lineHeight:1.43,letterSpacing:"-0.2px",color:n.dp_app_text_base},d={width:s.W0.s6,height:s.W0.s6,viewBox:"0 0 20 20",fill:n.dp_brand_neutral_dullest},u=((0,a.Z)((0,a.Z)({},d),{},{viewBox:"0 0 28 28"}),i.StyleSheet.create({wrapper:{color:n.dp_brand_tertiary_dim},icon:{width:s.W0.s6,height:"14px",fill:n.dp_brand_tertiary_dim,marginTop:"2px",marginLeft:"10px",marginRight:0}})),p=i.StyleSheet.create({wrapper:{color:n.dp_app_text_negative},icon:{width:s.W0.s6,height:"14px",fill:n.dp_app_text_negative,marginTop:"2px",marginLeft:"10px",marginRight:0}});const m=i.StyleSheet.create({wrapper:{margin:"".concat(l.px22,", ").concat(l.px19)},row:(0,a.Z)((0,a.Z)({},c),{},{display:"flex",alignItems:"flex-start",marginBottom:l.px16,":last-child":{marginBottom:"calc(-1 * var(--dp_s16))"}}),hide:{":empty":{display:"none"}},rowMessage:{display:"flex",flexDirection:"column",flex:1},rowContent:{marginLeft:l.px16},iconWrapper:{display:"flex",flexShrink:0,width:"".concat(l.px40)}});var g=i.StyleSheet.create({expandedBody:{padding:0,border:"none"},detailsContainer:{padding:0,border:"none"},detailsContainerCollapsed:{border:"none"},detailsContainerExpanded:{border:"none"}})},5930:(e,r,t)=>{"use strict";t.d(r,{y:()=>s});var a=t(29901),n=t(61229),i=t(91800),o=t(94575),s=e=>{var r,{journeyPlan:t}=e,s=(0,o.YB)().locale,l=Boolean(null===(r=(0,i.C)((e=>(0,n.Ug)(e)))[t.id])||void 0===r||null===(r=r.overtaken)||void 0===r?void 0:r.isOvertaken);return{locale:s,journey:(0,a.useMemo)((()=>({id:t.id,legs:t.legs.map((e=>({id:e.id,localArriveAt:e.localArriveAt,localDepartAt:e.localDepartAt,origin:e.origin,destination:e.destination,disruptions:e.disruptions,firstDisruption:e.firstDisruption,carrierName:e.carrierName,timetableId:e.timetableId,transportMode:e.transportMode,transportModeName:e.transportModeName,carrier:e.carrierLogo,carrierUrn:e.carrierUrn}))),isOvertaken:l})),[t.id,t.legs,l])}}},87479:(e,r,t)=>{"use strict";t.d(r,{Z:()=>x});var a=t(64321),n=t(50093),i=t(29901),o=t(98184),s=t(41344),l=t(49042);const c=e=>{var{className:r,stroke:t}=e;return i.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("g",{fill:"none",fillRule:"nonzero"},i.createElement("path",{stroke:t||"#3367AB",d:"M5,4.5 C4.17157288,4.5 3.5,5.17157288 3.5,6 L3.5,16 C3.5,16.8284271 4.17157288,17.5 5,17.5 L9.2094351,17.5 L11.6175438,20.3050799 C11.6344885,20.324818 11.6529478,20.3432035 11.6727535,20.3600692 C11.8829959,20.5391019 12.1985658,20.5138015 12.3775986,20.3035591 L14.7649808,17.5 L19,17.5 C19.8284271,17.5 20.5,16.8284271 20.5,16 L20.5,6 C20.5,5.17157288 19.8284271,4.5 19,4.5 L5,4.5 Z"}),i.createElement("path",{stroke:t||"#3367AB",strokeLinecap:"round",d:"M7.5 12.5L14.5 12.5M7.5 9.5L16.5 9.5"})))};var d=t(7809),u=t(98318),p=t(8888),m=t(8590),g=t(83367),v=t(52068);const h=n.StyleSheet.create({root:{backgroundColor:u.dp_app_backdrop_dull,textAlign:"center",marginTop:g.spacers.l,marginBottom:g.spacers.l,paddingTop:g.spacers.m,paddingBottom:g.spacers.m,borderRadius:m.E0.l,[p.Z.breakpoints.xsmall.max]:{backgroundColor:u.dp_app_backdrop_base,borderRadius:m.E0.l,border:"1px solid #e6ebeb",paddingTop:g.spacers.px11,paddingBottom:g.spacers.px11,marginTop:m.W0.s3,marginBottom:m.W0.s2}},darkBackground:{backgroundcolor:u.dp_brand_neutral_dullest},link:{fontSize:v.W.body.fontSize,display:"flex",justifyContent:"center",paddingLeft:g.spacers.m,paddingRight:g.spacers.m,[p.Z.breakpoints.xsmall.max]:{flexDirection:"row-reverse",color:u.dp_app_text_subdued,fontSize:g.spacers.px14,paddingLeft:g.spacers.px42,paddingRight:g.spacers.px35,textAlign:"left"}},opinionIcon:{marginLeft:g.spacers.s,alignSelf:"center",[p.Z.breakpoints.xsmall.max]:{marginLeft:0,marginRight:g.spacers.px15,":nth-child(1n)":{minWidth:m.W0.s6}}},whiteLink:{color:u.dp_app_text_inverted,":hover":{color:u.dp_app_text_inverted}}});var y,f=t(48977),E=t(88543),b=t(23198),S=()=>{var e=window,r="";return e.ga&&e.ga((function(){var t=e.ga.getAll();t.length>0&&(r=t[0].get("clientId"))})),r},T=e=>"".concat(S(),":").concat(Date.now(),":").concat(e),C="UNSTARTED",A=e=>("UNSTARTED"===C&&(C="PENDING",y=new Promise(((r,t)=>{var a=document.createElement("script");a.src="https://w.usabilla.com/".concat(e,".js"),document.body.appendChild(a),a.addEventListener("load",(()=>{document.body.removeChild(a),C="SUCCESS",r(!0)})),a.addEventListener("error",(()=>{document.body.removeChild(a),C="ERROR",r(!1)}))}))),y);var I=t(68760),_=t(19408),P=t(29011),R=t(1160),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).map((r=>{var[t,a]=r;return"".concat(t,"(v").concat(a.version,")=").concat((0,f.$n)(e,t)?"VARIANT(".concat(a.value,")"):"CONTROL")})).sort().join(", ")};function N(){var e=(0,R.BD)()||"",r=(0,E.useSelector)(P.D1),t=(0,E.useSelector)(I.c4),a=(0,E.useSelector)(_.FD);return{showUsabillaForm:(n,i,o)=>((e,r,t,a)=>{var n=window;n.usabilla_live("data",{custom:(0,b.Z)({interactionId:T(e),pageName:t,lastConversationId:r,gaClientId:S()},a)}),n.usabilla_live("setForm",e),n.usabilla_live("click")})(n,i,r,Object.assign({contextAliasId:(0,R.MU)(),customerId:t,applicationClientId:e,experiments:k(a)},o,{releaseVersion:"undefined"!=typeof window&&window.__VERSION__||""}))}}var O=t(26625),L=t(75853);const x=e=>{var{buttonLabelId:r,formName:t,darkTheme:u=!1,styleSheet:p={},data:m}=e,{mobile:g}=(0,s.zw)(),{showUsabillaForm:v}=N(),y=function(e){var{sendTracking:r}=(0,O.rS)(),t=T(e),[a,n]=i.useState(!1),{usabillaEnabled:o}=(0,L.x)(),s=(e,a)=>{"Feedback:Success"===a&&r((0,O.k1)({coreProperties:{genericValue1:t||null},category:"usabilla feedback submitted analytics framework",action:"usabilla feedback submitted",label:"usabilla feedback submitted"}))};return i.useEffect((()=>{o&&A("6ba9830b2678").then((e=>{n(e),e&&window.usabilla_live("setEventCallback",s)}))}),[]),o&&a}(t);return y?i.createElement("div",{id:"dweb-usabilla",className:(0,n.css)([h.root,u&&h.darkBackground,p.root])},i.createElement(l.Z,{"data-test":"usabilla-link",onClick:()=>v(t,(0,d.Kv)(),m),styleSheet:[h.link,p.link,u&&h.whiteLink]},i.createElement(o.FormattedMessage,{id:r}),i.createElement(c,(0,a.Z)({className:(0,n.css)([h.opinionIcon,p.opinionIcon])},g&&{stroke:"#889497"},u&&{stroke:"#ffffff"})))):null}},29171:(e,r,t)=>{"use strict";t.d(r,{Gg:()=>d,QH:()=>l,Uw:()=>u,lK:()=>c,zh:()=>s});var a=t(60654),n=t(50693),i=t(24087),o=(e,r)=>void 0!==r&&void 0!==e[r],s=(e,r)=>!o(e,r),l=(e,r)=>{var t,a;return!(!o(e,r)||null===(t=e[r])||void 0===t||!t.connections)&&!(null!==(a=e[r])&&void 0!==a&&null!==(a=a.connections)&&void 0!==a&&a.includes(n.yk))},c=(e,r,t,n)=>t&&Object.keys(t).length?[e,r].some((a=>l(t,a)||!!e&&!!r&&s(t,a)))?n===i.ZP.COACH?a.Experiences.EU_COACH:a.Experiences.EU_TRAIN:n===i.ZP.COACH?a.Experiences.NATIONAL_EXPRESS_COACH:a.Experiences.UK_TRAIN:a.Experiences.UK_TRAIN,d=(e,r,t)=>c(e,r,t)===(a.Experiences.EU_TRAIN||a.Experiences.EU_COACH),u=(e,r,t)=>c(e,r,t)===(a.Experiences.UK_TRAIN||a.Experiences.NATIONAL_EXPRESS_COACH)},35134:(e,r,t)=>{"use strict";t.d(r,{N:()=>i});var a=t(8947),n=t(12521),i=(e,r)=>(0,a.D)((0,n.fetch)("/login-service/api/login",{method:"POST",body:{email:e,password:r}}))},24206:(e,r,t)=>{"use strict";t.d(r,{Q:()=>v,Z:()=>h});var a=t(23198),n=t(29901),i=t(48157),o=t(88543),s=t(18406),l=t(595),c=t(68760),d=t(85207),u=t(47303),p=t(76376),m=t(52925),g=function(){return{recipient:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",addressNickname:"",country:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",postcode:"",addressLine1:"",addressLine2:"",addressLine3:"",addressLine4:"",addressLine5:"",id:""}},v=()=>{var e=(0,o.useSelector)(c.u0),r=(0,o.useSelector)(d.Xw),t=(0,o.useSelector)(c.IL)||"",a=(0,o.useSelector)(p.Br);return{email:e,kioskEmail:e,kioskCtrOption:r||d.A2.INDIVIDUAL_COLLECTIONS,mTicketTravellerName:"",nationalExpressETicketTravellerName:t,departureStationHasKiosk:a,secondClassPost:g(t,"GB"),specialDelivery:g(t,"GB"),internationalPost:g(t),option:void 0,station:void 0,smartCardNumberCollectAtStation:"",smartCardNumberLoadOnApp:"",selectedSmartcard:void 0,smartCollectAtStationCheckBox:!1,smartCollectOnPhoneCheckBox:!1,smartCollectionNickName:"",smartCardAppNickName:""}};const h=(0,l.Z)({form:d.gY,enableReinitialize:!0,onSubmit:d.MI})((e=>{var{children:r}=e,t=v(),l=(0,i.cI)({defaultValues:t}),c=(0,o.useDispatch)(),p=n.useCallback((e=>{c((0,s.j2)(d.gY,e)),c({type:m.ZP})}),[c]),g=n.useCallback((e=>{var r=Object.values(e).find((e=>void 0!==e));c((0,u.Bp)((0,a.Z)((0,a.Z)({},d.N7),{},{message:r})))}),[c]);return n.createElement(i.RV,l,n.createElement("form",{id:"delivery-options-form",onSubmit:l.handleSubmit(p,g)},r))}))},37954:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v,o:()=>m});var a=t(23198),n=t(29901),i=t(69032),o=t(41876),s=t(88543),l=t(48157),c=t(18406),d=t(27167),u=t(85207),p=t(24206),[m,g]=(0,o.k)("MergedOptionsUKForm");const v=e=>{var{children:r}=e,t=(0,d.iH)(),o=(0,p.Q)(),m=(0,l.cI)({defaultValues:(0,a.Z)((0,a.Z)({},t),o)}),v=(0,n.useCallback)((e=>{m.reset((0,a.Z)((0,a.Z)({},m.getValues()),e))}),[m]),h=(0,s.useDispatch)();return n.useEffect((()=>{h((0,c.j2)(i.Th,t)),h((0,c.j2)(u.gY,o))}),[]),n.createElement(g.Provider,{value:{setFormValues:v,methods:m}},r)}},19304:(e,r,t)=>{"use strict";t.d(r,{M:()=>v,Z:()=>f});var a=t(23198),n=t(29901),i=t(48157),o=t(595),s=t(18406),l=t(88543),c=t(37954),d=t(47303),u=t(85207),p=t(69032),m=t(52925),g=t(82768),v=["option","email","kioskAlternativeStation","kioskCtrOption","kioskEmail","mTicketTravellerName","departureStationHasKiosk","secondClassPost","specialDelivery","nationalExpressETicketTravellerName","internationalPost","station","smartCardNumberCollectAtStation","smartCardNumberLoadOnApp","selectedSmartcard","smartCollectAtStationCheckBox","smartCollectOnPhoneCheckBox","smartCollectionNickName","smartCardAppNickName"],h=(0,o.Z)({form:p.Th,enableReinitialize:!0,onSubmit:p.MI})((()=>null)),y=(0,o.Z)({form:u.gY,enableReinitialize:!0,onSubmit:u.MI})((()=>null));const f=e=>{var{children:r}=e,{methods:t}=(0,c.o)(),o=(0,l.useDispatch)(),f=n.useCallback((e=>{o((0,s.j2)(u.gY,(0,g.eiS)(v,e))),o((0,s.j2)(p.Th,(0,g.eiS)([...Object.keys(p.Qx)],e))),o({type:m.ZP})}),[o]),E=n.useCallback((e=>{e.reserveOutward&&o((0,d.Bp)((0,a.Z)((0,a.Z)({},p.N7),{},{message:e.reserveOutward.message}))),e.reserveInward&&o((0,d.Bp)((0,a.Z)((0,a.Z)({},p.N7),{},{message:e.reserveInward.message})));var r=Object.values(e).find((e=>void 0!==e));o((0,d.Bp)((0,a.Z)((0,a.Z)({},u.N7),{},{message:r})))}),[o]);return n.createElement(n.Fragment,null,n.createElement(h,null),n.createElement(y,null),n.createElement(i.RV,t,n.createElement("form",{id:"options-form",onSubmit:t.handleSubmit(f,E)},r)))}},27167:(e,r,t)=>{"use strict";t.d(r,{Xj:()=>m,ZP:()=>h,iH:()=>v});var a=t(23198),n=t(29901),i=t(69032),o=t(41876),s=t(88543),l=t(48157),c=t(99462),d=t(77264),u=t(31521),p=t(18406),[m,g]=(0,o.k)("SeatReservationsForm"),v=()=>{var e=(0,s.useSelector)(d.t9)||"",r=(0,s.useSelector)(d.r5)||"",t=(0,s.useSelector)(d.KP)||"",n=(0,s.useSelector)(d.SV),o=(0,s.useSelector)(u.SY),l=(0,s.useSelector)(c.cy),p=o?(0,i.hH)(o,l.outward):void 0,m=o?(0,i.hH)(o,l.inward):void 0;return(0,a.Z)((0,a.Z)({},i.Qx),{},{reserveOutward:p,reserveInward:m,position:e,direction:r,carriageType:t,facilities:n})};const h=e=>{var{children:r}=e,t=v(),o=(0,l.cI)({defaultValues:t}),c=(0,n.useCallback)((e=>{o.reset((0,a.Z)((0,a.Z)({},o.getValues()),e))}),[o]),d=(0,s.useDispatch)();return n.useEffect((()=>{d((0,p.j2)(i.Th,t))}),[]),n.createElement(g.Provider,{value:{setFormValues:c,methods:o}},r)}},9553:(e,r,t)=>{"use strict";t.d(r,{Q:()=>o,y:()=>s});var a=t(23198),n=t(95766),i=t(75046),o=(e,r)=>e.passengers.reduce(((t,n)=>(null!=n&&n.id&&(t[n.id]||(t[n.id]=((e,r,t)=>{return(0,a.Z)((0,a.Z)({id:e.id,dateOfBirth:null==e?void 0:e.dateOfBirth},(null==e?void 0:e.cardIds)&&{cardIds:e.cardIds,cards:e.cardIds.reduce(((e,n)=>{var i=null==r?void 0:r.find((e=>(null==e?void 0:e.id)===n));if(t&&null!=i&&i.code&&null!=i&&i.id){var o,s=null===(o=Object.values(t).find((e=>(null==e?void 0:e.code)===(null==i?void 0:i.code))))||void 0===o?void 0:o.id;s&&e.push((0,a.Z)({type:s,uuid:null==i?void 0:i.id},(null==i?void 0:i.number)&&{number:null==i?void 0:i.number}))}return e}),[])}),{},{disabilityInformation:e.disabilityInformation?(n=e.disabilityInformation,n.reduce(((e,r)=>r?[...e,{disabilityCardLevel:(0,i.ow)(r.disabilityCardLevel),disabilityPassenger:r.disabilityPassenger||!1,wheelchairUser:r.wheelchairUser||!1,model:"sncf"}]:e),[])):void 0});var n})(n,e.discountCards,r))),t)),{}),s=(e,r)=>(0,n.Gu)("passengers",e,r,{dateProperties:["dateOfBirth"],skipProperties:["id"]})},46005:(e,r,t)=>{"use strict";t.d(r,{Z:()=>F});var a=t(58563),n=t(95766),i=e=>(null==e?void 0:e.reduce(((e,r)=>(e[r.id]||(e[r.id]={id:r.id,code:r.code,name:r.name}),e)),{}))||{},o=t(84025),s=t.n(o),l=t(23198),c=t(59838),d=t(60654),u=(e,r)=>{var t,a=null===(t=e.passengerTypes)||void 0===t||null===(t=t.find((e=>{var t;return(e=>e?["ADULT","SENIOR"].includes(e)?[e.toLowerCase()]:["youth","child"]:["adult"])(r).includes((null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||"")})))||void 0===t?void 0:t.id;return a||console.error("Missing passengerTypeId for passenger with group ".concat(r)),a||r},p=e=>{switch(e){case"THROUGH":return d.CompositionTypes.THROUGH;case"DIRECTSPLIT":return d.CompositionTypes.DIRECT_SPLIT;case"MULTIFARE":return d.CompositionTypes.MULTIFARE;default:return d.CompositionTypes.INTERCHANGE_SPLIT}},m=e=>{var r=e.fares.reduce(((e,r)=>{var t;if(null===(t=r.appliedDiscountCards)||void 0===t||!t.length)return e;var a=(0,l.Z)({},e);return r.appliedDiscountCards.forEach((e=>{a[e.id]&&a[e.id].count>=e.count||(a[e.id]=e)})),a}),{}),t=Object.values(r).reduce(((e,r)=>[...e,...Array.from(Array(r.count),(()=>r.id))]),[]);return t.length?t:void 0},g=e=>null==e?void 0:e.map((e=>({id:e.id,availableQuantity:e.availableQuantity||void 0,extraType:{id:e.type.id,code:e.type.code,group:e.type.group||void 0,name:e.type.name,description:e.type.description||void 0},legIds:[...e.legIds]}))),v=e=>e.reduce(((e,r)=>(null==r||r.sections.forEach((r=>{r.alternatives.forEach((r=>{var t,a,n,i;e[r.id]={id:r.id,fares:r.fares.map((e=>e.id)),hash:r.hash,price:r.price?{amount:r.price.amountToPay.amount,currencyCode:r.price.amountToPay.currency}:void 0,fullPrice:null!==(t=r.price)&&void 0!==t&&t.fullAmount?{amount:r.price.fullAmount.amount,currencyCode:r.price.fullAmount.currency}:void 0,farePassengers:r.fares.map((e=>({fareId:e.id,passengers:e.passengers.map((r=>({id:r.id,passengerType:u(e,r.group)})))}))),isPartial:r.isPartial,cards:m(r),correlationToken:r.correlationToken||void 0,comfortClassCorrelationToken:r.comfortClassCorrelationToken||void 0,travellingGroups:null===(a=r.travellingGroups)||void 0===a?void 0:a.map((e=>({farePassengerIds:[...e.farePassengerIds||[]]}))),flexibility:r.flexibility?{code:r.flexibility.code,name:r.flexibility.name}:void 0,selectedExtras:g(r.selectedExtras),availableExtras:g(r.availableExtras),affiliation:r.affiliation||void 0,vendorInformation:r.vendorInformation||void 0,billableUnits:null===(n=r.billableUnits)||void 0===n?void 0:n.map((e=>({correlationToken:e.correlationToken||void 0,fareLegIds:[...e.fareLegIds],price:{amount:e.price.amount,currencyCode:e.price.currency},originalPrice:{amount:e.originalPrice.amount,currencyCode:e.originalPrice.currency},passengerIds:[...e.passengerIds]}))),composition:null===(i=r.composition)||void 0===i?void 0:i.map(p)}}))})),e)),{}),h=t(75046),y=Object.values(h.GO),f=t(57839),E=e=>e.reduce(((e,r)=>(null==r||r.sections.forEach((r=>{r.alternatives.forEach((r=>{r.fares.forEach((r=>{e[r.id]=(e=>{var r,t,a,n,i,o,c,d;return{id:e.id,price:e.price?{amount:e.price.amount,currencyCode:e.price.currency}:void 0,fullPrice:e.fullPrice?{amount:e.fullPrice.amount,currencyCode:e.fullPrice.currency}:void 0,fareLegs:e.fareLegs.map((e=>{var r,t,a;return{legId:e.legId||e.id,travelClass:e.travelClass?{id:e.travelClass.id,name:e.travelClass.type,code:e.travelClass.code}:void 0,reservationType:(0,h.nD)(e.reservationType),comfort:null!==(r=e.comfortClass)&&void 0!==r&&r.name?{id:null===(t=e.comfortClass)||void 0===t?void 0:t.id,name:e.comfortClass.name,code:e.comfortClass.code,description:(null===(a=e.comfortClass)||void 0===a?void 0:a.description)||void 0,allowsComfortChoice:e.comfortClass.allowsComfortChoice}:void 0,boardBeforeGuaranteed:e.boardBeforeGuaranteedInMilliseconds}})),fareType:e.type.id,cardIds:null===(r=e.appliedDiscountCards)||void 0===r?void 0:r.map((e=>{var{id:r}=e;return r})),fareCategory:null===(t=e.category)||void 0===t?void 0:t.id,routeRestriction:null===(a=e.routeRestriction)||void 0===a?void 0:a.id,validUntil:(0,l.Z)((0,l.Z)({},(null===(n=e.validUntil)||void 0===n?void 0:n.inward)&&{inward:s()(e.validUntil.inward).format("YYYY-MM-DDTHH:mm:ssZ")}),{},{outward:null!==(i=e.validUntil)&&void 0!==i&&i.outward?s()(e.validUntil.outward).format("YYYY-MM-DDTHH:mm:ssZ"):void 0}),origin:e.departureStation.id,destination:e.arrivalStation.id,hash:e.hash||e.id,availability:{remaining:e.availability.remaining||void 0,status:f.A[e.availability.status]},deliveryOptions:(e.deliveryOptions||[]).map((e=>(0,h.v5)(e))),vouchers:null===(o=e.vouchers)||void 0===o?void 0:o.filter((e=>e.code)).map((e=>({id:e.id||void 0,voucherCode:e.code}))),appliedDiscount:null===(c=e.appliedDiscount)||void 0===c?void 0:c.id,nonContractualTerms:null===(d=e.nonContractualTerms)||void 0===d?void 0:d.filter((e=>null==e?void 0:e.code)).map((e=>({code:null==e?void 0:e.code})))}})(r)}))}))})),e)),{}),b=t(4237),S=e=>{switch(e){case"ALLOWED":return b.M.ALLOWED;case"NOTALLOWED":return b.M.NOT_ALLOWED;case"ALLOWEDWITHRESERVATION":default:return b.M.ALLOWED_WITH_RESERVATION;case null:return null}},T=e=>{var{co2EmissionComparison:r}=e;return null!=r&&r.carPetrol||null!=r&&r.carDiesel||null!=r&&r.plane?(0,l.Z)((0,l.Z)((0,l.Z)({},(null==r?void 0:r.carPetrol)&&{carPetrol:r.carPetrol}),(null==r?void 0:r.carDiesel)&&{carDiesel:r.carDiesel}),(null==r?void 0:r.plane)&&{plane:r.plane}):void 0},C=(e,r)=>e.reduce(((e,t)=>{var a,n;return e[t.id]={id:t.id,direction:r,distanceInKm:t.distanceInKm||void 0,legs:t.legs.map((e=>e.id)),sections:t.sections.map((e=>e.id)),overtaken:t.overtakenInfo||void 0,departAt:t.localDepartAt,arriveAt:t.localArriveAt,duration:s().duration(t.durationInMinutes,"minutes").toISOString(),hash:t.hash,bikeRestrictionStatus:S(t.bikeRestrictionStatus),unsellableReason:null!==(a=t.unsellableReason)&&void 0!==a&&a.longDescription&&null!==(n=t.unsellableReason)&&void 0!==n&&n.shortDescription?{code:t.unsellableReason.code,longDescription:t.unsellableReason.longDescription,shortDescription:t.unsellableReason.shortDescription}:void 0,co2EmissionComparison:T(t),co2EmissionInGrams:t.co2EmissionInGrams||void 0},e}),{}),A=e=>{if(e)return{dataSource:e.type||void 0,platform:e.platform||void 0}},I=(e,r,t)=>{var a=null==t?void 0:t.filter((r=>{var t;return null===(t=r.legIds)||void 0===t?void 0:t.includes(e)})).map((e=>e.id)).filter(c.v);if(r||null!=a&&a.length)return(0,l.Z)({isCancelled:null==r?void 0:r.isCancelled,disruptions:a},["origin","destination"].reduce(((e,t)=>(e[t]=["arrival","departure"].reduce(((e,a)=>{var n,i;return e[a]={type:(null==r||null===(n=r[t])||void 0===n||null===(n=n[a])||void 0===n?void 0:n.status)||void 0,at:(null==r||null===(i=r[t])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.time)||void 0},e}),{}),e)),{}))},_=(e,r)=>e.reduce(((e,t)=>(t.legs.forEach((t=>{e[t.id]=((e,r)=>{var t,a,n,i,o;return{id:e.id,arrivalLocation:e.arrivalStation.id,departureLocation:e.departureStation.id,duration:s().duration(e.durationInMinutes,"minutes").toISOString(),arriveAt:e.localArriveAt,departAt:e.localDepartAt,distanceInKm:e.distanceInKm||void 0,timetableId:e.timetableId||void 0,carrier:null===(t=e.carrier)||void 0===t?void 0:t.id,brand:null===(a=e.brand)||void 0===a?void 0:a.id,finalDestinations:null===(n=e.finalDestinations)||void 0===n?void 0:n.map((e=>e.id)),vendorQuotaIdentifier:e.retailTrainIdentifier||void 0,platforms:e.departurePlatformInformation||e.arrivalPlatformInformation?{origin:A(e.departurePlatformInformation),destination:A(e.arrivalPlatformInformation)}:void 0,realTime:I(e.id,e.realtime,r),replacementServiceInfo:e.replacementServiceInfo?{isReplacementService:null!==(i=null===(o=e.replacementServiceInfo)||void 0===o?void 0:o.isReplacementService)&&void 0!==i?i:void 0}:void 0,hash:e.hash,transportMode:e.transport.id,isReservable:e.isReservable||void 0,isReservationMandatory:e.reservationIsMandatory||void 0,bikeRestrictionStatus:S(e.bikeRestrictionStatus),co2EmissionInGramsPerPassenger:e.co2EmissionInGramsPerPassenger||void 0,vehicleAttributes:e.vehicleAttributes||void 0}})(t,r)})),e)),{}),P=e=>e.reduce(((e,r)=>(r.sections.forEach((r=>{var{id:t,alternatives:a,mixedLegComforts:n}=r;e[t]={id:t,alternatives:a.map((e=>e.id)),mixedLegComforts:n,deliveryOptions:Array.from(a.reduce(((e,r)=>(r.fares.forEach((r=>{(r.deliveryOptions||[]).forEach((r=>{e.add((0,h.v5)(r))}))})),e)),new Set))}})),e)),{}),R=t(7809),k=(e,r,t)=>{var a,n,i=(e=>void 0!==e.v1_searchPagination)(a=e)?a.v1_searchPagination:(e=>void 0!==e.v1_searchInward)(a)?a.v1_searchInward:a.v1_search;if("v1_SearchResponse"!==(null==(n=i)?void 0:n.__typename)){var o;if((e=>"v1_SearchErrorResponse"===(null==e?void 0:e.__typename))(i))throw new R.sR("SearchError: ".concat((null==i||null===(o=i.errors)||void 0===o?void 0:o[0].code)||"UnknownCode"),i);throw new R.sR("SearchError: unhandled error",i)}var s,c,d,u=new Date,p=i.outwardJourneys,m=i.inwardJourneys||[];return{id:i.id,createdAt:u.toISOString(),expiresAt:i.expiresAt||void 0,alternatives:(0,l.Z)((0,l.Z)({},v(p)),v(m)),fares:(0,l.Z)((0,l.Z)({},E(p)),E(m)),journeys:(0,l.Z)((0,l.Z)({},C(p,"outward")),C(m,"inward")),legs:(0,l.Z)((0,l.Z)({},_(p,t.v1_SearchDisruption)),_(m,t.v1_SearchDisruption)),warnings:(d=i.warnings,(null==d?void 0:d.map((e=>{var r;return{code:e.code,detail:e.message,target:null===(r=e.targets)||void 0===r?void 0:r.map((e=>e))}})))||[]),sections:(0,l.Z)((0,l.Z)({},P(p)),P(m)),responseCards:(c=t.v1_SearchDiscountCard,(null==c?void 0:c.reduce(((e,r)=>(e[r.id]={id:r.id,cardType:r.id},e)),{}))||{}),deliveryOptions:(s=t.v1_SearchDeliveryMethod,(null==s?void 0:s.reduce(((e,r)=>(y.includes(r.method)||console.error("unexpected deliveryOption: ".concat(r.method)),e[r.method]={id:r.method,method:r.method,fulfillmentDelay:r.fulfilmentDelayInSeconds},e)),{}))||{}),passengers:r,inwardSearch:i.requiresInwardCall,pagination:{next:{outward:!!p.length,inward:!!m.length},previous:{outward:!!p.length,inward:!!m.length}}}},N=t(9553),O=t(32122),L=t(62635),x=t(50989),D=e=>{var r=(null==e?void 0:e.reduce(((e,r)=>(r&&!e[r.id]&&(e[r.id]=(e=>{var r,t,a;return{id:e.id,code:e.code,name:e.name,shortName:e.inventoryCode||void 0,locationType:Object.values(L.f).includes(null==e?void 0:e.locationType)?e.locationType:void 0,aliases:e.aliases?[...e.aliases]:void 0,latitude:null!==(r=e.latitude)&&void 0!==r?r:void 0,longitude:null!==(t=e.longitude)&&void 0!==t?t:void 0,timezone:null!==(a=e.timezone)&&void 0!==a?a:void 0,parents:e.parents,address:e.address?[...e.address]:void 0,countryCode:e.countryCode||void 0,nonDiacriticName:(0,O.Od)(e.name)}})(r)),e)),{}))||{};e&&!e.every(Boolean)&&(0,x.Kh)({stations:e},"NULLISH_STATION_FROM_SEARCH");var t=(e,r)=>(null==r?void 0:r.__refs.map((r=>{var a,n,i=e[r],o=[];return null!==(a=i.parents)&&void 0!==a&&a.__refs&&(null===(n=i.parents)||void 0===n?void 0:n.__refs.length)>0&&(o=t(e,i.parents)),(0,l.Z)((0,l.Z)({},i),{},{parents:o})})))||[];return Object.entries(r).reduce(((e,a)=>{var[n,i]=a,o=i.parents,s=[];return o&&(s=t(r,o)),e[n]=(0,l.Z)((0,l.Z)({},i),{},{parents:s}),e}),{})},w=["v1_SearchRouteRestriction","v1_SearchTravelClass","v1_SearchFareCategory","v1_SearchTransport","v1_SearchDiscountCard","v1_SearchFareType","v1_SearchResponseValidityPeriod","v1_SearchStation","v1_SearchDisruption","v1_SearchCarrier","v1_SearchBrand","v1_SearchPassengerType","v1_SearchAgeRestriction","v1_SearchAppliedDiscount","v1_SearchDeliveryMethod","v1_SearchFareCondition"],Z=(e,r)=>{var t,a,i;r&&(((e,r)=>{(0,n.Gu)("route restrictions",e,r)})(e.routeRestrictions,r.routeRestrictions),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.Gu)("travelClass",e,r)}(e.travelClasses,r.travelClasses),((e,r)=>{(0,n.Gu)("fareCategory",e,r)})(e.fareCategories,r.fareCategories),((e,r)=>{(0,n.Gu)("transport mode",e,r)})(e.transportModes,r.transportModes),((e,r)=>{(0,n.Gu)("discount card",e,r,{skipProperties:["description"]})})(e.discountCards,r.discountCards),((e,r)=>{(0,n.Gu)("fareType",e,r,{skipProperties:["conditions"]})})(e.fareTypes,r.fareTypes),(0,N.y)(e.journeySearch.passengers,r.journeySearch.passengers),((e,r)=>{(0,n.Gu)("fares",e,r,{skipProperties:["id","destination","origin","fareType","fareLegs","fareCategory","permittedLocations"],uniqueProp:"hash"})})(e.journeySearch.fares,r.journeySearch.fares),((e,r)=>{(0,n.Gu)("location",e,r,{skipProperties:["parents","timezone","locationType"]})})(e.locations,r.locations),((e,r)=>{(0,n.Gu)("appliedDiscounts",e,r)})(e.appliedDiscounts,r.appliedDiscounts),((e,r)=>{(0,n.Gu)("disruption",e,r,{dateProperties:["lastUpdated"]})})(e.disruptions,r.disruptions||{}),((e,r)=>{(0,n.Gu)("carrier",e,r)})(e.carriers,r.carriers),((e,r)=>{(0,n.Gu)("brand",e,r)})(e.brands,r.brands),((e,r)=>{(0,n.Gu)("passengerType",e,r)})(e.passengerTypes,r.passengerTypes),((e,r)=>{if(e)if(r){var t=Object.values(e).filter(n.H4),a=["duration","timetableId","vendorQuotaIdentifier","platforms","co2EmissionInGramsPerPassenger","distanceInKm","vehicleAttibutes"];Object.values(r).filter(n.H4).forEach((e=>{var r=t.find((r=>new Date(r.departAt).getTime()===new Date(e.departAt).getTime()&&new Date(r.arriveAt).getTime()===new Date(e.arriveAt).getTime()));r?a.forEach((t=>{(e[t]||r[t])&&((0,n.wy)(e[t],r[t])||console.error("Mapping - Date property ".concat(t," doesn't match for leg departAt: ").concat(e.departAt," arriveAt: ").concat(e.arriveAt)))})):console.error("Mapping - Missing leg departAt: ".concat(e.departAt," arriveAt: ").concat(e.arriveAt))}))}else console.error("Mapping - Missing legs for the journey")})(null===(t=e.journeySearch)||void 0===t?void 0:t.legs,r.journeySearch.legs),((e,r)=>{r&&r.length&&r.forEach((r=>{var{code:t}=r;if(t){var a=t.substring(t.lastIndexOf(".")+1);(null==e?void 0:e.find((e=>a===e.code)))||console.error("Mapping - Missing warning with code: ".concat(a))}}))})(null==e||null===(a=e.journeySearch)||void 0===a?void 0:a.warnings,null==r||null===(i=r.journeySearch)||void 0===i?void 0:i.warnings))};const F=(e,r,t)=>{var n,o=((e,r,t)=>{return{routeRestrictions:(E=t.v1_SearchRouteRestriction,(null==E?void 0:E.reduce(((e,r)=>(r&&!e[r.id]&&(e[r.id]={id:r.id,code:r.code,description:r.description||void 0}),e)),{}))||{}),travelClasses:(f=t.v1_SearchTravelClass,(null==f?void 0:f.reduce(((e,r)=>(e[r.id]={id:r.id,code:r.code,name:r.type},e)),{}))||{}),fareCategories:(y=t.v1_SearchFareCategory,(null==y?void 0:y.reduce(((e,r)=>(null!=r&&r.id&&!e[r.id]&&(e[r.id]={id:r.id,code:r.code,name:r.name}),e)),{}))||{}),transportModes:(h=t.v1_SearchTransport,(null==h?void 0:h.reduce(((e,r)=>(e[r.id]||(e[r.id]={id:r.id,code:r.code,name:r.name,mode:r.mode}),e)),{}))||{}),discountCards:(v=t.v1_SearchDiscountCard,(null==v?void 0:v.reduce(((e,r)=>(r&&!e[r.id]&&(e[r.id]={id:r.id,code:r.code,name:r.name,description:r.name}),e)),{}))||{}),fareTypes:(p=t.v1_SearchFareType,m=t.v1_SearchResponseValidityPeriod,g=t.v1_SearchFareCondition,(null==p?void 0:p.reduce(((e,r)=>{if(!e[r.id]){var t=null==m?void 0:m.find((e=>{var t;return(null==e?void 0:e.__id)===(null===(t=r.validityPeriod)||void 0===t?void 0:t.__ref)}));e[r.id]=(0,l.Z)((0,l.Z)({},r),{},{id:r.id,name:r.name,code:r.code,secondaryFare:r.isSecondaryFare,conditions:r.conditions.__refs.map((e=>g.find((r=>e===(null==r?void 0:r.__id))))).filter(c.v),conditionsSummary:r.shortDescription||"undefined",pricingCategory:r.pricingCategory||"undefined",validityPeriods:null!=t&&t.outward||null!=t&&t.inward?{outward:t.outward||"",inward:(null==t?void 0:t.inward)||void 0}:void 0})}return e}),{}))||{}),locations:D(t.v1_SearchStation),disruptions:(u=t.v1_SearchDisruption,(null==u?void 0:u.reduce(((e,r)=>(null!=r&&r.id&&!e[r.id]&&(e[r.id]={id:r.id,lastUpdated:r.lastUpdated?s()(r.lastUpdated).utc().format("YYYY-MM-DDTHH:mm:ss.sssZ"):"",disruptionUrl:r.trainlineUrl||"",message:r.message||"",severity:+(r.severity||0),status:r.status||"",source:r.source||null}),e)),{}))||{}),carriers:(d=t.v1_SearchCarrier,(null==d?void 0:d.reduce(((e,r)=>(e[r.id]||(e[r.id]={id:r.id,code:r.code,name:r.name}),e)),{}))||{}),brands:i(t.v1_SearchBrand),passengerTypes:(n=t.v1_SearchPassengerType,o=t.v1_SearchAgeRestriction,(null==n?void 0:n.reduce(((e,r)=>{var t=null==o?void 0:o.find((e=>{var t;return e.__id===(null===(t=r.ageRestriction)||void 0===t?void 0:t.__ref)}));if(r.id&&r.name&&r.code&&t&&!e[r.id]){var a={id:r.id,code:r.code,name:r.name,ageRestriction:{lowerBound:t.lowerBound,upperBound:t.upperBound||void 0}};t.upperBound&&(a.ageRestriction.upperBound=t.upperBound),e[r.id]=a}return e}),{}))||{}),journeySearch:k(e,r,t),appliedDiscounts:(a=t.v1_SearchAppliedDiscount,(null==a?void 0:a.reduce(((e,r)=>(e[r.id]={id:r.id,code:r.code,industryCode:r.industryCode},e)),{}))||{})};var a,n,o,d,u,p,m,g,v,h,y,f,E})(e,r,(n=a.ZP.getStore(),Object.entries(n.getSource().toJSON()).reduce(((e,r)=>{var[,t]=r,a=null==t?void 0:t.__typename;return a&&w.includes(a)&&(e[a]?e[a].push(t):e[a]=[t]),e}),{})));return Z(o,t),o}},95766:(e,r,t)=>{"use strict";t.d(r,{Gu:()=>d,H4:()=>l,wy:()=>c});var a=t(31616),n=t(84025),i=t.n(n),o=t(82768),s=["id","code"],l=e=>Boolean(e),c=(e,r)=>!(!e||!r)&&("object"==typeof e&&"object"==typeof r?(0,o.goX)(e,r):e===r),d=(e,r,t,n)=>{var o=Object.values(r);Object.values(t).filter(l).forEach((r=>{var t=null!=n&&n.uniqueProp?null==n?void 0:n.uniqueProp:r.code?"code":"id",l=o.find((e=>(null==e?void 0:e[t])===r[t]));if(l){var{id:d,code:u}=r,p=(0,a.Z)(r,s);Object.keys(p).forEach((a=>{var o;null!=n&&n.skipProperties&&n.skipProperties.includes(a)||(null!=n&&null!==(o=n.dateProperties)&&void 0!==o&&o.includes(a)?i()(r[a]).diff(i()(l[a]),"minutes")>0&&console.error("Mapping - Date property ".concat(a," doesn't match for ").concat(e," with ").concat(t,": ").concat(r[t])):(r[a]||l[a])&&(c(r[a],l[a])||console.error("Mapping - ".concat(a," doesn't match for ").concat(e," with ").concat(t,": ").concat(r[t]))))}))}else console.error("Mapping - Missing ".concat(e," with ").concat(t,": ").concat(r[t]))}))}},23489:(e,r,t)=>{"use strict";var a;t.d(r,{J:()=>i,s:()=>n});var n=()=>a,i=e=>a=e},77178:(e,r,t)=>{"use strict";var a=t(80885);(0,a.dP)(),(0,a.Eq)();var n=t(16038),i=(t(38937),t(31105)),o=t(50093),s=t(52195),l=t(15679),c=t(47860),d=t(29901),u=t(10571),p=t(98184),m=t(98953),g=t(46206),v=t(24404),h=t(17851),y=t(11688),f=t(2031),E=t(25714),b=t(23489),S=t(59838),T=t(53638),C=t(58307),A=t(26400);const I="object"==typeof window&&window.location.href.includes("thetrainline.com")?(0,A.nR)({}):(0,C.nR)({});var _=t(43437),P=t(49783),R=t(37544),k=t(78307),N=t(23198),O=t(29744),L=t(60654),x=t(82758),D=/euFlowPassengers\[(\d+)\].type/g;function w(e,r){var t=e.euFlowPassengers.map(((e,t)=>t===r?(0,N.Z)((0,N.Z)({},e),{},{age:null,isAgeSubmitted:!1}):e));return(0,N.Z)((0,N.Z)({},e),{},{euFlowPassengers:t})}const Z=(e,r)=>{var t,a,n,i;switch(r.type){case O.ZP.CHANGE:if("outbound"===r.meta.field){var{date:o}=r.payload,s=(n=e.values.euFlowPassengers,i=o,n.map((e=>(0,N.Z)((0,N.Z)({},e),{},{age:e.dateOfBirth?(0,x.CY)(e.dateOfBirth,i):e.age}))));return(0,N.Z)((0,N.Z)({},e),{},{values:(0,N.Z)((0,N.Z)({},e.values),{},{euFlowPassengers:s})})}var l=(t=r.meta.field,(a=D.exec(t))&&Number.parseInt(a[1],10));return null!==l&&r.payload!==L.PassengerType.YOUTH?(0,N.Z)((0,N.Z)({},e),{},{values:w(e.values,l)}):e;case O.ZP.STOP_ASYNC_VALIDATION:return r.error?e:(0,N.Z)((0,N.Z)({},e),{},{asyncErrors:null});default:return e}};var F=t(55911),B=t(5535),M=t(67903),U=t(24127),j=t(88589),H=t(63651),W=t(93643),G=t(68760),V=t(29826),Y=t(89103),K=t(60458),z=t(14035),J=(0,z.Z)({},{isGoogleAdsEnabledForLocale:!0}),q=t(72385),Q=t(90042),X=t(48614),$=t(26367),ee=t(1312),re=t(47514),te=t(66763),ae=t(34580),ne=t(76010),ie=t(93601),oe=t(60327),se=t(16362),le=t(59962),ce=t(16134),de=t(8129),ue=t(43826),pe=t(74980),me=t(50877),ge=t(83507),ve=t(17763),he=t(75290),ye=t(22832),fe=t(67074),Ee=t(49716),be=t(88396),Se=t(97183),Te=t(62331),Ce=t(56543),Ae=t(54422),Ie=t(46090),_e=t(47256),Pe=t(86252),Re=t(19408),ke=t(29728),Ne=t(72750),Oe=(0,z.Z)({[Ne.ri]:(e,r)=>(0,N.Z)((0,N.Z)({},e),r.payload.data.fareCategories||{})},{}),Le=t(10526),xe=t(49788),De=t(33168),we=t(76801),Ze=t(79909),Fe=t(79399),Be=t(71162),Me=t(92490),Ue=t(56122),je=t(27895),He=t(69918),We=t(8563),Ge=t(76027),Ve=t(41719),Ye=t(64472),Ke=t(5202),ze=t(94762),Je=t(12592),qe=t(47374),Qe=t(32034),Xe=t(36592),$e=t(78052),er="prices/UPDATE_PRICES",rr=((0,Xe.ul)(er),(0,z.Z)({[er]:(e,r)=>{var{payload:t}=r;return(0,N.Z)((0,N.Z)({},e),t.prices)}},{})),tr=((0,Qe.P1)($e.O,(e=>e.prices)),t(24879)),ar=t(61866),nr=t(30272),ir=t(2321),or=(0,z.Z)({[ir.e$]:(e,r)=>{var{payload:t}=r;return(0,N.Z)((0,N.Z)({},e),{},{id:t})}},{}),sr=((0,Qe.P1)($e.O,(e=>{var r;return e.smartCards?null===(r=e.smartCardGuid)||void 0===r?void 0:r.id:void 0})),t(38599)),lr=t(99462),cr=t(72428),dr=t(67909),ur=t(67512),pr=t(2328),mr=t(6485),gr=t(97340),vr=t(63495),hr=t(89390),yr=t(77264),fr=t(21298),Er=t(70932),br=t(6159),Sr=t(45476),Tr=(0,z.Z)({[pe.rw]:(e,r)=>{var{payload:t}=r;return(0,N.Z)((0,N.Z)({},e),{},{textMeLink:t.textMeLinkToken})}},{}),Cr=((0,Qe.P1)($e.O,(e=>e.tokens.textMeLink)),t(6105)),Ar=t(72206),Ir=t(9410),_r=t(49987),Pr=t(58780),Rr=t(3202),kr=t(99735),Nr=t(62490),Or=(0,f.combineReducers)({additionalEmails:K.I6,ads:J,allocationProperties:q.I6,allocationTypes:Q.I6,appSettings:ee.I6,applePay:X.I6,appliedDiscounts:$.I6,availableInvoiceOptions:Ze.I6,availableReservationOffers:lr.I6,availableSeatPreferences:yr.I6,availableExtras:ke.I6,basketPrices:re.I6,baskets:te.I6,brands:ie.I6,bestFareFinderSummaries:ae.I6,billingAddressClassification:ne.I6,cardTypes:oe.I6,carriers:se.I6,checkout:le.I6,coachJourneyAvailabilities:ce.I6,coachJourneySearches:de.I6,conditions:ue.I6,consents:ge.I6,confirmation:pe.I6,connections:me.I6,correlatedAlternativesHistory:ve.I6,currencies:ye.I6,customers:fe.I6,deliveryOptionPrices:Ee.I6,deliveryOptions:be.I6,discountCards:Te.I6,disruptions:Ce.I,enrolment:Ie.I6,euPassengerCards:_e.I6,experiments:Re.I6,exploreEuropeLocations:Je.I6,fareCategories:Oe,fareTypes:Le.I6,fulfilments:xe.I,googlePay:De.I6,insuranceProducts:we.I6,journeySearches:Ne.I6,locationSearches:Ue.I6,locations:Me.I6,orders:je.I,passengerTypes:He.I6,paymentDetails:Ge.I,payment:We.I6,paymentOffers:Ve.I6,paypal:Ye.I6,postcodeSearches:qe.I6,prices:rr,products:tr.I,promoCodes:ar.I6,recentLocations:nr.I6,reimbursements:sr.I,routeRestrictions:dr.I6,fareRestrictions:ur.I6,savedAddresses:pr.I6,savedCreditCards:mr.I6,savedPassengers:gr.I6,searchableLocations:vr.I6,dpi:Ae.I6,serviceCallingPoints:fr.I6,skipPassengerDetails:Er.I6,transportModes:Cr.I6,travelCards:Ar.I6,travelClasses:Ir.I6,travelServiceInformation:_r.I6,webLoyalty:Rr.I6,euQuickBuy:Pe.I6,routePricingDataSearchResult:cr.I6,journeySearchRevalidations:Fe.I6,popularLocations:Ke.I6,popularLocationsToc:ze.I6,csfpAlternativeDetails:he.I6,userPublicInfo:Pr.I6,discountCardProducts:Se.I6,journeySearchTransportModes:Be.I6,seatmapSelection:hr.I6,smartCards:br.I6,smartCardGuid:or,smartCollectionLocations:Sr.I6,tokens:Tr,localAreaProducts:kr.I6,customFields:Nr.I6}),Lr=t(54859),xr=t(73402),Dr=t(81695),wr=t(9635),Zr=t(16758),Fr=t(52226),Br=t(61502),Mr=t(1474),Ur=t(73641),jr=t(18646),Hr=t(39053),Wr=t(34038),Gr=(0,z.Z)({[Wr.iR]:()=>L.LoadStatus.PENDING,[Wr.uf]:()=>L.LoadStatus.SUCCESS},{}),Vr=t(651),Yr=t(54641),Kr=t(27123),zr=t(59481),Jr=(0,z.Z)({},!1),qr=((0,Qe.P1)(zr.Jv,(e=>e.experimentsLoaded)),t(48925)),Qr=t(75898),Xr=t(17335),$r=t(2254),et=t(15601),rt=t(68049),tt=t(6155),at=t(14916),nt=t(51325),it=t(31369),ot=t(26706),st=t(45672),lt=t(22882),ct=t(11450),dt=t(31e3),ut=t(57194),pt=t(23385),mt=t(62830),gt=t(52181),vt=(0,f.combineReducers)({asyncPaymentError:Lr.I,basketPriceConversionApplied:xr.I,basketPrices:Dr.I6,baskets:wr.I6,bestFareFinderSummaries:Zr.I6,cardPaymentFormURI:Fr.I6,createTravelCard:Hr.I6,checkout:Br.I6,coachJourneyAvailabilities:Mr.I6,coachJourneySearches:Ur.I6,confirmation:jr.I6,discountCardsLoadStatus:Yr.I6,routePricingDataLoadStatus:it.I6,enrolment:Kr.I6,experimentsLoaded:Jr,hasDeliveryOptionsRendered:Vr.I6,isDeliveryOptionsFetchComplete:Gr,journeySearches:qr.I6,journeySearchRevalidations:Qr.I,payment:Xr.I6,paymentOffers:$r.I6,paypal:et.I6,postcodeSearches:rt.I6,quickRegistration:tt.I6,ravelin:at.I6,serviceCallingPoints:ot.I6,reservationOffers:nt.I6,travelCards:ct.I,travelServiceInformation:dt.I6,isUserSmartCardFetched:st.I6,isSmartCollectionLocationFetched:lt.I6,hasPromoCodeEntered:ut.I6,deleteTravelDocumentStatus:pt.I6,shouldProceedToBookingInformation:mt.I6,customerAttributeIsNewCustomer:gt.I6}),ht=t(4794),yt="ADD_INTL_MSGS",ft=((0,Xe.ul)(yt),(0,z.Z)({[yt]:(e,r)=>{var{payload:t={messages:{}}}=r;return(0,N.Z)((0,N.Z)({},e),{},{messages:(0,N.Z)((0,N.Z)({},e.messages),t.messages)})}},{locale:"en-GB",messages:{}})),Et=t(54575),bt=t(98831),St=t(91490),Tt=t(9641),Ct=t(26260),At=t(59770),It=t(86278),_t=t(14891),Pt=t(36646),Rt=t(66871),kt=t(98754),Nt=t(85066),Ot=t(94018),Lt=t(86234),xt=t(33360),Dt=t(26074),wt=(0,z.Z)({"customFields/SET_CUSTOM_FIELDS_ERROR":(e,r)=>{var{payload:t}=r;return(0,N.Z)((0,N.Z)({},e),t)}},{hasError:!1}),Zt=(0,f.combineReducers)({matrix:Pt.I6,addressForm:Et.I6,comfortFilter:At.I6,euCoachTab:It.I6,flexibilityFilter:_t.I6,sectionCSFP:Lt.I6,cjsCallout:St.I6,cjsContinue:Tt.I6,coach:Ct.I6,results:Ot.I6,summary:xt.I6,autoGroupSave:bt.I6,reservationErrorsCriticalOverlay:Nt.I6,quickSignUpSignIn:kt.I6,discountCards:Dt.I6,partnerJourneyAlert:Rt.I6,customFields:wt});const Ft=e=>(0,f.combineReducers)({auth:G.I6,entities:Or,entitiesMeta:vt,env:B.I,history:ht.I6,modals:j.I6,notifications:H.I6,sessionTimeout:W.I6,cache:V.I6,form:P.Z.plugin({[k.Th]:Z}),intl:ft,router:(0,s.iz)(e),uiState:R.V0,ui:Zt,burgerMenuData:F.I6,internalAdCampaign:U.I6,homepage:M.I6,devicePlatform:Y.I6});var Bt=t(18863),{createStore:Mt,applyMiddleware:Ut,compose:jt}=f;function Ht(e,r,t,a){console.error(e),console.debug("current state",r()),console.debug("last action was",t)}var Wt=t(58563),Gt=t(78524),Vt=t(85905),Yt=t(69188),Kt=t(41344),zt=t(81652),Jt=t(10552),qt=t(18332),Qt=t(14627),Xt=t(75853),$t=t(63364),ea=t(85924),ra=t(7862);class ta extends d.PureComponent{getChildContext(){return{cookies:this.props.cookies}}render(){return this.props.children}}(0,ea.Z)(ta,"childContextTypes",{cookies:ra.shape({}).isRequired});var aa=t(88543),na=t(94575),ia=t(23149),oa=t(35710),sa=t(97866);const la=(0,aa.connect)((e=>({is404:!1,staticContent:(0,sa.DN)(e),oopsPageAnimationEnabled:(0,sa.dX)(e)})),(e=>({genericErrorAnalyticsFramework:()=>e((0,oa.lw)({platform:"desktop",siteSection:"error",siteSubSection:"client side oops",pageName:"client side oops"}))})))(ia.Z);var ca=t(50989);class da extends d.Component{constructor(){super(...arguments),(0,ea.Z)(this,"state",{errored:!1})}componentDidCatch(e){window&&window.newrelic&&(0,ca.Kh)({language:(0,Yt.Ax)(),stack:e.stack||"",message:e.message||""},"oops_error_page"),this.setState({errored:!0}),this.props.onError(e)}render(){var{store:e}=this.props;return this.state.errored?d.createElement(aa.Provider,{store:e},d.createElement(p.IntlProvider,{locale:this.props.intl.locale,messages:this.props.intl.messages,onError:na.yM},d.createElement(la,null))):this.props.children}}var ua=t(43755),pa=t(37074),ma=t(68023);const ga=e=>{var{children:r,clientConfig:t,requestState:a,initialStaticState:n,initialExperiments:i,customerMigrationState:o,reactQueryClient:s,store:l,onError:c,intl:u,cookies:p,graphqlRequestConfigData:g,graphqlEndpoint:v,relayEnv:h,deviceType:y}=e;return d.createElement(Xt.Z.Provider,{value:t},d.createElement($t.ZP,null,d.createElement(zt.ZP,{value:a},d.createElement(Jt.Z.Provider,{value:n},d.createElement(qt.ZP,{value:i},d.createElement(Qt.ZP,{value:o},d.createElement(m.QueryClientProvider,{client:s},d.createElement(da,{store:l,onError:c,intl:u},d.createElement(ta,{cookies:p},d.createElement(aa.Provider,{store:l},d.createElement(pa.l,{value:g},d.createElement(ma.ZP,{value:v},d.createElement(ua.RelayEnvironmentProvider,{environment:h},d.createElement(Kt.Hc,{deviceType:y},r))))))))))))))};var va=t(10301),ha=t(48783),ya=t(76482);const fa=e=>{var{children:r,initialClientAppSettings:t,promoCodes:a,intl:n}=e,{PageFormContext:i}=(0,ya.Z)();return d.createElement(va.ZP,{value:t},d.createElement(ha.Z,{value:a},d.createElement(na.ZP,{value:n},d.createElement(i,null,r))))};var Ea=t(33337);(0,i.mark)(Gt.Bp),(0,a.eC)(),(0,i.measureAlways)(((e,r)=>!Gt.Xo.has(r)&&(console.log("measuring: ".concat(e||"Start","->").concat(r)),!0)),{eventFilter:e=>{var{name:r}=e;return Gt.Tu.has(r)}});window.requestAnimationFrame=window.requestAnimationFrame||function(e){return setTimeout(e,0)},window.__RENDERED_CLASSNAMES__&&o.StyleSheet.rehydrate(window.__RENDERED_CLASSNAMES__);var ba=document.getElementById("app"),{store:Sa,history:Ta}=function(e,r){var t,a=(e=>(0,b.J)((0,y.Z)(e,T.Z.stringifyQuery,T.Z.parseQueryString)))(e),n=(0,E.k)();Boolean("undefined"!=typeof window&&window.dataLayer&&window.dataLayer.length)&&null!=r&&null!==(t=r.env)&&void 0!==t&&null!==(t=t.clientConfiguration)&&void 0!==t&&t.cookieConsentEnabled&&(0,g.useAnalyticsMiddleware)((0,v.cookieConsentAnalyticsMiddleware)());var i=[Bt(Ht),(0,h.Z)(a),n].filter(S.v),o=jt(Ut(...i),I),s=r?Mt(Ft(a),r,o):Mt(Ft(a),o);return n.run(_.ZP),{store:s,history:a}}((0,c.lX)(),window.__INITIAL_REDUX_STATE__),Ca=window.__SSR__,Aa=new m.QueryClient({defaultOptions:{queries:{suspense:!1,useErrorBoundary:!0}}}),Ia=window.__REACT_QUERY_STATE__,_a=window.__CLIENT_GRAPHQL_URL__,Pa=window.__CLIENT_CONFIGURATION__,Ra=window.__INITIAL_STATIC_STATE__,ka=window.__INITIAL_INTL_STATE__,Na=window.__INITIAL_EXPERIMENTS_STATE__,Oa=window.__INITIAL_APP_SETTINGS_STATE__,La=window.__REQUEST_STATE__,xa=window.__CUSTOMER_MIGRATION_STATE__,Da=()=>{if(!ba)throw Error("Root element not found");if(!Pa)throw Error("clientConfig missing on window");if(!Ra)throw Error("initialStaticState missing on window");if(!ka)throw Error("initialIntlState missing on window");if(!Na)throw Error("initialExperiments missing on window");if(!Oa)throw Error("initialClientAppSettings missing on window");if(!La)throw Error("requestState missing on window");if(!xa)throw Error("customerMigrationState missing on window");if(!_a)throw Error("graphQlEndpoint missing on window");var e=(0,Yt.Ax)();(e=>{var r=Yt.e2[e];(0,p.addLocaleData)(r)})(e);var r=e=>{window&&window.newrelic&&window.newrelic.noticeError(e)},i=t(95437).Z,o=t=>{var n;(0,a.Oc)(),t(d.createElement(ga,{clientConfig:Pa,requestState:La,initialStaticState:Ra,initialExperiments:Na,customerMigrationState:xa,reactQueryClient:Aa,store:Sa,onError:r,intl:ka,cookies:(0,l.Q)(document.cookie),graphqlRequestConfigData:{endpoint:"/graphql",headers:{"x-api-managedgroupname":Pa.managedGroupName,"x-platform-type":"web","x-api-currencycode":Ra.currentCurrency,"accept-language":e}},graphqlEndpoint:_a,relayEnv:Wt.ZP,deviceType:(null===(n=Sa.getState().devicePlatform)||void 0===n||null===(n=n.deviceInfo)||void 0===n?void 0:n.type)||Ea.WO.DESKTOP},d.createElement(m.Hydrate,{state:Ia},d.createElement(s.xI,{history:Ta},d.createElement(fa,{intl:ka,initialClientAppSettings:Oa},d.createElement(i,{store:Sa}))))),ba,a.Jz)};Ca?(0,n.TA)((()=>{o(u.hydrate)})):o(u.render),Sa.dispatch((0,Vt.C)())};t.g.Intl?Da():t.e(27646).then((e=>{t(62560),t(3733),Da()}).bind(null,t)).catch(void 0)},4460:(e,r,t)=>{"use strict";t.d(r,{$y:()=>i.oM,Cf:()=>f,D:()=>S,DP:()=>b,Dd:()=>d,EX:()=>o,GW:()=>m,IX:()=>E,JA:()=>h,Lq:()=>p,N3:()=>C,RC:()=>u,a8:()=>y,bb:()=>v,dC:()=>T,fG:()=>g,i3:()=>s,mH:()=>A,sj:()=>c,wf:()=>I,xe:()=>l,zP:()=>_});var a=t(16038),n=t(29901),i=t(52116),o=e=>r=>n.createElement(n.Fragment,null,n.createElement(e,r)),s=o((0,a.ZP)({resolved:{},chunkName:()=>"Home",isReady(e){var r=this.resolve(e);return!0===this.resolved[r]&&!!t.m[r]},importAsync:()=>Promise.all([t.e(24637),t.e(35689),t.e(46094),t.e(93433),t.e(47202),t.e(80995),t.e(74938),t.e(71094),t.e(52159),t.e(20364),t.e(78661),t.e(76665),t.e(95919),t.e(91526),t.e(64164),t.e(15268)]).then(t.bind(t,84282)),requireAsync(e){var r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((e=>(this.resolved[r]=!0,e)))},requireSync(e){var r=this.resolve(e);return t(r)},resolve(){return 84282}})),l=o((0,a.ZP)({resolved:{},chunkName:()=>"GenericSearchError",isReady(e){var r=this.resolve(e);return!0===this.resolved[r]&&!!t.m[r]},importAsync:()=>Promise.resolve().then(t.bind(t,6227)),requireAsync(e){var r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((e=>(this.resolved[r]=!0,e)))},requireSync(e){var r=this.resolve(e);return t(r)},resolve(){return 6227}})),c=o((0,a.ZP)({resolved:{},chunkName:()=>"Plan",isReady(e){var r=this.resolve(e);return!0===this.resolved[r]&&!!t.m[r]},importAsync:()=>Promise.all([t.e(24637),t.e(35689),t.e(46094),t.e(47202),t.e(74938),t.e(71094),t.e(52159),t.e(20364),t.e(78661),t.e(76665),t.e(95919),t.e(91526),t.e(5401)]).then(t.bind(t,58341)),requireAsync(e){var r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((e=>(this.resolved[r]=!0,e)))},requireSync(e){var r=this.resolve(e);return t(r)},resolve(){return 58341}})),d=o((0,a.ZP)({resolved:{},chunkName:()=>"Results",isReady(e){var r=this.resolve(e);return!0===this.resolved[r]&&!!t.m[r]},importAsync:()=>Promise.all([t.e(19242),t.e(36754)]).then(t.bind(t,78818)),requireAsync(e){var r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((e=>(this.resolved[r]=!0,e)))},requireSync(e){var r=this.resolve(e);return t(r)},resolve(){return 78818}})),u=()=>t.e(41576).then(t.bind(t,82229)),p=()=>Promise.all([t.e(74938),t.e(78700),t.e(86822)]).then(t.bind(t,34432)),m=()=>Promise.all([t.e(78700),t.e(48188),t.e(86524)]).then(t.bind(t,42463)),g=()=>Promise.all([t.e(38001),t.e(61070),t.e(73989)]).then(t.bind(t,59309)),v=()=>t.e(43341).then(t.bind(t,36507)),h=()=>Promise.all([t.e(38001),t.e(82841),t.e(36513),t.e(61579),t.e(68668)]).then(t.bind(t,30759)),y=()=>t.e(28832).then(t.bind(t,98267)),f=()=>Promise.all([t.e(38001),t.e(78700),t.e(61070),t.e(48188),t.e(957)]).then(t.bind(t,29185)),E=()=>t.e(41946).then(t.bind(t,70047)),b=()=>t.e(41946).then(t.bind(t,15950)),S=()=>t.e(41946).then(t.bind(t,37003)),T=()=>Promise.all([t.e(24637),t.e(38001),t.e(35689),t.e(71094),t.e(49052),t.e(36513),t.e(78661),t.e(36496),t.e(72351),t.e(24681)]).then(t.bind(t,23840)),C=()=>Promise.all([t.e(24637),t.e(38001),t.e(80995),t.e(71094),t.e(49052),t.e(36513),t.e(78661),t.e(36496),t.e(72351),t.e(40123)]).then(t.bind(t,2555)),A=()=>Promise.all([t.e(82841),t.e(74438)]).then(t.bind(t,37470)),I=()=>Promise.all([t.e(24637),t.e(46094),t.e(74938),t.e(20364),t.e(76665),t.e(19242),t.e(33989)]).then(t.bind(t,38133)),_=()=>Promise.all([t.e(49052),t.e(39672)]).then(t.bind(t,17704))},20971:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var a="modal-title-"},21168:(e,r,t)=>{"use strict";t.d(r,{e:()=>a});var a=function(e){return e.PASSENGER_PROFILE="PASSENGER_PROFILE",e.FARE_TYPE="FARE_TYPE",e.TICKET_TYPES="TICKET_TYPES",e.ITINERARY_DETAILS="ITINERARY_DETAILS",e.JOURNEY_SUMMARY="JOURNEY_SUMMARY",e.JOURNEY_SUMMARY_OVERLAY="JOURNEY_SUMMARY_OVERLAY",e.JOURNEY_SUMMARY_PRICE_BREAKDOWN="JOURNEY_SUMMARY_PRICE_BREAKDOWN",e.COACH_JOURNEY_SUMMARY_OVERLAY="COACH_JOURNEY_SUMMARY_OVERLAY",e.ADDRESSES_MODAL="ADDRESSES_MODAL",e.DELIVERY_ADDRESSES_MODAL="DELIVERY_ADDRESSES_MODAL",e.CHANGE_JOURNEY_SEARCH_MODAL="CHANGE_JOURNEY_SEARCH_MODAL",e.REMOVE_ITINERARY_FROM_PRIMARY_BASKET="REMOVE_ITINERARY_FROM_PRIMARY_BASKET",e.TRIP_SUMMARY_MODAL="TRIP_SUMMARY_MODAL",e.JOURNEY_SEARCH_EXPIRED="JOURNEY_SEARCH_EXPIRED",e.SESSION_TIMEOUT="SESSION_TIMEOUT",e.PRM_DETAILS="PRM_DETAILS",e.DISCOUNT_CARD="DISCOUNT_CARD",e.ITALO_DISCOUNT_CARD="ITALO_DISCOUNT_CARD",e.UK_DISCOUNT_CARD="UK_DISCOUNT_CARD",e.CHANGE_TIMES="CHANGE_TIMES",e.CARRIAGE_TYPE_DESCRIPTIONS="CARRIAGE_TYPE_DESCRIPTIONS",e.INSURANCE_DETAILS="INSURANCE_DETAILS",e.CUSTOMER_MIGRATION_MODAL="CUSTOMER_MIGRATION_MODAL",e.VOUCHER="VOUCHER",e.REFERRAL_SHARE_OFFER="REFERRAL_SHARE_OFFER",e.SEAT_PREFERENCES="SEAT_PREFERENCES",e.PASSENGER_DETAILS_OVERLAY="PASSENGER_DETAILS_OVERLAY",e.REMOVE_RAILCARD_FROM_PRIMARY_BASKET="REMOVE_RAILCARD_FROM_PRIMARY_BASKET",e.SEAT_RESERVATION_OVERLAY="SEAT_RESERVATION_OVERLAY",e.MEALS_INCLUDED_OVERLAY="MEALS_INCLUDED_OVERLAY",e.TICKET_CONDITIONS="TICKET_CONDITIONS",e.RAILCARD_CONDITIONS="RAILCARD_CONDITIONS",e.REMOVE_BOOKING="REMOVE_BOOKING",e.HOMEPAGE_SEO_LINKS_OVERLAY="HOMEPAGE_SEO_LINKS_OVERLAY",e.JOURNEY_DETAILS="JOURNEY_DETAILS",e.GROUP_SAVE="GROUP_SAVE",e.UPSELL_RAILCARDS="UPSELL_RAILCARDS",e.PROMO_CODE="PROMO_CODE",e.PROMO_CODE_REMOVE="PROMO_CODE_REMOVE",e.PROMO_CODE_PRICING_SUMMARY="PROMO_CODE_PRICING_SUMMARY",e.PROMO_CODE_FAILURE_DETAILS="PROMO_CODE_FAILURE_DETAILS",e.REMOVE_DIGIPASS="REMOVE_DIGIPASS",e.TICKET_CONDITIONS_EXTENDED_ALTERNATIVE="TICKET_CONDITIONS_EXTENDED_ALTERNATIVE",e.UK_SEAT_PREFERENCES="UK_SEAT_PREFERENCES",e.ETICKET_HOW_IT_WORKS="ETICKET_HOW_IT_WORKS",e.MTICKET_HOW_IT_WORKS="MTICKET_HOW_IT_WORKS",e.CONFIRMATION_TRUST_PILOT="CONFIRMATION_TRUST_PILOT",e.TICKET_INFO="TICKET_INFO",e.PROMO_CODE_MID_FLOW="PROMO_CODE_MID_FLOW",e.CHOOSE_SEAT="CHOOSE_SEAT",e.CHOOSE_SEAT_CRITICAL="CHOOSE_SEAT_CRITICAL",e.PRM_INFO="PRM_INFO",e.CO2_EMISSIONS="CO2_EMISSIONS",e.CHECKOUT_JOURNEY_DETAILS="CHECKOUT_JOURNEY_DETAILS",e.SPLITSAVE_EXPLAINER="SPLITSAVE_EXPLAINER",e.SMARTPRICE_EXPLAINER="SMARTPRICE_EXPLAINER",e.PROMOTIONAL_CODE="PROMOTIONAL_CODE",e.ALREADY_USED_PROMO_IN_BOOKING="ALREADY_USED_PROMO_IN_BOOKING",e.REMOVE_TRIP="REMOVE_TRIP",e.PRICE_BREAKDOWN="PRICE_BREAKDOWN",e.CARRIERS_COMPARISON_MODAL="CARRIERS_COMPARISON_MODAL",e.EDIT_MEAL="EDIT_MEAL",e.BUSINESS_TRAVEL_SLOWER_TRAINS="BUSINESS_TRAVEL_SLOWER_TRAINS",e.FILTERS_MODAL="FILTERS_MODAL",e.FIRST_CLASS_UPSELL="FIRST_CLASS_UPSELL",e.COMBINED_TICKET="COMBINED_TICKET",e.PROMO_CODE_MODAL="PROMO_CODE_MODAL",e.DELETE_TRAVEL_DOCUMENT_MODAL="DELETE_TRAVEL_DOCUMENT_MODAL",e.RESULTS_FARE_DESCRIPTION="RESULTS_FARE_DESCRIPTION",e.CLASS_COMPARISON_MODAL="CLASS_COMPARISON_MODAL",e}({})},50969:(e,r,t)=>{"use strict";t.d(r,{Z:()=>Pe,i:()=>Ae});var a,n=t(23198),i=(t(38937),t(29901)),o=t(64321),s=t(31616),l=t(50093),c=t(77304),d=t(6818),u=t(15628),p=t(28220),m=t(94878),g=t(4385),v=100,h=0,y=.95,f=1,E=1;const b=l.StyleSheet.create({modalAppear:{opacity:h,transform:"scale(".concat(y,", ").concat(y,") translate3d(0px, 0px, 0px)")},modalAppearActive:{opacity:f,transform:"scale(".concat(E,", ").concat(E,") translate3d(0px, 0px, 0px)"),transition:"opacity ".concat(v,"ms ease-in-out, transform ").concat(v,"ms ease-in-out")},modalEnter:{opacity:h,transform:"scale(".concat(y,", ").concat(y,") translate3d(0px, 0px, 0px)")},modalEnterActive:{opacity:f,transform:"scale(".concat(E,", ").concat(E,") translate3d(0px, 0px, 0px)"),transition:"opacity ".concat(v,"ms ease-in-out, transform ").concat(v,"ms ease-in-out")},modalExit:{opacity:f,transform:"scale(".concat(E,", ").concat(E,") translate3d(0px, 0px, 0px)")},modalExitActive:{opacity:h,transform:"scale(".concat(y,", ").concat(y,") translate3d(0px, 0px, 0px)"),transition:"opacity ".concat(v,"ms ease-in-out, transform ").concat(v,"ms ease-in-out")},backgroundCoverAppear:{opacity:h,transform:"scale(".concat(y,", ").concat(y,") translate3d(0px, 0px, 0px)")},backgroundCoverAppearActive:{opacity:f,transform:"scale(".concat(E,", ").concat(E,") translate3d(0px, 0px, 0px)"),transition:"opacity ".concat(v,"ms ease-in-out")},backgroundCoverEnter:{opacity:h},backgroundCoverEnterActive:{opacity:f,transition:"opacity ".concat(v,"ms ease-in-out")},backgroundCoverExit:{opacity:f},backgroundCoverExitActive:{opacity:h,transition:"opacity ".concat(v,"ms ease-in-out")}}),S=l.StyleSheet.create({root:{position:"fixed",left:0,top:0,bottom:0,right:0,backgroundColor:(0,m.I)(g.ZP.dp_brand_neutral_dullest,.5),zIndex:110}});var T=e=>"\n  body {\n    overflow: hidden !important;\n    margin-right: ".concat(e,"px\n  }\n");class C extends i.Component{constructor(e){super(e),this.state={scrollBarIsPresentOnMount:"undefined"!=typeof window&&window.innerWidth>document.documentElement.clientWidth}}render(){var{style:e,children:r}=this.props,{scrollBarIsPresentOnMount:t}=this.state,n=t&&"undefined"!=typeof window&&document.body.scrollHeight>window.innerHeight?(e=>{if(a)return a;var r=e.createElement("div");r.style.visibility="hidden",r.style.width="100px",r.style.overflow="scroll";var t=e.createElement("div");return t.style.width="100%",r.appendChild(t),e.body.appendChild(r),a=r.offsetWidth-t.offsetWidth,r.parentNode&&r.parentNode.removeChild(r),a})(document):0;return i.createElement("div",{className:(0,l.css)(S.root),style:e},i.createElement("style",{dangerouslySetInnerHTML:{__html:T(n)}}),r)}}const A=C;var I=t(98184),_=t(41966),P=t(833),R=t(98318),k=t(8888),N=t(23394),O=1.8375,L=.21875;const x=l.StyleSheet.create({root:{position:"relative",maxWidth:"100%",maxHeight:"100%",borderTop:"solid ".concat(R.dp_brand_primary_mid," ").concat(L,"rem"),borderRadius:"".concat(N.E0.m)},rootFullScreen:{[k.Z.breakpoints.tablet.max]:{width:"100%"},[k.Z.breakpoints.small.max]:{height:"100%"}},stretch:{width:"100%",maxWidth:"55.45838rem"},narrow:{width:"100%",maxWidth:"768px"},backButtonWrapper:{display:"none"},closeButtonWrapper:{display:"flex",position:"relative",zIndex:1},showOnSmallTablet:{[k.Z.breakpoints.tablet.max]:{display:"flex"}},notShowOnSmallTablet:{[k.Z.breakpoints.tablet.max]:{display:"none"}},closeButton:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",top:"-".concat(1.028125,"rem"),left:"auto",right:"-".concat(1.028125,"rem"),width:"".concat(O,"rem"),height:"".concat(O,"rem"),borderRadius:N.E0.xl,color:R.dp_brand_primary_mid,backgroundColor:R.dp_app_backdrop_base,border:"solid ".concat(R.dp_brand_primary_mid," ").concat(L,"rem"),cursor:"pointer"},closeButtonIcon:{display:"flex",flex:"1 0 ".concat(O,"rem"),width:"".concat(.91875,"rem"),height:"".concat(.91875,"rem"),color:R.dp_brand_primary_mid},backButton:{display:"flex",marginLeft:k.Z.sizes.spacers.m,marginTop:k.Z.sizes.spacers.m,alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:R.dp_app_backdrop_base},backButtonIcon:{transform:"rotate(90deg)",height:"0.525rem",width:"var(--DEPRECATED-14px)",marginRight:k.Z.sizes.spacers.s},backToPage:{display:"inline-block"},contentContainer:{position:"relative",overflowX:"hidden",overflowY:"auto",maxHeight:"100%",maxWidth:"100%",boxShadow:"0 5px 15px rgba(0,0,0,.5)",backgroundColor:R.dp_app_backdrop_base,borderRadius:"0 0 ".concat(N.E0.m," ").concat(N.E0.m)},contentContainerFullScreen:{[k.Z.breakpoints.tablet.max]:{height:"100%"}},allowOverflow:{overflow:"visible",overflowX:"unset",overflowY:"unset"},hideBorderTop:{borderTop:"unset"},roundedModal:{borderRadius:N.E0.xl,boxShadow:"0 4px 8px 0 rgba(0,0,0,.12)"}});var D=e=>{var{onClick:r}=e;return i.createElement("button",{onClick:r,className:(0,l.css)(x.backButton)},i.createElement("span",{className:(0,l.css)(x.backToPage)},i.createElement(_.Z,{className:(0,l.css)(x.backButtonIcon)}),i.createElement(I.FormattedMessage,{id:"components.modal.backToPage"})))},w=e=>{var{onClick:r,intl:t}=e;return i.createElement("button",{onClick:r,className:(0,l.css)(x.closeButton),"data-test":"close-modal-button","aria-label":t.formatMessage({id:"components.modal.close"})},i.createElement(P.Z,{className:(0,l.css)(x.closeButtonIcon)}))};const Z=(0,I.injectIntl)((e=>{var{children:r,close:t,style:a,allowOverflow:n,stretch:o,narrow:s,shouldGoFullScreen:c,applyDepotStyle:d,intl:u}=e;return i.createElement("div",{className:(0,l.css)(x.root,c&&x.rootFullScreen,o&&x.stretch,s&&x.narrow,d&&x.hideBorderTop),style:a},t&&!d&&i.createElement("div",{className:(0,l.css)(x.closeButtonWrapper,c&&x.notShowOnSmallTablet)},i.createElement(w,{onClick:t,intl:u})),i.createElement("div",{className:(0,l.css)(x.contentContainer,c&&x.contentContainerFullScreen,n&&x.allowOverflow,d&&x.roundedModal)},t&&!d&&i.createElement("div",{className:(0,l.css)(x.backButtonWrapper,c&&x.showOnSmallTablet)},i.createElement(D,{onClick:t})),r))})),F=l.StyleSheet.create({root:{position:"fixed",top:0,left:0,bottom:0,right:0,display:"flex",boxSizing:"border-box",maxHeight:"100%",height:"auto",maxWidth:"100%",overflow:"hidden",border:"none",background:"transparent",marginTop:0,paddingTop:k.Z.sizes.spacers.xl,paddingBottom:k.Z.sizes.spacers.xl,paddingLeft:k.Z.sizes.spacers.xxl,paddingRight:k.Z.sizes.spacers.xxl,zIndex:110,[k.Z.breakpoints.small.max]:{marginTop:"auto",padding:k.Z.sizes.spacers.m},"::backdrop":{background:"transparent"}},allowOverflow:{overflow:"visible",overflowY:"auto"},rootShouldGoFullScreen:{[k.Z.breakpoints.tablet.max]:{width:"100%"},[k.Z.breakpoints.small.max]:{height:"100%",padding:0}}});var B="undefined"!=typeof window&&!!window.HTMLDialogElement;const M=function(e){var{modalParams:r,modalDefinition:t,preventClose:a,popModal:n}=e,[o,s]=(0,i.useState)(!1),c=(0,i.useRef)(null);(0,i.useEffect)((()=>{var e;B&&(null===(e=c.current)||void 0===e||e.show())}),[]),(0,i.useEffect)((()=>()=>{null!=r&&r.callback&&r.callback()}),[r]);var d=(0,i.useCallback)((e=>{if(!o&&!a){var r;if(s(!0),B)null===(r=c.current)||void 0===r||r.close();n(e)}}),[o,a,n]),u=(0,i.useCallback)((()=>d(!0)),[d]),p=void 0===t.shouldGoFullScreen||t.shouldGoFullScreen;return i.createElement("dialog",{className:(0,l.css)(F.root,p&&F.rootShouldGoFullScreen,t.allowOverflow&&F.allowOverflow),ref:c,onCancel:e=>{a&&e.preventDefault(),u()},onClick:e=>{e.target===c.current&&u()},"aria-labelledby":t.modalId},i.createElement(Z,{close:a?void 0:u,allowOverflow:t.allowOverflow,shouldGoFullScreen:p,stretch:t.stretch,narrow:t.narrow,style:{pointerEvents:o?"none":"auto"},applyDepotStyle:t.applyDepotStyle},i.createElement(t.component,{modalParams:r,modalId:t.modalId,close:d})))};var U=["children"],j=["children"],[H,W]="undefined"!=typeof window&&[{appear:(0,l.css)(b.modalAppear),appearActive:(0,l.css)(b.modalAppearActive),enter:(0,l.css)(b.modalEnter),enterActive:(0,l.css)(b.modalEnterActive),exit:(0,l.css)(b.modalExit),exitActive:(0,l.css)(b.modalExitActive)},{appear:(0,l.css)(b.backgroundCoverAppear),appearActive:(0,l.css)(b.backgroundCoverAppearActive),enter:(0,l.css)(b.backgroundCoverEnter),enterActive:(0,l.css)(b.backgroundCoverEnterActive),exit:(0,l.css)(b.backgroundCoverExit),exitActive:(0,l.css)(b.backgroundCoverExitActive)}]||[{},{}],G=e=>{var{children:r}=e,t=(0,s.Z)(e,U);return i.createElement(c.Z,(0,o.Z)({},t,{timeout:v,classNames:H,onEntered:u.d}),r)},V=e=>{var{children:r}=e,t=(0,s.Z)(e,j);return i.createElement(c.Z,(0,o.Z)({},t,{timeout:v,classNames:W}),r)};const Y=e=>{var{modalInstanceDefinitions:r,modalDefinitionMap:t,popModal:a}=e,n=(0,i.useRef)(a);n.current=a;var o=(0,i.useCallback)((()=>n.current(!0)),[]);return 0===r.length?null:i.createElement(d.Z,{role:"dialog"},r.reduce(((e,a,s)=>{var l,c=t[a.type];return s===r.length-1&&e.push(i.createElement(V,{key:"blocker"},i.createElement(A,null))),e.push(i.createElement(G,{key:"".concat(s,"-modal")},c.useLegacyModal?i.createElement(M,{key:s,modalParams:a.params,modalDefinition:c,popModal:n.current,preventClose:null!==(l=a.preventClose)&&void 0!==l?l:c.preventClose}):i.createElement(c.component,{modalId:a.type,modalParams:a.params,type:p.j2.MODAL,close:o}))),e}),[]))};var K=t(88543),z=t(89034);const J=(0,K.connect)(null,(e=>({popModal:r=>{e((0,z.GZ)({shouldDismiss:!!r}))}})))(Y);var q=t(52116),Q=t(42769),X=()=>(0,q.uB)((()=>Promise.all([t.e(60929),t.e(96845)]).then(t.bind(t,73624)))),$=()=>(0,q.uB)((()=>Promise.all([t.e(69593),t.e(61579),t.e(40372)]).then(t.bind(t,89676)))),ee=()=>(0,q.uB)((()=>t.e(20773).then(t.bind(t,22887)))),re=()=>(0,q.uB)((()=>Promise.all([t.e(24637),t.e(69183),t.e(29189),t.e(90034),t.e(3759),t.e(96621),t.e(44419),t.e(86566),t.e(95287),t.e(46094),t.e(13679),t.e(95775),t.e(71088),t.e(79794),t.e(36663),t.e(19978),t.e(11443),t.e(93433),t.e(8363),t.e(69593),t.e(15296)]).then(t.bind(t,94438)))),te=()=>(0,q.uB)((()=>Promise.all([t.e(24637),t.e(71094),t.e(49052),t.e(36513),t.e(36496),t.e(70434),t.e(60929),t.e(99610)]).then(t.bind(t,58996)))),ae=()=>(0,q.uB)((()=>Promise.all([t.e(64164),t.e(53956)]).then(t.bind(t,11145)))),ne={[Q.L1.home()]:[ee,$],[Q.L1.es()]:[ee,$],[Q.L1.it()]:[ee,$],[Q.L1.fr()]:[ee,$],[Q.L1.de()]:[ee,$],[Q.L1.da()]:[ee,$],[Q.L1.nl()]:[ee,$],[Q.L1.zh()]:[ee,$],[Q.L1.ja()]:[ee,$],[Q.L1.nb()]:[ee,$],[Q.L1.pl()]:[ee,$],[Q.L1.ru()]:[ee,$],[Q.L1["pt-br"]()]:[ee,$],[Q.L1.sv()]:[ee,$],[Q.L1["en-us"]()]:[ee,$],[Q.L1.results()]:[$,()=>(0,q.uB)((()=>Promise.all([t.e(24637),t.e(69183),t.e(29189),t.e(90034),t.e(3759),t.e(96621),t.e(44419),t.e(86566),t.e(95287),t.e(13679),t.e(95775),t.e(71088),t.e(79794),t.e(36663),t.e(19978),t.e(11443),t.e(93433),t.e(8363),t.e(70434),t.e(71392)]).then(t.bind(t,502)))),ae],[Q.L1.ticketOptions()]:[re,te,ae],[Q.L1.travelOptions()]:[re,te,ae],[Q.L1.deliveryOptions()]:[re,te,ae],[Q.L1.options()]:[re,te,ae],[Q.L1.checkout()]:[X,te],[Q.L1.confirmation()]:[X,te],[Q.L1.login()]:[],[Q.L1.logout()]:[],[Q.L1.register()]:[X]},ie=e=>e.map((e=>e.default)).reduce(((e,r)=>(Object.keys(r).forEach((t=>{e[t]=r[t]})),e)),{}),oe=(e,r)=>Promise.all((r&&e[r.pathname===Q.L1.home()?Q.L1.home():r.pathname.replace(/\/$/,"")]||[]).map((e=>e()))).then(ie);const se=ne;var le=t(21168),ce=t(68760),de=t(93643),ue=t(26625),pe=t(55644),me=t(75853),ge=t(83367);const ve=l.StyleSheet.create({root:{backgroundColor:R.dp_app_backdrop_base,padding:ge.spacers.l,position:"relative",height:"100%"},text:{marginTop:"25px",color:R.dp_app_text_subtle},buttonWrapper:{marginTop:ge.spacers.l}});var he="modal.sessionTimeout.header";const ye=e=>{var{goBackToHomepage:r,isRegisteredUser:t,isLoggedInExpired:a,modalId:n}=e,o=(0,ue.C6)({format:"modal",type:"customer",message:"Session timeout - link to search again in modal - ".concat(he),id:he}),{redirectToMarketingSite:s,homePageRedirectUrl:c}=(0,me.x)(),d=s?c:"/";return i.createElement(ue.fQ,{event:o,hooks:[ue.OS.ON_RENDER]},i.createElement("div",{className:(0,l.css)(ve.root)},i.createElement("h2",{id:n},i.createElement(I.FormattedMessage,{id:he})),i.createElement("div",{className:(0,l.css)(ve.text)},i.createElement(I.FormattedMessage,{id:a?"modal.sessionTimeout.description.loggedInExpired":t?"modal.sessionTimeout.description.registered":"modal.sessionTimeout.description.guest"})),i.createElement("div",{className:(0,l.css)(ve.buttonWrapper)},i.createElement("div",{"data-test":"href-link-back"},i.createElement(pe.Z,{onClick:()=>r(d),labelId:"modal.journeySearchExpired.backButton.label",hideBackChevron:!0})))))};var fe=t(51730);const Ee=(0,K.connect)((e=>({isRegisteredUser:(0,ce.L6)(e),isLoggedInExpired:(0,de.Eo)(e)})),(e=>({goBackToHomepage:r=>{"/"!==r?window.location.href=r:e((0,fe.cf)())}})))(ye);var be=t(20971);const Se={[le.e.SESSION_TIMEOUT]:{component:Ee,modalId:"".concat(be.O,"session-timeout"),preventClose:!0,useLegacyModal:!0}};var Te=t(89082),Ce=t(50989),Ae=e=>e.type===le.e.CHANGE_JOURNEY_SEARCH_MODAL,Ie=e=>{var{modals:r,location:t,recoverable:a}=e,n="ModalError: Modals ".concat(JSON.stringify(r),' not found on "').concat(t&&t.pathname,'"');return a?"Recoverable".concat(n):"Irrecoverable".concat(n)},_e=(e,r)=>!!e.find((e=>{var{type:t}=e;return!Object.keys(r).includes(t)}));const Pe=e=>{var{location:r,modals:t}=e,a=(0,Te.Z)(r),[o,s]=i.useState((0,n.Z)({},Se)),[l,c]=i.useState(),[,d]=i.useState();return i.useEffect((()=>{var e=()=>oe(se,r).then((e=>(c(void 0),s((r=>(0,n.Z)((0,n.Z)({},r),e))),e)));c({func:e}),window.requestIdleCallback(e)}),[]),i.useEffect((()=>{if(r&&a&&a.pathname!==r.pathname){var e=()=>oe(se,r).then((e=>(c(void 0),s((r=>(0,n.Z)((0,n.Z)({},r),e))),e)));c({func:e}),window.requestIdleCallback(e)}}),[r]),i.useEffect((()=>{t.length&&(l?l.func():Promise.resolve()).then((e=>{var a;_e(t,(0,n.Z)((0,n.Z)({},o),e))&&(a=se,Promise.all(Object.values(a).reduce(((e,r)=>e.concat(r)),[]).map((e=>e()))).then(ie)).then((a=>{(0,Ce.Ep)(Error(Ie({modals:t,location:r,recoverable:!0}))),s((e=>(0,n.Z)((0,n.Z)({},e),a))),_e(t,(0,n.Z)((0,n.Z)((0,n.Z)({},o),e),a))&&d((()=>{throw new Error(Ie({modals:t,location:r,recoverable:!1}))}))}))}))}),[t]),!J||_e(t,o)?null:i.createElement(J,{modalInstanceDefinitions:t,modalDefinitionMap:o})}},6227:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GenericSearchError:()=>k,default:()=>N,mapStateToProps:()=>R,selectErrorType:()=>P});var a=t(67487),n=t(50093),i=t(29901),o=t(98184),s=t(88543),l=t(96172),c=t(2031),d=t(32034),u=t(83661),p=t(97646),m=t(25038),g=t(26625),v=t(75853),h=t(8434),y=t(32183),f=t(51059),E=t(51807),b=t(97819),S=t(83504),T=t(23198),C=t(98318),A=t(23394),I=n.StyleSheet.create({rootContainer:{position:"absolute",width:"71%",[A.cy.max.s]:{left:0,width:"100%"},[A.cy.minMax.m]:{width:"93%"}},journeyContainer:{width:"100%",height:"104px",margin:"20px 0",backgroundColor:C.dp_app_backdrop_base,padding:"36px"},alert:{width:"100%",height:"52px",marginTop:A.W0.s8,textAlign:"center"},errorContainer:{display:"flex",gap:A.W0.s6,[A.cy.max.s]:{gap:0,alignItems:"center"}},linkButton:(0,T.Z)({},A.cp.small)}),_=e=>{var r=(0,E.PE)(e,(0,S.FD)(e)),t=r&&r.error&&(0,b.UX)(r.error),a=t&&p.Z[t[0]];return a||"search.error.JourneysNotFound.Refine"},P=(0,d.P1)(f.jQ,(e=>e.errorType||"")),R=(e,r)=>{var t=(0,S.FD)(e)&&P(e),a=Boolean(t),n=(e=>{var r="";switch(e){case"SERVICE_ERROR":default:r="page.results.dpiValidation.genericError";break;case"ORIGIN_MANDATORY":r="page.results.dpiValidation.mandatoryOrigin";break;case"ORIGIN_INVALID":r="page.results.dpiValidation.invalidOrigin";break;case"DESTINATION_MANDATORY":r="page.results.dpiValidation.mandatoryDestination";break;case"DESTINATION_INVALID":r="page.results.dpiValidation.invalidDestination";break;case"PASSENGER_MANDATORY":r="page.results.dpiValidation.mandatoryPassenger";break;case"PASSENGER_OVERLOAD":r="page.results.dpiValidation.passengerOverload";break;case"MANDATORY_OUTBOUND_DATE":r="page.results.dpiValidation.mandatoryOutboundDate";break;case"INVALID_OUTBOUND_DATE":r="page.results.dpiValidation.invalidOutboundDate";break;case"MANDATORY_JOURNEY_TYPE":r="page.results.dpiValidation.mandatoryJourneyType";break;case"INVALID_JOURNEY_TYPE":r="page.results.dpiValidation.invalidJourneyType";break;case"MANDATORY_INBOUND_DATE":r="page.results.dpiValidation.mandatoryInboundDate";break;case"INVALID_INBOUND_DATE":r="page.results.dpiValidation.invalidInboundDate";break;case"INVALID_LANGUAGE":r="page.results.dpiValidation.invalidLanguage";break;case"INVALID_PROMOCODE":r="page.results.dpiValidation.invalidPromoCode";break;case"INVALID_ORGANIZATION_CODE":r="page.results.dpiValidation.invalidOrganizationCode"}return r})(t),i=(0,h.$2)(r);return{isDpiError:a,serverError:n,clientError:_(e),clientWarnings:(0,E.e_)(e,i)}},k=e=>{var{isDpiError:r,clientError:t,serverError:s,clientWarnings:l,intl:{formatMessage:c}}=e,d=r?s:t,{supressWarningCodes:p}=(0,v.x)(),h=null==l?void 0:l.filter((e=>!p.includes(e.code)));return i.createElement("div",{className:(0,n.css)(I.rootContainer)},i.createElement(g.fQ,{hooks:[g.OS.ON_RENDER],event:(0,g.C6)({format:"inline.validation.error",message:c({id:d}),id:d,type:a.ErrorType.Customer})},i.createElement(u.hW,{styleSheet:I.alert},i.createElement("div",{className:(0,n.css)(I.errorContainer)},i.createElement(o.FormattedMessage,{id:d}),i.createElement("div",{className:(0,n.css)(I.linkButton)},r&&i.createElement(y.Z,null))))),h&&i.createElement(m.ZP,{warnings:h}))};const N=(0,c.compose)(l.EN,o.injectIntl,(0,s.connect)(R,{}))(k)},83307:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(98318),n=t(50093),i=t(8888),o=t(23394);const s=n.StyleSheet.create({flexParent:{flexGrow:1,[o.cy.max.s]:{display:"flex"}},root:{flexGrow:1,flexShrink:1,flexBasis:"100vh",display:"flex",flexDirection:"column",alignSelf:"stretch",minHeight:"100vh",backgroundColor:o.O9.palette.grey_60,"@media print":{justifyContent:"flex-start",background:"none"},[o.cy.max.s]:{backgroundColor:a.dp_app_backdrop_base}},whiteBg:{backgroundColor:a.dp_app_backdrop_base},columns:{width:"100%",paddingLeft:o.W0.s4,paddingRight:o.W0.s4,maxWidth:"100%",flexGrow:1,flexShrink:0,margin:"0 auto",[o.cy.min.s]:{paddingLeft:o.W0.s6,paddingRight:o.W0.s6},[o.cy.min.m]:{maxWidth:i.Z.sizes.contentWidth.maxTablet,paddingLeft:o.W0.s4,paddingRight:o.W0.s4},[o.cy.min.l]:{flexDirection:"row",maxWidth:i.Z.sizes.contentWidth.max,display:"flex"}},columnsContainer:{[o.cy.max.s]:{padding:0,backgroundColor:a.dp_app_backdrop_base}},main:{flex:"1 1 75%",display:"flex"},skyscraperAdContainer:{width:0},skyscraperAd:{display:"none","@media (min-width: 1530px)":{display:"block",position:"sticky",top:o.W0.s10,width:160,height:600,marginLeft:o.W0.s8}}})},76482:(e,r,t)=>{"use strict";t.d(r,{Z:()=>I});var a=t(29901),n=t(88543),i=t(96172),o=t(23198),s=t(48157),l=t(18406),c=t(595),d=t(69032),u=t(47303),p=t(52925),m=t(27167);const g=(0,c.Z)({form:d.Th,enableReinitialize:!0,onSubmit:d.MI})((e=>{var{children:r}=e,{methods:t}=(0,m.Xj)(),i=(0,n.useDispatch)(),c=a.useCallback((e=>{i((0,l.j2)(d.Th,e)),i({type:p.ZP})}),[i]),g=a.useCallback((e=>{e.reserveOutward&&i((0,u.Bp)((0,o.Z)((0,o.Z)({},d.N7),{},{message:e.reserveOutward.message}))),e.reserveInward&&i((0,u.Bp)((0,o.Z)((0,o.Z)({},d.N7),{},{message:e.reserveInward.message})))}),[i]);return a.createElement(s.RV,t,a.createElement("form",{id:"seat-reservation-form",onSubmit:t.handleSubmit(c,g)},r))}));var v=t(24206),h=t(80510),y=t(96586),f=t(34038);const E=(0,c.Z)({form:h.Bt,enableReinitialize:!0,onSubmit:h.MI})((e=>{var{children:r}=e,t=(0,s.cI)(),i=(0,n.useDispatch)(),o=(0,a.useCallback)((e=>{i((0,l.j2)(h.Bt,e)),i({type:p.ZP})}),[i]),c=(0,a.useCallback)((e=>{var r=Object.values(e).find((e=>void 0!==e));i((0,u.Bp)({message:r}))}),[i]);return(0,a.useEffect)((()=>{var e=(0,y.IY)().subscribe((()=>e.unsubscribe()))}),[]),(0,a.useEffect)((()=>{i({type:f.E})}),[i]),a.createElement(a.Fragment,null,a.createElement(s.RV,t,a.createElement("form",{id:"booking-information-form",onSubmit:t.handleSubmit(o,c)},r)))}));var b=t(60054),S=t(42769),T=t(37954),C=t(19304),A=function(e){return{Form:e,PageFormContext:arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Fragment}};const I=()=>{var{pathname:e}=(0,i.TH)(),r=(0,n.useSelector)(b.wy);return e!==S.L1.travelOptions()||r?e!==S.L1.deliveryOptions()||r?e!==S.L1.options()||r?e===S.L1.bookingInformationOptions()?A(E):{Form:a.Fragment,PageFormContext:a.Fragment}:A(C.Z,T.Z):A(v.Z):A(g,m.ZP)}},9187:(e,r,t)=>{"use strict";t.d(r,{$:()=>n,U:()=>a});t(38937);var a="ANALYTICS_FRAMEWORK_TRACKING",n=e=>({type:a,payload:e})},68760:(e,r,t)=>{"use strict";t.d(r,{Ai:()=>v,EM:()=>P,Hz:()=>f,I6:()=>O,IL:()=>b,JS:()=>I,KS:()=>p,L6:()=>_,OK:()=>R,QV:()=>N,VC:()=>y,bm:()=>k,c4:()=>C,i1:()=>h,tC:()=>S,tV:()=>m,u0:()=>E,v$:()=>T,x_:()=>u,yE:()=>g,yW:()=>A});var a=t(23198),n=t(14035),i=t(32034),o=t(92254),s=t(36592),l=t(20066),c=e=>"auth/".concat(e),d=c("UNSET_AUTH_STATUS"),u=(0,s.RW)(d),p=c("LOGIN_AS_GUEST"),m=c("HANDLE_AUTH_EVENT"),g=c("DECODE_TOKENS"),v=(0,s.RW)(g),h=(0,s.ul)(m),y=(0,s.ul)(p),f=e=>e.auth,E=(0,i.P1)(f,(e=>{var{email:r}=e;return r})),b=(0,i.P1)(f,(e=>{var{name:r}=e;return r})),S=(0,i.P1)(f,(e=>{var{state:r}=e;return void 0===r||r===o.z.ANONYMOUS})),T=(0,i.P1)(f,(e=>{var{authStatus:r}=e;return r})),C=(0,i.P1)(f,(e=>{var{customerId:r}=e;return r})),A=(0,i.P1)(f,(e=>e.state===o.z.RECOGNISED)),I=(0,i.P1)(C,(e=>!!e)),_=(0,i.P1)(f,(e=>!(!e||!e.customerId||e.guest))),P=(0,i.P1)(f,(e=>e.state===o.z.LOGGED_IN)),R=(0,i.P1)(f,(e=>null==e?void 0:e.guest)),k={[o.z.ANONYMOUS]:"Logged out",[o.z.GUEST]:"Guest",[o.z.RECOGNISED]:"Recognised",[o.z.LOGGED_IN]:"Logged in"},N=(0,i.P1)(f,(e=>{var{state:r}=e;return r?k[r]:k[o.z.ANONYMOUS]})),O=(0,n.Z)({[d]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{authStatus:void 0}),[l.kX]:(e,r)=>(0,a.Z)({authStatus:e.authStatus},r.payload.auth||e)},{})},55911:(e,r,t)=>{"use strict";t.d(r,{I6:()=>i,L2:()=>o});var a=t(14035),n=t(32034),i=(0,a.Z)({UPDATE_BURGER_MENU_DATA:e=>e},null),o=(0,n.P1)((e=>e.burgerMenuData),(e=>e&&e.secondary&&e.secondary.content||[]))},29826:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,_t:()=>u,wc:()=>p,yp:()=>c});var a=t(23198),n=t(14035),i=t(42292),o=t(36592),s=t(51059),l="journeySearch/CACHE/".concat("ALTERNATIVES"),c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return{journeyHash:(0,a.Z)((0,a.Z)({},e.journeyHash),{},{[t.journeyHash]:(0,a.Z)((0,a.Z)({},e.journeyHash[t.journeyHash]),t.cache)})}}},{journeyHash:{}}),u=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=(0,s.fV)(e),n=e.cache.journeyHash[r];return n?t.map((r=>{var t=(0,i.Qy)(e,{alternativeHash:r,query:a});if(t){var o=n[t];if(o)return o}return r})):t},p=(e,r)=>{var t=(0,i.Kv)(r);if(!t||!t.journeyHash)throw new Error("journeyHash or selection is missing");var{journeyHash:n,alternativeHash:o=[]}=t;return{cache:o.reduce(((t,n)=>{var o=(0,i.Qy)(e,{alternativeHash:n,query:r});return o?(0,a.Z)((0,a.Z)({},t),{},{[o]:n}):t}),{}),journeyHash:n}}},89103:(e,r,t)=>{"use strict";t.d(r,{I6:()=>o,Tu:()=>i,oJ:()=>n});var a=t(14035),n=e=>e.devicePlatform&&e.devicePlatform.deviceInfo&&e.devicePlatform.deviceInfo.userAgent||"",i=e=>e.devicePlatform&&e.devicePlatform.deviceInfo&&e.devicePlatform.deviceInfo.type,o=(0,a.Z)({},{deviceInfo:{}})},60458:(e,r,t)=>{"use strict";t.d(r,{I6:()=>m,t0:()=>f,wV:()=>v});var a=t(23198),n=t(82768),i=t(14035),o=t(32034),s=t(20786),l=t(63585),c=t(68760),d=t(59962),u=t(74980),p=t(78052),m=(0,i.Z)({[d.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:t.additionalEmails})},[u.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.order.id]:t.emails})}},{}),g=(0,o.P1)(p.O,(e=>e.additionalEmails)),v=(0,o.P1)(c.u0,g,s.$l,((e,r,t)=>{var a=t&&r[t]||[],i=e?a.concat([e]):a;return(0,n.mNm)((e=>e.toLowerCase()))(i)})),h=(0,o.P1)(g,l.n$,((e,r)=>r?e[r]:void 0)),y=(0,o.P1)(p.O,(e=>{var r=Object.keys(e.products),t=r?r.map((r=>e.products[r])):void 0;return t?t.map((e=>e.deliveries.map((e=>e.recipients?e.recipients.map((e=>e.email?e.email:"")):[])))).reduce(((e,r)=>e.concat(r)),[]).reduce(((e,r)=>e.concat(r)),[]):[]})),f=(0,o.P1)(c.u0,y,h,(function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t=e?t.concat([e]):t,(t=r?t.concat(r):t).filter(((e,r,t)=>""!==e&&t.indexOf(e)===r))}))},72385:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,Js:()=>d,Nl:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.allocationProperties)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.allocationProperties)}},{}),d=(0,i.P1)(l.O,(e=>e.allocationProperties)),u=(e,r)=>d(e)[r]},90042:(e,r,t)=>{"use strict";t.d(r,{$1:()=>d,I6:()=>c,Tz:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.allocationTypes)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.allocationTypes)}},{}),d=(0,i.P1)(l.O,(e=>e.allocationTypes)),u=(0,i.P1)(d,((e,r)=>r),((e,r)=>e[r]))},1312:(e,r,t)=>{"use strict";t.d(r,{I6:()=>l,Vj:()=>s});var a=t(23198),n=t(53066),i=t(14035),o="appSettings/FETCH_SUCCESS",s=(0,n.Z)(o),l=(0,i.Z)({[o]:(e,r)=>{var{payload:t}=r;return(0,a.Z)({},t)}},{})},48614:(e,r,t)=>{"use strict";t.d(r,{FB:()=>v,GJ:()=>h,I6:()=>y,Lx:()=>g,a4:()=>u});var a=t(23198),n=t(53066),i=t(14035),o=t(36592),s=t(8563),l={},c=e=>"applePay/".concat(e),d=c("APPLE_PAY_CAN_PAY_RESOLVED"),u=c("APPLE_PAY_CREATE_SESSION"),p=c("APPLE_PAY_CREATE_SESSION_SUCCESS"),m=c("APPLE_PAY_MERCHANT_VALIDATION_COMPLETE"),g=(c("APPLE_PAY_PAYMENT_SUCCESS"),c("APPLE_PAY_PAYMENT_FAILURE"),(0,o.ul)(d)),v=(0,o.ul)(u),h=((0,o.ul)(p),(0,n.Z)(m)),y=(0,i.Z)({[d]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{canPay:r.payload.canPay}),[s.my]:()=>l},l)},26367:(e,r,t)=>{"use strict";t.d(r,{I6:()=>l,Zk:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(78052),s=t(72750),l=(0,n.Z)({[s.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.appliedDiscounts||{})},{}),c=(0,i.P1)(o.O,(e=>e.appliedDiscounts))},23583:(e,r,t)=>{"use strict";t.d(r,{AE:()=>d,Mx:()=>u,jg:()=>s,oq:()=>l,rK:()=>c,uP:()=>p});var a=t(32034),n=t(68117),i=t(28482),o=t(98831),s=function(e){return e.noThanks="noThanks",e.modalImpression="modalImpression",e.applyDiscount="applyDiscount",e.displayAfterPagination="displayAfterPagination",e}({}),l=(0,i.e)("AUTO_GROUP_SAVE_TRACKING"),c=()=>({type:l,payload:{trackType:s.noThanks}}),d=()=>({type:l,payload:{trackType:s.modalImpression}}),u=()=>({type:l,payload:{trackType:s.applyDiscount}}),p=(0,a.P1)(o.rb,(e=>e!==n.N.NO_FARE_DISCOUNTS))},79909:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,U_:()=>p,gX:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(29433),s=t(2321),l=t(31521),c=t(78052),d=(0,n.Z)({[s.h8]:(e,r)=>{var{payload:t}=r;return t?(0,a.Z)((0,a.Z)({},e),t.availableInvoiceOptions):e}},{}),u=(0,i.P1)(o.rG,c.O,l.qK,((e,r,t)=>e&&Boolean(r.availableInvoiceOptions)&&t.some((e=>Boolean(r.availableInvoiceOptions[e.id]))))),p=(0,i.P1)(c.O,l.qK,((e,r)=>r.reduce(((r,t)=>{var a=e.availableInvoiceOptions[t.id];return a||r}),{})))},47514:(e,r,t)=>{"use strict";t.d(r,{I6:()=>v,J4:()=>h,RZ:()=>m,S_:()=>u,Tu:()=>g,UM:()=>p,fN:()=>d,zc:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(20066),l=t(78052),c="BASKET_PRICE_FETCH_START",d="BASKET_PRICE_FETCH_SUCCESS",u="BASKET_PRICE_FETCH_ERROR",p=(0,o.ul)(c),m=(0,o.ul)(u),g=(0,o.ul)(d),v=(0,n.Z)({[s.kX]:(e,r)=>{var{payload:t}=r;return t.basketPrices||e},[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.key]:t.value})}},{}),h=(0,i.P1)(l.O,(e=>e.basketPrices))},66763:(e,r,t)=>{"use strict";t.d(r,{$5:()=>u,C8:()=>U,E6:()=>L,Hz:()=>O,I6:()=>B,IK:()=>C,L6:()=>E,LH:()=>k,Lg:()=>x,Ln:()=>f,M5:()=>b,N5:()=>h,RJ:()=>R,Rs:()=>H,S0:()=>_,WQ:()=>w,ZI:()=>T,_x:()=>I,bp:()=>v,dz:()=>S,j7:()=>N,nx:()=>Z,nz:()=>D,pd:()=>A,q2:()=>j,tE:()=>P,tX:()=>y,zU:()=>F,z_:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(20066),l=t(74980),c=t(78052),d=e=>"basket/".concat(e),u=d("BASKET_MERGE_COMPLETED"),p=d("SET_PRIMARY_BASKET"),m=d("BASKET_ITEM_ADDED"),g=d("SET_SECONDARY_BASKET"),v=d("REMOVE_ITEMS_FROM_BASKET"),h=d("TOGGLE_PRODUCT_BETWEEN_BASKETS"),y=d("ADD_CORE_INSURANCE_TO_BASKET"),f=d("ADD_ESSENTIAL_INSURANCE_TO_BASKET"),E=d("ADD_BUSINESS_INSURANCE_TO_BASKET"),b=d("REMOVE_CORE_INSURANCE_FROM_BASKET"),S=d("REMOVE_ESSENTIAL_INSURANCE_FROM_BASKET"),T=d("REMOVE_BUSINESS_INSURANCE_FROM_BASKET"),C=(d("BASKET_VIEWED_ANALYTICS"),d("ADD_INSURANCE_TO_BASKET_ERROR")),A=d("REMOVE_INSURANCE_FROM_BASKET_ERROR"),I=d("INSURANCE_DID_UPDATE_BASKET"),_=(0,o.RW)(u),P=((0,o.ul)(p),(0,o.ul)(g),(0,o.ul)(v)),R=(0,o.ul)(h),k=(0,o.ul)(y),N=(0,o.ul)(f),O=(0,o.ul)(E),L=(0,o.ul)(b),x=(0,o.ul)(S),D=(0,o.ul)(T),w=(0,o.ul)(C),Z=(0,o.ul)(A),F=(0,o.ul)(I),B=(0,n.Z)({[p]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{primary:r.payload}),[g]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{temporary:r.payload}),[s.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{primary:t.primary,temporary:t.temp},t.passive?{passive:t.passive}:{})},[l.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{primary:t.primary,temporary:t.temp},t.passive?{passive:t.passive}:{})}},{}),M=(0,i.P1)(c.O,(e=>e.baskets||{})),U=(0,i.P1)(M,(e=>e.primary)),j=(0,i.P1)(M,(e=>e.passive)),H=(0,i.P1)(M,(e=>e.temporary))},34580:(e,r,t)=>{"use strict";t.d(r,{I6:()=>v,K4:()=>h,M8:()=>p,UZ:()=>m,ou:()=>c,ri:()=>d,ui:()=>u,v0:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(78052),l=e=>"bestFareFinder/".concat(e),c=(l("FETCH_SKIPPED"),l("FETCH_REQUEST")),d=l("FETCH_SUCCESS"),u=l("FETCH_ERROR"),p=(0,o.ul)(c),m=(0,o.ul)(d),g=(0,o.ul)(u),v=(0,n.Z)({[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:t.data})}},{}),h=(0,i.P1)(s.O,(e=>e.bestFareFinderSummaries||{}))},76010:(e,r,t)=>{"use strict";t.d(r,{I6:()=>m,Er:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(77009),s=t(89103),l=function(e){return e.MANDATORY="BILLING_ADDRESS_MANDATORY",e.OPTIONAL="BILLING_ADDRESS_OPTIONAL",e}({}),c=t(78052),d=t(29433),u=t(59962),p={fieldRequiredness:l.MANDATORY},m=(0,n.Z)({[u.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.billingAddressClassification)}},p),g=(0,i.P1)(d.eq,c.O,s.oJ,((e,r,t)=>!(0,o.tq)(t)&&(e.disableBillingAddressClassification||r.billingAddressClassification.fieldRequiredness===l.MANDATORY)))},93601:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,aN:()=>p,gg:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=t(72750),d=(0,n.Z)({[c.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.brands),[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.brands)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.brands)}},{}),u=(0,i.P1)(l.O,(e=>e.brands)),p=(0,i.P1)(u,((e,r)=>r),((e,r)=>null==e?void 0:e[r]))},60327:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,wZ:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.cardTypes)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.cardTypes)}},{}),d=(0,i.P1)(l.O,(e=>e.cardTypes)),u=(0,i.P1)(d,((e,r)=>r),((e,r)=>e[r]));(0,i.P1)(u,(e=>e&&e.code))},16362:(e,r,t)=>{"use strict";t.d(r,{GR:()=>g,I6:()=>m,N3:()=>E,Pm:()=>y,de:()=>p,mj:()=>h,xs:()=>f});var a=t(23198),n=t(82768),i=t(14035),o=t(32034),s=t(20066),l=t(61229),c=t(74980),d=t(78052),u=t(72750),p="urn:trainline:db:carrier:db",m=(0,i.Z)({[u.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.carriers),[s.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.carriers)},[c.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.carriers)}},{}),g=(0,o.P1)(d.O,(e=>e.carriers)),v=(0,o.P1)(d.O,(e=>e.journeySearches)),h=(0,o.P1)(g,((e,r)=>r),((e,r)=>r&&e[r]&&e[r].name)),y=(0,o.P1)(g,((e,r)=>r),((e,r)=>e[r]&&e[r].code)),f=(0,o.P1)(g,((e,r)=>r),((e,r)=>{var t=Object.values(e).find((e=>Boolean(e&&e.name===r)));return t&&t.code})),E=((0,o.P1)(g,l.J_,((e,r)=>r&&e&&(0,n.jj$)(Object.values(r).map((r=>{var t;return r&&r.carrier&&(null===(t=e[r.carrier])||void 0===t?void 0:t.code)}))))),(0,o.P1)(g,v,((e,r)=>r),((e,r,t)=>{var n,i,o,{journeys:s=null,legs:l=null}=(n=Object.values(r)||[],i={},o={},n.forEach((e=>{var{journeys:r,legs:t}=e;i=(0,a.Z)((0,a.Z)({},i),r),o=(0,a.Z)((0,a.Z)({},o),t)})),{journeys:i,legs:o});if(s&&s[t]){var c=s&&s[t]||null,d=c&&c.legs;if(d&&d.length>0){var u=l&&l[d[0]]||null,p=u&&u.carrier||null,m=p&&e[p]||null;return m&&m.name}}return null})))},59962:(e,r,t)=>{"use strict";t.d(r,{$u:()=>J,Au:()=>Z,Bs:()=>H,Dc:()=>te,Fb:()=>oe,Hp:()=>U,I6:()=>pe,JO:()=>W,Jn:()=>E,K8:()=>ce,LK:()=>f,Lk:()=>re,Om:()=>F,PX:()=>$,Pp:()=>ie,QX:()=>q,Qd:()=>ue,SF:()=>A,Ss:()=>Y,T:()=>x,T5:()=>se,Tk:()=>b,WX:()=>ne,Wq:()=>v,ZU:()=>y,_Y:()=>j,cA:()=>S,cj:()=>G,dZ:()=>z,di:()=>N,hb:()=>ae,i8:()=>X,iQ:()=>V,iz:()=>de,lo:()=>k,ns:()=>ee,nw:()=>C,oC:()=>le,oH:()=>Q,ph:()=>h,r8:()=>_,rd:()=>w,sI:()=>I,v$:()=>M,yA:()=>K,ym:()=>B,zd:()=>P});var a=t(23198),n=t(53066),i=t(14035),o=t(32034),s=t(80336),l=t(36592),c=t(28482),d=t(4794),u=t(78052),p=t(8563),m={shouldShowCardTypeWarning:!1,hideCollectionWarning:{}},g=e=>"checkout/".concat(e),v=g("GET_CHECKOUT"),h=g("FETCH_CHECKOUT_REQUEST"),y=g("DESERIALISE_CHECKOUT_RESPONSE"),f=g("FETCH_CHECKOUT_ERROR"),E=g("SEARCH_AGAIN"),b=g("REBOOK_EXPIRED_DISCOUNT_CARD"),S=g("RESET_PAYMENT_METHOD_MOBILE_VIEW"),T=g("HIDE_CHECKOUT_COLLECTION_WARNING"),C=g("HIDE_ALL_CHECKOUT_COLLECTION_WARNINGS"),A=(0,c.e)("CHECKOUT_PAGE_RENDERED"),I=(0,c.e)("ANALYTICS_FRAMEWORK_CHECKOUT_PAY"),_=(0,c.e)("ANALYTICS_FRAMEWORK_CHECKOUT_CONTINUE_TO_PAY"),P=(0,c.e)("ENROLMENT_RENDERED"),R=(0,c.e)("PAYMENT_SUCCEEDED"),k=g("FETCH_CARD_PAYMENT_FORM_URI_REQUEST"),N=g("FETCH_CARD_PAYMENT_FORM_URI_SUCCESS"),O=g("STORE_FORM_CARD_DETAILS"),L=g("SET_PAYMENT_FORM_EXPIRED"),x=g("FETCH_CARD_PAYMENT_FORM_URI_ERROR"),D=g("STORE_SAVE_CARD_DATA"),w=g("GET_PAYMENT_OFFERS_FOR_FORM"),Z=(0,c.e)("ANALYTICS_FRAMEWORK_ADDED_CARD"),F=(0,n.Z)(v),B=(0,n.Z)(S),M=(0,l.ul)(h),U=(0,l.ul)(y),j=(0,l.ul)(f),H=(0,l.ul)(E),W=(0,l.ul)(b),G=(0,l.ul)(k),V=(0,l.ul)(N),Y=(0,l.ul)(O),K=(0,l.ul)(L),z=(0,l.RW)(x),J=(0,l.RW)(A),q=(0,l.RW)(_),Q=(0,l.RW)(I),X=(0,l.RW)(P),$=(0,l.ul)(R),ee=(0,l.ul)(T),re=(0,l.RW)(C),te=(0,o.P1)(u.O,(e=>e.checkout)),ae=((0,o.P1)(d.JW,te,((e,r)=>r),((e,r,t)=>!(e>1)||r.hideCollectionWarning[t.id])),(0,o.P1)(te,(e=>e.hideCollectionWarning))),ne=(0,o.P1)(te,(e=>e.cardPaymentFormURI)),ie=(0,o.P1)(te,(e=>e.sessionId)),oe=(0,o.P1)(te,(e=>e&&e.cardData)),se=(0,o.P1)(te,(e=>e.hasFormExpired)),le=(0,o.P1)(te,(e=>e.quickSignUpStatus)),ce=(0,l.ul)(D),de=(0,l.ul)(w),ue=(0,l.RW)(Z),pe=(0,i.Z)({[p.$s]:(e,r)=>{var{payload:t}=r,n=!1;return"InvalidCardDetailsCardNumber:FailedValidBinRangeRules"===t.error.message&&(n=!0),(0,a.Z)((0,a.Z)({},e),{},{shouldShowCardTypeWarning:n})},[T]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{hideCollectionWarning:(0,a.Z)((0,a.Z)({},e.hideCollectionWarning),{},{[t.itineraryId]:!0})})},[N]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{cardPaymentFormURI:t.formURI,sessionId:t.sessionId})},[O]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{formCardToken:t.formCardToken,formCardType:t.formCardType,formLastFourCardDigits:t.formLastFourCardDigits,formToken:t.formToken})},[D]:(e,r)=>{var{payload:{cardData:t}}=r;return(0,a.Z)((0,a.Z)({},e),{},{cardData:t})},[s.V8]:e=>(0,a.Z)((0,a.Z)({},e),{},{quickSignUpStatus:s.uF.FAILED}),[s.t9]:e=>(0,a.Z)((0,a.Z)({},e),{},{quickSignUpStatus:s.uF.SUCCEEDED}),[L]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{hasFormExpired:t.hasFormExpired})},[p.my]:()=>m},m)},16134:(e,r,t)=>{"use strict";t.d(r,{I6:()=>h,Lh:()=>m,Mq:()=>y,ir:()=>p,jn:()=>g,ou:()=>c,ri:()=>d,ui:()=>u,v0:()=>v});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(78052),l=e=>"coachJourneyAvailability/".concat(e),c=l("FETCH_REQUEST"),d=l("FETCH_SUCCESS"),u=l("FETCH_ERROR"),p=function(e){return e.STANDARD="standard",e.EARLIER_LATER="earlierLater",e}({}),m=(0,o.ul)(c),g=(0,o.ul)(d),v=(0,o.ul)(u),h=(0,n.Z)({[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:t.data})}},{}),y=(0,i.P1)(s.O,(e=>e.coachJourneyAvailabilities))},8129:(e,r,t)=>{"use strict";t.d(r,{I6:()=>y,M8:()=>m,Ms:()=>p,UZ:()=>g,ZF:()=>h,ou:()=>c,ri:()=>d,rt:()=>f,ui:()=>u,v0:()=>v});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(78052),l=e=>"coachJourneySearch/".concat(e),c=l("FETCH_REQUEST"),d=l("FETCH_SUCCESS"),u=l("FETCH_ERROR"),p=l("ALTERNATIVE_SELECTED"),m=(0,o.ul)(c),g=(0,o.ul)(d),v=(0,o.ul)(u),h=(0,o.ul)(p),y=(0,n.Z)({[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.coachJourneySearch.id]:t.coachJourneySearch})}},{}),f=(0,i.P1)(s.O,(e=>e.coachJourneySearches||{}))},43826:(e,r,t)=>{"use strict";t.d(r,{I6:()=>l,QG:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(78052),l=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.conditions)}},{}),c=(0,i.P1)(s.O,(e=>e.conditions))},74980:(e,r,t)=>{"use strict";t.d(r,{AP:()=>h,B3:()=>p,I6:()=>E,KQ:()=>m,R2:()=>y,i3:()=>d,mD:()=>v,ml:()=>b,rw:()=>u,vx:()=>g});var a=t(53066),n=t(14035),i=t(32034),o=t(36592),s=t(78052),l={},c=e=>"confirmation/".concat(e),d=c("CONFIRMATION_ERROR"),u=c("DESERIALIZE_CONFIRMATION_RESPONSE"),p=c("FETCH_CONFIRMATION"),m=c("DESTROY_CONFIRMATION_DATA"),g=(c("SEARCH_SUGGESTED_RETURN_JOURNEY_WITH_SWAPPED_OD_PAIRS"),(0,a.Z)(p)),v=(0,o.ul)(d),h=(0,a.Z)(m),y=(0,o.ul)(u),f=e=>Object.keys(e.products).reduce(((r,t)=>{var a=e.products[t]&&e.products[t].deliveries[0],n=a&&a.deliveryMethod&&a.deliveryMethod.method,i=a&&a.deliverables&&a.deliverables[0],o=i&&i.collection,s=o&&o.estimatedDeliveryDate;return s&&(r[t]=s,n&&(r[n]=s)),r}),{}),E=(0,n.Z)({[u]:(e,r)=>{var{payload:t}=r;return{orderId:t.order.id,estimatedDeliveryDates:f(t)}},[m]:()=>l},l),b=(0,i.P1)(s.O,(e=>e.confirmation))},50877:(e,r,t)=>{"use strict";t.d(r,{I6:()=>o,kz:()=>s,yX:()=>l});var a=t(14035),n=t(32034),i=t(78052),o=(0,a.Z)({},[]),s=(0,n.P1)(i.O,(e=>e.connections||[])),l=(0,n.P1)(s,(e=>e.map((e=>{var{code:r}=e;return r}))))},83507:(e,r,t)=>{"use strict";t.d(r,{AO:()=>p,Fp:()=>m,I6:()=>c,W3:()=>u,g_:()=>l});var a=t(14035),n=t(32034),i=t(36592),o=t(78052),s="consents/SET_CONSENTS",l=(0,i.ul)(s),c=(0,a.Z)({[s]:(e,r)=>{var{payload:t}=r;return t}},[]),d=(0,n.P1)(o.O,(e=>e&&e.consents||[])),u=(0,n.P1)(d,(e=>e[0])),p=(0,n.P1)(u,(e=>!(!e||!e.selected))),m=(0,n.P1)(u,(e=>e&&e.id))},17763:(e,r,t)=>{"use strict";t.d(r,{H9:()=>u,I6:()=>p,sT:()=>g});var a=t(23198),n=t(31616),i=t(14035),o=t(32034),s=t(36592),l=t(78052),c=["correlationToken"],d="SET_CORRELATED_ALTERNATIVES_HISTORY",u=(0,s.ul)(d),p=(0,i.Z)({[d]:(e,r)=>{var{payload:{correlationToken:t}}=r,i=(0,n.Z)(r.payload,c);return(0,a.Z)((0,a.Z)({},e),{},{[t]:i})}},{}),m=(0,o.P1)(l.O,(e=>e.correlatedAlternativesHistory)),g=(0,o.P1)(m,((e,r)=>r),((e,r)=>e[r]))},75290:(e,r,t)=>{"use strict";t.d(r,{GC:()=>u,GO:()=>p,I6:()=>g,Oi:()=>E,P5:()=>S,bn:()=>m,gB:()=>f,mJ:()=>d,u:()=>b});var a=t(23198),n=t(14035),i=t(32034),o=t(65033),s=t(63062),l=t(36592),c=t(78052),d="alternativeDetails/CSFP_ALTERNATIVE_AND_COMFORT_CHANGED",u=(0,l.ul)(d),p="alternativeDetails/CSFP_ALTERNATIVE_CHANGED",m=(0,l.ul)(p),g=(0,n.Z)({[p]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{selectedCsfpAlternativeHash:t.hash})}},{}),v=(0,i.P1)(c.O,(e=>e.csfpAlternativeDetails||{})),h=(0,i.P1)(v,(e=>e&&e.selectedCsfpAlternativeHash)),y=(0,i.P1)(s.tN,h,((e,r)=>{if(e&&e.legs&&e.legs[0]&&e.legs[0].comforts)return e.legs[0].comforts.find((e=>e.fares.some((e=>e.hash===r))))})),f=(0,i.P1)(y,(e=>e&&e.id)),E=(0,i.P1)(s.tN,y,((e,r)=>{if(e&&e.legs&&e.legs[0]&&e.legs[0].comforts){var t;if(r){var a=e.legs[0].comforts;t=a.findIndex((e=>e===r))>1&&a.length>3?o.H.MORE:r.code}return t||e.legs[0].comforts[0].code}return""})),b=(0,i.P1)(E,(e=>e===o.H.MORE)),S=(0,i.P1)(s.tN,h,y,((e,r,t)=>{if(e&&e.legs&&e.legs[0]&&e.legs[0].comforts){var a=t&&t.fares.find((e=>e.hash===r));return{selectedComfortName:a&&a.fareType.name,selectedComfortPrice:a&&a.price,selectedComfortId:a&&t&&t.id}}return null}))},22832:(e,r,t)=>{"use strict";t.d(r,{I6:()=>o,zd:()=>s});var a=t(14035),n=t(32034),i=t(78052),o=(0,a.Z)({},{}),s=(0,n.P1)(i.O,(e=>{var{currencies:r}=e;return r}))},62490:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,Mn:()=>u,oZ:()=>c});var a=t(23198),n=t(32034),i=t(14035),o=t(36592),s=t(78052),l="customFields/mappedCustomFields",c=(0,o.ul)(l),d=(0,i.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)}},{itinerary:[],booker:[]}),u=(0,n.P1)(s.O,(e=>e.customFields))},67074:(e,r,t)=>{"use strict";t.d(r,{BX:()=>m,E_:()=>T,I6:()=>E,Tu:()=>g,ef:()=>f,fm:()=>v,oE:()=>S,s_:()=>h,uL:()=>y});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(2321),l=t(68760),c=t(59962),d=t(74980),u=t(78052),p=e=>"customer/".concat(e),m=p("CUSTOMER_QUICK_REGISTRATION_SUBMIT"),g=p("CUSTOMER_QUICK_REGISTRATION_FAILURE"),v=p("CUSTOMER_QUICK_REGISTRATION_SUCCESS"),h=(0,o.ul)(g),y=(0,o.ul)(v),f=(0,o.ul)(m),E=(0,n.Z)({[c.ZU]:(e,r)=>{var{payload:t}=r;return t.customer?(0,a.Z)((0,a.Z)({},e),{},{[t.customer.id]:t.customer}):e},[d.rw]:(e,r)=>{var{payload:t}=r;return t.customer?(0,a.Z)((0,a.Z)({},e),{},{[t.customer.id]:t.customer}):e},[s.h8]:(e,r)=>{var{payload:t}=r;return t.customer?(0,a.Z)((0,a.Z)({},e),{},{[t.customer.id]:t.customer}):e}},{}),b=(0,i.P1)(u.O,(e=>e.customers)),S=(0,i.P1)(b,l.c4,((e,r)=>e[r])),T=(0,i.P1)(l.L6,S,((e,r)=>!e&&!!r&&r.isImplicitlyRegistered))},49716:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,NO:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(2321),l=t(59962),c=t(78052),d="deliveryOptionPrice/SET_DELIVERY_OPTION_PRICES",u=((0,o.ul)(d),(0,n.Z)({[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)},[l.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.deliveryOptionPrices)},[s.h8]:(e,r)=>{var{payload:t}=r;return t.deliveryOptionPrices?(0,a.Z)((0,a.Z)({},e),t.deliveryOptionPrices):e}},{})),p=(0,i.P1)(c.O,(e=>e.deliveryOptionPrices||{})),m=(0,i.P1)(p,((e,r)=>r),((e,r)=>e[r]&&e[r].price))},88396:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,n5:()=>m,s1:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(2321),l=t(59962),c=t(78052),d=(0,o.jD)("@@redux-form/SET_SUBMIT_SUCCEEDED"),u=(0,n.Z)({[l.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.deliveryOptions)},[s.h8]:(e,r)=>{var{payload:t}=r;return t.deliveryOptions?(0,a.Z)((0,a.Z)({},e),t.deliveryOptions):e}},{}),p=(0,i.P1)(c.O,(e=>e.deliveryOptions||{})),m=(0,i.P1)(p,((e,r)=>r),((e,r)=>e[r]))},97183:(e,r,t)=>{"use strict";t.d(r,{AX:()=>u,I6:()=>d,NF:()=>v,_w:()=>m,iT:()=>p,xY:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(31521),l=t(78052),c=t(74980),d=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t,meta:n}=r;return n&&n.mergeProducts&&t.discountCardProducts?(0,a.Z)((0,a.Z)({},e),t.discountCardProducts):t.discountCardProducts?t.discountCardProducts:{}},[c.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.discountCardProducts)}},{}),u=(0,i.P1)(l.O,(e=>e.discountCardProducts)),p=(0,i.P1)(u,(e=>Object.values(e).filter((e=>Boolean(e))).map((e=>e)))),m=(0,i.P1)(u,(e=>Object.keys(e).length)),g=(0,i.P1)(p,(e=>e.map((e=>e.id)))),v=(0,i.P1)(s.bq,m,((e,r)=>Boolean(0===e&&r>0)))},62331:(e,r,t)=>{"use strict";t.d(r,{C0:()=>S,HM:()=>T,I6:()=>y,JO:()=>m,Jb:()=>b,ic:()=>E,jb:()=>g,wg:()=>h});var a=t(23198),n=t(53066),i=t(14035),o=t(32034),s=t(71695),l=t(20066),c=t(36592),d=t(40939),u=t(78052),p=t(72750),m="LOAD_DISCOUNT_CARDS",g=(0,n.Z)(m),v="ADD_DISCOUNT_CARDS",h=(0,c.ul)(v),y=(0,i.Z)({[p.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.discountCards),[v]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload),[l.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.cardTypes)}},{}),f=(0,o.P1)(u.O,(e=>e.discountCards)),E=(0,o.P1)(f,d.fN,((e,r)=>e&&0!==Object.keys(e).length?Object.values(e).reduce(((e,t)=>{var n,i,o=t&&(null===(n=(t["x-name"]||[]).find((e=>e.language===s.P4[r])))||void 0===n?void 0:n.value),l=t&&(null===(i=(t["x-defaultItineraryDescription"]||[]).find((e=>e.language===s.P4[r])))||void 0===i?void 0:i.value);return(0,a.Z)((0,a.Z)({},e),{},{[t.id]:(0,a.Z)((0,a.Z)({},t),{},{name:o||(null==t?void 0:t.name),defaultItineraryDescription:l||(null==t?void 0:t.defaultItineraryDescription)})})}),{}):e)),b=(0,o.P1)(E,((e,r)=>r),((e,r)=>e[r])),S=(0,o.P1)(b,(e=>e&&e.name)),T=(0,o.P1)(b,(e=>e&&e.code))},56543:(e,r,t)=>{"use strict";t.d(r,{I:()=>l,n:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(78052),s=t(72750),l=(0,n.Z)({[s.ri]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.data.disruptions)}},{}),c=(0,i.P1)(o.O,(e=>e.disruptions))},54422:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,NE:()=>u,_A:()=>p,_L:()=>m,e9:()=>c});var a=t(14035),n=t(32034),i=t(25453),o=t(36592),s=t(78052),l="dpi/".concat("SET_DPI_PASSENGERS"),c=(0,o.ul)(l),d=(0,a.Z)({[l]:(e,r)=>({passengers:r.payload.passengers})},{passengers:[]}),u=(0,n.P1)(s.O,(e=>e.dpi)),p=(0,n.P1)(u,(e=>e?e.passengers:[])),m=(0,n.P1)(p,(e=>{var r=e?e.map((e=>e.cards&&e.cards.map((e=>e.type)))):[];return[].concat(...r.filter(i.BX))}))},46090:(e,r,t)=>{"use strict";t.d(r,{I6:()=>h,dq:()=>v,j:()=>m,nC:()=>g,o8:()=>f,q5:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(20786),l=t(78052),c=t(8563),d={},u=e=>"enrolment/".concat(e),p=u("ENROLMENT_DATA_RECEIVED"),m=u("ENROLMENT_COMPLETED"),g=(0,o.ul)(p),v=(0,o.ul)(m),h=(0,n.Z)({[p]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{orderId:t.orderId,paymentId:t.paymentId,enrolmentData:t.data}})},[c.my]:()=>d,[c.Zt]:()=>d},d),y=(0,i.P1)(l.O,(e=>e.enrolment)),f=(0,i.P1)(y,s.$l,((e,r)=>e&&r?e[r]:void 0))},78052:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var a=e=>e.entities},47256:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,QN:()=>d,jY:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(79423),s=t(36592),l=t(78052),c="SET_EU_PASSENGER_CARDS",d=(0,s.ul)(c),u=(0,n.Z)({[c]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)},[o.t9]:(e,r)=>{var{payload:t}=r;return(0,a.Z)({},t.euFlowPassengers.reduce(((e,r)=>(r.discountCards.length>0&&(e[r.id]=r.discountCards),e)),{}))}},{}),p=(0,i.P1)(l.O,(e=>e.euPassengerCards||[])),m=(0,i.P1)(p,((e,r)=>r),((e,r)=>e[r]||[]))},86252:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,Vi:()=>c,kw:()=>d,yg:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(78052),l="euQuickBuy/".concat("SET_EU_QUICK_BUY_CLICKED_BUTTON"),c=(0,o.ul)(l),d=function(e){return e.CONTINUE="CONTINUE",e.SEATING_PREFERENCES="SEATING_PREFERENCES",e}({}),u=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{buttonClicked:t})}},{}),p=(0,i.P1)(s.O,(e=>e&&e.euQuickBuy&&e.euQuickBuy.buttonClicked)),m=(0,i.P1)(p,(e=>e===d.CONTINUE))},19408:(e,r,t)=>{"use strict";t.d(r,{BD:()=>S,FD:()=>u,I6:()=>c,eB:()=>E,mR:()=>b,ur:()=>p,wM:()=>f});var a=t(48977),n=t(82768),i=t(14035),o=t(32034),s=t(71893),l=t(78052),c=(0,i.Z)({},{}),d={$0:"$0",$1:"$1",$2:"$2",$3:"$3",$4:"$4"},u=(0,o.P1)(l.O,(e=>e.experiments)),p=e=>(0,o.P1)(u,(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Boolean(!(0,n.xbD)(r)&&Object.keys(r).includes(e.toString()))})),m=(e,r)=>"cachekey-".concat(e).concat(r?"-skipped":"-fired"),g=e=>r=>(0,n.b5p)(m,((t,n)=>(n||(s.Z.experienced(r,t),(0,a.QH)(r,[t])),e===a.MP?e(r,t,d):!0===e(r,t)))),v=(0,o.P1)(u,g(a.AO)),h=(0,o.P1)(u,g(a.$n)),y=(0,o.P1)(u,g(a.MP)),f=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v(e)(r,t)},E=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(e)(r,t)},b=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y(e)(r,t)},S=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(a,n)=>{t[n]||(t[n]=!0,e.experienced(a,n),r(a,[n]))}}(s.Z,a.QH)},12592:(e,r,t)=>{"use strict";t.d(r,{Dq:()=>l,I6:()=>c,hE:()=>s,qQ:()=>d});var a=t(14035),n=t(32034),i=t(36592),o=t(78052),s="FETCH_EXPLORE_EUROPE_LOCATIONS_SUCCESS",l=(0,i.ul)(s),c=(0,a.Z)({[s]:(e,r)=>{var{payload:t}=r;return t.requestedCountry?t.requestedCountry.map((e=>e.id||"")):[]}},[]),d=(0,n.P1)(o.O,(e=>e&&e.exploreEuropeLocations))},29728:(e,r,t)=>{"use strict";t.d(r,{E3:()=>E,Ez:()=>b,I6:()=>g,Kz:()=>f,WH:()=>C,_V:()=>v,_x:()=>k,dj:()=>L,qn:()=>h,t0:()=>R,u4:()=>m});var a=t(23198),n=t(82768),i=t(14035),o=t(32034),s=t(51001),l=t(44695),c=t(60054),d=t(2321),u=t(31521),p=t(78052),m=(0,o.P1)(p.O,(e=>e.availableExtras)),g=(0,i.Z)({[d.h8]:(e,r)=>{var{payload:t}=r;return t?(0,a.Z)((0,a.Z)({},e),t.availableExtras):e},[l.J]:(e,r)=>{var{payload:t}=r;return(0,a.Z)({},t)}},{}),v=(0,o.P1)(m,((e,r)=>r),((e,r)=>e[r.id]||{})),h=(0,o.P1)(u.SY,m,((e,r)=>e&&r[e.id]||{})),y=(e,r,t)=>{var n=e=>{var r;return(null===(r=e.legs)||void 0===r?void 0:r[0])&&t.includes(e.legs[0].id)&&e.selectionStateChangeable};return e.reduce(((e,t)=>{var i=r[t.id]?r[t.id].extras.filter(n).map((e=>((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{productId:r.id}))(e,t))):[];return(0,a.Z)((0,a.Z)({},e),{},{[t.id]:{extras:i}})}),{})},f=(0,o.P1)(u.qK,m,c.Gf,((e,r,t)=>y(e,r,t))),E=(0,o.P1)(u.qK,m,c.v2,((e,r,t)=>y(e,r,t))),b=(0,o.P1)(f,E,((e,r)=>e&&Object.values(e).some((e=>!!e.extras.length))||r&&Object.values(r).some((e=>!!e.extras.length)))),S=(e,r)=>{var t=0;if(r.extraSelectionRestriction&&r.extraSelectionRestriction.extraIds){var{minTotalQuantity:a,maxTotalQuantity:n}=r.extraSelectionRestriction;r.extraSelectionRestriction.extraIds.reduce(((r,t)=>e[t]?[...r,e[t]]:r),[]).find((e=>e&&e.quantity>=a&&e.quantity<=n))||r.foodDetails&&r.foodDetails.isSpecialDiet||(t=a)}return t},T=e=>(0,n.xHg)(Object.values(e).map((e=>e.extras))).reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.id]:{extra:r.id,productId:r.productId,quantity:S(e,r)}})),{}),C=(0,o.P1)(f,E,((e,r)=>({outward:{extras:T(e)},inward:{extras:T(r)}}))),A=e=>(0,n.xHg)(Object.values(e||{}).map((e=>e.extras))).filter((e=>e.selectedQuantity>0)),I=(0,o.P1)(E,A),_=(0,o.P1)(f,A),P=e=>{var r,t=(r=e,(0,n.vMG)((0,n.pMU)("default",["extraType","code"]))(r));return Object.entries(t).reduce(((e,r)=>{var[t,n]=r,i=(e=>e.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},r),{},{selectedQuantity:(e.selectedQuantity||0)+r.selectedQuantity})),{}))(n);return[...e,(0,a.Z)({},i)]}),[])},R=(0,o.P1)(_,P),k=(0,o.P1)(I,P),N=(0,o.P1)(s.IY,u.qK,((e,r)=>{var t=e.filter((e=>r.some((r=>r.id===e.productId))));return(0,n.xHg)(t.map((e=>e.subLineItems||[]))).reduce(((e,r)=>e+(r.category&&"voucher"===r.category?0:r.amountInRequestedCurrency)),0)})),O=(0,o.P1)(_,I,((e,r)=>[...e,...r].reduce(((e,r)=>e+r.price.amount*r.selectedQuantity),0))),L=(0,o.P1)(s.em,N,O,((e,r,t)=>{if(e){var a=e.amount-r+t;return{currencyCode:e.currencyCode,amount:a}}}))},67512:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,lS:()=>m,op:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=t(72750),d=t(61229),u=(0,n.Z)({[c.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.fareRestrictions),[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.fareRestrictions)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.fareRestrictions)}},{}),p=(0,i.P1)(l.O,(e=>e.fareRestrictions)),m=((0,i.P1)(p,((e,r)=>r),((e,r)=>e[r])),(0,i.P1)(d.ng,p,((e,r,t)=>t),((e,r,t)=>{var a=e[t],n=a&&a.fareRestriction;return n&&r[n]})))},10526:(e,r,t)=>{"use strict";t.d(r,{B_:()=>g,Hs:()=>b,I6:()=>h,Mx:()=>S,OZ:()=>f,SP:()=>y,XE:()=>v,Yz:()=>T,oH:()=>E,oh:()=>C});var a=t(23198),n=t(14035),i=t(32034),o=t(72750),s=t(8129),l=t(36592),c=t(20066),d=t(74980),u=t(78052),p="fareTypes/SET_FARE_TYPES",m=((0,l.ul)(p),"urn:trainline:atoc:fare:"),g=["0BX","0CA","0CB","0CC","0CD","0CE","0CF","0CG","1ST","ADT","AM3","FDT","FSC","FTC","ODT","OPG","OTF","SOE","SOI","SOT","STO","STP","TKT","WDT","WKC","WRE","WTC"].map((e=>m+e)),v=["AVK","AVL","FZP","VZP"].map((e=>m+e)),h=(0,n.Z)({[o.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.fareTypes),[s.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.coachJourneySearch.fareTypes),[p]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)},[c.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.fareTypes)},[d.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.fareTypes)}},{}),y=(0,i.P1)(u.O,(e=>e.fareTypes)),f=(0,i.P1)(u.O,(e=>e.fareCategories)),E=(0,i.P1)(y,((e,r)=>r),((e,r)=>e[r])),b=((0,i.P1)(y,((e,r)=>r),((e,r)=>r.reduce(((r,t)=>e[t]?(r.push(e[t].code),r):r),[]))),(0,i.P1)(y,((e,r)=>r),((e,r)=>r.reduce(((r,t)=>e[t]?(r.push(e[t].name.toLowerCase()),r):r),[]))),(0,i.P1)(E,(e=>e&&e.code)),(0,i.P1)(E,(e=>e&&e.name))),S=(0,i.P1)(b,(e=>/anytime|off[-\ ]peak|return/i.test(e||""))),T=(0,i.P1)(b,(e=>e?/return/i.test(e)?"return":/anytime/i.test(e)?"anytime":/super off[-\ ]peak/i.test(e)?"superOffPeak":/off[-\ ]peak/i.test(e)?"offPeak":"other":"other")),C=(0,i.P1)(E,(e=>e&&e.conditionsSummary))},49788:(e,r,t)=>{"use strict";t.d(r,{C:()=>c,I:()=>l});var a=t(23198),n=t(14035),i=t(32034),o=t(74980),s=t(78052),l=(0,n.Z)({[o.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.order.id]:t.fulfilments})}},{}),c=(0,i.P1)(s.O,(e=>e.fulfilments||{}))},33168:(e,r,t)=>{"use strict";t.d(r,{$o:()=>u,I6:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(59962),s=t(78052),l=t(8563),c={},d=(0,n.Z)({[o.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.googlePayConfiguration)},[l.my]:()=>c},c),u=(0,i.P1)(s.O,(e=>e.googlePay))},76801:(e,r,t)=>{"use strict";t.d(r,{CP:()=>K,Ck:()=>L,I6:()=>S,KS:()=>Y,T$:()=>F,Z9:()=>Z,Zo:()=>W,aM:()=>k,ei:()=>R,fb:()=>D,fj:()=>G,iV:()=>O,qs:()=>C,wI:()=>j,yS:()=>H});var a=t(23198),n=t(14035),i=t(37544),o=t(32034),s=t(17038),l=t(72471),c=t(20786),d=t(20066),u=t(41152),p=t(37599),m=t(68760),g=t(74980),v=t(78052),h=t(66763),y=t(31521),f=t(88675),E=t(32554),b=t(31276),S=(0,n.Z)({[d.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)({},t.insuranceProducts)},[g.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.insuranceProducts)},INSURANCE_HOLDERS_DETAILS_RECEIVED:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.productId]:Object.assign({},e[t.productId],{passengerDetails:t.passengerDetails})})}},{}),T=(0,o.P1)(v.O,(e=>e.insuranceProducts)),C=(0,o.P1)(T,(e=>e?Object.values(e):[])),A=(0,o.P1)(T,((e,r)=>r),((e,r)=>e?e[r]:void 0)),I=(e,r,t)=>e.filter((e=>!!e&&r&&e.travelProducts.includes(r)&&t.includes(e.type))),_=(e,r)=>{if(e&&e.length)return e.find((e=>!!r.find((r=>r.productId===e.id))))||e[0]},P=(0,o.P1)(C,((e,r)=>r),((e,r)=>I(e,r,[l.OZ.CORE,l.OZ.ESSENTIAL]))),R=(0,o.P1)(P,c.sq,((e,r)=>_(e,r))),k=(0,o.P1)(c.tE,((e,r,t)=>t),((e,r)=>{var t=e.find((e=>e.source===r));return t&&t.destination})),N=(0,o.P1)(C,((e,r)=>r),((e,r)=>I(e,r,[l.OZ.BUSINESS]))),O=(0,o.P1)(N,c.sq,((e,r)=>_(e,r))),L=(0,o.P1)(C,((e,r)=>r),((e,r)=>e.filter((e=>!!e&&e.travelProducts&&e.travelProducts[0]===r)))),x=(e,r)=>(0,f._P)(e,r).reduce(((r,t)=>[...r,...L(e,t.id)]),[]).filter(Boolean),D=(e,r)=>{var{outwardJourney:t,inwardJourney:a}=r;return{outboundInsurance:x(e,t),inboundInsurance:a?x(e,a):[]}},w=e=>({productId:e.id,productType:l.Y5[e.type],productPrice:e.premium.amount,travelProductId:e.travelProducts[0]}),Z=(0,o.P1)(T,((e,r)=>r),((e,r)=>e&&e[r]?w(e[r]):void 0)),F=(0,o.P1)(((e,r)=>L(e,r)),c.sq,((e,r)=>{var t=e.find((e=>r.some((r=>r.productId===e.id))));return t?w(t):void 0})),B=(0,o.P1)(C,(e=>{var r=e.reduce(((e,r)=>(r.travelProducts.length>0&&e.add(r.travelProducts[0]),e)),new Set);return Array.from(r)})),M=(e,r,t,a)=>{var n=I(e,t,[a]);return _(n,r)},U=(e,r)=>e&&r.some((r=>r.productId===e.id)),j=(0,o.P1)(C,B,c.sq,i.jA,((e,r,t,a)=>{var n=a.components[p._x]||{};return r.reduce(((r,a)=>{var i=M(e,t,a,l.OZ.CORE),o=M(e,t,a,l.OZ.BUSINESS),s=M(e,t,a,l.OZ.ESSENTIAL);return[...r,...i?[i]:[],...o&&(U(i,t)||U(o,t)||n[a]&&n[a].isBusinessInsuranceExpanded)?[o]:[],...s?[s]:[]]}),[]).map(w)})),H=(0,o.P1)((e=>e.entities.orders),L,((e,r)=>!(!e||!r)&&!!r.find((r=>!!Object.values(e).find((e=>!(!e||!e.items)&&!!e.items[r.id])))))),W=(e,r)=>{var{outwardJourney:t,inwardJourney:a}=r;return[...(0,f._P)(e,t),...a?(0,f._P)(e,a):[]].some((r=>H(e,r.id)))},G=(0,o.P1)(m.IL,(e=>e.entities.products),((e,r)=>r),((e,r,t)=>{var a=[];if(t){var n=r[t],i=(0,u.$Y)(n);n&&i&&(n.fares&&n.fares.length>0&&i===s.Gl.AtocMTicket&&n.fares[0].farePassengers.forEach((e=>{e.passengers.forEach((e=>{e.passenger.name&&a.push(e.passenger.name)}))})),i!==s.Gl.AtocUkSpecialDelivery&&i!==s.Gl.AtocUkSecondClassPost&&i!==s.Gl.AtocUkInternationalPost||n.deliveries.forEach((e=>{e.recipients.forEach((e=>{e.name&&a.push(e.name)}))})))}return e?[e,...a.slice(1)]:a})),V=(e,r)=>{var t=(0,E.ud)(e,r.outwardJourneyPlan.origin.id),a=(0,E.ud)(e,r.outwardJourneyPlan.destination.id);if(!t)throw new Error("Couldn't determine departure station");if(!a)throw new Error("Couldn't determine arrival station");return{id:r.id,itineraryId:r.itineraryCorrelation,departureStation:t,arrivalStation:a}},Y=(0,o.P1)((e=>e),h.C8,((e,r)=>{if(r)try{var t;return{id:r.id,items:null==r||null===(t=r.items)||void 0===t?void 0:t.map((r=>{var t=(0,y.NR)(e,r.id);if(t)return V(e,t);var n=A(e,r.id);return n?(0,a.Z)({},n):r}))}}catch(e){return void(0,b.LQ)("mapBasketError",void 0,{insuranceBasketId:r.id,insuranceErrorMessage:"".concat(e)})}})),K=(e,r)=>{var{id:t,outwardJourney:a,inwardJourney:n}=r;try{return{id:t,outboundTravelProducts:(0,f._P)(e,a).map((r=>V(e,r))),inboundTravelProducts:n?(0,f._P)(e,n).map((r=>V(e,r))):[]}}catch(e){return void(0,b.LQ)("mapItineraryError",void 0,{insuranceItineraryId:t,insuranceErrorMessage:"".concat(e)})}}},79399:(e,r,t)=>{"use strict";t.d(r,{$Z:()=>h,I6:()=>S,K$:()=>v,RX:()=>f,c3:()=>b,fN:()=>T,jV:()=>m,ke:()=>y,qV:()=>u,sg:()=>g,yP:()=>E});var a=t(23198),n=t(31616),i=t(14035),o=t(37544),s=t(32034),l=t(36592),c=t(78052),d=["newJourneySearch"],u=function(e){return e.JOURNEY_NOT_FOUND="revalidationresult.journeynotfound",e.ALTERNATIVE_NOT_FOUND="revalidationresult.alternativesnotfound",e.SOLD_OUT="revalidationresult.soldout",e}({}),p=e=>"journeySearchRevalidation/".concat(e),m=p("REVALIDATE_REQUEST"),g=p("REVALIDATE_SUCCESS"),v=p("REVALIDATE_ERROR"),h=(0,l.ul)(m),y=(0,l.ul)(g),f=(0,l.ul)(v),E="journeyRevalidation",b=e=>(0,o.ET)({id:E,state:e}),S=(0,i.Z)({[g]:(e,r)=>{var{payload:{hash:t,data:{newJourneySearch:i}}}=r,o=(0,n.Z)(r.payload.data,d);return(0,a.Z)((0,a.Z)({},e),{},{[t]:(0,a.Z)({},o)})}},{}),T=(0,s.P1)(c.O,(e=>e.journeySearchRevalidations))},71162:(e,r,t)=>{"use strict";t.d(r,{I6:()=>g,M:()=>p,lB:()=>v,lp:()=>u,wL:()=>c});var a=t(14035),n=t(32034),i=t(60654),o=t(36592),s=t(51059),l=t(78052),c="FETCH_JOURNEY_SEARCH_TRANSPORT_MODES_SUCCESS",d="FETCH_JOURNEY_SEARCH_TRANSPORT_MODES_REQUEST",u=(0,o.ul)(c),p=(0,o.PH)(d),m=[i.AvailableTransportModes.MIXED,i.AvailableTransportModes.COACH],g=(0,a.Z)({[c]:(e,r)=>r.payload,[d]:()=>m},m),v=(0,n.P1)(l.O,s.Wc,((e,r)=>!r.prm&&e.journeySearchTransportModes.includes(i.AvailableTransportModes.COACH)))},72750:(e,r,t)=>{"use strict";t.d(r,{$E:()=>E,CG:()=>$,Ch:()=>L,EC:()=>d,H2:()=>k,HE:()=>q,Hw:()=>u,I6:()=>ce,LG:()=>oe,M8:()=>U,MK:()=>le,Mc:()=>C,Mr:()=>S,NH:()=>b,NJ:()=>re,NV:()=>z,NX:()=>ne,Ne:()=>J,OI:()=>Y,RN:()=>ae,Rm:()=>N,Se:()=>v,T7:()=>h,TD:()=>Q,U$:()=>X,UZ:()=>j,VP:()=>V,W2:()=>T,Wx:()=>se,XY:()=>_,YL:()=>f,b4:()=>ie,cF:()=>te,dD:()=>G,dv:()=>de,gp:()=>P,kh:()=>O,ou:()=>p,pX:()=>W,q_:()=>ee,ri:()=>m,ts:()=>M,ui:()=>g,v0:()=>H,vf:()=>R,vi:()=>I,wy:()=>K,yG:()=>x,yX:()=>A,yZ:()=>Z,zB:()=>B,zo:()=>y,zx:()=>F});var a=t(23198),n=t(14035),i=t(32034),o=t(87865),s=t(36592),l=t(78052),c=e=>"journeySearch/".concat(e),d=c("ENSURE"),u=c("CARRIER_TAB_CHANGE_REQUESTED"),p=c("FETCH_REQUEST"),m=c("FETCH_SUCCESS"),g=c("FETCH_ERROR"),v=c("ENSURE_EU_INWARD"),h=c("ENSURE_PAGINATION"),y=(c("ENSURE_PAGINATION_NOOP"),c("FETCH_EU_INWARD_REQUEST")),f=c("FETCH_PAGINATION_REQUEST"),E=c("REFRESH_JOURNEY_SEARCH"),b=c("SET_CHEAPEST_SUMMARY_SELECTION"),S=c("SELECT_ALTERNATIVE"),T=c("SELECT_EUROPE_ALTERNATIVE"),C=c("SELECT_EUROPE_ALTERNATIVE_COMFORT"),A=c("TOGGLE_COLLAPSIBLE"),I=c("TRIGGER_JOURNEYSEARCH_ANALYTICS"),_=c("CHANGE_PAGINATION"),P=c("CHANGE_EU_PAGINATION"),R=c("CHANGE_OUTWARD_EU_PAGINATION"),k=c("SET_PAGINATION_ANIMATION"),N=c("RESET_PAGINATION_ANIMATION"),O=c("INITIALISE_JOURNEY_SEARCH_PAGINATION_UISTATE"),L=c("PAGINATION_ANIMATION_COMPLETE"),x=c("SELECT_FLEXIBILITY"),D=c("SELECT_FLEXIBILITY_TYPE"),w=c("SELECT_COMFORT"),Z="inward",F=(0,s.ul)(d),B=(0,s.ul)(u),M=e=>(0,o.setUIState)({id:Z,state:e}),U=(0,s.ul)(p),j=(0,s.ul)(m),H=(0,s.ul)(g),W=(0,s.ul)(E),G=(0,s.RW)(I),V=(0,s.ul)(v),Y=(0,s.ul)(y),K=(0,s.ul)(h),z=(0,s.ul)(f),J=(0,s.ul)(S),q=(0,s.jD)(T),Q=(0,s.ul)(C),X=(0,s.ul)(b),$=(0,s.ul)(A),ee=(0,s.ul)(_),re=(0,s.ul)(R),te=(0,s.ul)(P),ae=(0,s.ul)(k),ne=(0,s.RW)(N),ie=(0,s.RW)(O),oe=(0,s.ul)(L),se=(0,s.RW)(x),le=((0,s.ul)(D),(0,s.RW)(w)),ce=(0,n.Z)({[m]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:(0,a.Z)((0,a.Z)({},t.data.journeySearch),{},{isEUPagination:t.isEUPagination||!1,isCachedResults:"true"===t.headers.cachedresults})})}},{}),de=(0,i.P1)(l.O,(e=>e.journeySearches))},99735:(e,r,t)=>{"use strict";t.d(r,{I6:()=>g,SU:()=>p,tV:()=>v});var a=t(23198),n=t(82768),i=t(32034),o=t(14035),s=t(20066),l=t(36592),c=t(78052),d=t(74980),u="localAreaProducts/".concat("SET_SELECTED_PLUSBUS_FARES"),p=(0,l.ul)(u);function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce(((e,r)=>{var[t,i]=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:{id:t,localAreaTransportType:i.localAreaTransportType,fares:i.fares.map((e=>({id:e.id,price:e.price,fullPrice:e.price,localAreaValidity:e.localAreaValidity,validUntil:e.validUntil,numberOfPassengers:(0,n.xHg)(e.farePassengers.map((e=>{var{passengers:r}=e;return r}))).length})))}})}),{})}var g=(0,o.Z)({[s.kX]:(e,r)=>{var{payload:t}=r;return m(t.localAreaProducts)},[d.rw]:(e,r)=>{var{payload:t}=r;return m(t.localAreaProducts)},[u]:(e,r)=>{var{payload:t}=r;return(0,a.Z)({},t)}},{}),v=(0,i.P1)(c.O,(e=>{var r;return null!==(r=e.localAreaProducts)&&void 0!==r?r:{}}))},56122:(e,r,t)=>{"use strict";t.d(r,{I6:()=>m,Kz:()=>p,NP:()=>v,Sg:()=>u,gl:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(78052),l=e=>"locationSearch/".concat(e),c=l("STORE_SEARCHABLE_LOCATIONS"),d=l("TRACK_LOCATION_SEARCH"),u=(0,o.ul)(d),p=(0,o.ul)(c),m=(0,n.Z)({[c]:(e,r)=>{var{payload:t}=r,n=t.result.map((e=>t.shouldUseRDSv2?e.code:e.id));return(0,a.Z)((0,a.Z)({},e),{},{[t.query]:n})}},{}),g=(0,i.P1)(s.O,(e=>e.locationSearches)),v=(0,i.P1)(((e,r)=>r),g,((e,r)=>r[e]))},92490:(e,r,t)=>{"use strict";t.d(r,{gH:()=>T,I6:()=>C,Yu:()=>A});var a=t(23198),n=t(53066),i=t(14035),o=t(32034),s=t(56775),l=t(47956),c=t(20066),d=t(8129),u=t(74980),p=t(78052),m=t(72750),g=t(5202),v=t(94762),h=t(30272),y=t(12592),f=t(63495),E=t(21298);const b=e=>{var r=Object.keys(e||{}).map((r=>e[r]));return(0,l.Z)(r,"code")};var S="queryLocations/QUERY_LOCATIONS_FETCH_SUCCESS",T=(0,n.Z)(S);var C=(0,i.Z)({[E.WT]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t.data.locations),b(t.data.locations))},[m.ri]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t.data.locations),b(t.data.locations))},[S]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t),b(t))},[h.WT]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),(0,l.Z)(t,"id")),(0,l.Z)(t,"code"))},[f.C6]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),(0,l.Z)(t.result,"id")),(0,l.Z)(t.result,"code"))},[c.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t.locations),b(t.locations))},[u.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t.locations),b(t.locations))},[d.ri]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t.locations),b(t.locations))},[g.lt]:(e,r)=>{var t,{payload:n}=r;return t=function(e){return e.hasOwnProperty("requestedCountry")}(n)?null==n?void 0:n.requestedCountry:null==n?void 0:n.searchLocations,(0,a.Z)((0,a.Z)((0,a.Z)({},e),t&&(0,s.q)(t)),t&&(0,s.q)(t,"code"))},[v.vw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),(0,l.Z)(t.searchLocations,"id")),(0,l.Z)(t.searchLocations,"code"))},[y.hE]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t.requestedCountry&&(0,s.q)(t.requestedCountry)),t.requestedCountry&&(0,s.q)(t.requestedCountry,"code"))}},{}),A=(0,o.P1)(p.O,(e=>e.locations))},27895:(e,r,t)=>{"use strict";t.d(r,{I:()=>l,n:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(74980),s=t(78052),l=(0,n.Z)({[o.rw]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.payload.order.id]:r.payload.order})},{}),c=(0,i.P1)(s.O,(e=>e.orders))},69918:(e,r,t)=>{"use strict";t.d(r,{HS:()=>p,I6:()=>u,Qf:()=>v,hT:()=>m,xU:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=t(72750),d=t(82758),u=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.passengerTypes)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.passengerTypes)},[c.ri]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.data.passengerTypes)}},{}),p=e=>e.reduce(((e,r)=>(e[d.aX.test(r.id)||"child"===r.name.toLowerCase()?"children":"adults"]+=1,e)),{adults:0,children:0}),m=e=>e.reduce(((e,r)=>(e[{adult:"adults",senior:"seniors"}[r.name.toLowerCase()]||"youths"]+=1,e)),{adults:0,seniors:0,youths:0}),g=(0,i.P1)(l.O,(e=>e.passengerTypes)),v=(0,i.P1)(g,((e,r)=>r),((e,r)=>e[r]))},8563:(e,r,t)=>{"use strict";t.d(r,{$s:()=>C,Bp:()=>W,Gv:()=>f,I6:()=>ce,JJ:()=>re,Kv:()=>O,LP:()=>ae,Mc:()=>w,Of:()=>M,QU:()=>E,R3:()=>m,RO:()=>j,Ri:()=>K,TE:()=>Q,Tw:()=>U,UE:()=>S,Up:()=>x,V0:()=>H,Ws:()=>I,X_:()=>V,Y:()=>te,Yg:()=>h,Zt:()=>R,_J:()=>_,_P:()=>v,bP:()=>ne,cS:()=>k,dU:()=>$,ek:()=>g,f2:()=>q,fE:()=>b,gB:()=>ie,hm:()=>D,i_:()=>Z,lU:()=>le,lr:()=>T,mK:()=>ee,my:()=>P,nM:()=>oe,pG:()=>G,sj:()=>B,tF:()=>X,tt:()=>z,u3:()=>p,ve:()=>y,wn:()=>Y,xd:()=>J,yM:()=>de,zI:()=>se});var a=t(23198),n=t(53066),i=t(14035),o=t(87865),s=t(32034),l=t(36592),c=t(74980),d=t(78052),u=e=>"payment/".concat(e),p="paymentWrapper",m="paymentFlow",g=u("PREPARE_NEW_CARD_PAYMENT_V2"),v=u("SUBMIT_CARD_DETAILS"),h=u("DO_PAYPAL_PAYMENT"),y=u("DO_ZERO_CHARGE_PAYMENT"),f=u("DO_ON_ACCOUNT_PAYMENT"),E=u("DO_BUSINESS_CARD_PAYMENT"),b=u("MAKE_PAYMENT_REQUEST"),S=u("SET_PAYMENT"),T=u("PAYMENT_REQUEST_SUCCESS"),C=u("PAYMENT_REQUEST_ERROR"),A=u("SET_PAYMENT_BUTTON_ERROR_STATE"),I=u("VALIDATE_AND_CONFIRM_CARD_PAYMENT_REQUEST"),_=u("CONFIRM_PAYMENT_REQUEST"),P=u("DESTROY_PAYMENT_STATES"),R=u("RESET_PAYMENT_STATES"),k=u("PAYMENT_METHOD_SELECTED"),N=u("PAYMENT_IFRAME_SEEN"),O=u("PREPARE_SAVED_CARD_PAYMENT"),L=u("PAY_WITH_FORM_DATA_CARD"),x=u("SOFORT_DO_PAYMENT"),D=u("SATISPAY_DO_PAYMENT"),w=u("IDEAL_DO_PAYMENT"),Z=u("GOOGLE_PAY_DO_PAYMENT"),F=u("REDIRECT_TO"),B=function(e){return e.AirPlus="AirPlus",e.AmericanExpress="AmericanExpress",e.DinersClub="DinersClub",e.Maestro="Maestro",e.MasterCardCredit="MasterCardCredit",e.MasterCardDebit="MasterCardDebit",e.MasterCard="MasterCard",e.VisaCredit="VisaCredit",e.VisaDebit="VisaDebit",e.Visa="Visa",e.InternationalVisaDebit="InternationalVisaDebit",e.InternationalMasterCardDebit="InternationalMasterCardDebit",e.Unknown="Unknown",e}({}),M=(0,l.ul)(g),U=(0,l.ul)(v),j=(0,l.ul)(h),H=(0,l.RW)(y),W=(0,l.RW)(f),G=(0,l.RW)(E),V=(0,l.ul)(b),Y=((0,l.ul)(S),(0,l.ul)(C)),K=((0,l.ul)(A),(0,l.ul)(T)),z=(0,l.ul)(I),J=(0,l.ul)(_),q=(0,n.Z)(P),Q=(0,l.ul)(R),X=(0,l.ul)(O),$=((0,l.ul)(L),(0,l.ul)(k)),ee=(0,n.Z)(N),re=(0,n.Z)(x),te=(0,n.Z)(D),ae=(0,l.ul)(w),ne=(0,l.ul)(Z),ie=(0,n.Z)(F),oe=(e,r)=>(0,o.setUIState)({id:p,state:{paymentMethod:e,deviceType:r,[m]:{hasNewCardBeenSubmitted:!1}}}),se=e=>(0,o.setUIState)({id:p,state:{[m]:{hasNewCardBeenSubmitted:e}}}),le=(0,s.P1)((e=>e.uiState&&e.uiState.components),(e=>e&&e.paymentWrapper)),ce=((0,s.P1)(le,(e=>e&&e.paymentMethod)),(0,i.Z)({[c.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.order.id]:t.payment})}},{})),de=(0,s.P1)(d.O,(e=>e.payment))},76027:(e,r,t)=>{"use strict";t.d(r,{C:()=>c,I:()=>l});var a=t(23198),n=t(14035),i=t(32034),o=t(74980),s=t(78052),l=(0,n.Z)({[o.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.order.id]:t.paymentDetails})}},{}),c=(0,i.P1)(s.O,(e=>e.paymentDetails))},41719:(e,r,t)=>{"use strict";t.d(r,{I6:()=>E,RG:()=>h,_O:()=>m,_Z:()=>p,a:()=>y,od:()=>v,oo:()=>S,zv:()=>g});var a=t(23198),n=t(82768),i=t(14035),o=t(32034),s=t(36592),l=t(20786),c=t(59962),d=t(78052),u=e=>"paymentOffers/".concat(e),p=u("FETCH_PAYMENT_OFFERS_REQUEST"),m=u("DESERIALISE_PAYMENT_OFFERS_RESPONSE"),g=u("FETCH_PAYMENT_OFFERS_ERROR"),v=(0,s.ul)(p),h=(0,s.ul)(m),y=(0,s.ul)(g),f=(e,r)=>r.paymentOffers&&{currencyCode:r.paymentOffers.currencyCode,offerIds:e[r.basketId]&&e[r.basketId].offerIds?(0,n.jj$)([...e[r.basketId].offerIds,...r.paymentOffers.offerIds]):r.paymentOffers.offerIds,offers:e[r.basketId]&&e[r.basketId].offers?(0,a.Z)((0,a.Z)({},e[r.basketId].offers),r.paymentOffers.offers):r.paymentOffers.offers},E=(0,i.Z)({[c.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:f(e,t)})},[m]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:f(e,t)})}},{}),b=(0,o.P1)(d.O,(e=>e.paymentOffers)),S=(0,o.P1)(b,l.$l,((e,r)=>e&&r?e[r]:void 0))},64472:(e,r,t)=>{"use strict";t.d(r,{HX:()=>A,Hs:()=>R,I6:()=>P,Pi:()=>m,UQ:()=>v,eP:()=>u,eW:()=>T,gA:()=>S,hz:()=>b,jQ:()=>I,jh:()=>E,lT:()=>_,rB:()=>C,y$:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(78052),l=t(8563),c={},d=e=>"paypal/".concat(e),u=d("LOAD_PAYPAL"),p=d("PAYPAL_INSTANCE_CREATED"),m=d("PAYPAL_INSTANCE_CREATION_STARTED"),g=d("PAYPAL_INSTANCE_READY"),v=d("PAYPAL_INSTANCE_ERROR"),h=d("SET_PAYPAL_NONCE"),y=d("SET_PAYPAL_EMAIL"),f=d("SET_PAYPAL_BILLING_ADDRESS"),E=(0,o.ul)(u),b=(0,o.ul)(p),S=(0,o.ul)(m),T=(0,o.ul)(g),C=(0,o.ul)(v),A=(0,o.ul)(h),I=(0,o.ul)(y),_=(0,o.ul)(f),P=(0,n.Z)({[h]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{nonce:t.nonce})},[y]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{email:t.email})},[f]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{billingAddress:t.address})},[p]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{paypalCheckoutInstance:t.instance})},[l.my]:()=>c},c),R=(0,i.P1)(s.O,(e=>e&&e.paypal))},7968:(e,r,t)=>{"use strict";t.d(r,{NR:()=>T,St:()=>v,Vf:()=>S,c:()=>E,d2:()=>g,gM:()=>b,mA:()=>y,sf:()=>h});var a=t(82768),n=t(32034),i=t(71695),o=t(98323),s=t(20786),l=t(99735),c=t(66763),d=t(29148),u=e=>e.localAreaTransportType===o.w.PLUSBUS,p=(0,n.P1)(l.tV,(e=>Object.values(e).filter(u))),m=(e,r,t)=>e.filter((e=>{var{id:a}=e;return r.some((e=>{var{itemIds:r=[]}=e;return r.includes(a)&&t.some((e=>r.includes(e)))}))})),g=(0,n.P1)(p,s.tz,d.Lz,((e,r)=>r),((e,r,t,a)=>{var n=[...r,...t];return m(e,n,a)})),v=(0,n.P1)(p,s.zK,s.tz,d.Lz,((e,r)=>r),((e,r,t,a,n)=>{var i=[...r,...t,...a];return m(e,i,n)})),h=e=>(0,a.xHg)(e.map((e=>{var{fares:r}=e;return r}))),y=(0,n.P1)(p,(e=>e.filter((e=>Boolean(e.basketId))))),f=e=>h(e).reduce(((e,r)=>{var{price:t,numberOfPassengers:a}=r;return{amount:e.amount+t.amount*a,currencyCode:t.currencyCode}}),{amount:0,currencyCode:i.OI.GBP}),E=(0,n.P1)(y,f),b=(0,n.P1)(p,c.Rs,((e,r)=>{if(!r)return[];var t=r.items.map((e=>{var{id:r}=e;return r}));return e.filter((e=>{var{id:r}=e;return t.includes(r)}))})),S=(0,n.P1)(y,b,((e,r)=>[...e,...r])),T=(0,n.P1)(S,f)},5202:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,Qp:()=>l,hJ:()=>d,lt:()=>s});var a=t(14035),n=t(32034),i=t(36592),o=t(78052),s="FETCH_POPULAR_LOCATIONS_SUCCESS",l=(0,i.ul)(s),c=(0,a.Z)({[s]:(e,r)=>{var t,{payload:a}=r;return"searchLocations"in a?a.searchLocations.map((e=>e.code||"")):"requestedCountry"in a&&a.requestedCountry?null===(t=a.requestedCountry)||void 0===t?void 0:t.map((e=>e.id||"")):[]}},[]),d=(0,n.P1)(o.O,(e=>e&&e.popularLocations))},94762:(e,r,t)=>{"use strict";t.d(r,{Bq:()=>d,I6:()=>c,hq:()=>l,vw:()=>s});var a=t(14035),n=t(32034),i=t(36592),o=t(78052),s="FETCH_POPULAR_LOCATIONS_TOC_SUCCESS",l=(0,i.ul)(s),c=(0,a.Z)({[s]:(e,r)=>{var{payload:t}=r;return t.searchLocations?t.searchLocations:[]}},[]),d=(0,n.P1)(o.O,(e=>e&&e.popularLocationsToc))},47374:(e,r,t)=>{"use strict";t.d(r,{I6:()=>E,M8:()=>h,UZ:()=>y,aX:()=>g,f8:()=>v,ou:()=>u,ri:()=>p,ui:()=>m,v0:()=>f,w5:()=>S,zs:()=>d});var a=t(23198),n=t(47320),i=t(14035),o=t(36592),s=t(32034),l=t(78052),c=e=>"addresses/".concat(e),d=c("RETRIEVE_ADDRESSES"),u=c("FETCH_REQUEST"),p=c("FETCH_SUCCESS"),m=c("FETCH_ERROR"),g=e=>(0,n.murmur2)(JSON.stringify(e)).toString(),v=(0,o.ul)(d),h=(0,o.ul)(u),y=(0,o.ul)(p),f=(0,o.ul)(m),E=(0,i.Z)({[p]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.payload.hash]:r.payload.data})},{}),b=(0,s.P1)(l.O,(e=>e.postcodeSearches)),S=(0,s.P1)(b,((e,r)=>r),((e,r)=>e[r]))},24879:(e,r,t)=>{"use strict";t.d(r,{I:()=>c,n:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t,meta:n}=r;return n&&n.mergeProducts?(0,a.Z)((0,a.Z)({},e),t.products):t.products},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.products)}},{}),d=(0,i.P1)(l.O,(e=>e.products))},61866:(e,r,t)=>{"use strict";t.d(r,{$r:()=>y,Fk:()=>h,GI:()=>o,I6:()=>T,Ki:()=>b,N9:()=>S,WB:()=>f,Xl:()=>d,Y:()=>E,_H:()=>v,hx:()=>m,vC:()=>p});var a=t(23198),n=t(14035),i=t(36592),o="REMOVE_FAILED",s=e=>"promoCodes/".concat(e),l=s("FETCH_PROMO_CODE_REQUEST"),c=s("FETCH_PROMO_CODE_COMPLETE"),d=s("REMOVE_PROMO_CODE"),u=s("REMOVE_PROMO_CODE_CLOSED"),p=s("REMOVE_PROMO_CODE_COMPLETE"),m=s("REMOVE_PROMO_CODE_FAILURE"),g=s("SYNC_PROMO_CODE_FROM_COOKIES"),v=(0,i.ul)(l),h=(0,i.ul)(c),y=(0,i.RW)(d),f=(0,i.ul)(p),E=(0,i.RW)(u),b=(0,i.RW)(m),S=(0,i.ul)(g),T=(0,n.Z)({[l]:e=>(0,a.Z)((0,a.Z)({},e),{},{isFetching:!0,lastResponseError:void 0}),[c]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{isFetching:!1,lastResponseError:void 0,details:t})},[d]:e=>(0,a.Z)((0,a.Z)({},e),{},{isFetching:!0,lastResponseError:void 0}),[u]:e=>(0,a.Z)((0,a.Z)({},e),{},{isFetching:!1,lastResponseError:void 0}),[p]:e=>(0,a.Z)((0,a.Z)({},e),{},{isFetching:!1,lastResponseError:void 0,details:void 0}),[m]:e=>(0,a.Z)((0,a.Z)({},e),{},{isFetching:!1,lastResponseError:o}),[g]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{isFetching:!1,lastResponseError:void 0,details:t})}},{isFetching:!1})},30272:(e,r,t)=>{"use strict";t.d(r,{Fb:()=>u,I6:()=>y,Px:()=>p,Vc:()=>v,Vj:()=>h,WT:()=>g,eA:()=>f});var a=t(23198),n=t(84025),i=t.n(n),o=t(53066),s=t(14035),l=t(32034),c=t(79423),d=t(78052),u="recentSearchLocations",p="V2",m="recentLocations/INITIALISE_RECENT_LOCATIONS",g="recentLocations/FETCH_SUCCESS",v=(0,o.Z)(m),h=(0,o.Z)(g),y=(0,s.Z)({[m]:(e,r)=>{var{payload:t}=r;return t},[c.t9]:(e,r)=>{var{payload:t}=r,n=i()().toISOString();return["from","to"].reduce(((e,r)=>{var i=t[r].id,o=t[r].code,s=e[r]&&e[r][o]?e[r][o].count+1:1;return(0,a.Z)((0,a.Z)({},e),{},{[r]:(0,a.Z)((0,a.Z)({},e[r]),{},{[o]:{id:i,code:o,timestamp:n,count:s}})})}),(0,a.Z)({},e))}},{from:{},to:{}}),f=(0,l.P1)(d.O,(e=>e.recentLocations));(0,l.P1)(f,(e=>{var{to:r,from:t}=e;return[...Object.keys(t),...Object.keys(r)]}))},38599:(e,r,t)=>{"use strict";t.d(r,{I:()=>l,p:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(74980),s=t(78052),l=(0,n.Z)({[o.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.order.id]:t.reimbursement})}},{}),c=(0,i.P1)(s.O,(e=>e.reimbursements))},99462:(e,r,t)=>{"use strict";t.d(r,{BS:()=>F,EL:()=>N,HK:()=>_,I6:()=>C,KZ:()=>Y,OH:()=>V,P7:()=>v,S:()=>O,S$:()=>x,Tl:()=>T,Uj:()=>D,Vj:()=>S,YB:()=>y,Zo:()=>G,cy:()=>I,dw:()=>h,e9:()=>f,gk:()=>L,jR:()=>b,nR:()=>z,nS:()=>E,rN:()=>W,rV:()=>Z,yf:()=>w,yz:()=>k});var a=t(23198),n=t(82768),i=t(53066),o=t(14035),s=t(32034),l=t(36592),c=t(69032),d=t(2321),u=t(31521),p=t(78052),m=t(97340),g=e=>"travelOptions/".concat(e),v=g("TRIGGER_FETCH_SEAT_RESERVATIONS"),h=(0,i.Z)(v),y=g("SEAT_RESERVATIONS_REQUEST"),f=(0,l.ul)(y),E=g("SEAT_RESERVATIONS_REQUEST_SUCCESS"),b=g("SEAT_RESERVATIONS_REQUEST_ERROR"),S=(0,l.ul)(E),T=(0,l.ul)(b),C=(0,o.Z)({[d.h8]:(e,r)=>{var{payload:t}=r;return t?(0,a.Z)((0,a.Z)({},e),t.availableReservationOffers):e}},{}),A=(0,s.P1)(p.O,(e=>e.availableReservationOffers)),I=(0,s.P1)(u.SY,A,((e,r)=>e&&r[e.id]||{})),_=(0,s.P1)(u.qK,A,((e,r)=>e.reduce(((e,t)=>{var a=r[t.id];return a&&(e[t.id]=a),e}),{}))),P=(0,s.P1)(_,(e=>{var r=(0,n.d9v)(e);return(e=>{var r=e.some((e=>{var r;return"passenger"===e.name&&e.attributes.some((e=>"dateOfBirth"===e.name))&&0===(null===(r=e.subjects)||void 0===r?void 0:r.length)})),t=e.find((e=>"passenger:dateOfBirth"===e.name));return r&&t?e.filter((e=>"passenger:dateOfBirth"!==e.name)):e})(Object.values(r).reduce(((e,r)=>(r.requirements&&r.requirements.forEach((r=>{var t,n,i,o,s,l=e.find((e=>e.name===r.name&&"card"!==e.name));l?(l.attributes=((e,r)=>{var t,n,i=[];if("passenger:identificationDocument"===e.name&&e.attributes.length&&e.attributes[0].elements&&r.attributes.length&&r.attributes[0].elements){var o=(t=e.attributes[0].elements,n=r.attributes[0].elements,t.filter((e=>n.some((r=>r.id===e.id)))));i=[(0,a.Z)((0,a.Z)({},e.attributes[0]),{},{elements:o})]}else{var s=r.attributes.reduce(((r,t)=>[...r,...e.attributes.find((e=>e.name===t.name))?[]:[t]]),[]);i=[...e.attributes,...s]}return i})(l,r),l.subjects=(n=r,0===(null===(i=(t=l).subjects)||void 0===i?void 0:i.length)||0===(null===(o=n.subjects)||void 0===o?void 0:o.length)?[]:[...null!==(s=t.subjects)&&void 0!==s?s:[],...n.subjects?n.subjects.filter((e=>{var r;return!1===(null===(r=t.subjects)||void 0===r?void 0:r.some((r=>r.id===e.id)))})):[]])):e.push(r)})),e)),[]))})),R=(0,s.P1)(_,(e=>Object.values(e).reduce(((e,r)=>[...e,...r.requirements?r.requirements:[]]),[]))),k=(0,s.P1)(P,(e=>{var r=e.find((e=>"passenger:leadPassenger"===e.name));return r?r.attributes.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.name]:{required:r.isRequired,unique:r.isUnique,minLength:r.minLength,maxLength:r.maxLength,pattern:r.pattern,enum:r.enum}})),{}):void 0})),N=(0,s.P1)(P,(e=>e.filter((e=>"passenger"===e.name||"passenger:dateOfBirth"===e.name)).reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),r.attributes.reduce(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{[t.name]:{required:t.isRequired,unique:t.isUnique,minLength:t.minLength,maxLength:t.maxLength,pattern:t.pattern,enum:t.enum,subjects:r.subjects?r.subjects.map((e=>{var{id:r}=e;return{id:r}})):[]}})),{}))),{}))),O=(0,s.P1)(P,(e=>{var r=e.filter((e=>"card"===e.name&&e.subjects&&e.subjects.length>0));if(r)return r.reduce(((e,r)=>{var t=r.attributes.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.name]:{required:r.isRequired,unique:r.isUnique,minLength:r.minLength,maxLength:r.maxLength,pattern:r.pattern}})),{});return(0,a.Z)((0,a.Z)({},e),r.subjects?r.subjects.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.id]:t})),{}):[])}),{})})),L=(0,s.P1)(P,(e=>{var r=e.find((e=>"passenger:identificationDocument"===e.name)),t=r&&r.attributes.length>0&&r.attributes[0].elements?r.attributes[0].elements.find((e=>"documentType"===e.name)):void 0;return r&&t&&t.elementReferences?t.elementReferences.filter((e=>Boolean(e.name)&&Boolean(e.id))).map((e=>({id:e.id,name:e.name,code:e.code,validationRegex:e.validationRegex,subjects:r.subjects?r.subjects.map((e=>{var{id:r}=e;return{id:r}})):[]}))):void 0})),x=(0,s.P1)(P,(e=>{var r=e.find((e=>"passenger:identificationDocument"===e.name));return null==r?void 0:r.subjects})),D=(0,s.P1)(P,(e=>{var r=e.find((e=>"recipient"===e.name));return r?r.attributes.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.name]:{required:r.isRequired,unique:r.isUnique,minLength:r.minLength,maxLength:r.maxLength,pattern:r.pattern}})),{}):void 0})),w=(0,s.P1)(R,(e=>{var r=e.filter((e=>{var{name:r}=e;return"passenger"===r||"passenger:dateOfBirth"===r})).map((e=>e.attributes.filter((e=>{var{isUnique:r}=e;return r})).map((e=>{var{name:r}=e;return r})))).filter((e=>e.length>0));if(e.some((e=>"passenger:identificationDocument"===e.name&&e.attributes.some((e=>{var{isUnique:r}=e;return r}))))){return[...r,["documentType","documentNumber"]]}return r})),Z=(0,s.P1)(R,(e=>e.some((e=>"passenger:identificationDocument"===e.name)))),F=(0,s.P1)(_,(e=>!(0,n.xbD)(e))),B=(0,s.P1)(_,(e=>Object.keys(e).map((r=>e[r]&&e[r].outward?e[r].outward:{})))),M=(0,s.P1)(_,((e,r)=>r),((e,r)=>Object.keys(e).map((t=>t===r&&e[t]?e[t].outward:{})))),U=(0,s.P1)(_,(e=>Object.keys(e).map((r=>e[r]&&e[r].inward||{})))),j=(0,s.P1)(_,((e,r)=>r),((e,r)=>Object.keys(e).map((t=>t===r&&e[t]&&e[t].inward||{})))),H=(e,r)=>e.reduce(((t,a)=>Object.keys(e).length>0&&(r||"mandatory"===a.reservationType)?t.concat(a.reservationIds):t),[]),W=(0,s.P1)(U,c.Gy,H),G=(0,s.P1)(B,c.qr,H),V=(0,s.P1)(j,c.Gy,H),Y=(0,s.P1)(M,c.qr,H),K=(0,s.P1)((e=>e),((e,r)=>r),((e,r)=>r.reduce(((r,t)=>{var a=(0,m.sD)(e,t.id);return void 0!==a&&r.push(a),r}),[]))),z=(0,s.P1)(K,N,O,k,(e=>e),((e,r,t,a,n)=>!(!e||!e.length||!r&&!t)&&(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(r).every((r=>"req"===r||("dob"===r&&(r="dateOfBirth"),e.some((e=>(e.emptyProperties||[]).every((e=>e!==r)))))))}(e,r)&&function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(r).every((t=>!r[t].number||!r[t].number.required||e.every((e=>(e.railCards||[]).filter((e=>e.id===t)).every((e=>!!e.number))))))}(e,t)&&function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a=Object.keys(r).filter((e=>"phonePattern"!==e));if(0===a.length)return!0;var n=1===e.length?e[0]:void 0;return!!n&&!!a.every((e=>["phoneNumber","title"].includes(e)))&&!!a.every((e=>Object.keys(n).includes(e)))&&t}(e,a,!!n))))},64383:(e,r,t)=>{"use strict";t.d(r,{B$:()=>i,Fr:()=>c,LJ:()=>s,M$:()=>d,Ms:()=>o,Op:()=>u,UJ:()=>l,ed:()=>p});var a=t(36592),n=t(28482),i="RESULTS_PAGE_RENDERED",o=(0,n.e)("ALTERNATIVE_SELECTED"),s=(0,a.RW)("EXPIRED_SEARCH_MODAL_OPENED"),l=(0,a.RW)("EXPIRED_SEARCH_MODAL_CLOSED"),c=(0,a.ul)("TRIGGER_JOURNEY_SUMMARY_ANALYTICS"),d=(0,a.ul)(i),u=(0,a.ul)(o),p=(0,a.RW)("RETURN_FARES_OFFSCREEN")},72428:(e,r,t)=>{"use strict";t.d(r,{DS:()=>u,Eo:()=>l,I6:()=>S,Jd:()=>p,Tl:()=>h,Vj:()=>v,WT:()=>c,Xg:()=>E,cR:()=>d,nv:()=>T,t5:()=>g,ug:()=>y,xc:()=>f});var a=t(14035),n=t(32034),i=t(36592),o=t(78052),s=e=>"routePricingDataSearch/".concat(e),l=s("FETCH_REQUEST"),c=s("FETCH_SUCCESS"),d=s("FETCH_ERROR"),u=s("LOW_PRICE_TRIGGER_JOURNEY_SEARCH"),p=s("UPDATE_JSF_AND_TRIGGER_LOW_PRICE_JOURNEY_SEARCH"),m="RESET_ROUTE_PRICING_DATA_STATE",g=(0,i.ul)(l),v=(0,i.ul)(c),h=(0,i.ul)(d),y=(0,i.RW)(m),f=(0,i.ul)(p),E=(0,i.RW)(u),b=[],S=(0,a.Z)({[c]:(e,r)=>{var{payload:t}=r;return[...t.data]},[m]:()=>b},b),T=(0,n.P1)(o.O,(e=>e.routePricingDataSearchResult));(0,n.P1)(T,(e=>Boolean(e&&e.length)))},67909:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,Jc:()=>p,dl:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=t(72750),d=(0,n.Z)({[c.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.routeRestrictions),[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.routeRestrictions)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.routeRestrictions)}},{}),u=(0,i.P1)(l.O,(e=>e.routeRestrictions)),p=(0,i.P1)(u,((e,r)=>r),((e,r)=>e[r]))},2328:(e,r,t)=>{"use strict";t.d(r,{CL:()=>S,El:()=>b,Eo:()=>T,I6:()=>u,R6:()=>h,Se:()=>v,lE:()=>g,q0:()=>y});var a=t(23198),n=t(82768),i=t(14035),o=t(32034),s=t(2321),l=t(68760),c=t(59962),d=t(78052),u=(0,i.Z)({[c.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.savedAddresses)},[s.h8]:(e,r)=>{var{payload:t}=r;return t.savedAddresses?(0,a.Z)((0,a.Z)({},e),t.savedAddresses):e}},{}),p=(0,o.P1)(d.O,(e=>e.savedAddresses)),m=(0,o.P1)(p,(e=>(0,n.VO0)(e)[0])),g=(0,o.P1)(m,(e=>(0,n.VO0)(e))),v=(0,o.P1)(g,(e=>e.filter((e=>!e.isInternationalAddress)))),h=(0,o.P1)(g,(e=>e.filter((e=>e.isInternationalAddress)))),y=(0,o.P1)(v,(e=>e.find((e=>e.isLastUsedDelivery)))),f=(0,o.P1)(h,(e=>e.map((e=>e.nickname)))),E=(0,o.P1)(v,(e=>e.map((e=>e.nickname)))),b=(0,o.P1)(f,(e=>e.length>0)),S=(0,o.P1)(E,(e=>e.length>0)),T=(0,o.P1)(g,((e,r)=>r),((e,r)=>e.find((e=>e.id===r))));(0,o.P1)(p,l.c4,((e,r)=>e[r]))},6485:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,VX:()=>u,zp:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(68760),s=t(59962),l=t(78052),c=(0,n.Z)({[s.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.customer.id]:t.savedCreditCards})}},{}),d=(0,i.P1)(l.O,(e=>e.savedCreditCards)),u=(0,i.P1)(d,o.c4,((e,r)=>e&&r?e[r]:void 0)),p=(0,i.P1)(u,((e,r)=>r),((e,r)=>e&&e[r]))},97340:(e,r,t)=>{"use strict";t.d(r,{I6:()=>v,QU:()=>p,UL:()=>g,XO:()=>S,cY:()=>y,cj:()=>m,dT:()=>f,jt:()=>d,nr:()=>b,oj:()=>u,sD:()=>E});var a=t(23198),n=t(14035),i=t(32034),o=t(59838),s=t(29433),l=t(20066),c=t(78052),d="UPDATE_SAVED_PASSENGERS",u="REMOVE_TRAVEL_DOCUMENTS_ON_SAVED_PASSENGERS",p="UPDATE_SAVED_PASSENGER",m="DELETE_PASSENGER",g="DELETE_TRAVEL_DOCUMENTS",v=(0,n.Z)({[l.kX]:(e,r)=>{var{payload:{savedPassengers:t={}}}=r;return Object.entries(t).reduce(((e,r)=>{var[t,n]=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:(0,a.Z)((0,a.Z)({},n),{},{isSavedPassenger:!0})})}),{})},[u]:(e,r)=>{var t,{payload:{passengerId:n=""}}=r,i=e,o=i[n];return null==o||delete o.travelDocument,null==o||null===(t=o.emptyProperties)||void 0===t||t.push("documentNumber","documentType"),Object.entries(i).reduce(((e,r)=>{var[t,n]=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:(0,a.Z)((0,a.Z)({},n),{},{isSavedPassenger:!0})})}),{})},[d]:(e,r)=>{var{payload:{savedPassengers:t={}}}=r;return Object.entries(t).reduce(((e,r)=>{var[t,n]=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:(0,a.Z)((0,a.Z)({},n),{},{isSavedPassenger:!0})})}),{})}},{}),h={},y=(0,i.P1)(s.yo,c.O,((e,r)=>e&&r.savedPassengers||h)),f=(0,i.P1)(y,(e=>Object.values(e).filter(o.v))),E=(0,i.P1)(y,((e,r)=>r),((e,r)=>r&&e[r]?e[r]:void 0)),b=(0,i.P1)(E,(e=>e&&e.railCards||[])),S=(0,i.P1)(f,(e=>e.find((e=>{var{isAccountHolder:r}=e;return!0===r}))))},63495:(e,r,t)=>{"use strict";t.d(r,{C6:()=>l,GL:()=>u,I6:()=>p,jZ:()=>m,uH:()=>c});var a=t(23198),n=t(53066),i=t(14035),o=t(32034),s=t(78052),l="locationSearch/SEARCHABLE_LOCATIONS_FETCH_SUCCESS",c=(0,n.Z)(l),d="locationSearch/SET_SEARCHABLE_LOCATIONS_FROM_STORE",u=(0,n.Z)(d),p=(0,i.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.stationField]:t.result.map((e=>e.code))})},[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.stationField]:t.stored})}},{from:[],to:[],viaAvoidStation:[]}),m=(0,o.P1)(s.O,(e=>{var r;return null!==(r=e.searchableLocations)&&void 0!==r?r:{}}))},77264:(e,r,t)=>{"use strict";t.d(r,{BR:()=>y,DD:()=>A,DI:()=>I,Hw:()=>P,I:()=>v,I6:()=>p,J2:()=>h,KP:()=>x,N4:()=>L,SV:()=>O,r5:()=>D,t9:()=>w});var a=t(23198),n=t(14035),i=t(32034),o=t(59838),s=t(2321),l=t(31521),c=t(69032),d=t(78052),u=t(99462),p=(0,n.Z)({[s.h8]:(e,r)=>{var{payload:t}=r;return t?(0,a.Z)((0,a.Z)({},e),t.availableSeatPreferences):e}},{}),m=(0,i.P1)(d.O,(e=>e.availableSeatPreferences)),g=(0,i.P1)(l.SY,d.O,((e,r)=>e&&r.availableSeatPreferences&&r.availableSeatPreferences[e.id])),v=(0,i.P1)(l.qK,d.O,((e,r)=>e.map((e=>r.availableSeatPreferences&&r.availableSeatPreferences[e.id])).filter(o.v))),h=(0,i.P1)(l.qK,m,((e,r)=>e&&r&&e.reduce(((e,t)=>(t&&(e[t.id]=r[t.id]),e)),{}))),y=(0,i.P1)(g,(e=>e&&e.seatPreferencesGroups&&e.seatPreferencesGroups[0])),f=(0,i.P1)(y,(e=>e?e.id:"")),E=(0,i.P1)(y,(e=>e&&e.facilities)),b=(0,i.P1)(y,(e=>e&&e.direction)),S=(0,i.P1)(y,(e=>e&&e.position)),T=(0,i.P1)(y,(e=>e&&e.carriageType)),C=((0,i.P1)(y,(e=>e&&e.deck)),(0,i.P1)(y,(e=>e&&e.seatType)),e=>(0,i.P1)(y,c.R_,((r,t)=>{if(r&&r[e]&&t&&t[e])return r[e].reduce(((r,a)=>r||(a.name.toLowerCase()===t[e].toLowerCase()?a.id:void 0)),void 0)}))),A=(0,i.P1)(u.Zo,u.rN,f,C("direction"),C("position"),C("carriageType"),C("seatType"),C("deck"),(0,i.P1)(E,c.R_,((e,r)=>{var t=r.facilities;if(e&&t)return t.map((r=>{var t=e.find((e=>e.name.toLowerCase()===r.name.toLowerCase()));return t&&!0===r.value?t.id:void 0})).filter((e=>!!e))})),((e,r,t,a,n,i,o,s,l)=>{if(!(!e.length&&!r.length)){var c={seatPreferenceGroup:t};if(a&&(c.direction=a),n&&(c.position=n),i&&(c.carriageType=i),o&&(c.seatType=o),s&&(c.deck=s),l&&l.length>0&&(c.facilities=l),1!==Object.keys(c).length)return[c]}})),I=(0,i.P1)(A,h,((e,r)=>r),((e,r,t)=>{var a=r[t.id];if(e&&a&&a.seatPreferencesGroups)return e.filter((e=>a.seatPreferencesGroups.find((r=>r.id===e.seatPreferenceGroup))))})),_=(0,i.P1)(l.SY,(e=>{var r;return e?null==e||null===(r=e.seatPreferenceSelections)||void 0===r?void 0:r[0]:void 0})),P=(0,i.P1)(l.SY,(e=>e&&e.seatPreferenceSelections)),R=(0,i.P1)(_,(e=>e&&e.position&&e.position.id)),k=(0,i.P1)(_,(e=>e&&e.direction&&e.direction.id)),N=(0,i.P1)(_,(e=>e&&e.carriageType&&e.carriageType.id)),O=(0,i.P1)(y,_,((e,r)=>r&&r.facilities?e&&e.facilities&&e.facilities.map((e=>({name:e.name,value:!!(r.facilities||[]).find((r=>r.id===e.id))}))):e&&e.facilities&&e.facilities.map((e=>({name:e.name,value:!1}))))),L=(e,r,t)=>{if(t){var a=e&&t.length>0&&e.find((e=>t.includes(e.id)));return a?a.name:void 0}var n=e&&r&&e.find((e=>e.id===r));return n&&n.name},x=(0,i.P1)(T,N,L),D=(0,i.P1)(b,k,L),w=(0,i.P1)(S,R,L)},94032:(e,r,t)=>{"use strict";t.d(r,{KD:()=>b,OD:()=>I,ZT:()=>A,bO:()=>_,cM:()=>ue,gM:()=>me,jV:()=>Y,k3:()=>f,kX:()=>P,z:()=>pe});var a=t(23198),n=t(84025),i=t.n(n),o=t(32034),s=t(64169),l=t(94957),c=t(60054),d=t(31521),u=t(70604),p=t(45408),m=t(10326),g=t(16362),v=t(29728),h=t(77264),y=t(82768),f=e=>l.C.some((r=>e[r]&&e[r].length)),E=(e,r,t)=>{var a,n,i,o=(0,y.jj$)((0,y.xHg)([e,r].map((e=>{var r,t;return null!==(r=null===(t=e.legs)||void 0===t?void 0:t.map((e=>e.id)))&&void 0!==r?r:[]}))));return a=e,n=r,i=!0,l.C.forEach((e=>{a[e]||(a[e]=[]),n[e]||(n[e]=[]),a[e].length===n[e].length?a[e].length>0&&!a[e].every(((r,t)=>r.id===n[e][t].id))&&(i=!1):i=!1})),i&&((e,r)=>Object.values(e).every((e=>{var t,a;return null===(t=null==e||null===(a=e.extras)||void 0===a?void 0:a.every((e=>{var t=new Set(e.legs.map((e=>e.id))),a=!0;if(0===r.length)return!1;for(var n of r)if(!t.has(n)){a=!1;break}return a})))||void 0===t||t})))(t,o)},b=(e,r)=>e.reduce(((e,t,n)=>{if(0===n)e.push((0,a.Z)((0,a.Z)({},t),{},{mergedIds:[]}));else{var i=e[e.length-1];E(t,i,r)?(i.legs&&t.legs&&(i.legs=i.legs.concat(t.legs)),i.mergedIds.push(t.id)):e.push((0,a.Z)((0,a.Z)({},t),{},{mergedIds:[]}))}return e}),[]),S=(0,o.P1)(c.Gf,c.v2,((e,r)=>r),((e,r,t)=>[e,r].map((e=>t.filter((r=>r.legs&&r.legs.map((e=>e.id)).some((r=>e.includes(r))))))).reduce(((e,r)=>e.concat((e=>{var r=e.filter(f).length;if(1===e.length||0===r||r>1)return e;var t=e.findIndex((e=>l.C.some((r=>e[r]&&e[r].length)))),n=(0,a.Z)({},e[t]),o=[...e];o.splice(t,1);var s=o.reduce(((e,r)=>r.legs?e.concat(r.legs):e),[]),c=s.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.id]:!0})),{}),d=n.legs.concat(s).sort(((e,r)=>i()(e.localDepartAt).diff(i()(r.localDepartAt))));return[(0,a.Z)((0,a.Z)({},n),{},{legs:d,legsWithoutAvailableSeatPreferences:c})]})(r))),[]))),T=(0,o.P1)(h.I,((e,r)=>r.mergeSeatPreferencesGroups),(e=>e),((e,r,t)=>e.reduce(((e,a)=>a.seatPreferencesGroups?e.concat(r?S(t,a.seatPreferencesGroups):a.seatPreferencesGroups):e),[]))),C=(e,r)=>r&&e&&r.filter((r=>r.legs&&r.legs.map((e=>e.id)).some((r=>e.includes(r))))).sort(((e,r)=>i()(e.legs[0].localDepartAt).diff(i()(r.legs[0].localDepartAt)))),A=(0,o.P1)(c.Gf,T,C),I=(0,o.P1)(c.v2,T,C),_=(0,o.P1)(h.J2,(e=>e&&0!==Object.values(e).map((e=>e&&e.seatPreferencesGroups&&e.seatPreferencesGroups.some((e=>f(e))))).filter(Boolean).length)),P=(0,o.P1)(_,v.Ez,((e,r)=>!e&&!r)),R=(0,o.P1)((e=>T(e,{mergeSeatPreferencesGroups:!1})),((e,r)=>r.seatPreferencesGroupId),((e,r)=>e&&e.find((e=>e.id===r)))),k=(0,o.P1)(R,(e=>e&&e.facilities)),N=(0,o.P1)(R,(e=>e&&e.direction)),O=(0,o.P1)(R,(e=>e&&e.position)),L=(0,o.P1)(R,(e=>e&&e.carriageType)),x=(0,o.P1)(R,(e=>e&&e.deck)),D=(0,o.P1)(R,(e=>e&&e.seatSelection)),w=(0,o.P1)(R,(e=>e&&e.seatType)),Z=(e,r)=>{var t=e&&r&&e.find((e=>e.name.toLowerCase()===r.toLowerCase()));return t&&t.id},F=(0,o.P1)(w,m.ur,Z),B=(0,o.P1)(L,m.ob,Z),M=(0,o.P1)(N,m.b3,Z),U=(0,o.P1)(O,m.AW,Z),j=(0,o.P1)(x,m.MY,Z),H=(0,o.P1)(D,m.Vt,Z),W=(0,o.P1)(k,m.Pv,((e,r)=>e&&r&&r.map((r=>{var t=e.find((e=>e.name.toLowerCase()===r.name.toLowerCase()));return t?t.id:void 0})).filter((e=>!!e)))),G=(0,o.P1)(((e,r)=>r.seatPreferencesGroupId),M,F,B,j,U,W,H,m.xZ,m.T0,m.JC,((e,r,t,n,i,o,s,l,c,d,u)=>(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({seatPreferenceGroup:e},!l&&{direction:r}),!l&&{seatType:t}),!l&&{carriageType:n}),!l&&{deck:i}),!l&&{position:o}),!l&&{passengers:c}),!l&&{requestedSeats:d}),u&&{seatSelection:l}),{},{requestedNearSeat:u},l?{facilities:[]}:{facilities:s}))),V=(0,o.P1)(m.Lo,(e=>e),((e,r)=>e.map((e=>G(r,{seatPreferencesGroupId:e.id}))))),Y=(0,o.P1)(V,h.J2,((e,r)=>r),((e,r,t)=>{var a=r[t.id];return a&&a.seatPreferencesGroups?(0,u.IY)(e.filter((e=>a.seatPreferencesGroups.find((r=>r.id===e.seatPreferenceGroup))))):[]})),K=(0,o.P1)(h.Hw,((e,r)=>r.seatPreferencesGroupId),((e,r)=>e&&e.find((e=>e.seatPreferenceGroup===r)))),z=e=>r=>r&&r[e]&&r[e].id,J=(0,o.P1)(K,z("position")),q=(0,o.P1)(K,z("seatType")),Q=(0,o.P1)(K,z("deck")),X=(0,o.P1)(K,z("direction")),$=(0,o.P1)(K,z("carriageType")),ee=((0,o.P1)(K,(e=>e&&e.facilities)),e=>(r,t)=>{if(t.useLocalStorage){var a=s.I_.getItem(p.wm)||{};return a[e]?a[e]:void 0}}),re=(0,o.P1)(w,q,ee("seatType"),h.N4),te=(0,o.P1)(L,$,h.N4),ae=(0,o.P1)(N,X,ee("direction"),h.N4),ne=(0,o.P1)(O,J,ee("position"),h.N4),ie=(0,o.P1)(x,Q,h.N4),oe=(0,o.P1)(k,(e=>e&&e.map((e=>({name:e.name,value:!1}))))),se=(0,o.P1)(((e,r)=>r.seatPreferencesGroupId),ne,ae,re,ie,te,oe,((e,r,t,a,n,i,o)=>({id:e,position:r,direction:t,seatType:a,deck:n,carriageType:i,facilities:o}))),le=(e,r,t)=>t&&t.length>0&&t.map((t=>{var{id:a}=t;return se(e,{useLocalStorage:r,seatPreferencesGroupId:a})}))||void 0,ce=(0,o.P1)((e=>e),((e,r)=>r.useLocalStorage),A,le),de=(0,o.P1)((e=>e),((e,r)=>r.useLocalStorage),I,le),ue=((0,o.P1)(ce,de,((e,r)=>[e,r])),(0,o.P1)(ce,de,m.f2,m.Cp,(function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{outward:t.length?t:e,inward:a.length?a:r}}))),pe=(0,o.P1)((e=>e),d.qK,((e,r)=>{var t={},a=function(){var r=Y(e,n);if(r.length!==n.outwardJourneyPlan.legs.length)return"continue";n.outwardJourneyPlan.legs.forEach(((a,n)=>{var i=(0,g.mj)(e,a.carrier&&a.carrier.id);i&&(t[i]=t[i]?[...t[i],r[n]]:[r[n]])}))};for(var n of r)a();return t})),me=(0,o.P1)((e=>e),((e,r)=>r),((e,r)=>Y(e,r).reduce(((e,r)=>{if(e)return!0;for(var[t,a]of Object.entries(r))if("seatPreferenceGroup"!==t){if(Array.isArray(a)&&a.length>0)return!0;if(void 0!==a&&"string"==typeof a)return!0}return!1}),!1)))},89390:(e,r,t)=>{"use strict";t.d(r,{BA:()=>u,I6:()=>g,gf:()=>m,kc:()=>h,l0:()=>v});var a=t(23198),n=t(14035),i=t(32034),o=t(29430),s=t(7256),l=t(36592),c=t(78052),d="RESET_SEATS_SELECTION",u=(0,l.PH)(d),p="UPDATE_SEATS_SELECTION",m=(0,l.ul)(p),g=(0,n.Z)({[d]:()=>({}),[p]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.legId]:t.seatsSelection})}},{}),v=(0,i.P1)(c.O,((e,r)=>r),((e,r)=>e.seatmapSelection[r]||[])),h=(0,i.P1)(v,s.EI,((e,r)=>(0,o.S)(e,r)))},21298:(e,r,t)=>{"use strict";t.d(r,{EC:()=>u,Eo:()=>p,I6:()=>T,M8:()=>y,Tk:()=>f,UC:()=>S,UZ:()=>E,WT:()=>g,cR:()=>v,iQ:()=>c,v0:()=>b,wU:()=>h});var a=t(23198),n=t(47320),i=t(14035),o=t(32034),s=t(36592),l=t(78052),c=(e,r)=>(0,n.murmur2)(JSON.stringify({service:e,date:r})).toString(),d=e=>"callingPoints/".concat(e),u=d("ENSURE"),p=d("FETCH_REQUEST"),m=d("FETCH_SKIPPED"),g=d("FETCH_SUCCESS"),v=d("FETCH_ERROR"),h=(0,s.ul)(u),y=(0,s.ul)(p),f=(0,s.ul)(m),E=(0,s.ul)(g),b=(0,s.ul)(v),S=(0,o.P1)(l.O,(e=>e.serviceCallingPoints)),T=(0,i.Z)({[g]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:t.data.service})}},{})},70932:(e,r,t)=>{"use strict";t.d(r,{I6:()=>m,JH:()=>u,ZC:()=>c,nR:()=>v,nu:()=>p});var a=t(23198),n=t(53066),i=t(14035),o=t(32034),s=t(36592),l=t(78052),c="SKIP_PASSENGER_DETAILS",d="SHOULD_SKIP_PASSENGER_DETAILS",u=(0,n.Z)(c),p=(0,s.ul)(d),m=(0,i.Z)({[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{shouldSkipPassengerDetails:t.skipPassengerDetails})}},{}),g=(0,o.P1)(l.O,(e=>e.skipPassengerDetails||{})),v=(0,o.P1)(g,(e=>!!e&&Boolean(e.shouldSkipPassengerDetails)))},6159:(e,r,t)=>{"use strict";t.d(r,{I5:()=>p,I6:()=>c,lf:()=>u,mC:()=>v,p4:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(94957),s=t(2321),l=t(78052),c=(0,n.Z)({[s.h8]:(e,r)=>{var t,{payload:n}=r,i=null===(t=n.smartCards)||void 0===t?void 0:t.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.Id]:r})),{});return i?(0,a.Z)((0,a.Z)({},e),i):e}},{}),d=(0,i.P1)(l.O,(e=>e.smartCards?e.smartCards:void 0)),u=(0,i.P1)(d,(e=>e&&Object.values(e).filter((e=>(null==e?void 0:e.Status)===o.V.DELETED)).map((e=>({id:null==e?void 0:e.Id,Isrn:null==e?void 0:e.Isrn,IsDefault:null==e?void 0:e.IsDefault,Alias:null==e?void 0:e.Alias,Status:null==e?void 0:e.Status,value:null==e?void 0:e.Id}))))),p=(0,i.P1)(d,(e=>e&&Object.values(e).filter((e=>(null==e?void 0:e.Status)===o.V.ACTIVE)).map((e=>({id:null==e?void 0:e.Id,Isrn:null==e?void 0:e.Isrn,IsDefault:null==e?void 0:e.IsDefault,Alias:null==e?void 0:e.Alias,Status:null==e?void 0:e.Status,value:null==e?void 0:e.Id}))))),m=(0,i.P1)(d,(e=>e&&Object.values(e).filter((e=>"Active"===(null==e?void 0:e.Status))).map((e=>({id:null==e?void 0:e.Id,Isrn:null==e?void 0:e.Isrn,IsDefault:null==e?void 0:e.IsDefault,Alias:null==e?void 0:e.Alias,Status:null==e?void 0:e.Status,text:"Ending with ".concat(null==e?void 0:e.Isrn.slice(-4)),value:(null==e?void 0:e.Id)||"",priority:null!=e&&e.IsDefault?1:0}))))),g=(0,i.P1)(m,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=e.findIndex((e=>1===e.priority));if(e.length>0&&r>-1){var t=e.slice(r,r+1);e.splice(r,1),e=[...t,...e]}return e})),v=(0,i.P1)(g,(function(){var e,r,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 1===(null===(e=t[0])||void 0===e?void 0:e.priority)?null===(r=t[0])||void 0===r?void 0:r.value:void 0}))},45476:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,nE:()=>m,xb:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(51282),s=t(2321),l=t(78052),c=(0,n.Z)({[s.gr]:(e,r)=>{var{payload:t}=r,n=t.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.id]:r})),{});return n?(0,a.Z)((0,a.Z)({},e),n):e}},{}),d=(0,i.P1)(l.O,(e=>e.smartCollectionLocations?e.smartCollectionLocations:void 0)),u=(0,i.P1)(d,(e=>e&&Object.values(e).map((e=>({text:(null==e?void 0:e.name)||"",value:(null==e?void 0:e.code)||""}))))),p=(0,i.P1)(u,o.Qt,(function(){var e=arguments.length>1?arguments[1]:void 0,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{text:"",value:""}]).sort(((e,r)=>e.text>r.text?1:r.text>e.text?-1:0)),t=r.filter((r=>r.text.toLowerCase()===e.toLowerCase()));return t.length>0?[...new Set([...t,...r])]:[{text:"select any station",value:""},...r]})),m=(0,i.P1)(p,o.Qt,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return e[0].text.toLowerCase()===r.toLowerCase()?e[0].value:void 0}))},6105:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,I7:()=>p,l$:()=>g,tx:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(8129),l=t(74980),c=t(78052),d=t(72750),u=(0,n.Z)({[d.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),r.payload.data.transportModes||{}),[s.ri]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.transportModes)},[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.transportModes)},[l.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.transportModes)}},{}),p=(0,i.P1)(c.O,(e=>e.transportModes)),m=(e,r)=>{var t=r&&e[r.transportModeEntity.id];return t&&t.mode||""},g=((0,i.P1)(p,((e,r)=>{var{leg:t}=r;return t}),m),(0,i.P1)(p,((e,r)=>r),((e,r)=>r&&e[r]&&e[r].name)))},72206:(e,r,t)=>{"use strict";t.d(r,{Cz:()=>g,H2:()=>d,I6:()=>h,Iy:()=>m,Sj:()=>v,V8:()=>f,qx:()=>u,tS:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(20066),l=t(78052),c=e=>"travelCard/".concat(e),d=c("FETCH_TRAVELCARD_BY_ID"),u=c("FETCH_TRAVELCARD_ERROR"),p=c("DESERIALISE_TRAVELCARD_BY_ID"),m=(0,o.ul)(p),g=(0,o.ul)(d),v=(0,o.ul)(u),h=(0,n.Z)({[s.kX]:(e,r)=>{var{payload:t}=r,n=Object.values(t.savedPassengers).reduce(((e,r)=>{var t;return null==r||null===(t=r.railCards)||void 0===t||t.forEach((r=>{e[r.id]={id:r.id,cardTypeId:r.cardType,attributes:{number:r.number,validityStart:r.validityStart,validityEnd:r.validityEnd,points:r.points,statusPoints:r.statusPoints},locations:{origin:r.origin,via:r.via,destination:r.destination}}})),e}),{});return(0,a.Z)((0,a.Z)({},e),n)},[p]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.id]:t})}},{}),y=(0,i.P1)(l.O,(e=>{var r;return null!==(r=e.travelCards)&&void 0!==r?r:{}})),f=(0,i.P1)(y,((e,r)=>r),((e,r)=>e&&e[r]))},9410:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,K7:()=>u,Vx:()=>d,e8:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(20066),s=t(74980),l=t(78052),c=(0,n.Z)({[o.kX]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.travelClasses)},[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.travelClasses)}},{}),d=(0,i.P1)(l.O,(e=>e.travelClasses)),u=(0,i.P1)(d,((e,r)=>r),((e,r)=>e[r])),p=e=>"first"===(e&&e.name&&e.name.toLowerCase())},49987:(e,r,t)=>{"use strict";t.d(r,{DK:()=>k,Eo:()=>S,HG:()=>N,Hz:()=>x,I6:()=>O,UZ:()=>I,WT:()=>T,cR:()=>C,eE:()=>R,fK:()=>P,fc:()=>E,jf:()=>D,t5:()=>A,v0:()=>_,xv:()=>L});var a=t(23198),n=t(84025),i=t.n(n),o=t(47320),s=t(14035),l=t(32034),c=t(4794),d=t(51059),u=t(31521),p=t(42769),m=t(36592),g=t(78052),v=t(29433),h=t(16362),y=t(87974),f=t(81153),E=(e,r)=>(0,o.murmur2)(JSON.stringify({timetableId:e,departAt:r})).toString(),b=e=>"travel-service-information/".concat(e),S=b("FETCH_REQUEST"),T=b("FETCH_SUCCESS"),C=b("FETCH_ERROR"),A=(0,m.ul)(S),I=(0,m.ul)(T),_=(0,m.ul)(C),P=(0,l.P1)(g.O,(e=>e.travelServiceInformation)),R=(e,r,t,a,n)=>{if(!t)return[void 0,void 0];if(!a||!n)return[void 0,void 0];var i=t.callingPoints||[];if(!i.length)return[void 0,void 0];var o=(e,r)=>{for(var t=[],a=0;a<e.length;a++)r(e[a])&&t.push(a);return t},s=o(i,(e=>e.location.name===a)),l=o(i,(e=>e.location.name===n)),c=s.filter((r=>!(!i[r]||void 0===i[r].departure)&&(i[r].departure.schedule&&i[r].departure.schedule.time&&i[r].departure.schedule.time===e))),d=l.filter((e=>!(!i[e]||void 0===i[e].arrival)&&(i[e].arrival.schedule&&i[e].arrival.schedule.time&&i[e].arrival.schedule.time===r)));return s&&l?[c[0]||s[0],d[0]||l[0]]:[void 0,void 0]},k=e=>{var r;return Boolean((null===(r=e.legs)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.localDepartAt)&&i()(e.legs[0].localDepartAt).isBefore(i()().add(24,"hours")))},N=(0,l.P1)(d.$b,u.c7,c.S9,((e,r,t)=>t===p.L1.checkout()?!r:!e)),O=(0,s.Z)({[C]:()=>[],[T]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t.data)}},{}),L=(0,l.P1)(v.lD,N,f.eA,d.HQ,((e,r,t,a)=>Boolean(e&&(r||t&&a)))),x=(0,l.P1)(L,((e,r)=>(e=>e.legs.some((e=>(0,y.zE)(e.carrierUrn))))(r)),((e,r)=>k(r)),((e,r,t)=>Boolean(e&&r&&t))),D=(0,l.P1)(h.GR,((e,r)=>r),((e,r,t)=>t),((e,r,t)=>(0,y.oT)(r,t).map((r=>{var t;return r.carrier=(null===(t=Object.values(e).find((e=>Boolean((null==e?void 0:e.name)===r.carrier))))||void 0===t?void 0:t.code)||"",r}))))},58780:(e,r,t)=>{"use strict";t.d(r,{I6:()=>o,IM:()=>s});var a=t(14035),n=t(32034),i={country:void 0},o=(0,a.Z)({},i),s=(0,n.P1)((e=>e.entities.userPublicInfo),(e=>e&&e.country?e.country:""))},3202:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,fJ:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=function(e){return e.GB_WEB_LOYALTY="GB_WEB_LOYALTY",e.NO_WEB_LOYALTY="NO_WEB_LOYALTY",e}({}),s=t(74980),l=t(78052),c={scheme:o.NO_WEB_LOYALTY},d=(0,n.Z)({[s.rw]:(e,r)=>{var{payload:t}=r;return(0,a.Z)({},t.webLoyalty)}},c),u=(0,i.P1)(l.O,(e=>e.webLoyalty)),p=(0,i.P1)(u,(e=>e?e.scheme:o.NO_WEB_LOYALTY)),m=(0,i.P1)(p,(e=>e!==o.NO_WEB_LOYALTY))},54859:(e,r,t)=>{"use strict";t.d(r,{I:()=>o,Z:()=>s});var a=t(14035),n=t(32034),i=t(59481),o=(0,a.Z)({},!1),s=(0,n.P1)(i.Jv,(e=>!!e.asyncPaymentError))},73402:(e,r,t)=>{"use strict";t.d(r,{I:()=>s,O:()=>l});var a=t(14035),n=t(32034),i=t(20066),o=t(59481),s=(0,a.Z)({[i.kX]:(e,r)=>{var{payload:t}=r;return Boolean(t.conversionApplied)}},!1),l=(0,n.P1)(o.Jv,(e=>e.basketPriceConversionApplied))},81695:(e,r,t)=>{"use strict";t.d(r,{$1:()=>d,I6:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(7809),s=t(47514),l=t(59481),c=(0,n.Z)({[s.zc]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.key]:{loadDetails:(0,o.cM)()}})},[s.fN]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.key]:{loadDetails:(0,o.Gs)()}})},[s.S_]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.key]:{loadDetails:(0,o._R)()}})}},{}),d=(0,i.P1)(l.Jv,(e=>e.basketPrices))},9635:(e,r,t)=>{"use strict";t.d(r,{I6:()=>v,SU:()=>T,YL:()=>S,oO:()=>b,rm:()=>h,vi:()=>y});var a=t(23198),n=t(14035),i=t(32034),o=t(60654),s=t(7809),l=t(36592),c=t(20066),d=t(20786),u=t(66763),p=t(59481),m="BASKET_PRODUCT_TOGGLE_FETCH_SUCCESS",g="BASKET_PRODUCT_TOGGLE_FETCH_ERROR",v=(0,n.Z)({[u.N5]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketItemIds.join("-")]:{loadDetails:(0,s.cM)()}})},[m]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketItemIds.join("-")]:{loadDetails:(0,s.Gs)()}})},[g]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketItemIds.join("-")]:{loadDetails:(0,s._R)(t.error)}})},[c.kX]:(e,r)=>{var t,{payload:n}=r;if(null!==(t=n.meta)&&void 0!==t&&null!==(t=t.warnings)&&void 0!==t&&t.length){var i,s=[...n.primary.items.length?[n.primary.id]:[],...n.temp.items.length?[n.temp.id]:[],...null!==(i=n.passive)&&void 0!==i&&i.items.length?[n.passive.id]:[]],l=n.meta.warnings[0].code;return(0,a.Z)((0,a.Z)({},e),s.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r]:{loadDetails:{status:o.LoadStatus.SUCCESS,warning:l}}})),{}))}return(0,a.Z)({},e)}},{}),h=(0,l.ul)(g),y=(0,l.ul)(m),f=(0,i.P1)(p.Jv,(e=>e.baskets)),E=(0,i.P1)(f,((e,r)=>r),((e,r)=>{var t=e[r.join("-")];return t?t.loadDetails:void 0})),b=(0,i.P1)(E,(e=>Boolean(e&&e.status===o.LoadStatus.PENDING))),S=(0,i.P1)(f,(e=>Object.values(e).map((e=>e&&e.loadDetails)).some((e=>!!e&&e.status===o.LoadStatus.PENDING)))),T=(0,i.P1)(f,d.$l,((e,r)=>{var t,a;if(r&&null!==(t=e[r])&&void 0!==t&&null!==(t=t.loadDetails)&&void 0!==t&&t.warning)return null===(a=e[r])||void 0===a?void 0:a.loadDetails.warning}))},16758:(e,r,t)=>{"use strict";t.d(r,{I6:()=>s,h_:()=>l});var a=t(14035),n=t(32034),i=t(34580),o=t(59481),s=(0,a.Z)({[i.ou]:o.Kv,[i.ri]:o.wJ,[i.ui]:o.CL},{}),l=(0,n.P1)(o.Jv,(e=>e.bestFareFinderSummaries))},52226:(e,r,t)=>{"use strict";t.d(r,{I6:()=>l,sI:()=>c});var a=t(14035),n=t(32034),i=t(59962),o=t(60654),s=t(59481),l=(0,a.Z)({[i.lo]:()=>o.LoadStatus.PENDING,[i.di]:()=>o.LoadStatus.SUCCESS,[i.T]:()=>o.LoadStatus.ERROR},{}),c=(0,n.P1)(s.Jv,(e=>e.cardPaymentFormURI))},61502:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,W0:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(59962),s=t(60654),l=t(7809),c=t(20786),d=t(59481),u=(0,n.Z)({[o.ph]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,l.cM)()}})},[o.ZU]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,l.Gs)()}})},[o.LK]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,l._R)(t.error)}})}},{}),p=(0,i.P1)(d.Jv,(e=>e.checkout)),m=(0,i.P1)(p,c.$l,((e,r)=>e&&r&&e[r])),g=(0,i.P1)(m,(e=>!(!e||!e.loadDetails||e.loadDetails.status!==s.LoadStatus.SUCCESS)))},1474:(e,r,t)=>{"use strict";t.d(r,{I6:()=>s,_V:()=>l});var a=t(14035),n=t(32034),i=t(16134),o=t(59481),s=(0,a.Z)({[i.ou]:o.Kv,[i.ri]:o.wJ,[i.ui]:o.CL},{}),l=(0,n.P1)(o.Jv,(e=>e.coachJourneyAvailabilities))},73641:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,ox:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(7809),s=t(8129),l=t(59481),c=(0,n.Z)({[s.ou]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.payload.searchId]:{loadDetails:(0,o.cM)()}}),[s.ri]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.payload.coachJourneySearch.id]:{loadDetails:(0,o.Gs)(),queryRef:r.payload.queryRef}}),[s.ui]:(e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.payload.searchId]:{loadDetails:(0,o._R)()}})},{}),d=(0,i.P1)(l.Jv,(e=>e.coachJourneySearches))},18646:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,f6:()=>v});var a=t(14035),n=t(32034),i=t(60654),o=t(7809),s=t(74980),l=t(59481),c=t(52181),d={},u=(0,a.Z)({[s.rw]:e=>({loadDetails:(0,o.Gs)()}),[s.i3]:(e,r)=>{var{payload:t}=r;return{loadDetails:(0,o._R)(t.error)}},[s.KQ]:()=>d},d),p=(0,n.P1)(l.Jv,(e=>e.confirmation)),m=(0,n.P1)(p,(e=>e&&e.loadDetails?e.loadDetails:void 0)),g=(0,n.P1)(m,(e=>e&&e.status)),v=(0,n.P1)(g,c.Gu,((e,r)=>{var t=Boolean(e&&e===i.LoadStatus.SUCCESS||e===i.LoadStatus.ERROR),a=null==r||Boolean(Object.keys(r||{}).length);return Boolean(t&&a)}))},39053:(e,r,t)=>{"use strict";t.d(r,{I6:()=>f,Jy:()=>v,K5:()=>g,VQ:()=>m,rA:()=>h});var a=t(14035),n=t(32034),i=t(60654),o=t(36592),s=t(59481),l=e=>"createTravelCard/".concat(e),c=l("CREATE_TRAVEL_CARD_REQUEST"),d=l("CREATE_TRAVEL_CARD_SUCCESS"),u=l("CREATE_TRAVEL_CARD_ERROR"),p=l("DESTROY_CREATE_TRAVEL_CARD"),m=(0,o.RW)(c),g=(0,o.RW)(d),v=(0,o.RW)(u),h=(0,o.RW)(p),y={},f=(0,a.Z)({[c]:()=>i.LoadStatus.PENDING,[d]:()=>i.LoadStatus.SUCCESS,[u]:()=>i.LoadStatus.ERROR,[p]:()=>y},y);(0,n.P1)(s.Jv,(e=>e.createTravelCard))},62830:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>d,I6:()=>c,kZ:()=>l});var a=t(14035),n=t(32034),i=t(36592),o=t(59481),s="customFields/shouldProceedToBookingInformation",l=(0,i.ul)(s),c=(0,a.Z)({[s]:(e,r)=>{var{payload:t}=r;return t}},!1),d=(0,n.P1)(o.Jv,(e=>null==e?void 0:e.shouldProceedToBookingInformation))},15245:(e,r,t)=>{"use strict";t.d(r,{z:()=>s});var a=t(32034),n=t(60654),i=t(59481),o=(0,a.P1)(i.Jv,(e=>e.isDeliveryOptionsFetchComplete)),s=(0,a.P1)(o,(e=>Boolean(e&&e===n.LoadStatus.SUCCESS)))},651:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,Jk:()=>c,QL:()=>p});var a=t(14035),n=t(32034),i=t(36592),o=t(85207),s=t(59481),l="deliveryOptions/DELIVERY_OPTIONS_RENDERED",c=(0,i.ul)(l),d=(0,a.Z)({[l]:(e,r)=>{var{payload:t}=r;return t}},!1),u=(0,n.P1)(s.Jv,(e=>e.hasDeliveryOptionsRendered)),p=(0,n.P1)(o.Kv,u,((e,r)=>!e||r))},54641:(e,r,t)=>{"use strict";t.d(r,{FW:()=>p,I6:()=>v,P0:()=>h,yn:()=>m,zq:()=>u});var a=t(14035),n=t(32034),i=t(60654),o=t(36592),s=t(59481),l="FETCH_DISCOUNT_CARDS_SUCCESS",c="FETCH_DISCOUNT_CARDS_PENDING",d="FETCH_DISCOUNT_CARDS_ERROR",u=(0,o.PH)(l),p=(0,o.PH)(c),m=(0,o.PH)(d),g=i.LoadStatus.UNDEFINED,v=(0,a.Z)({[l]:()=>i.LoadStatus.SUCCESS,[c]:()=>i.LoadStatus.PENDING,[d]:()=>i.LoadStatus.ERROR},g),h=(0,n.P1)(s.Jv,(e=>e.discountCardsLoadStatus||i.LoadStatus.UNDEFINED))},27123:(e,r,t)=>{"use strict";t.d(r,{I6:()=>m,U:()=>f,x3:()=>y});var a=t(23198),n=t(14035),i=t(32034),o=t(7809),s=t(46090),l=t(8563),c=t(60654),d=t(20786),u=t(59481),p={},m=(0,n.Z)({[s.q5]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,o.cM)()}})},[s.j]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,o.Gs)()}})},[l.my]:()=>p,[l.Zt]:()=>p},p),g=(0,i.P1)(u.Jv,(e=>e.enrolment)),v=(0,i.P1)(g,d.$l,((e,r)=>e&&r&&e[r])),h=(0,i.P1)(v,(e=>e&&e.loadDetails?e.loadDetails:void 0)),y=(0,i.P1)(h,(e=>e?e.status:void 0)),f=(0,i.P1)(y,(e=>!(e!==c.LoadStatus.PENDING)))},59481:(e,r,t)=>{"use strict";t.d(r,{CL:()=>c,Jv:()=>i,Kv:()=>o,wJ:()=>l,yc:()=>s});var a=t(23198),n=t(7809),i=e=>e.entitiesMeta,o=(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,n.cM)()}})},s=(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,n.cM)(),paginationStatus:{isPaginating:!0,direction:t.paginationParams.temporalDirection}}})},l=(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,a.Z)((0,a.Z)({},(0,n.Gs)()),{},{createdAt:t.headers.date,expiresAt:t.headers.expires})}})},c=(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,n._R)(t.error)}})}},75898:(e,r,t)=>{"use strict";t.d(r,{I:()=>s,b:()=>l});var a=t(14035),n=t(32034),i=t(79399),o=t(59481),s=(0,a.Z)({[i.jV]:o.Kv,[i.sg]:o.wJ,[i.K$]:o.CL},{}),l=(0,n.P1)(o.Jv,(e=>e.journeySearchRevalidations))},48925:(e,r,t)=>{"use strict";t.d(r,{I6:()=>s,fH:()=>l});var a=t(14035),n=t(32034),i=t(72750),o=t(59481),s=(0,a.Z)({[i.ou]:o.Kv,[i.ri]:(e,r)=>{var t=(0,o.wJ)(e,r),{queryRef:a}=r.payload;a&&(t[r.payload.hash].queryRef=a);return t},[i.ui]:(e,r)=>{var t;return r.payload.error&&!r.payload.error.code&&null!==(t=r.payload.error)&&void 0!==t&&null!==(t=t.res)&&void 0!==t&&t.status&&(r.payload.error.code=r.payload.error.res.status),(0,o.CL)(e,r)},[i.YL]:o.yc,[i.zo]:o.Kv},{}),l=(0,n.P1)(o.Jv,(e=>e.journeySearches))},23385:(e,r,t)=>{"use strict";t.d(r,{I6:()=>v,__:()=>m,j4:()=>h,mP:()=>p,xY:()=>u});var a=t(14035),n=t(60654),i=t(32034),o=t(59481),s=t(36592),l="DELETE_TRAVEL_DOCUMENT_FETCH_ERROR",c="DELETE_TRAVEL_DOCUMENT_FETCH_SUCCESS",d="DELETE_TRAVEL_DOCUMENT_FETCH_REQUEST",u=(0,s.ul)(d),p=(0,s.ul)(c),m=(0,s.ul)(l),g=n.LoadStatus.UNDEFINED,v=(0,a.Z)({[c]:()=>n.LoadStatus.SUCCESS,[d]:()=>n.LoadStatus.PENDING,[l]:()=>n.LoadStatus.ERROR},g),h=(0,i.P1)(o.Jv,(e=>e.deleteTravelDocumentStatus))},17335:(e,r,t)=>{"use strict";t.d(r,{I6:()=>m,Vg:()=>T,XX:()=>S,iZ:()=>b,mW:()=>E});var a=t(23198),n=t(14035),i=t(32034),o=t(60654),s=t(20786),l=t(8563),c=t(59481),d=t(14784),u=t(7809),p={},m=(0,n.Z)({[l.fE]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,u.cM)(t.message)}})},[l.UE]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,u.Gs)()}})},[l.$s]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,u._R)(t.error)}})},[l.my]:()=>p,[l.Zt]:()=>p},p),g=(0,i.P1)(c.Jv,(e=>e.payment)),v=(0,i.P1)(g,((e,r)=>r),((e,r)=>e&&e[r])),h=(0,i.P1)(v,(e=>e&&e.loadDetails?e.loadDetails:void 0)),y=(0,i.P1)(h,(e=>e?e.status:void 0)),f=((0,i.P1)(y,(e=>!(e!==o.LoadStatus.PENDING))),(0,i.P1)(g,s.$l,((e,r)=>e&&r?e[r]:void 0))),E=(0,i.P1)(f,(e=>Boolean(e&&e.loadDetails&&e.loadDetails.status===o.LoadStatus.PENDING))),b=(0,i.P1)(f,(e=>e&&e.loadDetails.message)),S=(0,i.P1)(f,(e=>e&&e.loadDetails.error)),T=(0,i.P1)(S,(e=>e&&(d.Uy[e.message]||e.message)))},2254:(e,r,t)=>{"use strict";t.d(r,{Fe:()=>g,I6:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(60654),s=t(7809),l=t(20786),c=t(41719),d=t(59481),u=(0,n.Z)({[c._Z]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,s.cM)()}})},[c._O]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,s.Gs)()}})},[c.zv]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.basketId]:{loadDetails:(0,s._R)(t.error)}})}},{}),p=(0,i.P1)(d.Jv,(e=>e.paymentOffers)),m=(0,i.P1)(p,l.$l,((e,r)=>e&&r&&e[r])),g=(0,i.P1)(m,(e=>Boolean(e&&e.loadDetails&&e.loadDetails.status===o.LoadStatus.ERROR)))},15601:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,hl:()=>m});var a=t(14035),n=t(32034),i=t(60654),o=t(7809),s=t(8563),l=t(64472),c=t(59481),d={},u=(0,a.Z)({[l.Pi]:()=>({loadDetails:(0,o.cM)()}),[l.y$]:()=>({loadDetails:(0,o.Gs)()}),[l.UQ]:(e,r)=>{var{payload:t}=r;return{loadDetails:(0,o._R)(t.error)}},[s.my]:()=>d},d),p=(0,n.P1)(c.Jv,(e=>e.paypal)),m=((0,n.P1)(p,(e=>Boolean(e&&e.loadDetails&&e.loadDetails.status===i.LoadStatus.PENDING))),(0,n.P1)(p,(e=>Boolean(e&&e.loadDetails&&e.loadDetails.status===i.LoadStatus.SUCCESS))),(0,n.P1)(p,(e=>Boolean(e&&e.loadDetails&&e.loadDetails.status===i.LoadStatus.ERROR))))},68049:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,w9:()=>p});var a=t(23198),n=t(14035),i=t(47374),o=t(32034),s=t(60654),l=t(7809),c=(0,n.Z)({[i.ou]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,l.cM)()}})},[i.ri]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,l.Gs)()}})},[i.ui]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,l._R)(t.error)}})}},{}),d=(0,o.P1)((e=>e.entitiesMeta.postcodeSearches),((e,r)=>r),((e,r)=>e[r]?e[r]:void 0)),u=(0,o.P1)(d,(e=>e?e.loadDetails:void 0)),p=(0,o.P1)(u,(e=>!!e&&e.status===s.LoadStatus.PENDING))},57194:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,LS:()=>l,rQ:()=>d});var a=t(14035),n=t(32034),i=t(36592),o=t(59481),s="promoCode/PROMO_CODE_ENTERED",l=(0,i.ul)(s),c=(0,a.Z)({[s]:(e,r)=>{var{payload:t}=r;return t}},!1),d=(0,n.P1)(o.Jv,(e=>e.hasPromoCodeEntered))},6155:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,R1:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(60654),s=t(74980),l=t(67074),c=t(59481),d={},u=(0,n.Z)({[l.Tu]:(e,r)=>{var{payload:{customerId:t}}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:{loadDetails:{status:o.LoadStatus.ERROR}}})},[l.fm]:(e,r)=>{var{payload:{customerId:t}}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:{loadDetails:{status:o.LoadStatus.SUCCESS}}})},[l.BX]:(e,r)=>{var{payload:{customerId:t}}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:{loadDetails:{status:o.LoadStatus.PENDING}}})},[s.KQ]:()=>d},d),p=(0,i.P1)(c.Jv,(e=>e.quickRegistration)),m=(0,i.P1)(((e,r)=>r),p,((e,r)=>e&&r&&r[e]&&r[e].loadDetails?r[e].loadDetails.status:o.LoadStatus.UNDEFINED))},14916:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,SJ:()=>u,cH:()=>l});var a=t(23198),n=t(14035),i=t(32034),o=t(7809),s=t(59481),l="RAVELIN_SETUP_SUCCESS",c=(0,n.Z)({[l]:e=>(0,a.Z)((0,a.Z)({},e),{},{setup:{loadDetails:(0,o.Gs)()}})},{}),d=(0,i.P1)(s.Jv,(e=>e&&e.ravelin)),u=(0,i.P1)(d,(e=>e&&e.setup&&e.setup.loadDetails.status))},51325:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,j0:()=>g});var a=t(23198),n=t(14035),i=t(32034),o=t(60654),s=t(7809),l=t(66763),c=t(99462),d=t(59481),u=(0,n.Z)({[c.YB]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.temporaryBasketId]:{loadDetails:(0,s.cM)()}})},[c.nS]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.temporaryBasketId]:{loadDetails:(0,s.Gs)()}})},[c.jR]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.temporaryBasketId]:{loadDetails:(0,s._R)()}})}},{}),p=(0,i.P1)(d.Jv,(e=>e.reservationOffers)),m=(0,i.P1)(p,l.Rs,((e,r)=>r&&e[r.id])),g=(0,i.P1)(m,(e=>!(!e||e.loadDetails.status!==o.LoadStatus.PENDING)))},31369:(e,r,t)=>{"use strict";t.d(r,{I6:()=>l,rI:()=>c});var a=t(14035),n=t(32034),i=t(60654),o=t(72428),s=t(59481),l=(0,a.Z)({[o.Eo]:()=>i.LoadStatus.PENDING,[o.WT]:()=>i.LoadStatus.SUCCESS,[o.cR]:()=>i.LoadStatus.ERROR},{}),c=(0,n.P1)(s.Jv,(e=>e.routePricingDataLoadStatus))},26706:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,d1:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(7809),s=t(21298),l=t(59481),c=(0,n.Z)({[s.Eo]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,o.cM)()}})},[s.WT]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,o.Gs)()}})},[s.cR]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.hash]:{loadDetails:(0,o._R)(t.error)}})}},{}),d=(0,i.P1)(l.Jv,(e=>e.serviceCallingPoints))},45672:(e,r,t)=>{"use strict";t.d(r,{I6:()=>l,rp:()=>d});var a=t(14035),n=t(32034),i=t(60654),o=t(34038),s=t(59481),l=(0,a.Z)({[o.t_]:()=>i.LoadStatus.PENDING,[o.Nt]:()=>i.LoadStatus.SUCCESS},{}),c=(0,n.P1)(s.Jv,(e=>e.isUserSmartCardFetched)),d=(0,n.P1)(c,(e=>Boolean(e&&e===i.LoadStatus.SUCCESS)))},22882:(e,r,t)=>{"use strict";t.d(r,{Hj:()=>d,I6:()=>l});var a=t(14035),n=t(32034),i=t(60654),o=t(34038),s=t(59481),l=(0,a.Z)({[o.KS]:()=>i.LoadStatus.PENDING,[o.Lr]:()=>i.LoadStatus.SUCCESS},{}),c=(0,n.P1)(s.Jv,(e=>e.isSmartCollectionLocationFetched)),d=(0,n.P1)(c,(e=>Boolean(e&&e===i.LoadStatus.SUCCESS)))},11450:(e,r,t)=>{"use strict";t.d(r,{I:()=>c,x:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(7809),s=t(72206),l=t(59481),c=(0,n.Z)({[s.H2]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.id]:{loadDetails:(0,o.cM)()}})},[s.tS]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.id]:{loadDetails:(0,o.Gs)()}})},[s.qx]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{[t.id]:{loadDetails:(0,o._R)()}})}},{}),d=(0,i.P1)(l.Jv,(e=>e.travelCards)),u=(0,i.P1)(d,((e,r)=>r),((e,r)=>e&&e[r]))},31e3:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,Le:()=>d});var a=t(14035),n=t(32034),i=t(60654),o=t(49987),s=t(59481),l=i.LoadStatus.UNDEFINED,c=(0,a.Z)({[o.WT]:()=>i.LoadStatus.SUCCESS,[o.Eo]:()=>i.LoadStatus.PENDING,[o.cR]:()=>i.LoadStatus.ERROR},l),d=(0,n.P1)(s.Jv,(e=>e.travelServiceInformation))},5535:(e,r,t)=>{"use strict";t.d(r,{I:()=>i,t:()=>o});var a=t(14035),n=t(31722),i=(0,a.Z)({},{applePayMerchantId:"",ttlEnvironmentType:"Prod",euRailcardsIframeUrl:"",ravelinApiKey:"",paypalButtonsClientKey:{GBP:"",EUR:"",MCP:""},clientConfiguration:n.W}),o=e=>e.env},98903:(e,r,t)=>{"use strict";t.d(r,{Ah:()=>I,Cd:()=>p,Gu:()=>N,JZ:()=>w,MI:()=>O,ZR:()=>k,_j:()=>Z,hM:()=>M,lW:()=>_,v3:()=>F});var a=t(23198),n=t(4411),i=t(14937),o=t(18406),s=t(68834),l=t(36592),c=t(39422),d=t(31258),u=t(25453),p="form/INSURANCE_PASSENGER_DETAILS_FORM",m=/^([A-Za-z----',\-]{1,50})(\s[A-Za-z----',\-]{1,50})+$/gm,g="form.validation.required",v="insurance.userDetails.form.name.required",h="insurance.userDetails.form.name.invalid",y="insurance.userDetails.form.postcode.invalid",f="insurance.userDetails.form.findAddress",E="insurance.userDetails.form.firstName.maxLength",b="insurance.userDetails.form.lastName.maxLength",S=e=>[void 0,""].includes(e),T=e=>e.trim().match(m),C=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,r)=>S(r)?e.concat([v]):T(r)?e.concat([""]):e.concat([h])),[]);return 0===e.length?void 0:e},A=e=>S(e)?g:(0,s.XV)("GB",e,!1,!0)&&y,I=50,_=50,P=(e,r)=>e.length>r,R=e=>{if(S(e))return v;if(!T(e))return h;var r=e.trim().split(" ");return P(r[0],I)?E:P(r[r.length-1],_)?b:void 0},k=e=>{var{leadPassengerName:r,otherPassengerNames:t}=e;return{leadPassengerName:R(r),otherPassengerNames:C(t)}},N=e=>{var{leadPassengerName:r,otherPassengerNames:t,insuranceAddress:{addressLine1:n,addressLine2:i,postCode:o}={addressLine1:"",addressLine2:"",postCode:""},postcode:l}=e;return(0,a.Z)((0,a.Z)({},k({leadPassengerName:r,otherPassengerNames:t})),{},{insuranceAddress:{addressLine1:(0,s.TF)("GB",n,"addressLine1"),addressLine2:S(i)?g:void 0,postCode:A(o)},postcode:A(l)})},O=((0,l.ul)("INSURANCE_PASSENGER_DETAILS_SUBMIT"),(e,r,t)=>{var{showManualAddress:a}=t;if(a){var{insuranceAddress:{addressLine1:n,addressLine2:o,postCode:s}}=e;if(!n||!o||!s)return Promise.reject(new i.t({postcode:f}))}return Promise.resolve()}),L=e=>Object.keys(e).some((r=>{if("postcode"===r)return!1;var t=e[r];return Array.isArray(t)?t.some((e=>!!e)):"object"==typeof t?L(t):!!t})),x=e=>Boolean(e&&(e.selectedOutboundInsurance||e.selectedInboundInsurance)&&!e.isValid),D=e=>(e=>{var r;return Boolean(e.itineraryRecommendation&&Object.values(null!==(r=e.itineraryRecommendation)&&void 0!==r?r:{}).some((e=>x(e))))})(null!=e?e:{}),w=(e,r)=>(e=>Object.values(e).some((e=>e&&Object.keys(e).length>0&&L(Object.keys(e).includes("insuranceAddress")?N(e):k(e)))))(e)||D(null!=r?r:{}),Z=e=>{var r;return Object.values(null!==(r=null==e?void 0:e.itineraryRecommendation)&&void 0!==r?r:{}).map((e=>{if(x(e)){var r,t,a=(null==e||null===(r=e.selectedOutboundInsurance)||void 0===r?void 0:r.vendor)===c.U5.Companjon||(null==e||null===(t=e.selectedInboundInsurance)||void 0===t?void 0:t.vendor)===c.U5.Companjon;return new i.t({_error:a?d.eG.flexibleInsurance:d.eG.insurance})}return null})).filter(u.BX)},F=(e,r)=>Object.keys(e).forEach((e=>r((0,o.Ps)("".concat(p,"_").concat(e))))),B=e=>e.split("_").pop(),M=e=>(e=>Object.keys(e.form).filter((e=>e.includes(p))))(e).map(B).reduce(((r,t)=>{var a;return r[t]=(a=t,(0,n.Z)("".concat(p,"_").concat(a)))(e),r}),{})},80510:(e,r,t)=>{"use strict";t.d(r,{Bt:()=>o,MI:()=>s,Ps:()=>l,UJ:()=>c});var a=t(18406),n=t(4411),i=t(12720),o="form/booking-information-options",s=()=>((0,i.Rz)(),Promise.resolve()),l=(0,a.Ps)(o),c=(0,n.Z)(o)},17967:(e,r,t)=>{"use strict";t.d(r,{Th:()=>l,TO:()=>c,Gu:()=>u,tA:()=>d});var a=t(23198),n=t(4411),i=t(32034),o=t(10287),s={invalid:"form.paymentForm.validation.confirmationEmails.invalid"},l="form/CONFIRMATION_EMAILS_FORM",c=(0,i.P1)((0,n.Z)(l),(e=>e?e.confirmationEmails:[])),d=e=>{var r=[];return e&&e.length&&e.forEach(((e,t)=>{e&&e.length&&!(0,o.u$)(e)&&(r[t]=s.invalid)})),r.length?r:void 0},u=e=>(e=>Object.keys(e).filter((r=>e[r])).reduce(((r,t)=>(0,a.Z)((0,a.Z)({},r),{},{[t]:e[t]})),{}))({confirmationEmails:d(e.confirmationEmails)})},87764:(e,r,t)=>{"use strict";t.d(r,{T:()=>n,Y:()=>i});var a=t(4411),n="form/CONSENT_FORM",i=(0,a.Z)(n)},25116:(e,r,t)=>{"use strict";t.d(r,{Th:()=>s,MI:()=>c,Zd:()=>l});var a=t(4411),n=t(14937),i=t(32034),o={invalid:"page.checkout.defaultTermsAndConditions.error"},s="form/DEFAULT_TERMS_AND_CONDITIONS",l=(0,i.P1)((0,a.Z)(s),(e=>e?e.defaultTermsAndConditions:void 0)),c=(e,r,t)=>{var{}=t;return(e=>{var{defaultTermsAndConditions:r}=e;return!r})(e)?Promise.reject(new n.t({_error:o.invalid})):Promise.resolve()}},85207:(e,r,t)=>{"use strict";t.d(r,{A2:()=>k,C5:()=>V,CQ:()=>X,D6:()=>$,Fg:()=>x,GE:()=>W,JR:()=>ce,Kv:()=>B,L3:()=>re,LE:()=>Q,MI:()=>w,Mo:()=>de,N7:()=>D,NC:()=>j,Ps:()=>pe,Qg:()=>se,RL:()=>F,Si:()=>M,Tn:()=>z,XY:()=>L,Xw:()=>U,gY:()=>N,iC:()=>J,ic:()=>ee,nX:()=>q,nw:()=>ue,z8:()=>K,zz:()=>oe});var a=t(23198),n=t(33337),i=t(67487),o=t(31105),s=t(82768),l=t(4411),c=t(18406),d=t(32034),u=t(47312),p=t(89103),m=t(97866),g=t(12720),v=t(78524),h=t(17038),y=t(68834),f=t(42769),E=t(20786),b=t(60054),S=t(41152),T=t(83504),C=(t(10287),t(68760)),A=t(2328),I=t(6159),_=t(45476),P=t(15245),{EU_GENERIC:R}=h.Ne,k=function(e){return e.INDIVIDUAL_COLLECTIONS="INDIVIDUAL_COLLECTIONS",e.COMBINED_COLLECTION="COMBINED_COLLECTION",e}({}),N="form/DELIVERY_OPTIONS",O={isSmartcardNumberEmpty:"page.deliveryOptions.smartcard.numberEmpty",isSmartcardNumberInvalid:"page.deliveryOptions.smartcard.numberInvalid",isSmartcardNicknameEmpty:"page.deliveryOptions.smartcard.nicknameEmpty",isSmartcardNicknameInvalid:"page.deliveryOptions.smartcard.nicknameInvalid",isEmptyEmail:"page.deliveryOptions.ticketMachine.emailEmpty",isInvalidEmail:"page.deliveryOptions.ticketMachine.emailInvalid",invalidSelection:"page.deliveryOptions.invalidSelection",isInvalidTravellerName:"page.deliveryOptions.mTicket.nameInvalid",kioskAlternativeStationNotSelected:"page.deliveryOptions.ticketMachine.alternativeStationNotSelected",isInvalidNationalExpressTravellerName:"page.deliveryOptions.nationalExpressETicket.nameInvalid",isSpecialCharactersInNationalExpressTravellerName:"page.deliveryOptions.nationalExpressETicket.nameInvalidWithSpecialCharacters",isEmptyRecipient:"page.deliveryOptions.postalDelivery.recipientEmpty",isInvalidRecipient:"page.deliveryOptions.postalDelivery.recipientInvalid",isEmptyPostcode:{default:"page.deliveryOptions.postcodeSearch.postcodeEmpty",US:"page.deliveryOptions.postcodeSearch.zipCodeEmpty"},isInvalidPostcode:{default:"page.deliveryOptions.postcodeSearch.postcodeInvalid",US:"page.deliveryOptions.postcodeSearch.zipCodeInvalid"},isEmptyAddressLine1:"page.deliveryOptions.deliveryAddress.addressLine1Empty",isEmptyAddressLine4:{US:"page.deliveryOptions.deliveryAddress.townCityEmpty",CA:"page.deliveryOptions.deliveryAddress.townCityEmpty"},isEmptyAddressLine5:{US:"page.deliveryOptions.deliveryAddress.stateEmpty",CA:"page.deliveryOptions.deliveryAddress.provinceEmpty"},isEmptyCountry:"page.deliveryOptions.postcodeSearch.countryNotSelected"},L=e=>void 0===((e,r)=>{switch((0,y.XV)(r,e,!1,!0)){case y.ln.required:return O.isEmptyPostcode[r]||O.isEmptyPostcode.default;case y.ln.invalid:return O.isInvalidPostcode[r]||O.isInvalidPostcode.default;default:return}})(e,"GB"),x=e=>Object.keys(e).some((r=>{var t=e[r];return Array.isArray(t)?t.some(x):!!t})),D={type:i.ErrorType.Customer,id:"deliveryOptions.option",format:"inline.validation.error"},w=()=>((0,o.mark)(v.cN),(0,g.Rz)(),Promise.resolve()),Z=(0,l.Z)(N),F=(0,d.P1)(b.wy,Z,((e,r)=>e?R:r&&r.option?r.option:void 0)),B=(0,d.P1)(T.FD,(e=>!!e&&e.pathname.startsWith(f.L1.deliveryOptions()))),M=(0,d.P1)(B,P.z,((e,r)=>!e||r)),U=(0,d.P1)(S.F$,E.tz,m.O4,((e,r,t)=>t&&(0===e.length||r.length>0)?k.COMBINED_COLLECTION:k.INDIVIDUAL_COLLECTIONS)),j=(0,d.P1)(Z,U,((e,r)=>(e&&e.option===h.Gl.AtocKiosk?e.kioskCtrOption:r)===k.COMBINED_COLLECTION)),H=(0,d.P1)(Z,(e=>e?e.mTicketTravellerName:void 0)),W=(0,d.P1)(Z,_.nE,((e,r)=>e?e.station?e.station:r||void 0:void 0)),G=(0,d.P1)(u.do,(e=>null==e?void 0:e.isSmartDropDownView)),V=(0,d.P1)(Z,G,((e,r)=>!(r||(!e.smartCardNumberLoadOnApp||e.option!==h.Gl.AtocItsoSmartActionListCollectOnSmartphone)&&(!e.smartCardNumberCollectAtStation||e.option!==h.Gl.AtocItsoSmartActionList&&e.option!==h.Gl.AtocItsoSmartEcebsActionList)))),Y=(e,r)=>(r.smartCardNumberCollectAtStation=e,r.smartCardNumberLoadOnApp=e,r.smartCardNumberLoadOnApp),K=(0,d.P1)(Z,I.mC,G,((e,r,t)=>e?e.selectedSmartcard&&t?e.selectedSmartcard:e.option===h.Gl.AtocItsoSmartActionListCollectOnSmartphone&&e.smartCardNumberLoadOnApp?e.smartCardNumberLoadOnApp:e.option!==h.Gl.AtocItsoSmartActionList&&e.option!==h.Gl.AtocItsoSmartEcebsActionList||!e.smartCardNumberCollectAtStation?e.selectedSmartcard?Y(e.selectedSmartcard,e):r&&Y(r,e):e.smartCardNumberCollectAtStation:void 0)),z=(0,d.P1)(Z,(e=>!!e&&(e.option===h.Gl.AtocItsoSmartActionListCollectOnSmartphone?e.smartCollectOnPhoneCheckBox:(e.option===h.Gl.AtocItsoSmartActionList||e.option===h.Gl.AtocItsoSmartEcebsActionList)&&e.smartCollectAtStationCheckBox))),J=(0,d.P1)(Z,(e=>e?e.option===h.Gl.AtocItsoSmartActionListCollectOnSmartphone&&e.smartCardAppNickName?e.smartCardAppNickName:e.option!==h.Gl.AtocItsoSmartActionList&&e.option!==h.Gl.AtocItsoSmartEcebsActionList||!e.smartCollectionNickName?void 0:e.smartCollectionNickName:void 0)),q=(0,d.P1)(Z,(e=>e&&e.nationalExpressETicketTravellerName)),Q=(0,d.P1)(H,(e=>({passengerName:e}))),X=(0,d.P1)(W,K,((e,r)=>({stationCode:e,smartcardGuid:r}))),$=(0,d.P1)(K,(e=>({smartcardGuid:e}))),ee=()=>({}),re=(0,d.P1)(((e,r)=>r?(0,A.R6)(e):(0,A.Se)(e)),(e=>e.map((e=>({id:e.id,nickname:e.nickname}))).map((e=>{var{id:r,nickname:t}=e;return{text:t,value:r.toString()}})))),te=(0,d.P1)(Z,(e=>e.specialDelivery)),ae=(0,d.P1)(Z,(e=>e.secondClassPost)),ne=(0,d.P1)(Z,(e=>e.internationalPost)),ie=(0,d.P1)(p.Tu,Z,((e,r)=>e===n.WO.MOBILE?void 0:r.kioskEmail)),oe=(0,d.P1)(ie,(e=>e?{email:e}:{})),se=(0,d.P1)(C.yW,q,((e,r)=>{if(e||!r)return{};var t=(e=>e.trim().replace(/\s{2,}/g," "))(r);return{name:t}})),le=(e,r)=>{var t={postcode:e.postcode,country:e.country,address1:e.addressLine1,address2:e.addressLine2,address3:e.addressLine3,address4:e.addressLine4,address5:e.addressLine5,id:r?e.id:void 0};return r||(t.name=e.recipient),(0,s.D95)((e=>""!==e),t)},ce=(0,d.P1)(te,C.yW,((e,r)=>(0,a.Z)((0,a.Z)({},le(e,r)),{},{country:"GB"}))),de=(0,d.P1)(ae,C.yW,((e,r)=>(0,a.Z)((0,a.Z)({},le(e,r)),{},{country:"GB"}))),ue=(0,d.P1)(ne,C.yW,le),pe=(0,c.Ps)(N)},19196:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var a="eu-passenger-details"},10326:(e,r,t)=>{"use strict";t.d(r,{AW:()=>_,Cp:()=>y,J1:()=>w,JC:()=>x,Lo:()=>T,MI:()=>m,MY:()=>k,Ps:()=>g,Pv:()=>D,T0:()=>O,Th:()=>u,Vt:()=>N,b3:()=>P,f2:()=>h,kt:()=>p,ob:()=>R,uE:()=>C,ur:()=>I,xZ:()=>L,xg:()=>S});var a=t(23198),n=t(31105),i=t(18406),o=t(4411),s=t(32034),l=t(7458),c=t(12720),d=t(78524),u="form/EU_SEAT_RESERVATIONS",p="".concat(u,"/modal"),m=()=>((0,n.mark)(d.p1),(0,c.Rz)(),Promise.resolve()),g=(0,i.Ps)(u),v=(0,o.Z)(u),h=(0,s.P1)(v,(e=>e&&e.outward&&e.outward.seatPreferencesGroups)),y=(0,s.P1)(v,(e=>e&&e.inward&&e.inward.seatPreferencesGroups)),f=(0,s.P1)(v,(e=>e&&e.outward&&e.outward.extras)),E=(0,s.P1)(v,(e=>e&&e.inward&&e.inward.extras)),b=(0,s.P1)(f,E,((e,r)=>(0,a.Z)((0,a.Z)({},e||{}),r||{}))),S=(0,s.P1)(b,((e,r)=>r),((e,r)=>Object.values(e).filter((e=>e.productId===r.id)).map((e=>({extra:e.extra,quantity:+e.quantity}))))),T=(0,s.P1)(h,y,(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e)})),C=(0,s.P1)((0,o.Z)(p),(e=>{var r=e&&e.inward&&e.inward.seatPreferencesGroups,t=e&&e.outward&&e.outward.seatPreferencesGroups;return(r||[]).concat(t||[])})),A=(0,s.P1)(T,((e,r)=>r.seatPreferencesGroupId),((e,r)=>e.find((e=>e.id===r)))),I=(0,s.P1)(A,(e=>e&&""!==e.seatType?e.seatType:void 0)),_=(0,s.P1)(A,(e=>e&&""!==e.position?e.position:void 0)),P=(0,s.P1)(A,(e=>e&&""!==e.direction?e.direction:void 0)),R=(0,s.P1)(A,(e=>e&&""!==e.carriageType?e.carriageType:void 0)),k=(0,s.P1)(A,(e=>e&&""!==e.deck?e.deck:void 0)),N=(0,s.P1)(A,(e=>e&&""!==e.seatSelection?e.seatSelection:void 0)),O=(0,s.P1)(A,(e=>null==e?void 0:e.requestedSeats)),L=(0,s.P1)(A,(e=>null==e?void 0:e.passengers)),x=(0,s.P1)(A,N,((e,r)=>r&&e&&e.nearSeatCarriage&&""!==e.nearSeatCarriage&&e.nearSeatCarriage.length<=2&&l.q2.test(e.nearSeatCarriage)&&e.nearSeatSeat&&""!==e.nearSeatSeat&&e.nearSeatSeat.length<=3&&l.q2.test(e.nearSeatSeat)?{carriage:e.nearSeatCarriage,location:e.nearSeatSeat}:void 0)),D=(0,s.P1)(A,(e=>e&&e.facilities&&e.facilities.filter((e=>!0===e.value)))),w=(0,s.P1)((e=>e),((e,r)=>r),((e,r)=>S(e,r).some((e=>!!e.quantity))))},58167:(e,r,t)=>{"use strict";t.d(r,{Vf:()=>P,lQ:()=>R,wH:()=>_});var a=t(23198),n=t(18406),i=t(55265),o=t(37544),s=t(87582),l=t(54466),c=t(56415),d=t(57243),u=t(7185),p=t(4710),m=t(426),g=t(76376),v=t(36592),h=t(41024),y=t(68760),f=t(97340),E=t(19196),b=t(96594),S=t(7674),T=t(39053),C=t(57110),A="ADD_PASSENGER_RAILCARD",I="REMOVE_PASSENGER_RAILCARD",_=(0,v.ul)(A),P=(0,v.ul)(I),R=(0,i.l)(((e,r)=>{var{getState:t}=r;return e.ofType(A).pipe((0,u.w)((e=>{var{payload:{userIndex:r,cardTypeId:a,attributes:i,onSubmitSucceeded:o,formSubmitResolve:c,formSubmitReject:d}}=e;return(0,l.z)((0,s.of)((0,T.VQ)()),(0,C.Tb)({cardTypeId:a,attributes:i}).pipe((0,u.w)((e=>{var{id:o}=e,c=(0,b.a9)(t())[r],d=(null==c?void 0:c.railCards)||[],u=d.findIndex((e=>e.cardType.id===a)),p={id:o,number:i.number,cardType:{id:a}};u>-1?d[u]=p:d.push(p);var m="euPassengers[".concat(r,"].railCards");return(0,l.z)((0,s.of)((0,n.m)(b.ed,m,[].concat(d))),(0,s.of)((0,T.K5)()))})),(0,p.b)((()=>{null==o||o(),null==c||c()})))).pipe((0,m.K)((()=>(null==d||d({code:"error@discount_card_form/createTravelCard/genericError",message:"modal.discountCard.form.errors.createTravelCard"}),[(0,T.Jy)()]))))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(I).pipe((0,d.U)((e=>{var{payload:{userIndex:r,cardTypeId:a}}=e,i=(0,b.a9)(t())[r],o=((null==i?void 0:i.railCards)||[]).filter((e=>e.cardType.id!==a));return(0,n.m)(b.ed,"euPassengers[".concat(r,"].railCards"),o)})))}),((e,r)=>e.ofType(f.QU).pipe((0,c.zg)((e=>{var{payload:{savedPassenger:t}}=e,n=r.getState(),i=(0,b.Cc)(n),l=(0,g.O8)(n);if(!i||!i.euPassengers.length||!l||!l.length||(0,y.tC)(n))return(0,s.of)({type:"NOOP"});var c=(0,S.xx)(n,t.id),{cardInfoMismatch:d,invalidCardNumber:u,otherErrors:p}=(0,h.M0)(c,l),m=d.map((e=>(0,a.Z)((0,a.Z)({},e),{},{edited:!0})));return(0,s.of)((0,o.ET)({id:E.N,state:{errors:[...u,...p,...m]}}))})))))},96594:(e,r,t)=>{"use strict";t.d(r,{wv:()=>j,$_:()=>H,ed:()=>U,Cc:()=>oe,T1:()=>q,bu:()=>he,MI:()=>ie,eV:()=>ge,go:()=>ye,fr:()=>Ce,WX:()=>Ee,a9:()=>le,_r:()=>ue,uV:()=>me,Bd:()=>Te,aJ:()=>pe,sW:()=>be,Ps:()=>Pe,PT:()=>_e,Gu:()=>ne});var a=t(31616),n=t(23198),i=t(31105),o=t(84025),s=t.n(o),l=t(14937),c=t(4411),d=t(95429),u=t(62418),p=t(18406),m=t(32034),g=t(60654),v=t(42086),h=t(82758),y=t(253),f=t(12720),E=t(77378),b=t(74410),S=t(97866),T=t(41152),C=t(10287),A=t(68760),I=t(62331),_=t(99462),P=t(97340),R=t(85207),k=t(67292),N=16;function O(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var a of r){var n=a();if(n)return n}}function L(e,r,t){if(void 0!==r)return"string"==typeof r?new RegExp(r).test(e)?void 0:t:r.test(e)?void 0:t}function x(e,r,t){return e.length<r?t:void 0}function D(e,r,t){return e.length>r?t:void 0}function w(e,r){return e?void 0:r}var Z=t(4385),F=t(82768),B=t(31521),M=["required"],U="form/EU_PASSENGER_DETAILS",j=54,H=2,W=4,G=100,V=100,Y=/[ \-()]/g,K=["urn:trainline:gbl:docty:identity_card_dni","urn:trainline:gbl:docty:identity_card_nie"],z={isFieldEmpty:"page.deliveryOptions.eu.empty.field",isInvalidEmail:"page.deliveryOptions.ticketMachine.emailInvalid",isConfirmEmailNotMatching:"page.deliveryOptions.eu.emailCheck.confirmEmailNotMatching",isInvalidPhone:"page.deliveryOptions.eu.invalid.phone",invalidSelection:"page.deliveryOptions.invalidSelection",isInvalidTravellerName:"page.deliveryOptions.mTicket.nameInvalid",invalidTitle:"page.deliveryOptions.eu.invalid.invalidTitle",invalidFirstName:"page.deliveryOptions.eu.invalid.firstName",invalidMinMaxFirstName:"page.deliveryOptions.eu.invalid.minMaxFirstName",invalidSurname:"page.deliveryOptions.eu.invalid.surname",invalidMinMaxSurname:"page.deliveryOptions.eu.invalid.minMaxSurname",duplicatedPassenger:"page.deliveryOptions.eu.invalid.duplicatedPassenger",invalidDateOfBirth:"page.deliveryOptions.eu.invalid.invalidDateOfBirth",invalidDateOfBirthForPassengerType:"page.deliveryOptions.eu.invalid.invalidDateOfBirthForPassengerType",invalidGender:"page.deliveryOptions.eu.invalid.invalidGender",outOfBoundsDateOfBirth:"page.deliveryOptions.eu.invalid.outOfBoundsDateOfBirth",emptyDocumentType:"page.deliveryOptions.eu.empty.documentType",minMaxDocumentNumber:"page.deliveryOptions.eu.invalid.documentNumber",invalidDocumentNumber:"page.deliveryOptions.eu.invalid.document",cannotBeEmpty:"page.deliveryOptions.cannotBeEmpty",emptySNCFCardNumber:"page.deliveryOptions.eu.SNCFDigipass.empty",SNCFCardNumberTooShort:"page.deliveryOptions.eu.SNCFDigipass.tooShort",SNCFCardNumberTooLong:"page.deliveryOptions.eu.SNCFDigipass.tooLong"},J=e=>e.replace(Y,"");function q(e){var{invoiceOptions:r,isStrict:t,recipientType:a}=e,i=t?"strictInvoiceRecipientSchema":"laxInvoiceRecipientSchema",{requirements:o,optionalRequirements:s}=r[a];return(0,n.Z)((0,n.Z)({},o),s[i])}var Q=["certifiedEmail","recipientCode"],X=e=>{var{invoice:r,isProvinceEnabled:t,invoiceOptions:a,enableMultiSchemaInvoice:i}=e;if(!r.requestInvoice||!a||!a[r.recipientType])return{};var o=((e,r,t,a)=>{var i=t[e.recipientType].requirements;return a&&(i=q({invoiceOptions:t,isStrict:he(null==e?void 0:e.countryCode,a),recipientType:e.recipientType})),r?(0,n.Z)((0,n.Z)({},i),{},{province:(0,n.Z)((0,n.Z)({},i.province),{},{required:!0})}):i})(r,t,a,i),s=Object.entries(o).reduce(((e,t)=>{var[a,n]=t,i=r[a];return n.required&&!(0,b.C1)(i||"")&&(e[a]=z.cannotBeEmpty),e}),{});return he(r.countryCode,i)&&Q.every((e=>!r[e]))&&Q.forEach((e=>s[e]=z.cannotBeEmpty)),Object.keys(s).length?{invoice:s}:{}},$=(e,r)=>{if(void 0!==e&&void 0!==r){var t=J(r);return"".concat(e).concat(t)}};function ee(e,r,t,a,n,i){var{invalidDateOfBirthForPassengerType:o,outOfBoundsDateOfBirth:l,invalidDateOfBirth:c,duplicatedPassenger:d,isFieldEmpty:u}=z,{}=null!=n?n:{};return O((()=>w(e,u)),(()=>{return r=e,t=c,s()(r,k.O1,!0).isValid()?void 0:t;var r,t}),(()=>{return r=e,t="1900-01-01",a=l,s()(r,k.O1,!0).isBefore(t)?a:void 0;var r,t,a}),(()=>{return r=e,t=s()().toISOString(),a=l,s()(r,k.O1,!0).isAfter(t)?a:void 0;var r,t,a}),(()=>i?d:void 0),(()=>function(e,r,t,a,n){if(a&&r){var i=(0,h.CY)(e,r),o=a===g.PassengerType.YOUTH&&(null==t||i>t),s=a===g.PassengerType.ADULT&&i<N,l=a===g.PassengerType.SENIOR&&i<h.Gw;return o||s||l?n:void 0}}(e,a,r,t,o)))}function re(e,r,t,a){var{minMaxDocumentNumber:n,invalidDocumentNumber:i,isFieldEmpty:o,duplicatedPassenger:s}=z,{minLength:l=W,maxLength:c=G,pattern:d}=null!=r?r:{},u=t&&K.includes(t);return O((()=>w(e,o)),(()=>x(e,l,n)),(()=>D(e,c,n)),(()=>L(e,d,i)),(()=>u?Re(e,i):void 0),(()=>a?s:void 0))}function te(e,r){var{emptyDocumentType:t,duplicatedPassenger:a}=z;return O((()=>w(e,t)),(()=>r?a:void 0))}function ae(e,r,t){var{isInvalidEmail:a,isFieldEmpty:n,isConfirmEmailNotMatching:i}=z,{pattern:o=C.HN,maxLength:s=V}=null!=r?r:{};return O((()=>w(e,n)),(()=>D(e,s,a)),(()=>L(e,o,a)),(()=>function(e,r,t){if(r)return(null==e?void 0:e.toLowerCase())===r.toLowerCase()?void 0:t}(e,t,i)))}var ne=e=>{var r,t,{data:{email:a,confirmEmail:i,euPassengers:o,euLeadPhonePrefix:s,euLeadPhone:l,euLeadTitle:c,invoice:d,euLeadPassenger:u},isProvinceEnabled:p,enableMultiSchemaInvoice:m,requirementsDict:g,leadPassengerRequirements:v,recipientRequirements:h,isRecognisedUser:y,invoiceOptions:f,departureDate:E,cardRequirements:b,hasInvalidLoyaltyCardNumber:S,passengerDetailsFromProduct:T,cardTypes:A,savedPassengers:I,isEnableUniquePropertiesRequirements:_,documentTypeRequirements:P,dataRequirementsUniqueRules:R=[],shouldValidateConfirmationEmail:k=!1}=e,N=null!==(r=null==g||null===(t=g.generic)||void 0===t?void 0:t.map((e=>e.name)))&&void 0!==r?r:[],Z=o.length>1,B=((e,r)=>{var t=e.map((e=>r.map((r=>(0,F.VO0)((0,F.eiS)(e,r)).join(""))).map((e=>e.toLowerCase())))).map((e=>e.map((r=>e.filter((e=>e===r)).length>1))));return r.map(((r,a)=>(0,F.jj$)((0,F.UWY)(e.map(((e,r)=>t[r][a]?e:[]))))))})(Z?_?(0,F.jj$)(R):[["firstName","lastName"]]:[],o),M=(0,n.Z)({euPassengers:o.map(((e,r)=>{var t,a,n={},i=null==g?void 0:g[null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""],o=null!==(a=null==i?void 0:i.map((e=>e.name)))&&void 0!==a?a:N;if(o.includes("firstName")){var s,l,c=null==i?void 0:i.find((e=>"firstName"===e.name)),d=null!==(s=null===(l=e.firstName)||void 0===l?void 0:l.trim())&&void 0!==s?s:"",u=Z&&B[r].includes("firstName");n.firstName=function(e,r,t){var{invalidFirstName:a,duplicatedPassenger:n,isFieldEmpty:i,invalidMinMaxFirstName:o}=z,{pattern:s=C.w6,minLength:l=H,maxLength:c=j}=null!=r?r:{};return O((()=>w(e,i)),(()=>x(e,l,o)),(()=>D(e,c,o)),(()=>L(e,s,a)),(()=>t?n:void 0))}(d,c,u)}if(o.includes("lastName")){var p,m,v=null==i?void 0:i.find((e=>"lastName"===e.name)),h=null!==(p=null===(m=e.lastName)||void 0===m?void 0:m.trim())&&void 0!==p?p:"",y=Z&&B[r].includes("lastName");n.lastName=function(e,r,t){var{invalidSurname:a,duplicatedPassenger:n,isFieldEmpty:i,invalidMinMaxSurname:o}=z,{pattern:s=C.w6,minLength:l=H,maxLength:c=j}=null!=r?r:{};return O((()=>w(e,i)),(()=>x(e,l,o)),(()=>D(e,c,o)),(()=>L(e,s,a)),(()=>t?n:void 0))}(h,v,y)}if(o.includes("dateOfBirth")){var f=null==i?void 0:i.find((e=>"dateOfBirth"===e.name)),{dateOfBirth:I,age:_,type:R}=e,k=Z&&B[r].includes("dateOfBirth");n.dateOfBirth=ee(I,_,R,E,f,k)}if(o.includes("gender")){var F=null==i?void 0:i.find((e=>"gender"===e.name)),{gender:M}=e;n.gender=function(e,r){var{invalidGender:t}=z,{}=null!=r?r:{};return O((()=>w(e,t)))}(M,F)}if(o.includes("documentNumber")){var{documentType:U}=e,W=(null==i?void 0:i.find((e=>"documentNumber"===e.name)))||{},G=void 0;if(P&&U){var V=P.find((e=>e.id===U));W.pattern=(null==V?void 0:V.validationRegex)||void 0,G=null==V?void 0:V.code}var Y=Z&&B[r].includes("documentNumber"),{documentNumber:K=""}=e;n.documentNumber=re(K,W,G,Y)}if(o.includes("documentType")){var{documentType:J}=e,q=Z&&B[r].includes("documentType");n.documentType=te(J,q)}if(o.includes("emailAddress")){var Q,X,$=null==i?void 0:i.find((e=>"emailAddress"===e.name)),ne=null!==(Q=null===(X=e.emailAddress)||void 0===X?void 0:X.trim())&&void 0!==Q?Q:"";n.emailAddress=ae(ne,$)}if(!b)return n;var ie,oe=b&&Object.entries(b).map((e=>{var[r,{number:t}]=e;return{cardUUID:r,cardNumber:t}})),se=null==T?void 0:T.find((r=>r.id===e.id));oe&&(n.railCards=(null==se?void 0:se.documents)&&(null===(ie=e.railCards)||void 0===ie?void 0:ie.map((r=>{var t=oe.find((e=>e.cardUUID===r.id)),a=se.documents.find((e=>e.id===r.id));return t&&a&&(S||!a.number)?{number:ke.validateRailcard(t,r,e,A)}:{number:void 0}}))));return n}))},X({invoice:d,isProvinceEnabled:p,invoiceOptions:f,enableMultiSchemaInvoice:m}));if(y||(M.email=ae(a,null==h?void 0:h.email,i),k&&(M.confirmEmail=ae(null!=i?i:"",null==h?void 0:h.email,a))),null!=v&&v.phoneNumber){var U,W,G=null!==(U=$(s,l))&&void 0!==U?U:"",V=null==I?void 0:I[null===(W=o[null!=u?u:""])||void 0===W?void 0:W.id];M.euLeadPhone=function(e,r,t){var{isInvalidPhone:a,isFieldEmpty:n}=z,{pattern:i,required:o}=t,s=r?"".concat(r.phoneCountryCode).concat(r.phoneNumber):void 0,l=e!==s;return O((()=>o?w(e,n):void 0),(()=>l&&o&&e?L(e,i,a):void 0))}(G,V,v.phoneNumber)}return null!=v&&v.title&&(M.euLeadTitle=function(e){var{invalidTitle:r}=z;return O((()=>w(e,r)))}(c)),M},ie=(e,r,t)=>{var a=ne((0,n.Z)({data:e},t)),{quickSignUpAsyncErrors:o}=t;return(0,R.Fg)(a)||null!=o&&o.password?Promise.reject(new l.t((0,n.Z)((0,n.Z)({},a),o))):((0,i.mark)(E.DELIVERY_OPTIONS_CLICK_CONTINUED),(0,f.Rz)(),Promise.resolve())},oe=(0,c.Z)(U),se=(0,m.P1)(oe,(e=>e.email)),le=(0,m.P1)(oe,(e=>e.euPassengers)),ce=(e,r,t,a)=>r.reduce(((r,i)=>{var o=(0,I.HM)(e,i.cardType.id);if(!o)return r;var s=(t?(0,P.nr)(e,t):[]).some((r=>(0,I.HM)(e,r.cardType)===o)),l=a&&Object.keys(a).find((e=>e===i.id));return s&&!l?r:r.concat((0,n.Z)((0,n.Z)({},i),{},{code:o}))}),[]),de=(0,m.P1)((e=>e),oe,P.cY,_.S,_.gk,((e,r,t,a,n)=>{var{euPassengers:i=[],euLeadPassenger:o="0",email:s}=r,l=(0,Z._0)(),c=(0,g.isItaloPortal)(l),d=parseInt(o,10);return i.map(((r,i)=>{var o,l,u=i===d,{id:p,documentNumber:m,documentType:g,gender:v,generic:h,railCards:y,save:f,saveToggle:E}=r,b=null!==(o=t[p])&&void 0!==o?o:{},{travelDocument:S}=b,{firstName:T,lastName:A,emailAddress:I,dateOfBirth:_}=((e,r)=>{var t,a,n,i;return{firstName:null!==(t=r.firstName)&&void 0!==t?t:e.firstName,lastName:null!==(a=r.lastName)&&void 0!==a?a:e.lastName,dateOfBirth:null!==(n=r.dateOfBirth)&&void 0!==n?n:e.dateOfBirth,emailAddress:null!==(i=r.emailAddress)&&void 0!==i?i:e.emailAddress}})(r,b),P=I&&(0,C.D)(I);c&&!P&&u&&(P=s);var R,k,N,O,L=null==n||null===(l=n.find((e=>e.id===g)))||void 0===l?void 0:l.code,x={id:p,firstName:T&&(0,C.D)(T),lastName:A&&(0,C.D)(A),email:P,dateOfBirth:_,title:void 0,generic:h,gender:v||"male",save:f,identificationDocuments:(R=g,k=L,N=m,O=null==S?void 0:S.selfNonRedactedDocumentLink,R&&N?[{type:R,code:k,number:(0,C.D)(N)}]:O?[{secureTravelDocumentUrl:O}]:void 0),saveToggle:E};return y&&(x.railCards=ce(e,y,p,a)),x}))})),ue=(0,m.P1)(oe,(e=>e.invoice.requestInvoice||!1)),pe=(0,m.P1)(oe,(e=>e.invoice.recipientType||v.C.company)),me=(0,m.P1)(oe,(e=>{var r;return!(null==e||null===(r=e.invoice)||void 0===r||!r.countryCode)&&"IT"===e.invoice.countryCode})),ge=(0,m.P1)(oe,(e=>{var r;return null==e||null===(r=e.invoice)||void 0===r?void 0:r.countryCode})),ve=["IT"],he=(e,r)=>ve.includes(e)&&r;var ye=(0,m.P1)(S.Gg,(e=>e.enableMultiSchemaInvoice)),fe=(0,m.P1)(oe,ye,(function(e,r){var{email:t,invoice:a}=e;if(null!=a&&a.requestInvoice){var i=he(a.countryCode,r),o={email:t,recipientType:a.recipientType,city:a.city,postcode:a.postcode,countryCode:a.countryCode,province:a.province};return a.recipientType===v.C.company&&(o=(0,n.Z)((0,n.Z)({},o),{},{vatNumber:a.vatNumber,companyName:a.companyName})),a.recipientType===v.C.personal&&(o=(0,n.Z)((0,n.Z)({},o),{},{socialSecurityNumber:a.socialSecurityNumber,firstName:a.firstName,lastName:a.lastName})),i?(0,n.Z)((0,n.Z)({},o),{},{detailedAddress:{streetName:a.streetName,italianStreetType:a.italianStreetType,buildingNumber:a.buildingNumber},certifiedEmail:a.certifiedEmail,recipientCode:a.recipientCode}):(0,n.Z)((0,n.Z)({},o),{},{street:a.street})}})),Ee=(0,m.P1)(de,oe,fe,((e,r,t)=>{var{email:a,euLeadPhone:n,euLeadPhonePrefix:i,euLeadPassenger:o,euLeadTitle:s,euLeadSave:l}=r;return{email:a,method:"",leadPhone:$(i,n),leadPhonePrefix:i,leadPhoneNumber:n&&J(n),leadSave:l,leadPassenger:o,leadTitle:s,passengers:e,invoice:t}})),be=(0,m.P1)(T.MF,P.cY,_.EL,_.gk,B.DX,(function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=Object.entries(t).filter((e=>{var[r,t]=e;return!!t.required})).map((e=>{var[r,t]=e,{required:i}=t,o=(0,a.Z)(t,M);return(0,n.Z)({name:r},o)}));if(i){var l=i.length>0&&i[0].subjects?i[0].subjects:[];s.push({name:"documentNumber",subjects:l},{name:"documentType",subjects:l})}var c=["documentNumber","documentType"];return e.reduce(((e,t)=>{var a=t.id?r[t.id]:void 0,i=a?s.filter((e=>{var{name:r}=e;return a.emptyProperties.includes(r)||o&&c.includes(r)})):s,l=[...i.filter((e=>!e.subjects||0===e.subjects.length)),...i.filter((e=>e.subjects&&e.subjects.some((e=>{var{id:r}=e;return r===t.id}))))];return(0,n.Z)((0,n.Z)({},e),{},{[t.id]:l})}),{generic:s})})),Se=["gender","documentNumber","documentType"],Te=(0,m.P1)(A.L6,T.MF,be,P.cY,((e,r,t,a)=>r.reduce(((r,i)=>{var o=a[i.id];return e?(0,n.Z)((0,n.Z)({},r),{},{[i.id]:(t[i.id]||t.generic).filter((e=>{var{name:r}=e;return!Se.includes(r)})).length>0||!(!i||!i.documents)&&i.documents.some((e=>!o||!o.railCards||!o.railCards.some((r=>r.id===e.id&&(null===r.number||String(r.number)===e.number)))))}):(0,n.Z)((0,n.Z)({},r),{},{[i.id]:!1})}),{}))),Ce=(0,m.P1)(A.EM,A.yW,((e,r)=>Boolean(e||r))),Ae=(0,d.Z)(U),Ie=(0,u.Z)(U),_e=(0,m.P1)(Ae,Ie,((e,r)=>e||r)),Pe=(0,p.Ps)(U),Re=(e,r)=>(e=>{var r=e.toUpperCase();if(r.length<=7)return!1;var t,a=Number("X"===(t=r.slice(0,r.length-1))[0]?t.replace(t[0],"0"):"Y"===t[0]?t.replace(t[0],"1"):"Z"===t[0]?t.replace(t[0],"2"):t);return!isNaN(a)&&"TRWAGMYFPDXBNJZSQVHLCKE"[a%23]===r[r.length-1]})(e)?void 0:r,ke={filterRailcardsForPayload:ce,onSubmit:ie,validate:ne,validateDateOfBirth:ee,validateDocumentNumber:re,validateDocumentType:te,validateRailcard:(e,r,t,a)=>{var n=a&&a[r.cardType.id];if(n&&n.prefix){if(!r.number||r.number.length===n.prefix.length)return{id:z.emptySNCFCardNumber};if(e.cardNumber){if(e.cardNumber.minLength&&r.number.length<e.cardNumber.minLength)return{id:z.SNCFCardNumberTooShort,meta:{minLength:e.cardNumber.minLength-n.prefix.length}};if(e.cardNumber.maxLength&&r.number.length>e.cardNumber.maxLength)return{id:z.SNCFCardNumberTooLong,meta:{maxLength:e.cardNumber.maxLength-n.prefix.length}};var i=t.dateOfBirth?y.VT.age(n,(0,h.CY)(t.dateOfBirth)):void 0;if(i)return{id:i.message,meta:i.meta};var o=y.VT.pattern(n,r.number);if(o)return{id:o.message};var s=y.VT.luhn(n,r.number);if(s)return{id:s.message}}}},validationErrors:z,removePhoneFormattingCharacters:J,selectEmail:se,selectEuTicketPayload:Ee,selectEuTicketPassengerPayload:de,selectPassengersEligibleForSaving:Te,selectEnableUseSavedPassengerData:Ce}},42086:(e,r,t)=>{"use strict";t.d(r,{C:()=>a});var a=function(e){return e.company="company",e.personal="personal",e}({})},7674:(e,r,t)=>{"use strict";t.d(r,{Ny:()=>k,ZP:()=>w,_5:()=>R,lF:()=>_,xx:()=>D});var a=t(18406),n=t(29744),i=t(55265),o=t(37544),s=t(87582),l=t(54466),c=t(7185),d=t(426),u=t(94431),p=t(51282),m=t(78307),g=t(60654),v=t(59838),h=t(18362),y=t(36592),f=t(97819),E=t(89034),b=t(62331),S=t(97340),T=t(87),C=t(11618),A=t(23385),I=(0,y.ul)(S.QU),_=(0,y.ul)(S.jt),P=(0,y.ul)(S.oj),R=(0,y.ul)(S.cj),k=(0,y.ul)(S.UL),N=()=>(0,s.of)((0,o.ET)({id:"passengerProfileModal",state:{savedPassengerProfileStatus:g.LoadStatus.ERROR}})),O=()=>(0,s.of)((0,o.ET)({id:"passengerProfileModal",state:{deleteSavedPassengerStatus:g.LoadStatus.ERROR}})),L=()=>(0,o.ET)({id:"passengerProfileModal",state:{savedPassengerProfileStatus:g.LoadStatus.UNDEFINED,deleteSavedPassengerStatus:g.LoadStatus.UNDEFINED}}),x=()=>(0,E.GZ)({shouldDismiss:!0}),D=(e,r)=>{var t=(0,p.OF)(e,r),a=t&&t.discountCards;if(a&&a.length)return a.reduce(((r,t)=>{var{id:a,uuid:n,accountNumber:i}=t,o=(0,b.HM)(e,a);return o&&n?[...r,{id:n,cardType:{id:a},code:o,number:i}]:r}),[])};const w=(0,i.l)(((e,r)=>e.ofType(n.ZP.SET_SUBMIT_SUCCEEDED).pipe((0,u.h)((e=>{var{meta:r}=e;return r.form===T.Th})),(0,c.w)((()=>{var e=r.getState(),t=(0,C.Mv)(e),n=t,i=(0,C.zs)(e)===T.hN.NEW;i&&(n.generic=!0,n.railCards=D(e,t.id));var u=(0,p.eG)(e);return(0,l.z)((0,s.of)((0,o.ET)({id:"passengerProfileModal",state:{savedPassengerProfileStatus:g.LoadStatus.PENDING}})),(0,s.of)(i?{type:"NOOP"}:I({savedPassenger:t})),(0,h.mh)([n]).pipe((0,c.w)((r=>{var n=Object.values(r.body.data.savedPassengers).filter(v.v),i=(0,f.zZ)(n).concat(u.filter((e=>{var{id:r}=e;return r!==t.id})));return((e,r)=>{r.forEach((r=>{var t=(0,p.OF)(e,r.id);r.selected=!t||t.selected}))})(e,i),[_(r.body.data),(0,a.m)(m.Th,"euFlowPassengers",i),L(),x()]})),(0,d.K)(N)))})))),((e,r)=>e.ofType(S.cj).pipe((0,c.w)((e=>{var{payload:t}=e,n=r.getState(),i=t&&t.passengerId;return(0,l.z)((0,s.of)((0,o.ET)({id:"passengerProfileModal",state:{deleteSavedPassengerStatus:g.LoadStatus.PENDING}})),(0,h.hv)(i).pipe((0,c.w)((()=>{var e=n.entities.savedPassengers,r=(0,p.eG)(n),t=Object.keys(e).reduce(((r,t)=>(t!==i&&(r[t]=e[t]),r)),{}),o=(0,f.zZ)(Object.values(t).filter(v.v)).concat(r);return[_({savedPassengers:t}),(0,a.m)(m.Th,"euFlowPassengers",o),L(),x()]})),(0,d.K)(O)))})))),(e=>e.ofType(S.UL).pipe((0,c.w)((e=>{var{payload:r}=e,t=r&&r.passengerId;return(0,l.z)((0,s.of)((0,A.xY)({deleteTravelDocumentStatus:g.LoadStatus.PENDING})),(0,h.zj)(t).pipe((0,c.w)((()=>[P({passengerId:t}),(0,A.mP)({deleteTravelDocumentStatus:g.LoadStatus.SUCCESS})])),(0,d.K)((()=>(0,s.of)((0,A.__)({deleteTravelDocumentStatus:g.LoadStatus.ERROR}))))))})))))},11618:(e,r,t)=>{"use strict";t.d(r,{FE:()=>p,Mv:()=>l,OA:()=>m,X4:()=>g,eJ:()=>u,zs:()=>v});var a=t(4411),n=t(32034),i=t(51282),o=t(60654),s=t(87),l=(0,a.Z)(s.Th),c=(0,n.P1)(l,(e=>e&&e.id?e.id:void 0)),d=(0,n.P1)((e=>e.uiState),(e=>e.components.passengerProfileModal||{})),u=(0,n.P1)(d,(e=>e.savedPassengerProfileStatus===o.LoadStatus.ERROR)),p=(0,n.P1)(d,(e=>e.deleteSavedPassengerStatus===o.LoadStatus.ERROR)),m=(0,n.P1)(d,(e=>e.savedPassengerProfileStatus===o.LoadStatus.PENDING)),g=(0,n.P1)(d,(e=>e.deleteSavedPassengerStatus===o.LoadStatus.PENDING)),v=(0,n.P1)(i.rG,c,((e,r)=>e.find((e=>{var{id:t}=e;return t===r}))?s.hN.EDIT:s.hN.NEW))},87:(e,r,t)=>{"use strict";t.d(r,{MI:()=>E,Th:()=>c,hN:()=>d});var a=t(84025),n=t.n(a),i=t(14937),o=t(67292),s=t(74410),l=t(10287),c="form/CREATE_PASSENGER_PROFILE",d=function(e){return e[e.NEW=0]="NEW",e[e.EDIT=1]="EDIT",e}({}),u="modal.passengerProfile.firstNameInvalid",p="modal.passengerProfile.lastNameInvalid",m="modal.passengerProfile.dateOfBirthEmpty",g="modal.passengerProfile.dateOfBirthBefore1900",v="modal.passengerProfile.dateOfBirthInTheFuture",h="modal.passengerProfile.emailInvalid",y=(e,r)=>(0,s.Gu)([(0,s.Ei)(2),(0,s.BS)(50)])(e)?void 0:r;function f(e){if(!e)return m;var r=n()(e,o.O1,!0);return r.isBefore("1900-01-01")?g:r.isAfter(n()())?v:void 0}var E=e=>{var r,t=(e=>{return{firstName:y(e.firstName||"",u),lastName:y(e.lastName||"",p),dateOfBirth:f(e.dateOfBirth),emailAddress:(r=e.emailAddress,!r||(0,l.u$)(r)?void 0:h)};var r})(e);return r=t,Object.keys(r).some((e=>!!r[e]))?Promise.reject(new i.t(t)):Promise.resolve()}},27802:(e,r,t)=>{"use strict";t.d(r,{DQ:()=>b,Dj:()=>D,Fv:()=>I,NL:()=>w,Qp:()=>O,RD:()=>Z,W$:()=>x,WG:()=>k,ZJ:()=>L,_u:()=>N,ae:()=>S,bW:()=>C,e2:()=>E,eY:()=>R,vH:()=>_,yw:()=>P});var a=t(23198),n=t(84025),i=t.n(n),o=t(32034),s=t(59962),l=t(8563),c=t(41719),d=t(6485),u=t(20786),p=t(26068),m=t(31521),g=t(41152),v=t(33243),h=t(9884),y=(0,o.P1)(u.s,(e=>e),((e,r)=>e.map((e=>{var{productId:t}=e;return t&&(0,m.NR)(r,t)})))),f=(0,o.P1)((e=>e),y,((e,r)=>r.filter((e=>!!e)).map((r=>(0,g.$C)(e,r))).reduce(((e,r)=>i().max(i()(e),i()(r)).format()),""))),E=(0,o.P1)((e=>e),d.VX,((e,r)=>r&&Object.values(r).filter((e=>!!e)).map((r=>{if(!r.cardExpirationMonth&&!r.cardExpirationYear)return r;var t=i()("".concat(r.cardExpirationYear,"-").concat(r.cardExpirationMonth),"YY-MM");return(0,a.Z)((0,a.Z)({},r),{},{willExpireBeforeJourney:t.isBefore(f(e),"month"),cardExpiry:t.toDate()})})))),b=(0,o.P1)(E,p.Hg,((e,r)=>e&&e.some((e=>e.cardToken&&r&&r[e.cardToken]&&r[e.cardToken].totalPaymentFeeAmount>0))||!1)),S=(0,o.P1)(E,p.Hg,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return e.reduce(((e,t)=>{var a=t.cardToken&&r[t.cardToken]&&r[t.cardToken].availability,n=e&&e.cardToken&&r[e.cardToken]&&r[e.cardToken].availability;return t.isDefault?a&&!a.isAvailable?e:t:a&&n&&a.isAvailable&&!n.isAvailable?t:e}),e[0])})),T=(0,o.P1)(h.lS,E,((e,r)=>r&&e&&e.cardId?r.find((r=>r.id===e.cardId)):void 0)),C=(0,o.P1)(T,(e=>e&&e.cardType||void 0)),A=(0,o.P1)(T,(e=>e),((e,r)=>e&&e.cardToken&&(0,p.Az)(r,e)||void 0)),I=(0,o.P1)(s.Dc,(e=>e&&e.formCardToken)),_=(0,o.P1)(s.Dc,(e=>e&&e.formLastFourCardDigits)),P=(0,o.P1)(s.Dc,(e=>e&&e.formToken)),R=(0,o.P1)(s.Dc,(e=>e&&e.formCardType)),k=(0,o.P1)(c.oo,I,v._),N=(0,o.P1)(k,(e=>e&&!e.availability.isAvailable?e.availability.reasons[0].code:void 0)),O=(0,o.P1)(k,(e=>e&&e.paymentMethod)),L=(0,o.P1)(k,A,l.lU,((e,r,t)=>t&&"card"===t.paymentMethod&&e?e:t&&void 0===t.paymentMethod?r:void 0)),x=(0,o.P1)(l.lU,(e=>Boolean(e&&e[l.R3]&&e[l.R3].hasNewCardBeenSubmitted))),D=(0,o.P1)(L,p.ZC,((e,r)=>e&&e.availability.isAvailable?{currencyCode:r,amount:e.totalPaymentFeeAmount}:void 0)),w=(0,o.P1)(L,p.ZC,((e,r)=>e&&e.availability.isAvailable?{currencyCode:r,amount:e.totalAmount}:void 0)),Z=(0,o.P1)(k,p.ZC,((e,r)=>e&&e.availability.isAvailable?{currencyCode:r,amount:e.totalPaymentFeeAmount}:void 0))},31258:(e,r,t)=>{"use strict";t.d(r,{dT:()=>o,eG:()=>i,wL:()=>s});var a=t(84025),n=t.n(a),i={required:"form.validation.required",card:{cvv:"form.paymentForm.validation.cvv",expires:{inPast:"form.paymentForm.validation.cardExpiresInThePast",moreThan10Years:"form.paymentForm.validation.cardExpiresInMoreThanTenYears"}},insurance:"page.checkout.paymentForm.submitError.insurancePassengerDetailsInvalid",flexibleInsurance:"page.checkout.paymentForm.submitError.flexcoverPassengerDetailsInvalid"},o=(e,r)=>{if(null!=r&&r.length&&!/^\d+$/.test(r))return i.card.cvv;switch(e){case"Maestro":default:return 3!==(null==r?void 0:r.length)?i.card.cvv:void 0;case"AmericanExpress":return 4!==(null==r?void 0:r.length)?i.card.cvv:void 0}},s=(e,r)=>{var t=n()("".concat(r,"-").concat(e),"YY-MM");return t.isBefore(n()(),"month")?i.card.expires.inPast:t.isAfter(n()().add(10,"years"),"month")?i.card.expires.moreThan10Years:void 0}},45869:(e,r,t)=>{"use strict";t.d(r,{Gu:()=>y,MI:()=>h,Th:()=>v});var a=t(31105),n=t(82768),i=t(18406),o=t(14937),s=t(25116),l=t(12720),c=t(78524),d=t(59962),u=t(8563),p=t(98903),m=t(17967),g=t(31258),v="form/PAYMENT_PAYPAL_FORM",h=(e,r,t)=>{var{insuranceFormValues:m,confirmationEmailFormErrors:v,hasUserAcceptedTermsAndConditions:h,isNewTermsAndConditionsContainerEnabled:y,isFlexibleCover:f,insuranceState:E}=t;y&&r((0,i.Ps)(s.Th));var b={};return Object.keys(e).map((r=>{"string"==typeof e[r]&&(b[r]=e[r].trim())})),e.confirmationEmails&&(b.confirmationEmails=e.confirmationEmails.filter((e=>!!e))),new Promise(((e,t)=>{return(0,n.xbD)(v)?!h&&y?t(new o.t({})):(0,p.JZ)(m,E)?((0,p.v3)(m,r),t(null!==(i=(0,p._j)(E)[0])&&void 0!==i?i:new o.t({_error:f?g.eG.flexibleInsurance:g.eG.insurance}))):((0,a.mark)(c.OZ),(0,l.Rz)(),r((0,d.oH)()),void r((0,u.RO)({insuranceState:E,paymentValues:b,formSubmitResolve:e,formSubmitReject:t}))):t(new o.t({}));var i}))},y=e=>({confirmationEmails:(0,m.tA)(e.confirmationEmails)})},80336:(e,r,t)=>{"use strict";t.d(r,{CW:()=>y,MI:()=>f,Th:()=>c,V8:()=>p,c3:()=>E,ng:()=>g,t9:()=>d,uF:()=>m,zD:()=>u,zn:()=>v});var a=t(47637),n=t(14937),i=t(4411),o=t(79834),s=t(36592),l=e=>"QUICKSIGNUPSIGNIN_FORM/".concat(e),c="form/QUICKSIGNUPSIGNIN_FORM",d=l("SUBMIT_SUCCEEDED"),u=l("SUBMIT"),p=l("SUBMIT_FAILED"),m=function(e){return e.FAILED="FAILED",e.SUCCEEDED="SUCCEEDED",e}({}),g=(0,s.ul)(d),v=(0,s.ul)(p),h=(0,s.ul)(u),y=e=>{var r={},{password:t}=e,{errorCode:n}=(0,a.cI)(t);return t&&n&&(r.password=n),new Promise(((e,t)=>Object.keys(r).length>0?t(r):e(r)))},f=(e,r)=>y(e).then((()=>{r(h(e))})).catch((e=>{throw new n.t(e)})),E=(0,i.Z)(c);(0,o.Z)(c)},9884:(e,r,t)=>{"use strict";t.d(r,{Th:()=>I,MI:()=>k,JJ:()=>O,SW:()=>x,lS:()=>L,M3:()=>D,Gu:()=>R});var a,n,i,o,s,l=t(23198),c=t(31105),d=t(82768),u=t(14937),p=t(4411),m=t(32034),g=t(12720),v=t(67487),h=t(78524),y=t(68834),f=t(47303),E=t(59962),b=t(8563),S=t(6485),T=t(98903),C=t(17967),A=t(31258),I="form/SAVED_CARD_FORM",_=(e,r)=>{if(!r||!("GB"===r||"IE"===r))return void 0===e||void 0===r?y.ln.required:void 0},P=(e,r)=>{if(!r||"GB"!==r)return void 0===e?y.ln.required:void 0},R=(e,r)=>{var{cardCVV:t,confirmationEmails:a,cardExpirationMonth:n,cardExpirationYear:i,country:o,state:s,addressLine1:l,addressLine2:c,addressLine3:d,addressLine4:u,addressLine5:p,city:m,postCode:g}=e,v=r.selectedCardId,h=r.savedCards.find((e=>e.id===v)),f=null==h?void 0:h.cardType,E=r.isBillingAddressRequired?y.ln.required:void 0;return{cardCVV:(0,A.dT)(f,t),confirmationEmails:(0,C.tA)(a),cardExpirationMonth:"number"==typeof n&&"number"==typeof i?n?(0,A.wL)(n,i):A.eG.required:void 0,cardExpirationYear:"number"==typeof n&&"number"==typeof i?i?(0,A.wL)(n,i):A.eG.required:void 0,state:r.isBillingAddressRequired?_(s,o):void 0,addressLine1:"string"==typeof l?(0,y.TF)(o,l,"addressLine1"):r.isBillingAddressRequired?y.ln.address.firstLineRequired:void 0,addressLine2:c&&(0,y.TF)(o,c,"addressLine2"),addressLine3:d&&(0,y.TF)(o,d,"addressLine3"),addressLine4:u&&(0,y.TF)(o,u,"addressLine4"),addressLine5:p&&(0,y.TF)(o,p,"addressLine4"),city:r.isBillingAddressRequired?P(m,o):void 0,postCode:"string"==typeof g?(0,y.XV)(o,g,!r.isManualAddress,!0):E}},k=(e,r,t)=>{if((0,T.JZ)(t.insuranceFormValues,t.insuranceState)){var a;(0,T.v3)(t.insuranceFormValues,r);var n=(0,T._j)(t.insuranceState);return Promise.reject(null!==(a=n[0])&&void 0!==a?a:new u.t({_error:A.eG.insurance}))}Object.keys(e).map((r=>{"string"==typeof e[r]&&(e[r]=e[r].trim())})),e.confirmationEmails&&(e.confirmationEmails=e.confirmationEmails.filter((e=>!!e))),(0,c.mark)(h.OZ),(0,g.Rz)(),r((0,E.oH)()),r((0,b.tF)((0,l.Z)((0,l.Z)({},e),{},{insuranceState:t.insuranceState})))},N=(a="savedCardForm",n=v.ErrorType.Customer,i="inline.validation.error",e=>Object.keys(e).filter((e=>o?o.includes(e):e)).map((r=>({id:"".concat(a,".").concat(s&&s[r]||r),type:n,format:i,message:e[r]})))),O=(e,r)=>{var t=(e=>Object.keys(e).filter((r=>e[r])).reduce(((r,t)=>(0,l.Z)((0,l.Z)({},r),{},{[t]:e[t]})),{}))(e);Object.keys(t).length&&r((0,f.Bp)(N(t)))},L=(0,p.Z)(I),x=(0,m.P1)(L,(e=>e&&(e.cardExpirationMonth||e.cardExpirationYear))),D=(0,m.P1)((e=>e),L,((e,r)=>{var t=(0,S.zp)(e,r.cardId),a=(0,l.Z)((0,l.Z)({},t),{},{cardExpirationMonth:r.cardExpirationMonth,cardExpirationYear:r.cardExpirationYear});return(0,d.CEd)(["addressLine1","addressLine2","addressLine3","addressLine4","addressLine5","country","city","state","postCode","consent"],a)}))},69032:(e,r,t)=>{"use strict";t.d(r,{Gy:()=>T,MI:()=>P,N7:()=>_,NS:()=>A,Ps:()=>R,Qx:()=>v,R_:()=>f,Th:()=>g,Tw:()=>b,ZA:()=>h,b5:()=>C,hH:()=>I,qr:()=>S});var a=t(67487),n=t(31105),i=t(4411),o=t(18406),s=t(32034),l=t(4385),c=t(64997),d=t(12720),u=t(85536),p=t(78524),m=t(29728),g="form/SEAT_RESERVATIONS",v={reserveOutward:void 0,reserveInward:void 0,direction:void 0,position:void 0,carriageType:void 0,bikeExtraQuantity:void 0,facilities:void 0},h={invalidOutwardReserve:"page.travelOptions.seatReservation.invalidOutwardReserve",invalidInwardReserve:"page.travelOptions.seatReservation.invalidInwardReserve"},y=e=>"boolean"==typeof e?e:"true"===e||"false"!==e&&void 0,f=(0,i.Z)(g),E=(0,s.P1)(f,(e=>e&&e.bikeExtraQuantity)),b=(0,s.P1)(E,m._V,((e,r)=>r),((e,r,t)=>t),((e,r,t,a)=>{if(!e&&void 0===a)return[];var n=void 0!==a?a:e;return(r.extras||[]).filter(c.op).filter((e=>e.legs.map((e=>e.id)).some((e=>{var r,a,n;return((null===(r=t.outwardJourneyPlan)||void 0===r?void 0:r.legs)||[]).map((e=>e.id)).includes(e)&&(0,c.Ky)(t.outwardJourneyPlan.bikeRestrictionStatus)||((null===(a=t.inwardJourneyPlan)||void 0===a?void 0:a.legs)||[]).map((e=>e.id)).includes(e)&&(0,c.Ky)(null==t||null===(n=t.inwardJourneyPlan)||void 0===n?void 0:n.bikeRestrictionStatus)})))).map((e=>({extra:e.id,quantity:Number(n)})))})),S=(0,s.P1)(f,(e=>e?y(e.reserveOutward):void 0)),T=(0,s.P1)(f,(e=>{if(e){var r=(0,u.tq)(),t=(0,l._0)();return!r&&"Leisure"===t||void 0!==e.reserveInward?y(e.reserveInward):y(e.reserveOutward)}})),C=(0,s.P1)(f,(e=>{var r=(e&&e.facilities||[]).filter((e=>{var{value:r}=e;return!!r})).map((e=>{var{name:r}=e;return r.toLowerCase()})).join(", "),t=(e&&[e.direction,e.position,e.carriageType]||[]).filter((e=>!!e)).map((e=>e&&e.toLowerCase())).join(", "),a=r.length>0||t.length>0,n=r.length>0&&t.length>0;return a?"".concat(t).concat(n?", ":"").concat(r):void 0})),A=(0,s.P1)(f,(e=>{if(!e)return!1;var r=(e.facilities||[]).some((e=>!!e.value));return[e.position,e.direction,e.carriageType].some((e=>!!e))||r})),I=(e,r)=>{var{selectedReservationOffers:t}=e;return t&&r?!!t.find((e=>r.reservationIds.includes(e.id))):void 0},_={type:a.ErrorType.Customer,id:"seatReservations.reserve",format:"inline.validation.error"},P=()=>((0,n.mark)(p.p1),(0,d.Rz)(),Promise.resolve()),R=(0,o.Ps)(g)},1699:(e,r,t)=>{"use strict";t.d(r,{j:()=>a});t(32034);var a=e=>r=>r.form&&r.form[e]},73584:(e,r,t)=>{"use strict";t.d(r,{Qw:()=>y,ZP:()=>b});var a=t(18406),n=t(29744),i=t(4411),o=t(55265),s=t(87582),l=t(73606),c=t(94431),d=t(7185),u=t(78307),p=t(36592),m=t(89034),g=t(66763),v=t(29240),h="DELETE_VOUCHER",y=(0,p.RW)(h),f=()=>(0,s.of)((0,m.GZ)({shouldDismiss:!0})),E=()=>(0,s.of)((0,a.q1)(u.Th,"voucherInput",void 0),(0,a.q1)(u.Th,"voucherPassengerSelections",void 0));const b=(0,o.l)(((e,r)=>e.ofType(n.ZP.SET_SUBMIT_SUCCEEDED).pipe((0,c.h)((e=>{var{meta:r}=e;return r.form===v.Th})),(0,d.w)((()=>{var e=r.getState(),t=(0,i.Z)(v.Th)(e);return(0,l.T)((e=>{var{voucherNumber:r,selectedPassenger:t}=e;return(0,s.of)((0,a.m)(u.Th,"voucherInput",r.trim()),(0,a.m)(u.Th,"voucherPassengerSelections",t))})(t),f())})))),(e=>e.ofType(h).pipe((0,d.w)((()=>(0,l.T)(E(),f()))))),(e=>e.ofType(g.$5).pipe((0,d.w)((()=>E())))))},29240:(e,r,t)=>{"use strict";t.d(r,{$G:()=>i,MI:()=>o,Th:()=>n});var a=t(74410),n="form/ADD_VOUCHER",i=e=>{var{voucherNumber:r,selectedPassenger:t}=e;return!(0,a.C1)((r||"").trim())||!(0,a.C1)(t)},o=e=>i(e)?Promise.reject():Promise.resolve()},4794:(e,r,t)=>{"use strict";t.d(r,{Dl:()=>d,I6:()=>S,JW:()=>u,RP:()=>m,S9:()=>g,Tk:()=>v,fv:()=>f,jk:()=>p,uV:()=>b});var a=t(23198),n=t(53066),i=t(14035),o=t(32034),s=t(42769),l=t(28593),c=e=>e.history,d=(0,o.P1)(c,(e=>e.previousPaths)),u=(0,o.P1)(c,(e=>e.previousPaths.length)),p=(0,o.P1)(d,(e=>null==e?void 0:e.find((e=>{var{pathname:r}=e;return r===s.L1.results()})))),m=(0,o.P1)(c,(e=>e.navigationType)),g=e=>{var{router:r}=e;return r.location.pathname},v=e=>{var{router:r,history:t}=e;if(t.previousPaths.length)for(var a=t.previousPaths,n=r.location.pathname,i=0;i<a.length;i++)if(n!==a[i].pathname)return a[i].pathname},h=e=>"history/".concat(e),y=h("PUSH_HISTORY"),f=(0,n.Z)(y),E=h("SET_SOFT_NAVIGATION"),b=(0,n.Z)(E),S=(0,i.Z)({[y]:(e,r)=>{var t,n,i;return"PUSH"===(null==r||null===(t=r.payload)||void 0===t?void 0:t.action)&&(null==r||null===(n=r.payload)||void 0===n||null===(n=n.location)||void 0===n?void 0:n.key)===(null==e||null===(i=e.previousPaths[0])||void 0===i?void 0:i.key)?e:(0,a.Z)((0,a.Z)({},e),{},{previousPaths:[r.payload.location,...e.previousPaths]})},[E]:e=>(0,a.Z)((0,a.Z)({},e),{},{navigationType:l.N.SOFT})},{previousPaths:[],navigationType:l.N.HARD})},67903:(e,r,t)=>{"use strict";t.d(r,{I6:()=>l,KX:()=>d,bE:()=>u,cd:()=>m,rt:()=>g});var a=t(14035),n=t(32034),i=t(29433),o=t(40939),s=t(68760),l=(0,a.Z)({},{}),c=e=>e.homepage,d=function(e){return e.HomeIntlEnUs="HomeIntlEnUs",e.HomeUK="HomeUK",e.HomeEU="HomeEU",e}({}),u=(0,n.P1)(c,(e=>e.isIntlRequest)),p=(0,n.P1)(c,(e=>e.isBot)),m=(0,n.P1)(o.fN,u,p,((e,r,t)=>{switch(e){case"en-US":return d.HomeIntlEnUs;case"en-GB":return r&&!t?d.HomeIntlEnUs:d.HomeUK;default:return d.HomeEU}})),g=(0,n.P1)(m,s.L6,i.iF,((e,r,t)=>r&&t&&e===d.HomeEU))},24127:(e,r,t)=>{"use strict";t.d(r,{I6:()=>a,no:()=>n});var a=(0,t(14035).Z)({UPDATE_INTERNAL_AD_CAMPAIGN_DATA:e=>e},null),n=e=>e.internalAdCampaign},88589:(e,r,t)=>{"use strict";t.d(r,{I6:()=>c,JQ:()=>d,JR:()=>p,PP:()=>m,bE:()=>u,uv:()=>g});var a=t(23198),n=t(82768),i=t(14035),o=t(32034),s=t(21168),l=t(89034),c=(0,i.Z)({[l.jw]:(e,r)=>{var{payload:t}=r;return[...e,t]},[l.JA]:(e,r)=>{var{payload:t}=r;return[...(0,n.mAg)(1,e),t]},[l.Qv]:e=>(0,n.mAg)(1,e),[l.tL]:()=>[],[l.Un]:(e,r)=>{var{payload:t}=r;return[(0,a.Z)((0,a.Z)({},e[0]),t)]}},[]),d=e=>{var{modals:r}=e;return r},u=(0,o.P1)(d,(e=>e.filter((e=>{var{type:r}=e;return r===s.e.DISCOUNT_CARD})))),p=(0,o.P1)(d,(e=>e.filter((e=>{var{type:r}=e;return r===s.e.PRM_DETAILS})))),m=(0,o.P1)(d,(e=>e.filter((e=>{var{type:r}=e;return r===s.e.PASSENGER_PROFILE})))),g=(0,o.P1)(d,((e,r)=>r),((e,r)=>e.some((e=>{var{type:t}=e;return t===r}))))},63651:(e,r,t)=>{"use strict";t.d(r,{Dq:()=>c,EC:()=>o,I6:()=>p,Iq:()=>d,hD:()=>u});var a=t(14035),n=t(36592),i=e=>"notification/".concat(e),o=i("ENSURE"),s=i("REPLACE"),l=i("POP"),c=i("REMOVE"),d=((0,n.ul)(o),(0,n.ul)(s)),u=(0,n.ul)(l),p=((0,n.ul)(c),(0,a.Z)({[s]:(e,r)=>{var{payload:t}=r;return e.filter((e=>e.type!==t.type)).concat([t])},[l]:(e,r)=>{var{payload:t}=r;return e.filter((e=>e.type!==t.type))}},[]))},93643:(e,r,t)=>{"use strict";t.d(r,{$h:()=>E,Cd:()=>F,EN:()=>b,Eo:()=>x,I6:()=>_,O7:()=>L,QG:()=>S,Qw:()=>B,Vd:()=>v,YA:()=>u,YW:()=>A,Yo:()=>U,_1:()=>y,bV:()=>C,dU:()=>T,eJ:()=>D,f9:()=>M,rc:()=>w,vZ:()=>Z,xJ:()=>f,y1:()=>N,zi:()=>h});var a=t(23198),n=t(84025),i=t.n(n),o=t(14035),s=t(32034),l=t(36592),c=t(20066),d="SHOW_JOURNEY_SEARCH_WARNING",u="EXTEND_SESSION",p="EXPIRE_JOURNEYSEARCH_SESSION",m="EXPIRE_AUTH_SESSION",g="EXPIRE_LOGGED_IN_SESSION",v="CHECK_SESSION",h="PUSH_RELOAD",y="REPLACE_RELOAD",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.ul)(u)(e)},E=(0,l.PH)(d),b=(0,l.PH)(p),S=(0,l.PH)(m),T=(0,l.PH)(g),C=(0,l.PH)(v),A=((0,l.PH)(h),(0,l.PH)(y)),I=()=>({isAuthExpired:!1,isLoggedInExpired:!1,authExpirationTime:0,loggedInExpirationTime:0,isJourneySearchExpired:!1,isJourneySearchWarning:!1,journeySearchWarningTime:Date.now()+78e4,journeySearchExpirationTime:Date.now()+12e5}),_=(0,o.Z)({[c.kX]:(e,r)=>{var{payload:t}=r,{auth:n}=t;return(0,a.Z)((0,a.Z)({},e),{},{authExpirationTime:n&&n.expires&&1e3*n.expires||0,loggedInExpirationTime:n&&n.loginExpires&&1e3*n.loginExpires||0})},[u]:(e,r)=>{var{payload:{hasUserExtendedSession:t}}=r;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),I()),{},{authExpirationTime:e.authExpirationTime,loggedInExpirationTime:e.loggedInExpirationTime,hasUserExtendedSession:t})},[d]:e=>(0,a.Z)((0,a.Z)({},e),{},{isJourneySearchWarning:!0}),[m]:e=>(0,a.Z)((0,a.Z)({},e),{},{isAuthExpired:!0,isJourneySearchWarning:!1}),[g]:e=>(0,a.Z)((0,a.Z)({},e),{},{isLoggedInExpired:!0}),[p]:e=>(0,a.Z)((0,a.Z)({},e),{},{isJourneySearchExpired:!0,isJourneySearchWarning:!1})},I()),P=e=>e.sessionTimeout,R=(0,s.P1)(P,(e=>e.authExpirationTime)),k=(0,s.P1)(P,(e=>e.loggedInExpirationTime)),N=(0,s.P1)(P,(e=>e.journeySearchExpirationTime)),O=(0,s.P1)(P,(e=>e.journeySearchWarningTime)),L=(0,s.P1)(P,(e=>e.isAuthExpired)),x=(0,s.P1)(P,(e=>e.isLoggedInExpired)),D=(0,s.P1)(P,(e=>e.isJourneySearchExpired)),w=(0,s.P1)(P,(e=>e.isJourneySearchWarning)),Z=(0,s.P1)(L,D,((e,r)=>e||r)),F=((0,s.P1)(P,(e=>e.hasUserExtendedSession)),e=>{var r=N(e);return!(!r||!i()().isAfter(r))}),B=e=>{var r=R(e);return!(!r||!i()().isAfter(r))},M=e=>{var r=k(e);return!(!r||!i()().isAfter(r))},U=e=>{var r=O(e);return!(!r||!i()().isAfter(r))}},54575:(e,r,t)=>{"use strict";t.d(r,{F5:()=>p,I6:()=>h,Jn:()=>g,Ro:()=>m,im:()=>f});var a=t(23198),n=t(53066),i=t(14035),o=t(32034),s=t(36592),l=t(17161),c="ADDRESS_FORM_MANUAL_ADDRESS",d="ADDRESS_FORM_FOCUS_BACKLINK",u="RESET_ADDRESS_FORM",p=(0,s.ul)(c),m=(0,s.ul)(d),g=(0,n.Z)(u),v={isManualAddress:void 0,isBackLinkFocused:!1},h=(0,i.Z)({[c]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{isManualAddress:t})},[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{isBackLinkFocused:t})},[u]:e=>(0,a.Z)((0,a.Z)({},e),v)},v),y=(0,o.P1)(l.h,(e=>e.addressForm)),f=(0,o.P1)(y,(e=>!!e.isManualAddress))},98831:(e,r,t)=>{"use strict";t.d(r,{I6:()=>p,qm:()=>d,rb:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(68117),l=t(17161),c="AUTO_GROUP_SAVE_MODAL_STATE",d=(0,o.ul)(c),u={modalState:s.N.READY_TO_DISPLAY},p=(0,n.Z)({[c]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{modalState:t})}},u),m=(0,i.P1)(l.h,(e=>{var r;return(null==e||null===(r=e.autoGroupSave)||void 0===r?void 0:r.modalState)||s.N.READY_TO_DISPLAY}))},91490:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,Zy:()=>p,li:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="SET_CALLOUT_VISIBILITY",c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{isVisible:t})}},{isVisible:!1}),u=(0,i.P1)(s.h,(e=>e.cjsCallout)),p=(0,i.P1)(u,(e=>e.isVisible))},9641:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,cp:()=>c,ss:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="CJS_FOCUS_CONTINUE",c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{focusCJSContinueButton:t})}},{focusCJSContinueButton:!1}),u=(0,i.P1)(s.h,(e=>e.cjsContinue)),p=(0,i.P1)(u,(e=>e.focusCJSContinueButton))},26260:(e,r,t)=>{"use strict";t.d(r,{HX:()=>c,I6:()=>d,Nv:()=>m,Zd:()=>v,be:()=>p,dw:()=>g,sy:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="COACH_UI_STATE",c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)}},{}),u=(0,i.P1)(s.h,(e=>e.coach||{})),p=(0,i.P1)(u,(e=>e&&e.selectedOutwardOffer)),m=(0,i.P1)(u,(e=>e&&e.selectedInwardOffer)),g=(0,i.P1)(u,(e=>e&&e.currentCoachJourneyAvailability)),v=(0,i.P1)(u,(e=>e&&e.pendingCoachJourneyAvailability))},59770:(e,r,t)=>{"use strict";t.d(r,{I6:()=>p,uh:()=>g,xC:()=>d});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(65033),l=t(17161),c="COMFORT_FILTER_SELECTED_TAB",d=(0,o.ul)(c),u={selectedTab:s.H.STANDARD},p=(0,n.Z)({[c]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{selectedTab:t})}},u),m=(0,i.P1)(l.h,(e=>e.comfortFilter)),g=(0,i.P1)(m,(e=>e.selectedTab))},26074:(e,r,t)=>{"use strict";t.d(r,{C9:()=>c,I6:()=>d,aD:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="SELECT_EU_DISCOUNT_CARD",c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{selected:t})}},{selected:null}),u=(0,i.P1)(s.h,(e=>e.discountCards)),p=(0,i.P1)(u,(e=>e.selected))},86278:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,i2:()=>p,jI:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="EU_COACH_TAB_VISIBILITY",c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{isVisible:t})}},{isVisible:!1}),u=(0,i.P1)(s.h,(e=>e.euCoachTab)),p=(0,i.P1)(u,(e=>e.isVisible))},14891:(e,r,t)=>{"use strict";t.d(r,{$Y:()=>h,I6:()=>g,Mw:()=>u,aO:()=>y,fn:()=>p});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(28935),l=t(17161),c="FLEXIBILITY_FILTER_SELECTED_TAB",d="FLEXIBILITY_FILTER_OUTWARD_SELECTED_TAB",u=(0,o.ul)(c),p=(0,o.ul)(d),m={selectedTab:s.h.NON_FLEXIBLE},g=(0,n.Z)({[c]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{selectedTab:t})},[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{outwardSelectedTab:t})}},m),v=(0,i.P1)(l.h,(e=>e&&e.flexibilityFilter||{})),h=(0,i.P1)(v,(e=>e.selectedTab)),y=(0,i.P1)(v,(e=>e.outwardSelectedTab))},36646:(e,r,t)=>{"use strict";t.d(r,{FD:()=>g,I6:()=>y,O1:()=>u,VP:()=>m,p:()=>p,rm:()=>v});var a=t(23198),n=t(14035),i=t(36592),o="RESET_MATRIX_UI",s="MATRIX_UI_HOVERED_CELL",l="MATRIX_UI_FARES_EXPANDED",c="MATRIX_UI_DIRECTION",d="MATRIX_UI_SELECTED_DIRECTION",u=(0,i.RW)(o),p=(0,i.ul)(s),m=(0,i.ul)(c),g=(0,i.ul)(l),v=(0,i.ul)(d),h={},y=(0,n.Z)({[o]:()=>h,[s]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{hoveredCell:t})},[c]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)},[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)},[d]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)}},h)},66871:(e,r,t)=>{"use strict";t.d(r,{I6:()=>d,XD:()=>c,cV:()=>u});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="PARTNER_JOURNEY_ALERT",c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{title:t.title,message:t.message})}},{title:"",message:""}),u=(0,i.P1)(s.h,(e=>e&&e.partnerJourneyAlert||[]))},98754:(e,r,t)=>{"use strict";t.d(r,{I$:()=>u,I6:()=>d,on:()=>c});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="QUICK_SIGN_UP_SIGN_IN/".concat("UPDATE"),c=(0,o.ul)(l),d=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),t)}},{canSignUp:!1,promptLogin:!1}),u=(0,i.P1)(s.h,(e=>e.quickSignUpSignIn))},85066:(e,r,t)=>{"use strict";t.d(r,{I6:()=>p,Zz:()=>u,a0:()=>d,a3:()=>c,vs:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="OPEN_CRITICAL_OVERLAY",c="CLOSE_CRITICAL_OVERLAY",d=(0,o.ul)(l),u=(0,o.ul)(c),p=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{errors:t.errorCodes})},[c]:e=>(0,a.Z)((0,a.Z)({},e),{},{errors:[]})},{errors:[]}),m=(0,i.P1)(s.h,(e=>{var r,t;return null!==(r=null===(t=e.reservationErrorsCriticalOverlay)||void 0===t?void 0:t.errors)&&void 0!==r?r:[]}))},94018:(e,r,t)=>{"use strict";t.d(r,{$O:()=>C,Ac:()=>f,DD:()=>I,I6:()=>b,N1:()=>y,Pl:()=>h,Zz:()=>A,eb:()=>v,vR:()=>T});var a=t(23198),n=t(14035),i=t(32034),o=t(60654),s=t(36592),l=t(24087),c=t(83504),d=t(17161),u="RESULTS_SELECTED_TAB",p="RESULTS_ERROR",m="UPDATE_JOURNEY_SEARCH_EU",g="CARRIER_FILTER_SELECTED_TAB",v=(0,s.ul)(u),h=(0,s.ul)(g),y=(0,s.PH)(p),f=(0,s.ul)(m),E={error:void 0},b=(0,n.Z)({[m]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{journeySearchEU:{train:(0,a.Z)((0,a.Z)({},(e.journeySearchEU||{}).train),t.train),coach:(0,a.Z)((0,a.Z)({},(e.journeySearchEU||{}).coach),t.coach)}})},[u]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{selectedTab:t})},[g]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{selectedCarrierFilterTab:t})},[p]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{error:t})}},E),S=(0,i.P1)(d.h,(e=>e.results||{})),T=(0,i.P1)(S,c.FD,((e,r)=>{if(e.selectedTab)return e.selectedTab;var t=r&&r.query&&r.query.selectedTab;return t===l.ZP.TRAIN||t===l.ZP.COACH?t:l.ZP.TRAIN})),C=(0,i.P1)(c.FD,(e=>{var r=e&&e.query&&e.query.selectedCarrierFilterTab;return r===o.CarrierTabType.ALL_TRAINS||r===o.CarrierTabType.OUR_TRAINS?r:o.CarrierTabType.ALL_TRAINS})),A=(0,i.P1)(S,(e=>e.error)),I=(0,i.P1)(S,(e=>e.journeySearchEU))},86234:(e,r,t)=>{"use strict";t.d(r,{I6:()=>u,SV:()=>c,uh:()=>m});var a=t(23198),n=t(14035),i=t(32034),o=t(36592),s=t(17161),l="SECTION_CSFP_SELECTED_COMFORT",c=(0,o.ul)(l),d={selectedComfortID:void 0},u=(0,n.Z)({[l]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{selectedComfortID:t})}},d),p=(0,i.P1)(s.h,(e=>e.sectionCSFP)),m=(0,i.P1)(p,(e=>e.selectedComfortID))},33360:(e,r,t)=>{"use strict";t.d(r,{HD:()=>u,I6:()=>c,dN:()=>l});var a=t(23198),n=t(14035),i=t(32034),o=t(17161),s="DISABLE_SUMMARY",l=(0,t(36592).ul)(s),c=(0,n.Z)({[s]:(e,r)=>{var{payload:t}=r;return(0,a.Z)((0,a.Z)({},e),{},{disabled:t})}},{disabled:!1}),d=(0,i.P1)(o.h,(e=>e.summary)),u=(0,i.P1)(d,(e=>e.disabled))},17161:(e,r,t)=>{"use strict";t.d(r,{h:()=>a});var a=e=>e.ui},83447:(e,r,t)=>{"use strict";t.d(r,{KT:()=>f,Th:()=>p,VF:()=>S,fE:()=>y,nM:()=>E});var a=t(18406),n=t(55265),i=t(87582),o=t(7185),s=t(56415),l=t(78307),c=t(21168),d=t(36592),u=t(89034),p="form/PRM_FORM",m="LAUNCH_PRM_DETAILS_MODAL",g="CLOSE_PRM_DETAILS_MODAL",v="ADD_PRM",h="DELETE_PRM",y=(0,d.ul)(m),f=((0,d.RW)(g),(0,d.ul)(v)),E=(0,d.ul)(h),b=(e,r)=>{var t=(0,a.m)(l.Th,"euFlowPassengers[".concat(e,"].disability"),r),n=(0,u.GZ)({shouldDismiss:!0});return(0,i.of)(t,n)},S=(0,n.l)(((e,r)=>e.ofType(m).pipe((0,o.w)((e=>{var{payload:r}=e;return[(0,u.Ll)({type:c.e.PRM_DETAILS,params:r})]})))),((e,r)=>e.ofType(v).pipe((0,s.zg)((e=>{var{payload:{userIndex:r,wheelchairUser:t,cardLevel:a}}=e;return b(r,t?{wheelchairUser:t,cardLevel:a}:void 0)})))),((e,r)=>e.ofType(h).pipe((0,s.zg)((e=>{var{payload:{userIndex:r}}=e;return b(r,null)})))),((e,r)=>e.ofType(g).pipe((0,o.w)((()=>[(0,u.GZ)({shouldDismiss:!0})])))))},28482:(e,r,t)=>{"use strict";t.d(r,{e:()=>a});var a=e=>"analytics/".concat(e)},37087:(e,r,t)=>{"use strict";t.d(r,{by:()=>S,Tv:()=>T});var a=t(46206),n=t(94431),i=t(57243),o=t(36592),s=t(9187),l=t(32034),c=t(29728),d=t(72750),u=t(31521),p=(0,l.P1)(d.dv,((e,r)=>r),((e,r)=>{var{legId:t}=r,a=Object.keys(e).reduce(((r,a)=>{if(r)return r;var n=e[a].journeys,i=Object.keys(n).filter((e=>((e,r,t)=>{var a=r[e];return!!a&&!!(a.legs.filter((e=>e===t)).length>0)&&e})(e,n,t)));return i.length>0&&(r=i[0]),r}),"");return a.length>0?a:""})),m=e=>e.legs[0].id,g=e=>e.extraType.name.toLowerCase(),v=(0,l.P1)((e=>e),((e,r)=>r||{}),((e,r)=>{var{ecommerceAction:t,addOn:a}=r,{id:n,quantity:i}=a,o=(0,u.SY)(e),s=(0,c.u4)(e)[null==o?void 0:o.id];return(s&&s.extras||[]).filter((e=>e.id===n)).map((r=>({associatedJourneyId:p(e,{legId:m(r)}),category:"add on",ecommerceAction:t,name:g(r),price:r.price.amount,product_id:r.id,quantity:i})))})),h=t(29011),y=t(53537),f=(e,r,t)=>({coreProperties:(0,h.zc)(e),addOnProducts:v(e,t),eventProperties:(0,y.y)("add on",r.eventAction,r.eventLabel),event:"add on event"}),E=t(39404),b="ADD_ON_ANALYTICS_FRAMEWORK",S=(0,o.ul)(b),T=(e,r)=>{var{getState:t}=r;return e.ofType(b).pipe((0,n.h)((e=>{var{payload:r}=e;return!!r})),(0,i.U)((e=>{var{payload:r}=e,{ecommerceAction:n,addOn:i}=r,o=t(),l=n===E.BB.Add,c=l?"ADD_ON_ADDITION":"ADD_ON_REMOVE",d={eventAction:l?"add on addition":"add on remove",eventLabel:i.name&&i.name.toLowerCase()};return(0,s.$)({eventType:c,analyticsEventType:a.EventTypes.ADD_ON_EVENT,analyticsEventPayload:f(o,d,{ecommerceAction:n,addOn:i})})})))}},19356:(e,r,t)=>{"use strict";t.d(r,{jg:()=>C,ZP:()=>_,WD:()=>I,ue:()=>b,rv:()=>T});var a=t(23198),n=t(46206),i=t(57243),o=t(36592),s=t(9187),l=t(28482),c=t(28642),d=t(89309),u=t(32034),p=t(73402),m=t(51001),g=t(29011),v=t(57165),h=t(97550),y=(0,u.P1)(m.Ux,(e=>e&&e.amount?e.amount:0)),f=e=>({bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,p.O)(e),bookingFee:y(e)},coreProperties:(0,g.zc)(e),deliveryProducts:(0,v.G)(e,{deliveryMethodName:null}),event:"delivery options",ticketProducts:(0,h.k)(e,{})}),E="DELIVERY_OPTIONS_PAGE_RENDERED_ANALYTICS_FRAMEWORK",b=(0,o.RW)(E),S=(0,l.e)("DELIVERY_OPTIONS_SIGN_IN_TRACKING"),T=e=>({type:S,payload:{trackType:e}}),C=function(e){return e.signInLinkClick="signInLinkClick",e.gotAnAccountSignInClick="gotAnAccountSignInClick",e.userRegistrationSuccess="userRegistrationSuccess",e.userRegistrationFailure="userRegistrationFailure",e.progressedAsGuest="progressedAsGuest",e}({}),A={[C.signInLinkClick]:{eventAction:"sign in link click",eventLabel:"registered email address entered"},[C.gotAnAccountSignInClick]:{eventAction:"sign in link click",eventLabel:"got an account"},[C.userRegistrationSuccess]:{eventAction:"registered",eventLabel:"registered"},[C.userRegistrationFailure]:{eventAction:"registration failure",eventLabel:"tech issue"},[C.progressedAsGuest]:{eventAction:"booking confirmation email",eventLabel:"guest"}},I=(e,r)=>{var{getState:t}=r;return e.ofType(S).pipe((0,i.U)((e=>{var{payload:{trackType:r}}=e,i=t();return(0,s.$)({eventType:n.EventTypes.GENERIC_EVENT,analyticsEventType:n.EventTypes.GENERIC_EVENT,analyticsEventPayload:(0,c._)(i,(0,a.Z)({eventCategory:"passenger details page"},A[r]))})})))};const _=(e,r)=>{var{getState:t}=r;return e.ofType(E).pipe((0,i.U)((()=>{var e=t();return(0,g.pi)(e)?(0,s.$)({eventType:"DELIVERY_OPTIONS_PAGE_RENDERED",analyticsEventType:n.EventTypes.BOOKING_FLOW,analyticsEventPayload:(0,d.A)(e)}):(0,s.$)({eventType:"DELIVERY_OPTIONS_PAGE_RENDERED",analyticsEventType:n.EventTypes.DELIVERY_OPTIONS,analyticsEventPayload:f(e)})})))}},47303:(e,r,t)=>{"use strict";t.d(r,{Bp:()=>p,aT:()=>g});var a=t(53066),n=t(87582),i=t(54466),o=t(56415),s=t(26625),l=t(9187),c=t(28482),d=t(29011),u=(0,c.e)("VALIDATION_ERROR"),p=(0,a.Z)(u),m=(0,c.e)("SERVICE_ERROR"),g=((0,a.Z)(m),(e,r)=>{var{getState:t}=r;return e.ofType(u,m).pipe((0,o.zg)((e=>{var{payload:r}=e;return(0,i.z)(...((e,r)=>r.map((r=>(0,n.of)((0,l.$)((0,s.Vv)((0,s.C6)(r),(0,d.zc)(e)))))))(t(),Array.isArray(r)?r:[r]))})))})},35710:(e,r,t)=>{"use strict";t.d(r,{kN:()=>d,lw:()=>c});var a=t(46206),n=t(57243),i=t(36592),o=t(9187),s=t(64958),l="GENERIC_ERROR_ANALYTICS_FRAMEWORK",c=(0,i.ul)(l),d=(e,r)=>{var{getState:t}=r;return e.ofType(l).pipe((0,n.U)((e=>{var{payload:r}=e,n=t(),i=(0,s.G)(n,!1),l=Object.assign({},i,{coreProperties:Object.assign(i.coreProperties,r)});return(0,o.$)({eventType:"GENERIC_ERROR_PAGE_RENDERED",analyticsEventType:a.EventTypes.PAGE_LOAD,analyticsEventPayload:l})})))}},31276:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>S,vy:()=>E,LQ:()=>b});var a=t(23198),n=t(46206),i=t(55265),o=t(57243),s=t(76801),l=t(50989),c=t(36592),d=t(72471),u=t(9187),p=t(66763),m=t(51059),g=t(29011),v=t(53537),h=t(39404),y=(e,r,t)=>({coreProperties:(0,g.zc)(e),insuranceProducts:(0,h.xW)(e,t),eventProperties:(0,v.y)("insurance",r.eventAction,r.eventLabel),event:"insurance event"}),f="INSURANCE_POLICY_VIEWED_ANALYTICS_FRAMEWORK",E=(0,c.RW)(f),b=(e,r,t)=>{return r&&(n=(0,a.Z)((0,a.Z)({insuranceActionType:e},r&&{insuranceType:r.type,insuranceVendor:r.vendor===d.Cl.COMPANJON?d.Qz.COMPANJON:d.Qz.ERV}),t),(0,l.Kh)(n,"insurance"));var n};const S=(0,i.l)(((e,r)=>{var{getState:t}=r;return e.ofType(p.tX,p.L6,p.Ln).pipe((0,o.U)((e=>{var r,a,{type:i,payload:o}=e,l=t(),c=(0,m.iK)(l)?"eu":"uk";switch(i){case p.tX:a="insurance:core:".concat(c);break;case p.L6:a="insurance:business:".concat(c);break;case p.Ln:a="insurance:essential:eu";break;default:a=""}var d={eventAction:"insurance add",eventLabel:a},g=o&&o.travelBasketItemId||"",v=null!==(r=(0,s.Ck)(l,g))&&void 0!==r?r:[];return b("addToBasket",v[0]),(0,u.$)({eventType:"INSURANCE_ADDED",analyticsEventType:n.EventTypes.INSURANCE_EVENT,analyticsEventPayload:y(l,d,{ecommerceAction:h.BB.Add,ticketProductId:g})})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(p.IK,p.pd).pipe((0,o.U)((e=>{var r,a,{type:n,payload:i}=e,o=t(),l=null!==(r=(0,s.Ck)(o,null!==(a=null==i?void 0:i.travelBasketItemId)&&void 0!==a?a:""))&&void 0!==r?r:[];return b(n===p.IK?"addToBasketError":"removeFromBasketError",l[0]),[]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(p.M5,p.ZI,p.dz).pipe((0,o.U)((e=>{var r,a,{type:i,payload:o}=e,l=t(),c=(0,m.iK)(l)?"eu":"uk";switch(i){case p.M5:a="insurance:core:".concat(c);break;case p.ZI:a="insurance:business:".concat(c);break;case p.dz:a="insurance:essential:eu";break;default:a=""}var d={eventAction:"insurance remove",eventLabel:a},g=o&&o.travelBasketItemId||"",v=null!==(r=(0,s.Ck)(l,g))&&void 0!==r?r:[];return b("removeFromBasket",v[0]),(0,u.$)({eventType:"INSURANCE_REMOVED",analyticsEventType:n.EventTypes.INSURANCE_EVENT,analyticsEventPayload:y(l,d,{ecommerceAction:h.BB.Remove,ticketProductId:g})})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(f).pipe((0,o.U)((()=>{var e=t(),r=(0,m.iK)(e)?"eu":"uk";return(0,u.$)({eventType:"INSURANCE_POLICY_VIEWED",analyticsEventType:n.EventTypes.INSURANCE_EVENT,analyticsEventPayload:y(e,{eventAction:"insurance terms and conditions viewed",eventLabel:"insurance:core:".concat(r)},{})})})))}))},33132:(e,r,t)=>{"use strict";t.d(r,{UO:()=>c,ZP:()=>d});var a=t(46206),n=t(57243),i=t(36592),o=t(9187),s=t(28642),l="JOURNEY_SEARCH_ANALYTICS_FRAMEWORK",c=(0,i.ul)(l);const d=(e,r)=>{var{getState:t}=r;return e.ofType(l).pipe((0,n.U)((e=>{var{payload:r}=e,n=t();return(0,o.$)({eventType:"".concat(l," - generic event"),analyticsEventType:a.EventTypes.GENERIC_EVENT,analyticsEventPayload:(0,s._)(n,{eventCategory:"reference data search",eventAction:"station selected",eventLabel:r.source},{genericValue1:r.index,genericValue2:r.searchText||null,genericValue3:r.selectedStationName||null})})})))}},37008:(e,r,t)=>{"use strict";t.d(r,{Kv:()=>y,ZP:()=>E,m4:()=>f});var a=t(46206),n=t(94431),i=t(57243),o=t(25106),s=t(9187),l=t(29011),c=t(10030),d=t(51059),u=t(20777),p=t(21192),m=t(52925),g=t(83504),v=t(70755),h=t(42769),y="JOURNEY_SUMMARY_ONCLICK_PRIMARY_BUTTON",f="CJS_BOOKING_FEE_UPDATE";const E=(e,r)=>{var{getState:t}=r;return e.ofType(m.ZP).pipe((0,n.h)((()=>{var e=(0,g.kS)(t());return[h.L1.results(),h.L1.ticketOptions()].some((r=>e.startsWith(r)))})),(0,i.U)((()=>{var e=t(),r=(0,g.FD)(e),n=(0,p.ZT)(e);if((0,u.v5)(e,r)&&!n)return{type:"NOOP"};if((0,d.Q$)(e)===o._9.UK_TRAIN||n){var i={query:r.query,searchRequest:(0,v.hn)(e,r.query)},m={bookingFlowProperties:{},coreProperties:(0,l.zc)(e),event:"ticket event",eventProperties:{eventAction:"ticket option confirmed",eventCategory:"ticket options",eventLabel:n?"ticket option confirmed":"train tab"},ticketProducts:(0,c.A)(e,i)};return(0,s.$)({eventType:n?"TICKET_OPTIONS_ONCLICK_PRIMARY_BUTTON":y,analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:m})}return{type:"NOOP"}})))}},72003:(e,r,t)=>{"use strict";t.d(r,{JS:()=>m,uH:()=>v,iB:()=>u,o4:()=>g});var a=t(23198),n=t(46206),i=t(57243),o=t(36592),s=t(9187),l=t(89309),c=t(29011),d="LOGIN_PAGE_RENDERED_ANALYTICS_FRAMEWORK",u=(0,o.RW)(d),p="LOGIN_EVENT_ANALYTICS_FRAMEWORK",m=(0,o.ul)(p),g=(e,r)=>{var{getState:t}=r;return e.ofType(d).pipe((0,i.U)((()=>{var e=t();return(0,s.$)({eventType:d,analyticsEventType:n.EventTypes.BOOKING_FLOW,analyticsEventPayload:(0,l.A)(e)})})))},v=(e,r)=>{var{getState:t}=r;return e.ofType(p).pipe((0,i.U)((e=>{var{payload:r}=e;return{payload:r,state:t()}})),(0,i.U)((e=>{var{payload:r,state:t}=e,{analyticsEventType:n,analyticsEventPayload:i}=r,o=(e=>({coreProperties:(0,c.zc)(e),event:"generic event"}))(t),l=(0,a.Z)((0,a.Z)((0,a.Z)({},o),i),{},{coreProperties:(0,a.Z)((0,a.Z)({},o.coreProperties),i.coreProperties)});return(0,s.$)({eventType:p,analyticsEventType:n,analyticsEventPayload:l})})))}},7007:(e,r,t)=>{"use strict";t.d(r,{Vm:()=>d,ZP:()=>m,zt:()=>p});var a=t(46206),n=t(55265),i=t(57243),o=t(36592),s=t(9187),l=t(28642),c="MIGRATION_MODAL_SHOWN_ANALYTICS_FRAMEWORK",d=(0,o.ul)(c),u="MIGRATION_MODAL_DISMISSED_ANALYTICS_FRAMEWORK",p=(0,o.ul)(u);const m=(0,n.l)(((e,r)=>{var{getState:t}=r;return e.ofType(c).pipe((0,i.U)((e=>{var{payload:r}=e,n=t();return(0,s.$)({eventType:"MIGRATION_MODAL_SHOWN_ANALYTICS_FRAMEWORK - generic event",analyticsEventType:a.EventTypes.GENERIC_EVENT,analyticsEventPayload:(0,l._)(n,{eventCategory:"migration",eventAction:"migration - modal displayed",eventLabel:"".concat(r?r.modalName.replace(/_/gi," ").toLowerCase():"default modal shown")})})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(u).pipe((0,i.U)((e=>{var{payload:r}=e,n=t();return(0,s.$)({eventType:"MIGRATION_MODAL_DISMISSED_ANALYTICS_FRAMEWORK - generic event",analyticsEventType:a.EventTypes.GENERIC_EVENT,analyticsEventPayload:(0,l._)(n,{eventCategory:"migration",eventAction:"migration - modal dismissed",eventLabel:"".concat(r?"migration - modal dismissed - ".concat(r.modalName.replace(/_/gi," ").toLowerCase()):"migration - modal dismissed - default modal")})})})))}))},983:(e,r,t)=>{"use strict";t.d(r,{G2:()=>p,ju:()=>u});var a=t(46206),n=t(57243),i=t(36592),o=t(9187),s=t(29011),l=t(53537),c=(e,r)=>({coreProperties:(0,s.zc)(e),event:"generic event",eventProperties:(0,l.y)("saved passengers",r.eventAction,r.eventLabel)}),d="PASSENGER_PICKER_SAVED_PASSENGERS_ANALYTICS_FRAMEWORK",u=(0,i.ul)(d),p=(e,r)=>{var{getState:t}=r;return e.ofType(d).pipe((0,n.U)((e=>{var{payload:r}=e,n={eventAction:"saved passengers modal impression",eventLabel:"number of saved passengers: ".concat(r?r.savedPassengerCount:0)};return(0,o.$)({eventType:"PASSENGER_PICKER_SAVED_PASSENGERS",analyticsEventType:a.EventTypes.GENERIC_EVENT,analyticsEventPayload:c(t(),n)})})))}},74598:(e,r,t)=>{"use strict";t.d(r,{nS:()=>m,zt:()=>p});var a=t(46206),n=t(94431),i=t(57243),o=t(36592),s=t(9187),l=t(29011),c=t(53537),d=t(63532),u="PLUSBUS_ADD_ON_ANALYTICS_FRAMEWORK",p=(0,o.ul)(u),m=(e,r)=>{var{getState:t}=r;return e.ofType(u).pipe((0,n.h)((e=>{var{payload:r}=e;return!!r})),(0,i.U)((e=>{var{payload:r}=e,{ecommerceAction:n,productIds:i}=r,o=t(),u="add"===n,p=u?"ADD_ON_ADDITION":"ADD_ON_REMOVE",m=u?"add on addition":"add on remove";return(0,s.$)({eventType:p,analyticsEventType:a.EventTypes.ADD_ON_EVENT,analyticsEventPayload:{coreProperties:(0,l.zc)(o),addOnProducts:(0,d.F)(o,i,n),eventProperties:(0,c.y)("add on",m,"plusbus"),event:"add on event"}})})))}},48629:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>m,n4:()=>p});var a=t(31616),n=t(46206),i=t(55265),o=t(57243),s=t(20738),l=t(36592),c=t(9187),d=["promotionCodeProperties"],u="FORM_APPLY_CTA_CLICKED_ANALYTICS_FRAMEWORK",p=(0,l.ul)(u);const m=(0,i.l)(((e,r)=>{var{getState:t}=r;return e.ofType(u).pipe((0,o.U)((e=>{var{payload:r}=e,i=t(),o=(0,s.$)(i,{eventAction:(null==r?void 0:r.eventAction)||"",eventLabel:(null==r?void 0:r.eventLabel)||""},null==r?void 0:r.coreProperties),{promotionCodeProperties:l}=o,p=(0,a.Z)(o,d);return(0,c.$)({eventType:u,analyticsEventType:n.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:Object.assign({},p,{promotionCodeProperties:Object.assign({},...Object.keys(l).map((e=>({[e]:void 0}))))})})})))}))},37195:(e,r,t)=>{"use strict";t.d(r,{Ni:()=>C,RN:()=>v,SD:()=>E,ZP:()=>I,c5:()=>y,cL:()=>T,eb:()=>S,oY:()=>m});var a=t(46206),n=t(55265),i=t(57243),o=t(61866),s=t(20738),l=t(36592),c=t(59076),d=t(9187),u=t(53230),p="MODAL_SHOWN_ANALYTICS_FRAMEWORK",m=(0,l.ul)(p),g="MODAL_DISMISSED_ANALYTICS_FRAMEWORK",v=(0,l.ul)(g),h="MODAL_CTA_CLICKED_ANALYTICS_FRAMEWORK",y=(0,l.ul)(h),f="CONFIRMATION_SHOWN_AT_CHECKOUT_ANALYTICS_FRAMEWORK",E=(0,l.ul)(f),b="BREAKDOWN_SHOWN_AT_CHECKOUT_ANALYTICS_FRAMEWORK",S=(0,l.ul)(b),T=((0,l.ul)("REMOVE_FAILED_AT_CHECKOUT_ANALYTICS_FRAMEWORK"),e=>{switch(e){case c.$f.valid:return"valid";case c.$f.expired:return"expired";case c.$f.technicalError:return"technical error";case c.$f.redeemed:return"redeemed";case c.$f.redemptionTotalLimitReached:return"redeem limit";case c.$f.minimumSpendNotMet:return"minimum spend not met";case c.$f.currencyInvalid:return"incorrect currency";default:return"invalid"}}),C=e=>{switch(e){case c.$f.valid:return"success";case c.$f.redeemed:return"used";case c.$f.expired:return"expired";case c.$f.minimumSpendNotMet:return"minimum spend not met";case c.$f.technicalError:return"technical error";case c.$f.excludedVendorUsed:return"excluded vendor used";case c.$f.redemptionTotalLimitReached:return"redeem limit";default:return"invalid"}},A=(e,r,t,a,n)=>{var i=n||(0,u.KX)(e),o=t||("railcard"===i.productType?"railcard":r);return(0,s.$)(e,{eventAction:r,eventLabel:o},a,i)};const I=(0,n.l)(((e,r)=>{var{getState:t}=r;return e.ofType(p).pipe((0,i.U)((e=>{var{payload:r}=e,n=t();return(0,d.$)({eventType:p,analyticsEventType:a.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:A(n,r&&r.eventAction||"",r&&r.eventLabel||"",r&&r.coreProperties||void 0)})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(g).pipe((0,i.U)((e=>{var{payload:r}=e,n=t();return(0,d.$)({eventType:g,analyticsEventType:a.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:A(n,r&&r.eventAction||"",r&&r.eventLabel||"",r&&r.coreProperties||void 0)})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(h).pipe((0,i.U)((e=>{var{payload:r}=e,n=t();return(0,d.$)({eventType:h,analyticsEventType:a.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:A(n,r&&r.eventAction||"",r&&r.eventLabel||"",r&&r.coreProperties||void 0)})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(f).pipe((0,i.U)((e=>{var{payload:r}=e,n=t(),i=A(n,r&&r.eventAction||"",r&&r.eventLabel||"",r&&r.coreProperties||void 0);return(0,d.$)({eventType:f,analyticsEventType:a.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:i})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(b).pipe((0,i.U)((e=>{var{payload:r}=e,n=t();return(0,d.$)({eventType:b,analyticsEventType:a.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:A(n,r&&r.eventAction||"",r&&r.eventLabel||"",r&&r.coreProperties||void 0)})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(o.vC).pipe((0,i.U)((e=>{var r=t();return(0,d.$)({eventType:o.vC,analyticsEventType:a.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:A(r,"remove promo modal cta clicked",void 0,{genericValue1:"success"},e.payload)})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(o.hx).pipe((0,i.U)((()=>{var e=t();return(0,d.$)({eventType:o.hx,analyticsEventType:a.EventTypes.PROMOTION_CODE_EVENT,analyticsEventPayload:A(e,"remove promo modal cta clicked",void 0,{genericValue1:"failure"})})})))}))},97215:(e,r,t)=>{"use strict";t.d(r,{DV:()=>p,ly:()=>u});var a=t(46206),n=t(94431),i=t(57243),o=t(36592),s=t(9187),l=t(51059),c=t(28642),d="analyticsFramework/PUNCHOUT_EU_ANALYTICS_FRAMEWORK",u=(0,o.ul)(d),p=(e,r)=>{var{getState:t}=r;return e.ofType(d).pipe((0,n.h)((()=>(0,l.iK)(t()))),(0,i.U)((e=>{var{payload:{carrier:r}}=e;return(0,s.$)({eventType:"PUNCHOUT",analyticsEventType:a.EventTypes.GENERIC_EVENT,analyticsEventPayload:(0,c._)(t(),{eventCategory:"punchout",eventAction:"punchout exit",eventLabel:r})})})))}},83047:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>p,QS:()=>u});var a=t(46206),n=t(57243),i=t(36592),o=t(9187),s=t(29011),l=t(53537),c=(e,r)=>{var{eventCategory:t,eventAction:a,eventLabel:n}=r;return{coreProperties:(0,s.zc)(e),event:"generic event",eventProperties:(0,l.y)(t,a,n)}},d="TRAVEL_OPTIONS_PUNCHOUT_CLICKED_ANALYTICS_FRAMEWORK",u=(0,i.RW)(d);const p=(e,r)=>{var{getState:t}=r;return e.ofType(d).pipe((0,n.U)((e=>{var{}=e,r=t();return(0,o.$)({eventType:"TRAVEL_OPTIONS_PUNCHOUT_CLICKED",analyticsEventType:a.EventTypes.GENERIC_EVENT,analyticsEventPayload:c(r,{eventCategory:"punchout",eventAction:"punchout exit",eventLabel:"additional services"})})})))}},28642:(e,r,t)=>{"use strict";t.d(r,{_:()=>s});var a=t(23198),n=t(73402),i=t(29011),o=t(53537),s=(e,r,t)=>{var{eventCategory:s,eventAction:l,eventLabel:c}=r;return{bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,n.O)(e)},coreProperties:(0,a.Z)((0,a.Z)({},(0,i.zc)(e)),t||{}),eventProperties:(0,o.y)(s,l,c),event:"generic event"}}},70630:(e,r,t)=>{"use strict";t.d(r,{T:()=>p});var a=t(23198),n=t(73402),i=t(51059),o=t(29011),s=t(53537),l=t(13118),c=t(7861),d=t(1973),u=t(62129),p=(e,r,t)=>(0,a.Z)((0,a.Z)({coreProperties:(0,o.zc)(e),event:"results event",searchProperties:(0,u.EN)(e,r)},"train tab"===t?{resultsProducts:(0,i.iK)(e)?(0,l.Lh)(e,r):(0,d.ug)(e,r)}:{resultsProducts:(0,i.iK)(e)?(0,l.Lh)(e,r):(0,c.PI)(e,r,!0)}),{},{eventProperties:(0,s.y)("results","results loaded inactive",t),bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,n.O)(e)}})},20738:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var a=t(23198),n=t(67487),i=t(49891),o=t(20786),s=t(53230),l=t(29011),c=(e,r,t,c)=>{var{eventAction:d,eventLabel:u}=r,p=((e,r)=>{var t=void 0,a=void 0,s=void 0,l=(0,o.hI)(r),c=(0,i.O7)(r),d=!l&&(!!c||void 0);return e&&(s=e.id,e.promoDiscount&&(e.promoDiscount.type&&(t="currency"===e.promoDiscount.type?n.PromoDiscountType.Flat:n.PromoDiscountType.Percentage),a=e.promoDiscount.amount)),{promoDiscountType:t,promoId:s,promoValue:a,promoAppliedToBasket:d}})(c||(0,s.KX)(e),e);return{coreProperties:(0,a.Z)((0,a.Z)({},(0,l.zc)(e)),t||{}),eventProperties:{eventAction:d,eventCategory:"promotion",eventLabel:u},event:"promotion code event",promotionCodeProperties:p}}},64958:(e,r,t)=>{"use strict";t.d(r,{G:()=>o});var a=t(29011),n=t(57165),i=t(97550),o=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t={coreProperties:(0,a.zc)(e),event:"page load"};if(r){var o={deliveryProducts:(0,n.G)(e,{}),ticketProducts:(0,i.k)(e,{})};return Object.assign(t,o)}return t}},89309:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,e:()=>d});var a=t(73402),n=t(29011),i=t(57165),o=t(46012),s=t(97550),l=t(63532),c=e=>{var r=(0,i.G)(e,{}),t=(0,s.k)(e,{}),c={bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,a.O)(e)},coreProperties:(0,n.zc)(e),deliveryProducts:r,event:"booking flow",ticketProducts:t,railcardProducts:(0,o.r)(e),addOnProducts:(0,l.F)(e,t.map((e=>{var{tripProductId:r}=e;return r})))};return r.length||delete c.deliveryProducts,t.length||delete c.ticketProducts,c},d=e=>{var r=(0,i.G)(e,{}),t=(0,s.k)(e,{}),n={bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,a.O)(e)},deliveryProducts:r,ticketProducts:t,railcardProducts:(0,o.r)(e),addOnProducts:(0,l.F)(e,t.map((e=>{var{tripProductId:r}=e;return r})))};return r.length||delete n.deliveryProducts,t.length||delete n.ticketProducts,n}},5899:(e,r,t)=>{"use strict";t.d(r,{eW:()=>j,uD:()=>B,vz:()=>L,bY:()=>Z,Ze:()=>w,uh:()=>F,GL:()=>D,_C:()=>x,$v:()=>H,Pe:()=>U,$U:()=>M});var a=t(23198),n=t(64169),i=t(29868),o=t.n(i),s=t(65441),l=t(73402),c=t(83570),d=t(83504),u=t(29011),p=t(13118),m=t(32034),g=t(62129),v=t(82765),h=t(2053),y=(0,m.P1)(v.hx,(e=>e),((e,r)=>r),((e,r,t)=>{var a=(0,g.e_)(r),n=(0,v.kk)(r,t);if("return"===a&&!t.query.showMatrix)return[...n.map((e=>e[0]&&(0,h.C)(e[0],r,t)))];if("open return"===a){var i=[];return n.map((e=>{e.map((e=>i.push((0,h.C)(e,r,t))))})),[...i]}return t.query.showMatrix?[...n.map((e=>e[0]&&(0,h.C)(e[0],r,t)))]:[]})),f=(e,r)=>y(e,r),E=t(7861),b=t(1973),S=t(97550),T=t(65130),C=t(10030),A=t(26260),I=t(26067),_=t(16031),P=t(51059),R=t(51807),k=t(3259);var N=(e,r,t,a)=>{var n=[],{direction:i}=a,o=!!(0,A.be)(e),s=(0,_.Q4)(e);if(i===I.N.OUTWARD&&o){var l=(0,_.xf)(e),c={ecommerceAction:t,isReturn:!1,price:(0,_.st)(e),selectedJourney:s,departAt:(0,_.Ru)(e),arriveAt:(0,_.Kj)(e),fareType:l&&l.name?l.name.split(" - ")[0].toLowerCase():null};n.push(c)}var d=!!(0,A.Nv)(e);if(i===I.N.INWARD&&d){var u=(0,_.b8)(e),p={ecommerceAction:t,isReturn:!0,price:(0,_.yC)(e),selectedJourney:(0,_.P8)(e),departAt:(0,_.Af)(e),arriveAt:(0,_.Kc)(e),fareType:u&&u.name?u.name.split(" - ")[0].toLowerCase():null};n.push(p)}return n.map((t=>function(e,r,t){var{selectedJourney:{id:a,legs:n},isReturn:i,ecommerceAction:o,price:s,departAt:l,arriveAt:c,fareType:d}=r;return{adultPassengers:(0,g.je)(e),brand:null,carrier:"nx",category:"ticket",childPassengers:(0,g.ok)(e),deliveryOptions:[],destinationCountryCode:"gb",destinationStationCode:(0,E.tP)(e,t,a),destinationStationName:(0,E.WA)(e,t,a),disruptionsMessaging:!1,ecommerceAction:o,inventoryType:"uk",journeyId:a,journeyLengthMinutes:(0,k.wB)(l,c),numChanges:n.length-1,originCountryCode:"gb",originStationCode:(0,E.FB)(e,t,a),originStationName:(0,E.P4)(e,t,a),outboundDate:(0,k.H7)(l),outboundTime:(0,k.$c)(l),price:s.amount?s.amount:0,punchout:!1,quantity:1,returnJourney:i,returnTrip:(0,P.S8)(e),seniorPassengers:(0,g.K8)(e),splitTicket:!1,ticketType:d,totalPassengers:(0,g.zk)(e),transportMethods:["bus"],tripProductId:(0,R.g8)(e,t)||null,urgencyMessaging:null,vendor:"unknown",bikeAvailableQuantity:"0",bikeReservationStatus:null,bikeReservationSelected:0}}(e,t,r)))},O=t(72117),L=(e,r)=>{var t,i,s,d=(0,c.qR)(e,{query:r.query}),p=[...(0,C.A)(e,r),...(0,S.k)(e,{})].filter((e=>"atoc"===e.vendor)).map((e=>e.price)).reduce(((e,r)=>e+r)),m=(t=p,i=2.5*Math.floor(t/2.5),s=i+2.49,i.toFixed(2)+"-"+s.toFixed(2));return{bookingFlowProperties:{bookingFee:d&&d.amount||0,fareCurrencyDisplayedIsConverted:(0,l.O)(e)},coreProperties:(0,a.Z)((0,a.Z)({},(0,u.zc)(e)),{},{genericValue1:"atoc ticket value: ".concat(p.toFixed(2)),testSegment:"atoc ticket value increment: ".concat(m)}),event:"test counted",eventProperties:{eventCategory:"testing",eventAction:"test counted",eventLabel:"opti-953"},tests:[{testId:o()(),testVariant:n.Dr.getItem("OPTI-953")||"0",testVersion:0}]}},x=(e,r)=>({bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,l.O)(e)},coreProperties:(0,u.zc)(e),event:"results event",searchProperties:(0,g.EN)(e,r),resultsProducts:(0,b.ug)(e,r),eventProperties:{eventCategory:"results",eventAction:"results viewed",eventLabel:"train tab"}}),D=(e,r,t)=>({bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,l.O)(e)},coreProperties:(0,u.zc)(e),event:"results event",searchProperties:(0,g.EN)(e,r),resultsProducts:(0,E.PI)(e,r,t),eventProperties:{eventCategory:"results",eventAction:"results viewed",eventLabel:"coach tab"}}),w=(e,r)=>({bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,l.O)(e)},coreProperties:(0,u.zc)(e),event:"results event",searchProperties:(0,g.EN)(e,r),resultsProducts:f(e,r),eventProperties:{eventCategory:"results",eventAction:"results viewed first class",eventLabel:"train tab"}}),Z=(e,r,t)=>({bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,l.O)(e)},coreProperties:(0,u.zc)(e),event:"results event",searchProperties:(0,g.EN)(e,r),resultsProducts:(0,p.Lh)(e,r),eventProperties:{eventCategory:"results",eventAction:"results viewed",eventLabel:t}}),F=(e,r)=>{var t=(0,d.FD)(e),a=(0,c.um)(e,t);return{bookingFlowProperties:{fareCurrencyDisplayedIsConverted:(0,l.O)(e)},coreProperties:(0,u.zc)(e),event:"ticket event",eventProperties:{eventCategory:"results",eventAction:"quick buy",eventLabel:(0,s.G$)(e)},promotionCodeProperties:{promoApplicationMethod:(0,b.kA)(e),promoAppliedToBasket:!!a,promoId:a},ticketProducts:(0,C.A)(e,r)}},B=(e,r,t)=>{var a=(0,d.FD)(e),n=(0,c.um)(e,a);return{bookingFlowProperties:{},coreProperties:(0,u.zc)(e),event:"ticket event",ticketProducts:(0,O.NE)(e,r,t),eventProperties:{eventCategory:"results",eventAction:"ticket ".concat(t),eventLabel:(0,s.G$)(e)},promotionCodeProperties:{promoApplicationMethod:(0,b.kA)(e),promoAppliedToBasket:!!n,promoId:n}}},M=(e,r,t,a)=>{var n=(0,d.FD)(e),i=(0,c.um)(e,n);return{bookingFlowProperties:{},coreProperties:(0,u.zc)(e),event:"ticket event",ticketProducts:(0,O.IE)(e,r,t,a),eventProperties:{eventCategory:"results",eventAction:"ticket ".concat(t),eventLabel:(0,s.G$)(e)},promotionCodeProperties:{promoApplicationMethod:(0,b.kA)(e),promoAppliedToBasket:!!i,promoId:i}}},U=(e,r,t,a)=>({bookingFlowProperties:{},coreProperties:(0,u.zc)(e),event:"ticket event",ticketProducts:N(e,r,t,a),eventProperties:{eventCategory:"results",eventAction:"ticket ".concat(t),eventLabel:(0,s.G$)(e)}}),j=(e,r,t)=>({bookingFlowProperties:{},coreProperties:(0,u.zc)(e),event:"ticket event",ticketProducts:(0,T.E)(e,r,t),eventProperties:{eventCategory:"results",eventAction:"ticket ".concat(t),eventLabel:(0,s.G$)(e)}}),H=(e,r,t,a,n)=>({bookingFlowProperties:{},coreProperties:(0,u.zc)(e),event:"ticket event",ticketProducts:(0,T.c)(e,r,t,a),eventProperties:{eventAction:"ticket ".concat(t),eventCategory:n?"ticket options":"results",eventLabel:n?"ticket selected":(0,s.G$)(e)}})},44282:(e,r,t)=>{"use strict";t.d(r,{Z:()=>E,o:()=>v});var a=t(46206),n=t(57243),i=t(94431),o=t(94018),s=t(24087),l=t(9187),c=t(8129),d=t(72750),u=t(73641),p=t(70755),m=t(51059),g=t(70630),v="NON_ACTIVE_RESULTS_ANALYTICS_FRAMEWORK",h=[],y=e=>{var{type:r,metaDataCoachStatusId:t,selectedTab:a}=e;return!(t&&r===v&&a===s.ZP.TRAIN&&h.includes(t))},f=e=>{var{type:r,metaDataCoachStatusId:t,metaData:a,selectedTab:n}=e;return!(t&&r===v&&n===s.ZP.TRAIN&&a[t]&&"SUCCESS"!==a[t].loadDetails.status)},E=(e,r)=>{var{getState:t}=r;return e.ofType(d.ri,c.ri,v).pipe((0,n.U)((e=>r=>{var{type:t}=r,a=e(),n=(0,u.ox)(a);return{metaData:n,metaDataCoachStatusId:Object.keys(n).pop(),selectedTab:(0,o.vR)(a),type:t,state:a,transport:t===d.ri?s.ZP.TRAIN:s.ZP.COACH}})(t)),(0,i.h)(y),(0,i.h)(f),(0,i.h)((e=>{var{state:r,selectedTab:t,transport:a,type:n}=e;return!((0,m.iK)(r)||t===a||n===c.ri&&!(0,m.iK)(r))})),(0,n.U)((e=>{var{state:r,metaDataCoachStatusId:t,transport:n}=e,i=(0,m.Wc)(r),o={query:i,searchRequest:(0,p.hn)(r,i)};return t&&h.push(t),(0,l.$)({eventType:"NON_ACTIVE_RESULTS_EVENT",analyticsEventType:a.EventTypes.RESULTS_EVENT,analyticsEventPayload:(0,g.T)(r,o,"coach"===n?"coach tab":"train tab")})})))}},76634:(e,r,t)=>{"use strict";t.d(r,{W8:()=>E,kE:()=>f});var a=t(46206),n=t(57243),i=t(36592),o=t(9187),s=t(70755),l=t(51059),c=t(83570),d=t(83504),u=t(29011),p=t(28248),m=t(1973),g=t(62129),v=t(58274),h=(e,r)=>{var t=(0,p.u0)(e),a=(0,v.lA)(e),n=(0,d.FD)(e),i=(0,c.um)(e,n),o={coreProperties:(0,u.zc)(e),event:"results page load",searchProperties:(0,g.EN)(e,r),promotionCodeProperties:{promoApplicationMethod:(0,m.kA)(e),promoAppliedToBasket:!!i,promoId:i}};return t.length&&(o.deliveryProducts=t),a.length&&(o.ticketProducts=a),o},y="RESULTS_PAGE_LOAD_ANALYTICS_FRAMEWORK",f=(0,i.RW)(y),E=(e,r)=>{var{getState:t}=r;return e.ofType(y).pipe((0,n.U)((()=>{var e=t();return{state:e,params:{query:(0,l.Wc)(e)}}})),(0,n.U)((e=>{var{params:r,state:t}=e,n=(0,s.hn)(t,r.query),i={query:r.query,searchRequest:n};return(0,o.$)({eventType:"RESULTS_PAGE_LOAD",analyticsEventType:a.EventTypes.RESULTS_PAGE_LOAD,analyticsEventPayload:h(t,i)})})))}},17385:(e,r,t)=>{"use strict";t.d(r,{_l:()=>u,yY:()=>p});var a=t(46206),n=t(57243),i=t(36592),o=t(9187),s=t(70755),l=t(51059),c=t(5899),d="QUICK_BUY_BUTTON_CLICKED_ANALYTICS_FRAMEWORK",u=(0,i.RW)(d),p=(e,r)=>{var{getState:t}=r;return e.ofType(d).pipe((0,n.U)((()=>{var e=t();return{state:e,params:{query:(0,l.Wc)(e)}}})),(0,n.U)((e=>{var{params:r,state:t}=e,n=(0,s.hn)(t,r.query),i={query:r.query,searchRequest:n};return(0,l.In)(t)?(0,o.$)({eventType:d,analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:(0,c.uh)(t,i)}):{type:"NOOP"}})))}},3896:(e,r,t)=>{"use strict";t.d(r,{LB:()=>h,Y$:()=>v,jY:()=>y});var a=t(46206),n=t(94431),i=t(57243),o=t(60654),s=t(36592),l=t(9187),c=t(64383),d=t(70755),u=t(61229),p=t(51059),m=t(5899),g=t(29169),v="USER_TAB_CHANGE",h=(0,s.ul)(v),y=(e,r)=>{var{getState:t}=r;return e.ofType(v).pipe((0,n.h)((()=>(0,g.g)(t()))),(0,i.U)((()=>{var e=t();return{state:e,params:{query:(0,p.Wc)(e)}}})),(0,i.U)((e=>{var{params:r,state:t}=e,n=(0,p.Q$)(t);if(n===o.Experiences.UK_TRAIN){var i=(0,d.hn)(t,r.query),s={query:r.query,searchRequest:i},g=(0,u.Cu)(t,s);return i&&g?(0,l.$)({eventType:c.B$,analyticsEventType:a.EventTypes.RESULTS_EVENT,analyticsEventPayload:(0,m._C)(t,s)}):{type:"NOOP"}}if(n===o.Experiences.NATIONAL_EXPRESS_COACH){var v=(0,d.hn)(t,r.query),h={query:r.query,searchRequest:v};return(0,l.$)({eventType:c.B$,analyticsEventType:a.EventTypes.RESULTS_EVENT,analyticsEventPayload:(0,m.GL)(t,h,!0)})}return{type:"NOOP"}})))}},98094:(e,r,t)=>{"use strict";t.d(r,{WK:()=>F,ZP:()=>U,FB:()=>O,ac:()=>x});var a=t(46206),n=t(55265),i=t(57243),o=t(56415),s=t(7185),l=t(31875),c=t(94431),d=t(93476),u=t(42292),p=t(89103),m=t(26260),g=t(99289),v=t(21192),h=t(36592),y=t(9187),f=t(75290),E=t(72750),b=t(64383),S=t(70755),T=t(51059),C=t(13164),A=t(43288),I=t(5899),_=t(29011),P=t(65130),R=(e,r,t,a)=>{var{comfortOptions:n,comfortOptionNames:i}=((e,r,t,a)=>{var n=(0,P.E)(e,r,t),i=a.reduce(((e,r)=>[...e,r.comfort.name]),[]),o=a.reduce(((e,r)=>r.deltaPrice.amount>0?e+1:e),0),s=Object.assign({},n[0]);return{comfortOptions:Object.assign(s,{ecommerceAction:"selected",numberComfortOptionsShow:o,bikeAvailableQuantity:"0",bikeReservationStatus:null,bikeReservationSelected:0}),comfortOptionNames:i}})(e,r,t,a);return{bookingFlowProperties:{},coreProperties:(0,_.zc)(e),event:"ticket event",eventProperties:{eventCategory:"comfort options",eventAction:"comfort options impressed",eventLabel:i.join("|").toLowerCase()},ticketProducts:[n]}},k=t(4202),N="SELECT_RESULT_ANALYTICS_FRAMEWORK",O=(0,h.ul)(N),L="SET_EVENT_TICKET_ACTION_ANALYTICS_FRAMEWORK",x=(0,h.ul)(L),D=k.rt.getInstance(),w=function(e){return e.AUTO="auto selected",e.USER="selected",e}({}),Z=function(e){return e.AUTO="auto",e.USER="user",e}({});D.addData({isEventAutoSelected:!0});var F=(e,r)=>{var t=(0,S.hn)(e,r.query),n={query:r.query,searchRequest:t},i=(0,u.Eb)(e,n);return i.some((e=>e.deltaPrice.amount>0))?(0,y.$)({eventType:"COMFORT_OPTIONS_ANALYTICS_FRAMEWORK",analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:R(e,n,w.AUTO,i)}):{type:"NOOP"}},B=(e,r,t)=>{if("mobile"===t)return{type:"NOOP"};var{query:{selectedOutward:n,selectedInward:i}}=r,o=(0,S.hn)(e,r.query),s={query:r.query,searchRequest:o},l=(0,T.Q$)(e),c=D.readData("isEventAutoSelected");if("UK_TRAIN"===l){if(!n&&!i||!c)return{type:"NOOP"};var d=(0,y.$)({eventType:"TICKET_PRODUCTS_SELECTED_ANALYTICS_FRAMEWORK_UK_TRAIN",analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:(0,I.uD)(e,s,w.AUTO)});return D.addData({isEventAutoSelected:!1}),d}if("EU_TRAIN"===l||"EU_COACH"===l){if(!n&&!i||!c)return{type:"NOOP"};var u=(0,y.$)({eventType:"TICKET_PRODUCTS_SELECTED_ANALYTICS_FRAMEWORK_EU_TRAIN",analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:(0,I.eW)(e,s,w.AUTO)});return D.addData({isEventAutoSelected:!1}),u}return{type:"NOOP"}},M=(e,r,t)=>{var n=(0,T.Q$)(e),i=(0,S.hn)(e,r.query),o={query:r.query,searchRequest:i};return"UK_TRAIN"===n?(0,y.$)({eventType:"TICKET_PRODUCTS_SELECTED_ANALYTICS_FRAMEWORK_UK_TRAIN",analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:(0,I.$U)(e,o,w.USER,t)}):"NATIONAL_EXPRESS_COACH"===n?!(0,m.be)(e)?{type:"NOOP"}:(0,y.$)({eventType:"TICKET_PRODUCTS_SELECTED_ANALYTICS_FRAMEWORK_UK_COACH",analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:(0,I.Pe)(e,o,w.USER,t)}):"EU_TRAIN"===n||"EU_COACH"===n?(0,y.$)({eventType:"TICKET_PRODUCTS_SELECTED_ANALYTICS_FRAMEWORK_EU_TRAIN_COACH",analyticsEventType:a.EventTypes.TICKET_EVENT,analyticsEventPayload:(0,I.$v)(e,o,w.USER,t,(0,v.ZT)(e))}):{type:"NOOP"}};const U=(0,n.l)(((e,r)=>{var{getState:t}=r;return e.ofType(N).pipe((0,i.U)((e=>{var{payload:r}=e,a=t();return{state:a,params:{query:(0,T.Wc)(a)},payload:r}})),(0,o.zg)((e=>{var{state:r,params:t,payload:a}=e,n=a||{},i=D.readData("isEventAutoSelected"),o=(0,p.Tu)(r);return[i?B(r,t,o):M(r,t,n),F(r,t)]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(L).pipe((0,i.U)((e=>{var{payload:r}=e,a=t();return{state:a,params:{query:(0,T.Wc)(a)},payload:r}})),(0,i.U)((e=>{var{payload:r}=e,t=r&&r.action||"";return t===Z.AUTO&&D.addData({isEventAutoSelected:!0}),t===Z.USER&&D.addData({isEventAutoSelected:!1}),{type:"NOOP"}})))}),((e,r)=>{var{getState:t}=r;return e.ofType(b.B$).pipe((0,s.w)((()=>e.ofType(g.l,f.GO).pipe((0,l.q)(1),(0,i.U)((e=>{var{payload:r}=e,a=t();return{state:a,params:{query:(0,T.Wc)(a)},payload:r}})),(0,o.zg)((e=>{var{state:r,params:t}=e;if(!D.readData("isEventAutoSelected"))return[{type:"NOOP"}];var a=(0,p.Tu)(r);return[B(r,t,a),"mobile"===a?{type:"NOOP"}:F(r,t)]}))))))}),((e,r)=>{var{getState:t}=r,a=!1;return e.ofType(C.EM,E.Mr,"journeySearch/CHANGE_PAGINATION").pipe((0,c.h)((e=>{var{type:r}=e;return!(a="journeySearch/CHANGE_PAGINATION"===r)})),(0,d.b)((r=>e.ofType(A.W4).pipe((0,i.U)((()=>{var e=t(),r=(0,p.Tu)(e),n={query:(0,T.Wc)(e)};return D.readData("isEventAutoSelected")?a?{type:"NOOP"}:B(e,n,r):{type:"NOOP"}}))))))}))},29169:(e,r,t)=>{"use strict";t.d(r,{g:()=>u});var a=t(23198),n=t(60654),i=t(94018),o=t(24087),s=t(14238),l=t(51059),c=t(51807),d=t(83504),u=e=>{var r=(0,i.vR)(e),t=(0,l.iK)(e),u=t?{query:(0,a.Z)((0,a.Z)({},(0,l.Wc)(e)),{},{transportModes:[n.AvailableTransportModes.MIXED]})}:(0,d.FD)(e),p=(0,c.Zb)(e,u),m=t?(0,c.Zb)(e,{query:(0,a.Z)((0,a.Z)({},(0,l.Wc)(e)),{},{transportModes:[n.AvailableTransportModes.COACH]})}):(0,s.dC)(e);return!(r===o.ZP.TRAIN&&p!==n.LoadStatus.SUCCESS||r===o.ZP.COACH&&m!==n.LoadStatus.SUCCESS)}},29011:(e,r,t)=>{"use strict";t.d(r,{zc:()=>Y,pi:()=>L,Jc:()=>B,D1:()=>H});var a=t(23198),n=t(32034),i=t(78307),o=t(51282),s=t(60654),l=t(64169),c=t(95444),d=t(47967),u=t(29171),p=t(50549),m=t(83504),g=t(42769),v=t(7809),h=t(85536),y=t(79257),f=t(73009),E=t(1160),b=t(2679),S=t(4695),T=t(68760),C=t(92490),A=t(4794),I=t(67903),_=t(40939),P=t(51059),R=t(4202),k=(0,n.P1)(P.Wc,(e=>{var r,{partnershipType:t,partnershipSelection:a}=null!=e?e:{};if(["control","accommodation","experience"].includes(null!=(r=t)?r:"")){var n=(e=>{switch(e){case"accommodation":return"booking.com";case"experience":return"gyg";case"control":return"control";default:throw new Error("Unknown partnership type : ".concat(e))}})(t),i=((e,r)=>"control"===e||"false"!==r&&!1!==r?"":" unselected")(t,a);return"partnership search ".concat(n).concat(i)}return null})),N=()=>{var e;if("undefined"!=typeof window)return null===(e=window.__INITIAL_STATIC_STATE__)||void 0===e||null===(e=e.homeCountry)||void 0===e?void 0:e.toLowerCase()},O=()=>{var e;if("undefined"!=typeof window)return null===(e=window.__INITIAL_STATIC_STATE__)||void 0===e?void 0:e.isAnInboundUser},L=e=>{var r,t,a,n,i=(0,o.gH)(e),s=(0,m.FD)(e),l=(null==i||null===(r=i.from)||void 0===r?void 0:r.id)||(null==s||null===(t=s.query)||void 0===t?void 0:t.origin),c=(null==i||null===(a=i.to)||void 0===a?void 0:a.id)||(null==s||null===(n=s.query)||void 0===n?void 0:n.destination);return(0,u.Gg)(l,c,(0,C.Yu)(e))},x=(0,n.P1)(A.S9,L,((e,r)=>(0,R.gm)(e)(r))),D=(0,n.P1)(x,(e=>e(R.Sp))),w=(0,n.P1)(x,(e=>e(R.gy))),Z=(0,n.P1)(L,(e=>e?"eu":"uk")),F=(0,n.P1)(m.FD,Z,(e=>{var r=(0,m.FD)(e),t=L(e)?{query:(0,a.Z)((0,a.Z)({},r.query),{},{transportModes:[s.AvailableTransportModes.MIXED]})}:r;return(0,P.fE)(e,t)}),(e=>e),((e,r,t,a)=>{var n="",i=(0,c._)(a,e),o=(0,y.U)(a,e);o&&!i?n=o.travelClass===p.U9.STANDARD?"standard":"first class":"uk"===r&&(n=(0,d.u0)(a).selectedTravelClass===p.U9.STANDARD?"standard class":"first class");var s=[r,"eu"===r?t?"return":"outbound":"",n].filter((e=>e.length)).join(" ");return"ticket options - ".concat(s)})),B=(0,n.P1)(m.kS,(e=>(0,S.T1)(e))),M=(0,n.P1)(A.S9,(e=>e===g.L1.results())),U=(0,n.P1)(A.S9,(e=>e===g.L1.ticketOptions())),j=(0,n.P1)(A.S9,(e=>"/"===e||e===g.L1["en-us"]())),H=e=>(0,I.bE)(e)&&j(e)?(0,R.Vm)():M(e)?(e=>{var r={query:(0,a.Z)((0,a.Z)({},(0,P.Wc)(e)),{},{transportModes:[s.AvailableTransportModes.MIXED]})},t=(0,P.$b)(e)||L(e),n=t?"eu":"uk",o=r.query.journeySearchType,l=(0,P.fE)(e,r);return t&&"return"===o&&!l&&(o=i.ki.SINGLE),(0,h.tq)()&&!t?"return"===o&&r.query.selectedOutward?"results - uk return":"results - uk outbound":"openReturn"===o?"results - uk open return":r.query.showMatrix?"results - uk matrix":t&&o?R.c3[n][o]:R.c3[n]})(e):U(e)?F(e):w(e),W={Guest:"guest","Logged in":"logged in","Logged out":"logged out",Recognised:"recognised"},G=(0,n.P1)(T.Hz,(e=>null==e?void 0:e.businessId)),V=(0,n.P1)(T.Hz,(e=>null==e?void 0:e.loginType)),Y=(0,n.P1)(T.c4,T.QV,H,_.fN,D,k,G,V,((e,r,t,a,n,i,o,s)=>{return{applicationClientId:(0,E.BD)(),appVersion:v.q4,contextAliasId:(0,E.MU)(),currencyCode:l.Dr.getItem(f.Fu)||b.EJ,customerId:e?"".concat(e):null,homeCountry:N(),isAnInboundUser:O(),loginStatus:(c=r,W[c]),pageName:t,platform:(0,h.tq)()?"mobile":"desktop",productLanguage:a.toLowerCase(),siteSection:"core flow",siteSubSection:n,genericValue1:i,genericValue2:null,genericValue3:null,businessId:o,loginType:s};var c}))},28248:(e,r,t)=>{"use strict";t.d(r,{u0:()=>d});var a=t(23198),n=t(32034),i=t(60054),o=t(84175),s=t(38650),l=(0,n.P1)(o.pE,(e=>e.reduce(((e,r)=>{var t=r.deliveries.map((e=>e.deliveryMethod));return t?[...e,t]:e}),[]))),c=(0,n.P1)(i.RB,(e=>e),((e,r)=>e.reduce(((e,t)=>{var n=!!t.inwardJourney,i=(0,a.Z)((0,a.Z)({},t),{},{inwardJourney:void 0}),s=l(r,i),c=(0,o.b6)(r,t).find(Boolean),d=!!c&&c.productId||void 0,u=s.reduce(((e,r)=>(e[r[0].id]={ecommerceAction:"basket",journeyId:t.outwardJourney.id,name:r[0]&&r[0].method,productId:d},e)),{}),p=Object.keys(u).map((e=>u[e]));if(n&&t.inwardJourney){var m=(0,a.Z)((0,a.Z)({},t),{},{outwardJourney:t.inwardJourney,inwardJourney:void 0}),g=l(r,m).reduce(((e,r)=>(e[r[0].id]={ecommerceAction:"basket",journeyId:t.inwardJourney&&t.inwardJourney.id,name:r[0]&&r[0].method,productId:d},e)),{}),v=Object.keys(g).map((e=>g[e]));return[...e,...p,...v]}return[...e,...p]}),[]))),d=(0,n.P1)(c,(e=>e),((e,r)=>e.map((e=>(0,s.R)(r,e)))))},38650:(e,r,t)=>{"use strict";t.d(r,{R:()=>l});var a=t(67487),n=t(32034),i=t(49716),o=t(3259),s=(0,n.P1)(i.NO,(e=>e&&e.amount||0)),l=(e,r)=>{var{name:t,journeyId:n,productId:i,ecommerceAction:l}=r;return{associatedJourneyId:n,category:a.DeliveryProductCategory.DeliveryOption,ecommerceAction:l,name:(0,o.Ae)(t),price:s(e,t),product_id:i,quantity:1}}},55794:(e,r,t)=>{"use strict";t.d(r,{B:()=>l,N:()=>c});var a=t(32034),n=t(17038),i=t(76376),o=t(60054),s=t(38650),l=(0,a.P1)(o.s9,i.gG,(e=>e),((e,r)=>r),((e,r,t,a)=>{var i=r?r.reduce(((e,r)=>(r.method===n.Ne.ETICKET?e.unshift(r):e.push(r),e)),[]):r;if(!i)return[];var o=i?i.reduce(((r,t)=>[...r,{ecommerceAction:a.ecommerceAction?a.ecommerceAction:"impression",journeyId:e.outwardJourney.id,name:t.method,productId:e.id}]),[]):[],s=[];return e&&e.inwardJourney&&(s=i?i.reduce(((r,t)=>[...r,{ecommerceAction:a.ecommerceAction?a.ecommerceAction:"impression",journeyId:e.inwardJourney&&e.inwardJourney.id||"",name:t.method,productId:e.inwardJourney&&e.inwardJourney.id||""}]),[]):[]),s&&o.push(...s),o})),c=(0,a.P1)(l,(e=>e),((e,r)=>r),((e,r,t)=>e.filter((e=>t.deliveryMethodName?e.name===t.deliveryMethodName:e)).map((e=>(0,s.R)(r,e)))))},57165:(e,r,t)=>{"use strict";t.d(r,{G:()=>o});var a=t(32034),n=t(28248),i=t(55794),o=(0,a.P1)(n.u0,i.N,(e=>e),((e,r)=>[...e,...r]))},76940:(e,r,t)=>{"use strict";t.d(r,{k:()=>m,r:()=>p});var a=t(85540),n="eu railcard",i="uk railcard",o="FAMILY_AND_FRIENDS",s="SIXTEEN_TO_TWENTYFIVE",l="SENIOR",c="CARTE_LIBERTE",d="CARTE_AVANTAGE_SENIOR",u="CARTE_AVANTAGE_WEEK-END",p={"a3d5089d-b3b8-4a11-89f0-8896a32484ab":{name:"NETWORK_RAILCARD",regionType:i},"6dd723a1-80fa-4aba-8148-8e98863da921":{name:"TWO_TOGETHER",regionType:i},"21513906-e7bc-4e81-a09a-0418078c0d55":{name:o,regionType:i},"55c629dd-2ee8-4119-ac9e-a583afa887da":{name:o,regionType:i},"da43667a-01f0-4a19-82ea-1378786378c2":{name:s,regionType:i},"ebc46afe-4672-4e5f-9d82-089876c7ed8c":{name:s,regionType:i},"702c1ecb-20fd-4b69-b468-54bb5451b656":{name:"TWENTYSIX_TO_THIRTY",regionType:i},"b4449ff4-fc51-4076-8a9b-2538335109a9":{name:l,regionType:i},"5fa2f1eb-b3ea-4509-9b5b-7a81d3544e93":{name:l,regionType:i},"3f2f1602-7013-4b73-ab07-b98598817089":{name:"SIXTEEN_TO_SEVENTEEN",regionType:i},"7d4b7d7d-fec4-42f6-9679-aa260ddfa057":{name:"CARTE_AVANTAGE_JEUNE",regionType:n,operator:a.d.SNCF},"75ac836c-1b93-42a9-8242-9c8d90230624":{name:c,regionType:n,operator:a.d.SNCF},"9318d005-a898-4dc4-b115-1683d5b09834":{name:d,regionType:n,operator:a.d.SNCF},"7bdf7250-8ed2-47ca-b0e4-e0fc73595722":{name:u,regionType:n,operator:a.d.SNCF}},m={NETWORK_RAILCARD:["a3d5089d-b3b8-4a11-89f0-8896a32484ab"],TWO_TOGETHER:["6dd723a1-80fa-4aba-8148-8e98863da921"],FAMILY_AND_FRIENDS:["55c629dd-2ee8-4119-ac9e-a583afa887da","21513906-e7bc-4e81-a09a-0418078c0d55"],SIXTEEN_TO_TWENTYFIVE:["da43667a-01f0-4a19-82ea-1378786378c2","ebc46afe-4672-4e5f-9d82-089876c7ed8c"],TWENTYSIX_TO_THIRTY:["702c1ecb-20fd-4b69-b468-54bb5451b656"],SENIOR:["b4449ff4-fc51-4076-8a9b-2538335109a9","5fa2f1eb-b3ea-4509-9b5b-7a81d3544e93"],SIXTEEN_TO_SEVENTEEN:["3f2f1602-7013-4b73-ab07-b98598817089"],CARTE_AVANTAGE_JEUNE:["7d4b7d7d-fec4-42f6-9679-aa260ddfa057"],CARTE_LIBERTE:["75ac836c-1b93-42a9-8242-9c8d90230624"],CARTE_AVANTAGE_SENIOR:["9318d005-a898-4dc4-b115-1683d5b09834"],CARTE_AVANTAGE_WEEKEND:["7bdf7250-8ed2-47ca-b0e4-e0fc73595722"]}},46012:(e,r,t)=>{"use strict";t.d(r,{r:()=>s});var a=t(67487),n=t(32034),i=t(97183),o=t(76940),s=(0,n.P1)(i.iT,(e=>e.map((e=>{var r,{cardDetails:{cardType:t,validityEndDate:n},catalogueItemId:i,listPrice:s,id:l}=e;return{category:null===(r=o.r[i])||void 0===r?void 0:r.regionType,ecommerceAction:a.PurpleEcommerceAction.Checkout,quantity:1,name:t.code.toLowerCase(),price:s.amount,product_id:l,expiryDate:n.substr(0,10)}}))))},53537:(e,r,t)=>{"use strict";t.d(r,{y:()=>a});var a=(0,t(32034).P1)(((e,r,t)=>({eventCategory:e,eventAction:r,eventLabel:t})),(e=>e))},39404:(e,r,t)=>{"use strict";t.d(r,{BB:()=>c,xW:()=>d});var a=t(32034),n=t(72471),i=t(11330),o=t(76801),s=t(20786),l=t(51059),c=function(e){return e.Checkout="checkout",e.Impression="impression",e.Purchase="purchase",e.Add="add",e.Remove="remove",e}({}),d=((0,a.P1)(s.s,((e,r)=>r.insuranceProductId),((e,r)=>e.map((e=>e.productId)).filter((e=>e===r)).includes(r)?c.Checkout:c.Impression)),(0,a.P1)((e=>e),((e,r)=>r||{}),((e,r)=>{var{ecommerceAction:t,ticketProductId:a}=r,s=(0,o.wI)(e);a&&(s=s.filter((e=>e.travelProductId===a)));var c=(0,l.iK)(e);return s.map((r=>{var a=c||r.productType===n.Y5.essential?":eu":":uk",s=(0,o.aM)(e,i.uT.OPTIONAL_TRANSACTION,r.travelProductId),l=(0,o.yS)(e,r.travelProductId);return{associatedTripProductId:r.travelProductId,category:"insurance",ecommerceAction:t||(s||l?"selected":"impression"),price:r.productPrice,name:r.productType+a,product_id:r.productId,quantity:1}}))})))},46110:(e,r,t)=>{"use strict";t.d(r,{F3:()=>g,xd:()=>v});var a=t(84025),n=t.n(a),i=t(32034),o=t(76801),s=t(27802),l=t(51001),c=t(20786),d=t(31521),u=t(41152),p=t(83504),m=t(42769),g=((0,i.P1)(c.s,c.eU,(e=>e),((e,r,t)=>((0,p.kS)(t)===m.L1.checkout()?e:e.concat(r)).map((e=>{var{productId:r}=e;return r&&((0,d.NR)(t,r)||(0,o.Z9)(t,r))})))),(0,i.P1)(u.$C,u.jc,((e,r)=>{var t=e&&r&&n().duration(n()(r).diff(n()(e)));return t?"".concat(t.hours(),":").concat(t.minutes(),":").concat(t.seconds()):t})),(0,i.P1)(l.Ux,(e=>e&&e.amount?e.amount:0))),v=(0,i.P1)(s.Dj,(e=>e?e.amount:0))},63532:(e,r,t)=>{"use strict";t.d(r,{F:()=>o});var a=t(7968),n=t(67487),i=t(24879),o=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.PurpleEcommerceAction.Basket;if(null==r||!r.length)return[];var o=(0,i.n)(e),s=Object.values(o);return null!=s&&s.length?s.filter((e=>e&&(r.includes(e.id)||r.includes(e.itineraryCorrelation)))).reduce(((r,i)=>{var o=(0,a.St)(e,[i.id]);if(null==o||!o.length)return r;var s=o.map((e=>((e,r,t)=>{var[a]=e.fares;return{associatedJourneyId:r,name:null==a?void 0:a.localAreaValidity.name,price:null==a?void 0:a.price.amount,product_id:e.id,quantity:null==a?void 0:a.numberOfPassengers,category:n.AddOnProductCategory.AddOn,ecommerceAction:t}})(e,i.id,t)));return[...r,...s]}),[]):[]}},13118:(e,r,t)=>{"use strict";t.d(r,{Lh:()=>W,Mx:()=>F,RJ:()=>j,Ty:()=>_,UD:()=>P,l5:()=>D,pN:()=>N,so:()=>B,u4:()=>Z,uc:()=>w,xH:()=>R,z:()=>U,zl:()=>x});var a=t(67487),n=t(84025),i=t.n(n),o=t(32034),s=t(85536),l=t(3211),c=t(81153),d=t(93601),u=t(16362),p=t(92490),m=t(6105),g=t(61229),v=t(58458),h=t(82765),y=t(1973),f=(0,o.P1)(c.XQ,((e,r,t)=>t),((e,r)=>e&&e.filter((e=>e.journeyId===r)))),E=(0,o.P1)(f,(e=>{try{if(e[0]){var{departAt:r}=e[0];return i().parseZone(r).format("YYYY-MM-DD")}return null}catch(e){return null}})),b=(0,o.P1)(f,(e=>{try{if(e[0]){var{departAt:r}=e[0];return i().parseZone(r).format("HH:mm:ssZ")}return null}catch(e){return null}})),S=(0,o.P1)(f,(e=>e[0]&&e[0].standardAlternativeContainer&&e[0].standardAlternativeContainer.price&&e[0].standardAlternativeContainer.price.amount?e[0].standardAlternativeContainer.price.amount:null)),T=(0,o.P1)(f,(e=>e[0]&&e[0].firstAlternativeContainer&&e[0].firstAlternativeContainer.price&&e[0].firstAlternativeContainer.price.amount?e[0].firstAlternativeContainer.price.amount:null)),C=(0,o.P1)(f,(e=>{try{if(e[0]){var{arriveAt:r,departAt:t}=e[0];return i()(r).diff(i()(t),"minutes")}return 0}catch(e){return 0}})),A=(0,o.P1)(u.GR,(e=>Object.keys(e).map((r=>e[r])))),I=(0,o.P1)(d.gg,(e=>Object.keys(e).map((r=>e[r])))),_=(0,o.P1)(f,A,I,g.Cu,((e,r,t,a)=>{try{if(e[0]&&a){var n=e[0].legs,i=a.legs,o=n.map((e=>{var r=i[e];if(!!r&&r.brand){var a=t.find((e=>!(!e||!r||e.id!==r.brand)));return a&&a.code&&a.code.split(":").pop()||"brand unavailable"}return"brand unavailable"})).filter((e=>"brand unavailable"!==e)),s=Array.from(new Set(o));return s.length?s.join("|").toLowerCase():null}return null}catch(e){return null}})),P=(0,o.P1)(f,A,I,g.Cu,((e,r,t,a)=>{try{if(e[0]&&a){var n=e[0].legs,i=a.legs,o=n.map((e=>{var t=i[e],a=r.find((e=>Boolean(e&&t&&e.id===t.carrier)));return a&&a.code&&a.code.split("carrier:").pop()||"unknown"})).filter((e=>"**"!==e)),s=new Set(o);return Array.from(s).join("|").toLowerCase()}return null}catch(e){return null}})),R=(0,o.P1)(f,A,I,g.Cu,((e,r,t,a)=>{try{if(e[0]&&a){var n=e[0].legs,i=a.legs,o=n.map((e=>{var t=i[e],a=r.find((e=>!(!e||!t||e.id!==t.carrier)));return a&&a.code&&a.code.split(":")[2]||""})),s=new Set(o);return Array.from(s).join("|").toLowerCase()}return null}catch(e){return null}})),k=(0,o.P1)(f,(e=>e[0]&&e[0].legs?e[0].legs.length-1:0)),N=(0,o.P1)(f,g.J_,m.I7,((e,r,t)=>{try{if(e[0]){var n=e[0].legs.map((e=>{var t=r[e];return t&&t.transportMode?t.transportMode:""})).map((e=>{if(e){var{mode:r}=t[e]||{mode:void 0};return r?(0,v.l)(r):void 0}})).reduce(((e,r)=>(e.add(r),e)),new Set);return Array.from(n)}return[a.TransportMethod.Train]}catch(e){return[a.TransportMethod.Train]}})),O=(0,o.P1)(f,(e=>{var r;return!(null===(r=e[0].standardAlternativeContainer)||void 0===r||!r.price)})),L=(0,o.P1)(f,g.J_,p.Yu,((e,r,t)=>{try{if(e&&e[0]&&e[0].legs){var a=e[0].legs,n=a[0],i=a[a.length-1],o=r[n].departureLocation,s=r[i].arrivalLocation;return[t[o],t[s]]}return null}catch(e){return null}})),x=(0,o.P1)(L,(e=>{try{var[,r]=e,t=r&&r.countryCode;return t?t.toLowerCase():null}catch(e){return null}})),D=(0,o.P1)(L,(e=>{try{var[,r]=e,t=r&&r.code;return t?t.toLowerCase():null}catch(e){return null}})),w=(0,o.P1)(L,(e=>{try{var[,r]=e,t=r&&r.name;return t?t.toLowerCase():null}catch(e){return null}})),Z=(0,o.P1)(L,(e=>{try{var[r]=e,t=r&&r.countryCode;return t?t.toLowerCase():null}catch(e){return null}})),F=(0,o.P1)(L,(e=>{try{var[r]=e,t=r&&r.code;return t?t.toLowerCase():null}catch(e){return null}})),B=(0,o.P1)(L,(e=>{try{var[r]=e,t=r&&r.name;return t?t.toLowerCase():null}catch(e){return null}})),M=(0,o.P1)(g.Cu,((e,r,t)=>t),((e,r)=>{var t=e&&e.journeys&&e.journeys[r];return!!t&&"inward"===t.direction.toLowerCase()})),U=(e,r)=>Boolean(r&&r.journeyId===e),j=(e,r)=>Boolean((0,s.tq)()&&((null==e?void 0:e.isSmartPrice)||(null==r?void 0:r.isSmartPrice)));var H=(0,o.P1)(c.XQ,(e=>e),((e,r)=>r),((e,r,t)=>null==e?void 0:e.map((e=>e.journeyId&&function(e,r,t){var{journeyId:n,standardAlternativeContainer:i,firstAlternativeContainer:o}=r,s=_(e,t,n),c=P(e,t,n);return{availability:O(e,t,n),brand:s||c||"",carrier:c||"",category:a.TicketProductCategory.Ticket,destinationCountryCode:x(e,t,n),destinationStationCode:D(e,t,n),destinationStationName:w(e,t,n),disruptionsMessaging:!1,ecommerceAction:null,firstClassTicketType:null,firstClassPrice:T(e,t,n),firstClassUrgencyMessaging:(0,h.Xo)(null==o?void 0:o.limitedAvailability),inventoryType:a.InventoryType.International,journeyId:n,journeyLengthMinutes:C(e,t,n),numChanges:k(e,t,n),originCountryCode:Z(e,t,n),originStationCode:F(e,t,n),originStationName:B(e,t,n),outboundDate:E(e,t,n)||"",outboundTime:b(e,t,n)||"",price:S(e,t,n),punchout:(0,y.eg)(e,t),quantity:1,recommended:U(n,(0,l.iZ)(e,t)),returnJourney:M(e,t,n),splitTicket:j(i,o),ticketType:null,transportMethods:N(e,t,n),urgencyMessaging:(0,h.Xo)(null==i?void 0:i.limitedAvailability),vendor:R(e,t,n)||""}}(r,e,t))).filter((e=>!!e)))),W=(e,r)=>H(e,r)},7861:(e,r,t)=>{"use strict";t.d(r,{FB:()=>y,P4:()=>f,PI:()=>I,WA:()=>v,tP:()=>g});var a=t(84025),n=t.n(a),i=t(32034),o=t(14238),s=t(45049),l=t(8129),c=t(92490),d=e=>{var{arriveAt:r,departAt:t}=e;return n()(r).diff(n()(t),"minutes")},u=(0,i.P1)(l.rt,((e,r,t)=>t),((e,r)=>{var t=Object.keys(e),a=e[t[t.length-1]].journeys[r];return a&&a.legs?a.legs:[]})),p=(0,i.P1)(u,(e=>e.length-1)),m=(0,i.P1)(o.XT,u,c.Yu,((e,r,t)=>{var a=r.length?r[r.length-1]:null,n=e&&a?e[a].arrivalLocation:null;return n?t[n]:null})),g=(0,i.P1)(m,(e=>e&&e.code.toLowerCase())),v=(0,i.P1)(m,(e=>e&&e.name.toLowerCase())),h=(0,i.P1)(o.XT,u,c.Yu,((e,r,t)=>{var a=r.length?r[0]:null,n=e&&a?e[a].departureLocation:null;return n?t[n]:null})),y=(0,i.P1)(h,(e=>e&&e.code.toLowerCase())),f=(0,i.P1)(h,(e=>e&&e.name.toLowerCase())),E=e=>{var{departAt:r}=e;return n()(r).format("YYYY-MM-DD")},b=e=>{var{departAt:r}=e;return n()(r).format("HH:mm:ssZ")},S=e=>{var{standardClassAlternative:r}=e;return r&&r.price&&r.price.amount?r.price.amount:null},T=(0,i.P1)(o.RB,o.LU,((e,r,t)=>t),((e,r,t)=>{var a=t&&t.standardClassAlternative&&t.standardClassAlternative.selectionId,n=(e?Object.keys(e).map((r=>e[r])).filter((e=>e&&a&&e.alternativeId.includes(a))).map((e=>e?e.fareType:null)):[])[0],i=!!n&&r&&!!r[n]&&r[n];return i&&i.name?i.name.split(" - ")[0].toLowerCase():null})),C=(0,i.P1)(o.vh,((e,r,t)=>t),((e,r)=>{var t=e&&e.journeys&&e.journeys[r];return!!t&&"inward"===t.direction.toLowerCase()}));var A=(0,i.P1)(s.vA,s.t3,(e=>e),((e,r)=>r),((e,r,t)=>t),((e,r,t,a,n)=>{var i,o=(i=n&&r&&e?[...e,...r]:r||e)&&i.map((e=>e.journeyId&&function(e,r,t,a){return{availability:!0,brand:null,carrier:"nx",category:"ticket",destinationCountryCode:"gb",destinationStationCode:g(e,t,r),destinationStationName:v(e,t,r),disruptionsMessaging:!1,ecommerceAction:null,firstClassTicketType:null,firstClassPrice:null,firstClassUrgencyMessaging:null,inventoryType:"uk",journeyLengthMinutes:d(a),numChanges:p(e,t,r),originCountryCode:"gb",originStationCode:y(e,t,r),originStationName:f(e,t,r),outboundDate:E(a),outboundTime:b(a),price:S(a),journeyId:r,punchout:!1,quantity:1,returnJourney:C(e,t,r),splitTicket:!1,ticketType:T(e,t,a),transportMethods:["bus"],urgencyMessaging:null,vendor:"unknown"}}(t,e.journeyId,a,e)));return o})),I=(e,r,t)=>A(e,r,t)},1973:(e,r,t)=>{"use strict";t.d(r,{ef:()=>X,pA:()=>B,Or:()=>M,kA:()=>le,eg:()=>Y,DQ:()=>$,tP:()=>ee,WA:()=>re,ed:()=>te,FB:()=>ae,P4:()=>ne,Lb:()=>J,ug:()=>se});var a=t(84025),n=t.n(a),i=t(32034),o=t(64997),s=t(43088),l=t(49893),c=t(81153),d=t(16362),u=t(92490),p=t(6105),m=t(61229),g=t(51059),v=t(58458),h=t(62129),y=t(56267),f=t(10526),E=t(87114),b=(e,r,t)=>{var a=(0,m.J_)(r,t);return e.legs.map((e=>a[e]))},S=(e,r,t)=>{var a=b(e,r,t),n=(0,d.GR)(r);return a.map((e=>e.carrier)).map((e=>{var r=n&&n[e];return r&&r.code?r.code:null})).map((e=>e.split(":").pop())).filter(((e,r,t)=>t.indexOf(e)===r)).join("|").toLowerCase().replace(/\*\*/g,"unknown")},T=(e,r,t)=>{var a=b(e,r,t),n=(0,p.I7)(r);return a.map((e=>e&&e.transportMode)).map((e=>{var r=n&&n[e];return r&&r.mode?r.mode:null})).filter(((e,r,t)=>t.indexOf(e)===r))},C=(e,r,t)=>{var a=b(e,r,t),n=(0,d.GR)(r);return a.map((e=>e&&e.carrier)).map((e=>{var r=n&&n[e];return r&&r.code?r.code:null})).map((e=>e.split(":")[2])).filter(((e,r,t)=>t.indexOf(e)===r)).join("|").toLowerCase()},A=(e,r,t)=>{var a=b(e,r,t),n=(0,u.Yu)(r);return[a[0].departureLocation,a[a.length-1].arrivalLocation].map((e=>n[e]))},I=(e,r,t)=>{var[a]=A(e,r,t),n=a&&a.countryCode;return n?n.toLowerCase():null},_=(e,r,t)=>{var[a]=A(e,r,t),n=a&&a.code;return n?n.toLowerCase():null},P=(e,r,t)=>{var[a]=A(e,r,t),n=a&&a.name;return n?n.toLowerCase():null},R=(e,r,t)=>{var[,a]=A(e,r,t),n=a&&a.countryCode;return n?n.toLowerCase():null},k=(e,r,t)=>{var[,a]=A(e,r,t),n=a&&a.code;return n?n.toLowerCase():null},N=(e,r,t)=>{var[,a]=A(e,r,t),n=a&&a.name;return n?n.toLowerCase():null};var O=(e,r,t)=>{var a=(0,m.ft)(r,t),n=(0,f.SP)(r),i=(0,y._D)(r,t),o=(0,y.dI)(r,t),s=(0,m.HO)(r,t),l=e.reduce(((e,r)=>{var t=r.inwardAlternativeIds?[...r.outwardAlternativeIds,...r.inwardAlternativeIds]:[...r.outwardAlternativeIds],l=[...i,...o];return[...e,...t.reduce(((e,t,i)=>{var o=s[l[i]];if(t&&o){var c,{arriveAt:d,departAt:u,direction:p,legs:m,id:g}=o,v=!!a&&a[t];c=v&&v.price?v.price:{amount:0,currencyCode:"GBP"};var h=!!n&&r.fareTypeId&&n[r.fareTypeId],y="unknown",f=!1;return h&&h.name&&(f=(y=h.name.toLocaleLowerCase()).toLocaleLowerCase().includes("1st class")),[...e,{arriveAt:d,changes:m.length-1,departAt:u,direction:p,fareType:y,isFirstClass:f,journeyId:g,legs:m,price:c}]}return e}),[])]}),[]).map((e=>function(e,r,t){return{availability:!e.isFirstClass,brand:null,carrier:S(e,r,t),category:"ticket",destinationCountryCode:R(e,r,t),destinationStationCode:k(e,r,t),destinationStationName:N(e,r,t),disruptionsMessaging:!1,ecommerceAction:null,firstClassTicketType:e.isFirstClass?e.fareType:null,firstClassPrice:e.isFirstClass?(0,E.aS)(e):null,firstClassUrgencyMessaging:null,inventoryType:"uk",journeyLengthMinutes:(0,E.wB)(e),numChanges:e.changes,originCountryCode:I(e,r,t),originStationCode:_(e,r,t),originStationName:P(e,r,t),outboundDate:(0,E.H7)(e),outboundTime:(0,E.$c)(e),price:e.isFirstClass?null:(0,E.aS)(e),journeyId:e.journeyId,punchout:!1,quantity:1,returnJourney:(0,E.IK)(e),splitTicket:!1,ticketType:e.isFirstClass?null:e.fareType,transportMethods:T(e,r,t),urgencyMessaging:null,vendor:C(e,r,t)}}(e,r,t)));return l},L=t(82765),x=t(2053);function D(e,r,t){var{bikeAvailableQuantity:a,bikeReservationStatus:n}=(0,o.$R)(e.availableExtras,e.journeyBikeRestrictionStatus);return{availability:(0,E.lm)(e),brand:null,carrier:(0,E.Gl)(e,r,t),category:"ticket",destinationCountryCode:(0,E.so)(e.arrivalStation,r),destinationStationCode:(0,E.LQ)(e.arrivalStation,r),destinationStationName:(0,E.vP)(e.arrivalStation,r),disruptionsMessaging:!1,ecommerceAction:null,firstClassTicketType:null,firstClassPrice:null,firstClassUrgencyMessaging:null,inventoryType:"uk",journeyLengthMinutes:(0,E.wB)(e),numChanges:e.changes,originCountryCode:(0,E.so)(e.departureStation,r),originStationCode:(0,E.LQ)(e.departureStation,r),originStationName:(0,E.vP)(e.departureStation,r),outboundDate:(0,E.H7)(e),outboundTime:(0,E.$c)(e),price:(0,E.aS)(e),journeyId:e.journeyId,punchout:!1,quantity:1,returnJourney:!1,splitTicket:!1,ticketType:(0,E.ih)(e),transportMethods:(0,E.wA)(e,r,t),urgencyMessaging:null,vendor:(0,E.wZ)(e,r,t),bikeReservationStatus:n,bikeAvailableQuantity:a}}var w=t(83570),Z=(0,i.P1)(L.sA,(e=>!!(e[0]&&e[0].availability&&e[0].availability.status))),F=(0,i.P1)(p.I7,(e=>{var r=Object.keys(e).map((r=>e[r])).filter((e=>e&&"walk"===e.mode));if(r.length&&r[0]){var t=r[0];if(t&&t.id)return t.id}return""})),B=(0,i.P1)(L.Er,m.ER,F,d.GR,((e,r,t,a)=>{var n=e.map((e=>{var a=r[e]||{};return a&&a.transportMode!==t&&a.carrier?a.carrier:null})).map((e=>{if(e)return(a[e]||{}).code})).filter((e=>!!e)).map((e=>e&&e.split(":").pop())).filter((e=>"**"!==e)).reduce(((e,r)=>(e.add(r),e)),new Set);return Array.from(n).join("|").toLowerCase()})),M=(0,i.P1)(L.Er,m.ER,F,d.GR,((e,r,t)=>t),((e,r,t,a,n)=>{var i=e.map((e=>{var a=r[e]||{};return a&&a.transportMode!==t&&a.carrier?a.carrier:null})).map((e=>{if(e)return(a[e]||{}).code})).filter((e=>!!e)).map((e=>e&&e.split(":")[2])).filter((e=>"**"!==e)).reduce(((e,r)=>(e.add(r),e)),new Set);return Array.from(i).join("|").toLowerCase()})),U=((0,i.P1)(L.ih,(e=>e?e.code.toLowerCase():null)),(0,i.P1)(L.Ru,(e=>e?e.code.toLowerCase():null)),(0,i.P1)(L.kK,(e=>e[0]&&e[0].price?e[0].price.amount:null))),j=(0,i.P1)(L.sA,L.kK,((e,r)=>{if(e[0]){var{arriveAt:t,departAt:a}=e[0];return n()(t).diff(n()(a),"minutes")}if(r[0]){var{arriveAt:i,departAt:o}=r[0];return n()(i).diff(n()(o),"minutes")}return 0})),H=(0,i.P1)(L.Er,(e=>e.length-1)),W=(0,i.P1)(L.sA,L.kK,((e,r)=>{if(e[0]){var{departAt:t}=e[0];return n()(t).format("YYYY-MM-DD")}if(r[0]){var{departAt:a}=r[0];return n()(a).format("YYYY-MM-DD")}return null})),G=(0,i.P1)(L.sA,L.kK,((e,r)=>{if(e[0]){var{departAt:t}=e[0];return n()(t).format("HH:mm:ssZ")}if(r[0]){var{departAt:a}=r[0];return n()(a).format("HH:mm:ssZ")}return null})),V=(0,i.P1)(L.sA,(e=>e[0]&&e[0].price?e[0].price.amount:null)),Y=(0,i.P1)(c.n8,(e=>!!e.length)),K=(0,i.P1)(L.kK,(e=>e[0]&&e[0].fareTypeName?e[0].fareTypeName.toLowerCase():null)),z=(0,i.P1)(L.sA,(e=>e[0]&&e[0].fareTypeName?e[0].fareTypeName.toLowerCase():null)),J=((0,i.P1)(g.JU,(e=>Object.values(e).reduce(((e,r)=>e+r),0))),(0,i.P1)(L.Er,m.ER,p.I7,((e,r,t)=>{var a=e.map((e=>(r[e]||{}).transportMode)).map((e=>{if(e){var{mode:r}=t[e]||{mode:void 0};return r?(0,v.l)(r):void 0}})).reduce(((e,r)=>(r&&e.add(r),e)),new Set);return Array.from(a)}))),q=(0,i.P1)(L.sA,(e=>{if(e[0]){var{isEnabled:r,availability:t}=e[0];return(0,L.GD)(r,t)}return null})),Q=(0,i.P1)(L.kK,(e=>{if(e[0]){var{isEnabled:r,availability:t}=e[0];return(0,L.GD)(r,t)}return null})),X=(0,i.P1)(L.Er,m.J_,u.Yu,((e,r,t)=>{var a=e[0],n=e[e.length-1],i=r[a]&&r[a].departureLocation,o=r[n]&&r[n].arrivalLocation,s=i&&t[i],l=o&&t[o];return s&&l?[s,l]:null})),$=(0,i.P1)(X,(e=>{if(!e)return null;var[,r]=e;return r.countryCode?r.countryCode.toLowerCase():null})),ee=(0,i.P1)(X,(e=>{if(!e)return null;var[,r]=e;return r.code?r.code.toLowerCase():null})),re=(0,i.P1)(X,(e=>{if(!e)return null;var[,r]=e;return r.name.toLowerCase()})),te=(0,i.P1)(X,(e=>{if(!e)return null;var[r]=e;return r.countryCode?r.countryCode.toLowerCase():null})),ae=(0,i.P1)(X,(e=>{if(!e)return null;var[r]=e;return r.code?r.code.toLowerCase():null})),ne=(0,i.P1)(X,(e=>{if(!e)return null;var[r]=e;return r.name.toLowerCase()})),ie=(0,i.P1)(L.sA,(e=>e[0]&&"inward"===e[0].direction.toLowerCase()));var oe=(0,i.P1)(L.hx,(e=>e),((e,r)=>r),((e,r,t)=>{var a=e.map((e=>e.journeyId&&function(e,r,t){var{availableExtras:a=[],bikeRestrictionStatus:n,journeyId:i}=r,{bikeAvailableQuantity:s,bikeReservationStatus:l}=(0,o.$R)(a,n);return{availability:Z(e,t,i),brand:null,carrier:B(e,t,i),category:"ticket",destinationCountryCode:$(e,t,i),destinationStationCode:ee(e,t,i),destinationStationName:re(e,t,i),disruptionsMessaging:!1,ecommerceAction:null,firstClassTicketType:K(e,t,i),firstClassPrice:U(e,t,i),firstClassUrgencyMessaging:Q(e,t,i),inventoryType:"uk",journeyLengthMinutes:j(e,t,i),numChanges:H(e,t,i),originCountryCode:te(e,t,i),originStationCode:ae(e,t,i),originStationName:ne(e,t,i),outboundDate:W(e,t,i),outboundTime:G(e,t,i),price:V(e,t,i),journeyId:i,punchout:Y(e,t),quantity:1,returnJourney:ie(e,t,i),splitTicket:!1,ticketType:z(e,t,i),transportMethods:J(e,t,i),urgencyMessaging:q(e,t,i),vendor:M(e,t,i),bikeAvailableQuantity:s,bikeReservationStatus:l}}(r,e,t))),n=(0,h.e_)(r);if("return"===n&&!t.query.showMatrix){var i=(0,L.us)(r,t),c=(0,L.kk)(r,t),d=i.map((e=>e[0]&&D(e[0],r,t))),u=r.ui.matrix&&r.ui.matrix.returnAlternativesFirstClassExpanded,p=1===c.length||u?c.map((e=>e[0]&&(0,x.C)(e[0],r,t))):[];return[...a,...d,...p]}if("open return"===n){var m=(0,L.us)(r,t),g=(0,L.kk)(r,t),v=[];m.map((e=>{e.map((e=>v.push(D(e,r,t))))}));var y=(0,s.Hp)(r)||(0,s.tD)(r),f=[];return(1===g.length||y)&&g.map((e=>{e.map((e=>f.push((0,x.C)(e,r,t))))})),[...v,...f]}if(t.query.showMatrix){var E=(0,l.zz)(r,t),b=O(E,r,t),S=(0,L.us)(r,t),T=(0,L.kk)(r,t),C=S.map((e=>e[0]&&D(e[0],r,t))),A=(0,s.Hp)(r);return[...b,...C,...1===T.length||A?T.map((e=>e[0]&&(0,x.C)(e[0],r,t))):[]]}return a})),se=(e,r)=>oe(e,r),le=(0,i.P1)(w.Yw,g.g9,((e,r)=>e?r?"link":"manual entry":null))},82765:(e,r,t)=>{"use strict";t.d(r,{Er:()=>E,GD:()=>C,Ru:()=>T,Xo:()=>A,hx:()=>y,ih:()=>S,kK:()=>b,kk:()=>_,sA:()=>f,us:()=>I});var a=t(82768),n=t(32034),i=t(85536),o=t(22746),s=t(2693),l=t(35926),c=t(63410),d=t(89277),u=t(10526),p=t(61229),m=t(32143),g=t(7173),v=t(43650),h=(0,n.P1)(g.yX,g.Xh,((e,r)=>[...e,...r])),y=(0,n.P1)(h,(e=>e),((e,r)=>r),((e,r,t)=>e.map((e=>(0,l.nY)(e,(0,o.$s)(r,t),(0,o.F3)(r,t),(0,m.W6)(r,t)))))),f=(0,n.P1)(h,((e,r,t)=>t),((e,r)=>e.reduce(((e,t)=>t.standard&&t.standard.journeyId===r?[...e,t.standard]:e),[]))),E=(0,n.P1)(p.Dk,((e,r,t)=>t),((e,r)=>e?Object.keys(e).reduce(((t,a)=>e[a].id===r?[...t,...e[a].legs]:t),[]):[])),b=(0,n.P1)(h,((e,r,t)=>t),((e,r)=>e.reduce(((e,t)=>t.first&&t.first.journeyId===r?[...e,t.first]:e),[]))),S=(0,n.P1)(b,(e=>e),((e,r)=>e[0]&&e[0].fareTypeId?(0,u.oH)(r,e[0].fareTypeId):null)),T=(0,n.P1)(f,(e=>e),((e,r)=>e[0]&&e[0].fareTypeId?(0,u.oH)(r,e[0].fareTypeId):null)),C=(e,r)=>{if(e){if(r&&r.remaining)return"remaining: ".concat(r.remaining);if(r&&r.status&&!r.remaining){var t=r.status.toLowerCase();return"available"===t?null:t}return null}return"not available to buy"},A=e=>(0,i.QA)()?(e=>{var r=(0,s.Ts)(e);return r===s.a8.NULL?null:r===s.a8.COUNT?"remaining: ".concat(e.remaining):"limited"})(e):null,I=(e,r)=>(0,a.qCK)(d.rO,c.Yn)((0,v.fV)(e,r)),_=(e,r)=>(0,a.qCK)(d.rO,c.z5)((0,v.fV)(e,r))},2053:(e,r,t)=>{"use strict";t.d(r,{C:()=>i});var a=t(64997),n=t(87114);function i(e,r,t){var{bikeAvailableQuantity:i,bikeReservationStatus:o}=(0,a.$R)(e.availableExtras,e.journeyBikeRestrictionStatus);return{availability:!1,brand:null,carrier:(0,n.Gl)(e,r,t),category:"ticket",destinationCountryCode:(0,n.so)(e.arrivalStation,r),destinationStationCode:(0,n.LQ)(e.arrivalStation,r),destinationStationName:(0,n.vP)(e.arrivalStation,r),disruptionsMessaging:!1,ecommerceAction:null,firstClassTicketType:(0,n.ih)(e),firstClassPrice:(0,n.aS)(e),firstClassUrgencyMessaging:null,inventoryType:"uk",journeyLengthMinutes:(0,n.wB)(e),numChanges:e.changes,originCountryCode:(0,n.so)(e.departureStation,r),originStationCode:(0,n.LQ)(e.departureStation,r),originStationName:(0,n.vP)(e.departureStation,r),outboundDate:(0,n.H7)(e),outboundTime:(0,n.$c)(e),price:null,journeyId:e.journeyId,punchout:!1,quantity:1,returnJourney:!1,splitTicket:!1,ticketType:null,transportMethods:(0,n.wA)(e,r,t),urgencyMessaging:null,vendor:(0,n.wZ)(e,r,t),bikeAvailableQuantity:i,bikeReservationStatus:o}}},87114:(e,r,t)=>{"use strict";t.d(r,{$c:()=>g,Gl:()=>d,H7:()=>m,IK:()=>T,LQ:()=>f,aS:()=>v,ih:()=>b,lm:()=>c,so:()=>y,vP:()=>E,wA:()=>S,wB:()=>p,wZ:()=>u});var a=t(84025),n=t.n(a),i=t(16362),o=t(92490),s=t(6105),l=t(61229),c=e=>!(!e.availability||!e.availability.status||"available"!==e.availability.status),d=(e,r,t)=>{var{fares:a}=e,n=(0,l.Cu)(r,t),o=(0,i.GR)(r),s=[];return a.map((e=>{var r=n&&n.fares[e];return r&&r.fareLegs?r.fareLegs.map((e=>e.legId)).map((e=>{s.push(e)})):"unknown"})),s.map((e=>{var r=n&&n.legs[e];return r&&r.carrier?r.carrier:null})).map((e=>{var r=e&&o[e];return r&&r.code?r.code.split(":").pop():"unknown"})).filter(((e,r,t)=>t.indexOf(e)===r)).join("|").toLowerCase().replace(/\*\*/g,"unknown")},u=(e,r,t)=>{var{fares:a}=e,n=(0,l.Cu)(r,t),o=(0,i.GR)(r),s=[];return a.map((e=>{var r=n&&n.fares[e];return r&&r.fareLegs?r.fareLegs.map((e=>e.legId)).map((e=>{s.push(e)})):"unknown"})),s.map((e=>{var r=n&&n.legs[e];return r&&r.carrier?r.carrier:null})).map((e=>{var r=e&&o[e];return r&&r.code?r.code.split(":")[2]:"unknown"})).filter(((e,r,t)=>t.indexOf(e)===r)).join("|").toLowerCase()},p=e=>{var{arriveAt:r,departAt:t}=e;return n()(r).diff(n()(t),"minutes")},m=e=>{var{departAt:r}=e;return n().parseZone(r).format("YYYY-MM-DD")},g=e=>{var{departAt:r}=e;return n().parseZone(r).format("HH:mm:ssZ")},v=e=>{var{price:r}=e;return r&&r.amount?r.amount:null},h=(e,r)=>{var t=(0,o.Yu)(r),a=Object.keys(t).map((e=>t[e])).filter((r=>r&&r.name===e));return a.length&&a[0]},y=(e,r)=>{var t=h(e,r);return t&&t.countryCode?t.countryCode.toLowerCase():"unknown"},f=(e,r)=>{var t=h(e,r);return t&&t.code?t.code.toLowerCase():"unknown"},E=(e,r)=>{var t=h(e,r);return t&&t.name?t.name.toLowerCase():"unknown"},b=e=>e.fareTypeName&&e.fareTypeName.toLowerCase(),S=(e,r,t)=>{var{fares:a}=e,n=(0,l.Cu)(r,t),i=(0,s.I7)(r);return a.map((e=>{var r=n&&n.fares[e];return r&&r.fareLegs?r.fareLegs.map((e=>e.legId)).map((e=>{var r=n&&n.legs[e];return r&&r.transportMode?r.transportMode:null})).map((e=>{var r=e&&i[e];return r&&r.mode?r.mode:"unknown"})).filter(((e,r,t)=>t.indexOf(e)===r)):"unknown"}))[0]},T=e=>e.direction&&"inward"===e.direction.toLowerCase()},62129:(e,r,t)=>{"use strict";t.d(r,{EN:()=>q,je:()=>A,ok:()=>I,K8:()=>G,zk:()=>V,e_:()=>H});var a=t(67487),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(51282),c=t(60654),d=t(59838),u=t(22524),p=t(95444),m=t(70196),g=t(51059),v=t(51807),h=t(83504),y=t(29011),f=t(92490),E=(0,s.P1)(f.Yu,((e,r)=>{var{query:t}=r;return t}),((e,r)=>r.destination&&e[r.destination]||{})),b=(0,s.P1)(f.Yu,((e,r)=>{var{query:t}=r;return t}),((e,r)=>r.origin&&e[r.origin]||{})),S=(0,s.P1)(f.Yu,((e,r)=>{var{query:t}=r;return t}),((e,r)=>r.via&&r.via[0]&&e[r.via[0]]||{})),T=(0,s.P1)(f.Yu,((e,r)=>{var{query:t}=r;return t}),((e,r)=>r.avoid&&r.avoid[0]&&e[r.avoid[0]]||{})),C=(0,s.P1)(y.pi,(e=>e?a.InventoryType.International:a.InventoryType.Uk)),A=(0,s.P1)(g.JU,(e=>e.adults)),I=(0,s.P1)(g.JU,y.pi,((e,r)=>r?e.youths:e.children)),_=(e,r)=>{var t=E(e,r);return t.countryCode&&t.countryCode.toLowerCase()||""},P=(e,r)=>{var t=E(e,r);return t.code&&t.code.toLowerCase()||""},R=(e,r)=>{var t=E(e,r);return t.name&&t.name.toLowerCase()||""},k=(e,r)=>{var t=S(e,r);return t.name&&t.name.toLowerCase()||null},N=(0,s.P1)(g.Up,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||null})),O=(0,s.P1)(g.or,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||null})),L=(e,r)=>{var t=T(e,r);return t.name&&t.name.toLowerCase()||null},x=(e,r)=>{var t=b(e,r);return t.countryCode&&t.countryCode.toLowerCase()||""},D=(e,r)=>{var t=b(e,r);return t.code&&t.code.toLowerCase()||""},w=(e,r)=>{var t=b(e,r);return t.name&&t.name.toLowerCase()||""},Z=(e,r)=>{var{query:t}=r;return i()(t.outwardDate).format("YYYY-MM-DD")},F=(e,r)=>{var{query:t}=r;return i()(t.outwardDate).format("HH:mm:ssZ")},B=(0,s.P1)(l.YG,(e=>e.dateType===c.TransitDefinitionDateType.ARRIVE_BEFORE?a.TimeType.ArrivingBy:a.TimeType.LeavingAt)),M=(0,s.P1)(u.Y,(e=>{if(e&&!(0,o.xbD)(e)){var r=Object.keys(e).map((r=>e[r].code)).filter(d.v);return(r.length>0?r:Object.keys(e)).join("|").toLowerCase()}return null})),U=(e,r)=>{var{query:t}=r;return t.inwardDate?i()(t.inwardDate).format("YYYY-MM-DD"):null},j=(e,r)=>{var{query:t}=r;return t.inwardDate?i()(t.inwardDate).format("HH:mm:ssZ"):null},H=(0,s.P1)(l.i2,(e=>"openreturn"===e.toLowerCase()?a.SearchPropertiesSearchTripType.OpenReturn:e.toLowerCase())),W=(0,s.P1)(H,l.i9,((e,r)=>r&&r.dateType?r.dateType===c.TransitDefinitionDateType.ARRIVE_BEFORE?a.TimeType.ArrivingBy:a.TimeType.LeavingAt:null)),G=(0,s.P1)(g.JU,y.pi,((e,r)=>r?e.seniors:0)),V=(0,s.P1)(l.gH,y.pi,((e,r)=>r?e.euFlowPassengers.length:e.passengers.length)),Y=(0,s.P1)(h.xM,(e=>"coach"===e.selectedTab?a.SearchTransportMethod.Coach:a.SearchTransportMethod.Train)),K=(e,r)=>e,z=(e,r)=>r,J=(0,s.P1)(K,z,m.I,((e,r,t)=>{var a=(0,p._)(e,r)?"euroStar":"default",n=t&&t.split(":").pop();return n?{default:{flexi:"flexible",semiflexi:"semi-flexible",nonflexi:"non-flexible"},euroStar:{flexi:"business premier",nonflexi:"standard premier"}}[a][n]:null})),q=(0,s.P1)([K,z],((e,r)=>({searchAdultPassengers:A(e),searchChildPassengers:I(e),searchDestinationCountryCode:_(e,r),searchDestinationStationCode:P(e,r),searchDestinationStationName:R(e,r),searchId:(0,v.g8)(e,r)||null,searchInventoryType:C(e),searchOriginCountryCode:x(e,r),searchOriginStationCode:D(e,r),searchOriginStationName:w(e,r),searchOutboundDate:Z(0,r),searchOutboundTime:F(0,r),searchOutboundTimeType:B(e),searchRailcard:M(e),searchReturnDate:U(0,r),searchReturnTime:j(0,r),searchReturnTimeType:W(e),searchSeniorPassengers:G(e),searchTotalPassengers:V(e),searchTransportMethod:Y(e),searchTripType:H(e),searchViaStationName:k(e,r),searchViaStationCode:N(e),searchAvoidStationName:L(e,r),searchAvoidStationCode:O(e),flexibilityTab:J(e,r)})))},97550:(e,r,t)=>{"use strict";t.d(r,{d:()=>u,k:()=>d});var a=t(32034),n=t(58274),i=t(60054),o=t(3259),s=(0,a.P1)(i.WV,(e=>e),((e,r)=>(0,n.NY)(e,r,o.BB.SFL_BASKET,!0))),l=(0,a.P1)(s,(e=>e.map((e=>(0,o.oN)(e))))),c=t(70025),d=(0,a.P1)(n.lA,c.s,((e,r)=>[...e,...r])),u=(0,a.P1)(n.lA,c.s,l,((e,r,t)=>[...e,...r,...t]))},65130:(e,r,t)=>{"use strict";t.d(r,{E:()=>E,c:()=>b});var a=t(32034),n=t(56775),i=t(81153),o=t(42292),s=t(50549),l=t(51059),c=t(32143),d=t(51807),u=t(13118),p=t(82765),m=t(62129),g=t(3259),v=t(3211),h=(0,a.P1)(o.rF,(e=>{var r=[];return e.forEach((e=>e.legs.forEach((e=>{var t=e.fareTypes[0];t&&r.push(t.name.toLowerCase())})))),r.filter(((e,r,t)=>t.indexOf(e)===r)).join("|")})),y=(0,a.P1)(o.p$,(e=>e&&e.amount?parseFloat(e.amount.toFixed(2)):0));function f(e,r,t){if(!t.details)return null;var{details:{arriveAt:a,departAt:n,id:o,legs:s},ecommerceAction:c,firstClassJourney:f,isReturn:E}=t,b=(0,u.Ty)(e,r,o),S=(0,u.UD)(e,r,o),T=((0,i.XQ)(e,r)||[]).find((e=>e.journeyId===o)),C=f?null==T?void 0:T.firstAlternativeContainer:null==T?void 0:T.standardAlternativeContainer;return{adultPassengers:(0,m.je)(e),brand:b||S||"",carrier:S||"",category:"ticket",childPassengers:(0,m.ok)(e),deliveryOptions:[],destinationCountryCode:(0,u.zl)(e,r,o),destinationStationCode:(0,u.l5)(e,r,o),destinationStationName:(0,u.uc)(e,r,o),disruptionsMessaging:!1,ecommerceAction:c,firstClassJourney:f,inventoryType:"international",journeyId:o,journeyLengthMinutes:(0,g.wB)(n,a),numChanges:s.length-1,originCountryCode:(0,u.u4)(e,r,o),originStationCode:(0,u.Mx)(e,r,o),originStationName:(0,u.so)(e,r,o),outboundDate:(0,g.H7)(n),outboundTime:(0,g.$c)(n),price:y(e,r),punchout:!1,quantity:1,recommended:(0,u.z)(o,(0,v.iZ)(e,r)),returnJourney:E,returnTrip:(0,l.S8)(e),seniorPassengers:(0,m.K8)(e),splitTicket:C&&(0,u.RJ)(C),ticketType:h(e,r),totalPassengers:(0,m.zk)(e),transportMethods:(0,u.pN)(e,r,o),tripProductId:(0,d.g8)(e,r)||null,vendor:(0,u.xH)(e,r,o),urgencyMessaging:(0,p.Xo)(null==C?void 0:C.limitedAvailability),bikeAvailableQuantity:"0",bikeReservationStatus:null,bikeReservationSelected:0}}var E=(e,r,t)=>{var a=((e,r,t)=>{var a=[],i=(0,c.Q4)(e,r),o={query:r.query};if(i){var l=(0,c.pp)(e,o)[0],d={ecommerceAction:t,details:i,isReturn:!1,firstClassJourney:(0,s.uw)((0,n.q)((0,c.wT)(e,o)),l)};a.push(d)}var u=(0,c.P8)(e,r);if(u){var p=(0,c.qF)(e,o)[0],m={ecommerceAction:t,details:u,isReturn:!0,firstClassJourney:(0,s.uw)((0,n.q)((0,c.vU)(e,o)),p)};a.push(m)}return a.map((t=>f(e,r,t)))})(e,r,t);return a},b=(e,r,t,a)=>{var i=((e,r,t,a)=>{var i=[],{direction:o}=a,l={query:r.query};if("outward"===o){var d=(0,c.Q4)(e,r),u=(0,c.pp)(e,l)[0],p={ecommerceAction:t,details:d,isReturn:!1,firstClassJourney:(0,s.uw)((0,n.q)((0,c.wT)(e,l)),u)};i.push(p)}if("inward"===o){var m=(0,c.P8)(e,r),g=(0,c.qF)(e,l)[0],v={ecommerceAction:t,details:m,isReturn:!0,firstClassJourney:(0,s.uw)((0,n.q)((0,c.vU)(e,l)),g)};i.push(v)}return i.map((t=>f(e,r,t)))})(e,r,t,a);return i}},72117:(e,r,t)=>{"use strict";t.d(r,{IE:()=>b,NE:()=>E,oN:()=>f});var a=t(23198),n=t(56775),i=t(64997),o=t(54222),s=t(10526),l=t(75352),c=t(50549),d=t(51059),u=t(32143),p=t(51807),m=t(82765),g=t(1973),v=t(62129),h=t(3259),y=(e,r)=>r&&e&&e.amount&&r.amount&&r.amount!==e.amount?r.amount:null;function f(e,r,t,n){var{alternative:{fullPrice:o,price:s,availableExtras:l=[]}={},fareType:c,isReturn:m,selected:{id:f,departAt:E="",arriveAt:b="",legs:S=[],bikeRestrictionStatus:T}={},urgencyMessaging:C,ecommerceAction:A,firstClassJourney:I}=r,{bikeAvailableQuantity:_,bikeReservationStatus:P}=(0,i.$R)(l,T),R=(0,d.S8)(e),k=(0,a.Z)((0,a.Z)({},t),{},{getOutwardHash:!m}),N=m?(0,u.GF)(e,k)||!1:(0,u.kP)(e,k)||!1;return{adultPassengers:(0,v.je)(e),brand:null,carrier:(0,g.pA)(e,k,f),category:"ticket",childPassengers:(0,v.ok)(e),deliveryOptions:[],destinationCountryCode:(0,g.DQ)(e,k,f)||"",destinationStationCode:(0,g.tP)(e,k,f),destinationStationName:(0,g.WA)(e,k,f)||"",disruptionsMessaging:!1,ecommerceAction:A,firstClassJourney:I,inventoryType:"uk",journeyId:f,journeyLengthMinutes:(0,h.wB)(E,b),numChanges:S.length-1,originCountryCode:(0,g.ed)(e,k,f)||"",originStationCode:(0,g.FB)(e,k,f),originStationName:(0,g.P4)(e,k,f)||"",outboundDate:(0,h.H7)(E),outboundTime:(0,h.$c)(E),price:(null==o?void 0:o.amount)||0,priceDiscounted:y(o,s),punchout:!1,quantity:1,returnJourney:m,returnTrip:R,seniorPassengers:(0,v.K8)(e),splitTicket:N,ticketType:c||null,totalPassengers:(0,v.zk)(e),transportMethods:(0,g.Lb)(e,k,f),tripProductId:void 0===n?(0,p.g8)(e,t):n,urgencyMessaging:C,vendor:(0,g.Or)(e,k,f),bikeAvailableQuantity:_,bikeReservationStatus:P,bikeReservationSelected:0}}var E=(e,r,t)=>{var a,{query:{selectedOutward:i,selectedInward:d}}=r,p=[],g={query:r.query},v=null,h=(0,u.wT)(e,g)[0];if(a=(0,u.pp)(e,g)[0],i&&h&&a){var y,E=(0,u.Q4)(e,r),b=(0,l.qn)(e,g),S={alternative:a,fareType:null===(y=v=(0,s.oH)(e,b))||void 0===y||null===(y=y.name)||void 0===y?void 0:y.toLocaleLowerCase(),isReturn:!1,selected:E,stations:(0,o.Z)(e,g),urgencyMessaging:(0,m.GD)(!0,h.availability),ecommerceAction:t,firstClassJourney:(0,c.uw)((0,n.q)((0,u.wT)(e,g)),a)};p.push(S)}var T=(0,u.vU)(e,g)[0],C=(0,u.qF)(e,g)[0];if(d&&T&&C){var A,I,_=(0,u.P8)(e,r),P=(0,l.kN)(e,g),R=(0,s.oH)(e,P),k={alternative:C,fareType:R?null==R||null===(A=R.name)||void 0===A?void 0:A.toLocaleLowerCase():null===(I=v)||void 0===I||null===(I=I.name)||void 0===I?void 0:I.toLocaleLowerCase(),isReturn:!0,selected:_,stations:(0,o.Z)(e,g),urgencyMessaging:(0,m.GD)(!0,T.availability),ecommerceAction:t,firstClassJourney:(0,c.uw)((0,n.q)((0,u.vU)(e,g)),C)};p.push(k)}return p.map((t=>f(e,t,r)))},b=(e,r,t,a)=>{var i,d=[],p={query:r.query},g=null,{direction:v}=a,h=(0,u.wT)(e,p)[0];if(i=(0,u.pp)(e,p)[0],("outward"===v||"returnAlternative"===v)&&h&&i){var y,E=(0,u.Q4)(e,r),b=(0,l.qn)(e,p),S={alternative:i,fareType:null===(y=g=(0,s.oH)(e,b))||void 0===y||null===(y=y.name)||void 0===y?void 0:y.toLocaleLowerCase(),isReturn:!1,selected:E,stations:(0,o.Z)(e,p),urgencyMessaging:(0,m.GD)(!0,h.availability),ecommerceAction:t,firstClassJourney:(0,c.uw)((0,n.q)((0,u.wT)(e,p)),i)};d.push(S)}var T=(0,u.vU)(e,p)[0],C=(0,u.qF)(e,p)[0];if(("inward"===v||"returnAlternative"===v)&&T&&C){var A,I,_=(0,u.P8)(e,r),P=(0,l.kN)(e,p),R=(0,s.oH)(e,P),k={alternative:C,fareType:R?null==R||null===(A=R.name)||void 0===A?void 0:A.toLocaleLowerCase():null===(I=g)||void 0===I||null===(I=I.name)||void 0===I?void 0:I.toLocaleLowerCase(),isReturn:!0,selected:_,stations:(0,o.Z)(e,p),urgencyMessaging:(0,m.GD)(!0,T.availability),firstClassJourney:(0,c.uw)((0,n.q)((0,u.vU)(e,p)),C),ecommerceAction:t};d.push(k)}return d.map((t=>f(e,t,r)))}},10030:(e,r,t)=>{"use strict";t.d(r,{A:()=>b});var a=t(23198),n=t(51282),i=t(56775),o=t(29171),s=t(92490),l=t(29011),c=t(21192),d=t(83504),u=t(54222),p=t(10526),m=t(3259),g=t(75352),v=t(50549),h=t(51059),y=t(32143),f=t(82765),E=t(72117),b=(e,r)=>{var t,b={query:r.query},S=(0,a.Z)((0,a.Z)({},b),{},{getOutwardHash:!0}),T=(0,h.i2)(e),C=(0,y.wT)(e,b)[0],A=(0,y.pp)(e,S)[0],I=(0,y.Q4)(e,S),_=(0,g.qn)(e,S),P=(0,p.oH)(e,_),R={alternative:A,fareType:null==P||null===(t=P.name)||void 0===t?void 0:t.toLocaleLowerCase(),isReturn:!1,selected:I,stations:(0,u.Z)(e,S),urgencyMessaging:(0,f.GD)(!0,C&&C.availability),ecommerceAction:"checkout",firstClassJourney:(0,v.uw)((0,i.q)((0,y.wT)(e,S)),A)};if(!A){if(window&&window.newrelic){var k=new Error("Undefined selected outward alternative"),N=(0,d.FD)(e),O=(0,n.gH)(e),L=O&&O.from.id,x=O&&O.to.id,D=(0,s.Yu)(e),w=(0,o.lK)(L,x,D),Z=!D||!Object.keys(D).length,F=(0,o.QH)(D,L),B=(0,o.zh)(D,L),M=(0,o.QH)(D,x),U=(0,o.zh)(D,x),j={location:N,payloadQuery:r.query,origin:L,destination:x,currentExperience:w,thereAreNoLocations:Z,originIsNotAtocOnly:F,originIsMissing:B,destinationIsNotAtocOnly:M,destinationIsMissing:U};window.newrelic.noticeError(k,j)}return[]}var H=A.id,W=[R],G=(0,c.ZT)(e),V=(0,h.fE)(e,b),Y=(0,l.pi)(e);if(T&&!(Y&&(G&&!V))){var K,z,J=(0,y.vU)(e,b)[0],q=(0,y.qF)(e,b)[0],Q=(0,y.P8)(e,r),X=(0,g.kN)(e,b),$=(0,p.oH)(e,X),ee={alternative:q,fareType:$?null==$||null===(K=$.name)||void 0===K?void 0:K.toLocaleLowerCase():null==P||null===(z=P.name)||void 0===z?void 0:z.toLocaleLowerCase(),isReturn:!0,selected:Q,stations:(0,u.Z)(e,b),urgencyMessaging:(0,f.GD)(!0,J&&J.availability),ecommerceAction:m.BB.CHECKOUT,firstClassJourney:(0,v.uw)((0,i.q)((0,y.vU)(e,b)),q)};W.push(ee),H=A.id+(q?q.id:"")}return W.map((t=>(0,E.oN)(e,t,r,H)))}},58274:(e,r,t)=>{"use strict";t.d(r,{NY:()=>m,lA:()=>v});var a=t(23198),n=t(32034),i=t(64997),o=t(10526),s=t(60054),l=t(84175),c=t(88675),d=t(51486),u=t(41152),p=t(3259),m=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.reduce(((e,s)=>{var m,g=(0,l.Dw)(s),v=!!s.inwardJourney,h=(0,l.XS)(s),y=(0,l.Ks)(s),f=(0,l.n1)(r,s),E=(0,l.vL)(r,s),b=(0,l.h_)(r,s),S=s.outwardJourney.legs.map((e=>(0,d.vu)(r,e))).map((e=>e&&e.code&&e.code.split(":").pop())).filter(((e,r,t)=>t.indexOf(e)===r)).filter((e=>!!e)).join("|").toLowerCase(),T=(0,c.Kd)(r,s.outwardJourney),C=(0,o.SP)(r),A=(0,a.Z)((0,a.Z)({},s),{},{inwardJourney:void 0}),I=(0,c.Kd)(r,s.outwardJourney),_=(0,u.wF)(I),P=(0,l.rx)(r,A),R=(0,l.b6)(r,s).find(Boolean),k=!!R&&R.productId||void 0,N=!!(g||v&&s.inwardJourney),O=(0,i.A3)(s.selectedExtras,s.outwardJourney.legs),L=(0,i.$R)(O,s.outwardJourney.bikeRestrictionStatus,!0),x={arrivalDate:(0,c.Kj)(s.outwardJourney),brand:S||null,deliveryMethod:(0,p.t)(r,A),departureDate:(0,c._Y)(s.outwardJourney),destination:y,ecommerceAction:t,fareTypes:T.map((e=>{var{fareType:r}=e;return C[r.id]})),firstClassJourney:(0,c.yT)(r,s.outwardJourney),isEuropeExperience:b,journeyId:s.outwardJourney.id,numChanges:(0,p.yZ)(s.outwardJourney),origin:h,passengers:f,passengersTotal:E,priceDirection:n?(0,l.sn)(r,s)+(0,l.B3)(r,s):(0,c.Ek)(r,s.outwardJourney)||P,providers:(0,c.U6)(r,s.outwardJourney),returnJourney:!1,returnTrip:N,serviceProviders:(0,c.oF)(r,s.outwardJourney).map((e=>e.code)),travelProductId:k,urgencyMessaging:_?"limited":null,bikeAvailableQuantity:L.bikeAvailableQuantity,bikeReservationStatus:L.bikeReservationStatus,bikeReservationSelected:(0,i.Ky)(s.outwardJourney.bikeRestrictionStatus)?L.bikeReservationSelected:0,splitTicket:(null===(m=s.outwardJourney)||void 0===m?void 0:m.isSplitSave)||!1};if(v&&s.inwardJourney&&!g){var D,w,Z=(0,i.A3)(s.selectedExtras,null===(D=s.inwardJourney)||void 0===D?void 0:D.legs),F=(0,i.$R)(Z,s.inwardJourney.bikeRestrictionStatus,!0),B=s.inwardJourney.legs.map((e=>(0,d.vu)(r,e))).map((e=>e&&e.code&&e.code.split(":").pop())).filter((e=>!!e)).filter(((e,r,t)=>t.indexOf(e)===r)).join("|").toLowerCase(),M=(0,c.Kd)(r,s.inwardJourney),U=(0,a.Z)((0,a.Z)({},s),{},{outwardJourney:s.inwardJourney,inwardJourney:void 0}),j=(0,c.Kd)(r,s.inwardJourney),H=(0,u.wF)(j),W=(0,l.rx)(r,U),G=(0,l.rx)(r,s),V=(0,c.Ek)(r,s.inwardJourney)||W,Y={arrivalDate:(0,c.Kj)(s.inwardJourney),brand:B||null,deliveryMethod:(0,p.t)(r,U),departureDate:(0,c._Y)(s.inwardJourney),destination:h,ecommerceAction:t,fareTypes:M.map((e=>{var{fareType:r}=e;return C[r.id]})),firstClassJourney:(0,c.yT)(r,s.inwardJourney),isEuropeExperience:b,journeyId:s.inwardJourney.id,numChanges:(0,p.yZ)(s.inwardJourney),origin:y,passengers:f,passengersTotal:E,priceDirection:G===V?0:V,providers:(0,c.U6)(r,s.inwardJourney),returnJourney:!0,returnTrip:N,serviceProviders:(0,c.oF)(r,s.inwardJourney).map((e=>e.code)),travelProductId:k,urgencyMessaging:H?"limited":null,bikeAvailableQuantity:F.bikeAvailableQuantity,bikeReservationStatus:F.bikeReservationStatus,bikeReservationSelected:(0,i.Ky)(s.inwardJourney.bikeRestrictionStatus)?F.bikeReservationSelected:0,splitTicket:(null===(w=s.inwardJourney)||void 0===w?void 0:w.isSplitSave)||!1};return[...e,x,Y]}return[...e,x]}),[])},g=(0,n.P1)(s.RB,(e=>e),((e,r)=>m(e,r,p.BB.BASKET))),v=(0,n.P1)(g,(e=>e.map(p.oN)))},3259:(e,r,t)=>{"use strict";t.d(r,{$c:()=>P,Ae:()=>D,BB:()=>E,H7:()=>_,Pn:()=>U,kX:()=>F,oN:()=>Z,t:()=>M,wB:()=>R,yZ:()=>B});var a=t(23198),n=t(67487),i=t(84025),o=t.n(i),s=t(82768),l=t(32034),c=t(52103),d=t(64997),u=t(10526),p=t(93754),m=t(84175),g=t(88675),v=t(51486),h=t(41152),y=t(58458),f=t(29148),E=function(e){return e.BASKET="basket",e.SFL_BASKET="sfl basket",e.CHECKOUT="checkout",e}({}),b=e=>e.adults,S=(e,r)=>e?r.youths:r.children,T=(e,r)=>e?r.seniors:0,C=e=>!!e&&e.countryCode&&e.countryCode.toLowerCase()||"",A=e=>!!e&&e.code&&e.code.toLowerCase()||"",I=e=>!!e&&e.name&&e.name.toLowerCase()||"",_=e=>o().parseZone(e).format("YYYY-MM-DD"),P=e=>o().parseZone(e).format("HH:mm:ssZ"),R=(e,r)=>o()(r).diff(o()(e),"minutes"),k=e=>e.map((e=>e?e.split(":")[2]:null)).filter(((e,r,t)=>t.indexOf(e)===r)).filter(Boolean).join("|").toLowerCase(),N=(e,r)=>{var t=e.map((e=>e?e.split(":").pop():"unknown")).map((e=>"**"===e?"unknown":e)).filter(((e,t)=>r[t]&&"walk"!==r[t]));return(0,s.jj$)(t).join("|").toLowerCase()},O=e=>e?n.InventoryType.International:n.InventoryType.Uk,L=e=>{var r=!!e&&e;if(r){var t=r.map((e=>e&&e.name?e.name.split(" - ")[0].toLowerCase():null)).filter(((e,r,t)=>t.indexOf(e)===r)).join("|").replace(/'/g,"");return t||null}return null},x={Email:"email",AtocKiosk:"atockiosk",AtocMTicket:"atocmticket",AtocETicket:"atoceticket",caw:"atoccollectatwindow",AtocUkSecondClassPost:"atocuksecondclasspost",AtocPrintYourOwn:"atocprintyourown",AtocUKSpecialDelivery:"atocukspecialdelivery",AtocUKInternationalPost:"atocukinternationalpost",AtocInternationalPost:"international-post",NationalExpressETicket:"nationalexpresseticket",SNCFETicket:"sncfeticket",EurostarDirectETicket:"eurostardirecteticket",SNCFPrintYourOwn:"sncfprintyourown",EUGeneric:"email",BenerailPrintYourOwn:"benerailprintyourown",BenerailETicket:"beneraileticket",DBETicket:"dbeticket",RenfeETicket:"renfeeticket",TrenitaliaETicket:"trenitaliaeticket",TrenitaliaTicketless:"trenitaliaticketless",ILSAEticket:"ilsaeticket",NTVTicketless:"ntvticketless",OUIGOETicket:"ouigoeticket",OBBETicket:"obbeticket",OBBPrintYourOwn:"obbprintyourown",CFFETicket:"cffeticket",BusbudPrintYourOwn:"busbudprintyourown",BusbudETicket:"busbudeticket",WestbahnETicket:"westbahneticket",DistribusionPrintYourOwn:"distribusionprintyourown"},D=e=>x[e],w=e=>e&&Object.values(e).sort((0,c.d)("name")).map((e=>e.name)).join("|")||null;function Z(e){var{arrivalDate:r,brand:t,deliveryMethod:a,departureDate:i,destination:o,ecommerceAction:s,fareTypes:l,firstClassJourney:c,isEuropeExperience:d,journeyId:u,numChanges:p,origin:m,passengers:g,passengersTotal:v,priceDirection:h,providers:f,returnJourney:E,returnTrip:x,serviceProviders:D,travelProductId:Z,urgencyMessaging:F,railcards:B,bikeAvailableQuantity:M,bikeReservationStatus:U,bikeReservationSelected:j,splitTicket:H}=e,{transportModes:W}=f,G=N(D,W);return{adultPassengers:b(g),brand:t||G||null,carrier:G,category:n.TicketProductCategory.Ticket,childPassengers:S(d,g),deliveryOptions:a,destinationCountryCode:C(o),destinationStationCode:A(o),destinationStationName:I(o),disruptionsMessaging:!1,ecommerceAction:s,firstClassJourney:c,inventoryType:O(d),journeyId:u,journeyLengthMinutes:R(i,r),numChanges:p,originCountryCode:C(m),originStationCode:A(m),originStationName:I(m),outboundDate:_(i),outboundTime:P(i),price:parseFloat(h.toFixed(2)),punchout:!1,quantity:1,railcard:w(B),returnJourney:E,returnTrip:x,seniorPassengers:T(d,g),splitTicket:H,ticketType:L(l),totalPassengers:v,transportMethods:W.map(y.l),tripProductId:Z,urgencyMessaging:F,vendor:k(D),bikeAvailableQuantity:M,bikeReservationStatus:U,bikeReservationSelected:j}}var F=e=>{var{brand:r,departureDate:t,destination:a,ecommerceAction:i,isEuropeExperience:o,journeyId:s,origin:l,priceDirection:c,providers:d,returnJourney:u,returnTrip:p,serviceProviders:m,travelProductId:g}=e,{transportModes:v}=d,h=N(m,v);return{brand:r||h||null,carrier:h,category:n.MinimalTicketProductCategory.MinimalTicket,destinationStationCode:A(a),destinationStationName:I(a),ecommerceAction:i,inventoryType:O(o),journeyId:s,originStationCode:A(l),originStationName:I(l),outboundDate:_(t),outboundTime:P(t),price:parseFloat(c.toFixed(2)),quantity:1,returnJourney:u,returnTrip:p,tripProductId:g,vendor:k(m)}},B=e=>!!e&&e.legs.length-1,M=(0,l.P1)(m.pE,(e=>e.reduce(((e,r)=>{var t=(0,h.$Y)(r);return t?[...e,D(t)]:e}),[]).filter(((e,r,t)=>t.indexOf(e)===r)))),U=function(e,r,t,n){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)return[];var s=(0,p.wZ)(e),l=!!r.inwardJourney,c=l&&(0,m.Dw)(r),y=(0,m.XS)(r),E=(0,m.Ks)(r),b=(0,m.n1)(e,r),S=(0,m.vL)(e,r),T=(0,m.h_)(e,r),C=r.outwardJourney.legs.map((r=>(0,v.vu)(e,r))).map((e=>e&&e.code&&e.code.split(":").pop())).filter(((e,r,t)=>t.indexOf(e)===r)).filter((e=>!!e)).join("|").toLowerCase(),A=(0,g.oF)(e,r.outwardJourney).map((e=>e.code)),I=(0,g.Kd)(e,r.outwardJourney),_=(0,u.SP)(e),P=(0,g.Kd)(e,r.outwardJourney),R=(0,h.wF)(P),k=!!(c||l&&r.inwardJourney),N=0;switch(n){case"order":var O,L;if(T)N=(0,f.B_)(e,"product");else N=null!==(O=null===(L=(0,f.Zj)(e,r.outwardJourney))||void 0===L?void 0:L.amount)&&void 0!==O?O:0;break;case"basket":var x=(0,a.Z)((0,a.Z)({},r),{},{inwardJourney:void 0}),D=(0,m.rx)(e,x);N=(0,g.Ek)(e,r.outwardJourney)||D}var w=(0,d.A3)(null==r?void 0:r.selectedExtras,r.outwardJourney.legs),Z=(0,d.$R)(w,r.outwardJourney.bikeRestrictionStatus,!0),F={arrivalDate:(0,g.Kj)(r.outwardJourney),brand:C||null,deliveryMethod:o,departureDate:(0,g._Y)(r.outwardJourney),destination:E,ecommerceAction:t,fareTypes:I.map((e=>{var{fareType:r}=e;return _[r.id]})),firstClassJourney:(0,g.yT)(e,r.outwardJourney),isEuropeExperience:T,journeyId:r.outwardJourney.id,numChanges:B(r.outwardJourney),origin:y,passengers:b,passengersTotal:S,priceDirection:N,providers:(0,g.U6)(e,r.outwardJourney),railcards:s,returnJourney:!1,returnTrip:k,serviceProviders:A,travelProductId:r.id,urgencyMessaging:R?"limited":null,bikeAvailableQuantity:Z.bikeAvailableQuantity,bikeReservationStatus:Z.bikeReservationStatus,bikeReservationSelected:(0,d.Ky)(r.outwardJourney.bikeRestrictionStatus)?Z.bikeReservationSelected:0,splitTicket:(null===(i=r.outwardJourney)||void 0===i?void 0:i.isSplitSave)||!1};if(l&&r.inwardJourney&&!c){var M,U,j=(0,d.A3)(r.selectedExtras,null===(M=r.inwardJourney)||void 0===M?void 0:M.legs),H=(0,d.$R)(j,r.inwardJourney.bikeRestrictionStatus,!0),W=(0,g.oF)(e,r.inwardJourney).map((e=>e.code)),G=r.inwardJourney.legs.map((r=>(0,v.vu)(e,r))).map((e=>e&&e.code&&e.code.split(":").pop())).filter((e=>!!e)).filter(((e,r,t)=>t.indexOf(e)===r)).join("|").toLowerCase(),V=(0,g.Kd)(e,r.inwardJourney),Y=(0,a.Z)((0,a.Z)({},r),{},{outwardJourney:r.inwardJourney,inwardJourney:void 0}),K=(0,g.Kd)(e,r.inwardJourney),z=(0,h.wF)(K),J=0;switch(n){case"order":var q,Q;if(r.inwardJourney)if(!T)J=null!==(q=null===(Q=(0,f.Zj)(e,r.inwardJourney))||void 0===Q?void 0:Q.amount)&&void 0!==q?q:0;break;case"basket":var X=(0,m.rx)(e,Y),$=(0,m.rx)(e,r),ee=(0,g.Ek)(e,r.inwardJourney)||X;J=$===ee?0:ee}return[F,{arrivalDate:(0,g.Kj)(r.inwardJourney),brand:G||null,deliveryMethod:o,departureDate:(0,g._Y)(r.inwardJourney),destination:y,ecommerceAction:t,fareTypes:V.map((e=>{var{fareType:r}=e;return _[r.id]})),firstClassJourney:(0,g.yT)(e,r.inwardJourney),isEuropeExperience:T,journeyId:r.inwardJourney.id,numChanges:B(r.inwardJourney),origin:E,passengers:b,passengersTotal:S,priceDirection:J,providers:(0,g.U6)(e,r.inwardJourney),railcards:s,returnJourney:!0,returnTrip:k,serviceProviders:W,travelProductId:r.id,urgencyMessaging:z?"limited":null,bikeAvailableQuantity:H.bikeAvailableQuantity,bikeReservationStatus:H.bikeReservationStatus,bikeReservationSelected:(0,d.Ky)(r.inwardJourney.bikeRestrictionStatus)?H.bikeReservationSelected:0,splitTicket:(null===(U=r.inwardJourney)||void 0===U?void 0:U.isSplitSave)||!1}]}return[F]}},70025:(e,r,t)=>{"use strict";t.d(r,{s:()=>c});var a=t(32034),n=t(60054),i=t(55794),o=t(3259),s=(0,a.P1)(i.B,((e,r)=>r),((e,r)=>{var t=e.filter((e=>e.name===r.deliveryMethodName)).reduce(((e,r)=>[...e,(0,o.Ae)(r.name)]),[]);return t.length>0?t:null})),l=(0,a.P1)(n.s9,(e=>e),((e,r)=>r),((e,r,t)=>(0,o.Pn)(r,e,o.BB.CHECKOUT,"basket",s(r,t)))),c=(0,a.P1)(l,(e=>e.map(o.oN)))},4202:(e,r,t)=>{"use strict";t.d(r,{Sp:()=>m,Vm:()=>g,c3:()=>u,gm:()=>v,gy:()=>p,rt:()=>h});var a=t(85924),n=t(23198),i=t(42769),o={DEFAULT:"homepage",CHECKOUT:"checkout",CONFIRMATION:"payment confirmation",UNTRACKED_PAGE:"undefined",ERROR:"error"},s={DELIVERY_OPTIONS:"delivery options - uk",OPTIONS:"seating and options",LOGIN:"login - mid-flow",RESULTS:"results - uk",TRAVEL_OPTIONS:"travel options - uk",TICKET_OPTIONS:"ticket options - uk",BOOKING_INFORMATION_OPTIONS:"booking information options - uk"},l={DELIVERY_OPTIONS:"passenger details - eu",OPTIONS:"seating and options",LOGIN:"login - mid-flow",RESULTS:"results - eu outbound",TRAVEL_OPTIONS:"seating options - eu",TICKET_OPTIONS:"ticket options - eu",BOOKING_INFORMATION_OPTIONS:"booking information options - eu"},c={DELIVERY_OPTIONS:"delivery options",OPTIONS:"seating and options",LOGIN:"login",RESULTS:"results",TRAVEL_OPTIONS:"travel options",TICKET_OPTIONS:"ticket options",BOOKING_INFORMATION_OPTIONS:"booking information options"},d={DELIVERY_OPTIONS:"passenger details",OPTIONS:"seating and options",LOGIN:"login",RESULTS:"results",TRAVEL_OPTIONS:"seating options",TICKET_OPTIONS:"ticket options",BOOKING_INFORMATION_OPTIONS:"booking information options"},u={eu:{return:"results - eu return",single:"results - eu outbound"},uk:"results - uk"},p=e=>e?l:s,m=e=>e?d:c,g=()=>"homepage - international english",v=e=>r=>t=>{var a=(0,n.Z)((0,n.Z)({},o),t(r));switch(e){case i.L1.home():case i.L1.es():case i.L1.it():case i.L1.fr():case i.L1.de():case i.L1.da():case i.L1.nl():case i.L1.zh():case i.L1.ja():case i.L1.nb():case i.L1.pl():case i.L1.ru():case i.L1["pt-br"]():case i.L1.sv():case i.L1["en-us"]():return a.DEFAULT;case i.L1.results():return a.RESULTS;case i.L1.travelOptions():return a.TRAVEL_OPTIONS;case i.L1.ticketOptions():return a.TICKET_OPTIONS;case i.L1.login():return a.LOGIN;case i.L1.deliveryOptions():return a.DELIVERY_OPTIONS;case i.L1.bookingInformationOptions():return a.BOOKING_INFORMATION_OPTIONS;case i.L1.options():return a.OPTIONS;case i.L1.checkout():return a.CHECKOUT;case i.L1.confirmation():return a.CONFIRMATION;default:return a.UNTRACKED_PAGE}};class h{static getInstance(){return h._instance}constructor(){(0,a.Z)(this,"data",void 0),this.data={}}_removeData(e){delete this.data[e]}addData(e){this.data=(0,n.Z)((0,n.Z)({},this.data),e)}readData(e){return this.data[e]}isDataAvailable(e){return!!this.data[e]}getData(e){var r=this.data[e];return this._removeData(e),r}}(0,a.Z)(h,"_instance",new h)},58458:(e,r,t)=>{"use strict";t.d(r,{l:()=>i});var a=t(80609),n={[a.He.FERRY]:"ferry",[a.He.BUS]:"bus",[a.He.TAXI]:"taxi",[a.He.TRAM]:"tram",[a.He.TRAMLINK]:"tram",[a.He.RAPID_TRANSIT]:"tube",[a.He.METRO]:"metro",[a.He.WALK]:"walk",[a.He.TRANSFER]:"other",[a.He.TRAIN]:"train",[a.He.UNDERGROUND]:"tube"},i=e=>n[e]},29433:(e,r,t)=>{"use strict";t.d(r,{BM:()=>Pe,CW:()=>H,Cl:()=>R,Cs:()=>q,DO:()=>x,F3:()=>ke,F4:()=>_e,FN:()=>ee,FY:()=>K,Fv:()=>W,GW:()=>Le,Gb:()=>V,Gc:()=>$,Gp:()=>Re,JD:()=>me,Jp:()=>Ee,Lf:()=>_,Lq:()=>te,M3:()=>S,Q9:()=>se,Rt:()=>I,S2:()=>N,SU:()=>Q,Sc:()=>we,UK:()=>ye,Wf:()=>ie,YQ:()=>J,ZN:()=>be,Zx:()=>L,_H:()=>z,a4:()=>Se,as:()=>ae,bP:()=>Y,bp:()=>fe,bw:()=>X,d2:()=>B,ds:()=>ve,eK:()=>Ae,eZ:()=>O,ec:()=>E,eo:()=>w,eq:()=>v,gP:()=>j,gZ:()=>ge,iF:()=>k,ie:()=>b,kJ:()=>Ne,lD:()=>D,lP:()=>he,ly:()=>xe,m2:()=>ce,mM:()=>ne,mT:()=>de,mc:()=>M,nE:()=>oe,ol:()=>pe,oy:()=>G,pG:()=>h,pO:()=>re,pR:()=>De,q4:()=>Te,rG:()=>P,ro:()=>Z,ru:()=>Oe,su:()=>Ce,to:()=>Ze,uO:()=>Fe,uX:()=>U,vu:()=>T,vx:()=>ue,wI:()=>F,wL:()=>le,yo:()=>y,z8:()=>Ie});var a=t(32034),n=t(71695),i=t(9969),o=t(19408),s=t(85536),l=t(1160),c=t(33695),d=t(78052),u=t(58780),p=t(97866),m=t(40939),g=t(7256),v=(0,a.P1)(d.O,(e=>e.appSettings)),h=(0,a.P1)(v,(e=>((null==e?void 0:e.disallowedLanguages)||[]).map((e=>e)))),y=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableLoggedInUserExperience))),f=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableAutoMigration))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.disableTrenitaliaPreferentialTreatment)))),E=(0,a.P1)(f,(e=>Boolean(l.Wp||e))),b=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableHorizontalJourneySearchForm))),S=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableStrikeSafeNoticeInSearchResults))),(0,a.P1)(v,(e=>Boolean((null==e?void 0:e.enableCarrierSpecificFaresPresentation)&&(0,l.pu)())))),T=(0,a.P1)(v,S,((e,r)=>r&&null!=e&&e.enabledCSFPCarriers&&Array.isArray(e.enabledCSFPCarriers)?e.enabledCSFPCarriers:[])),C=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableFrequentSearches))),A=(0,a.P1)(v,C,((e,r)=>r&&null!=e&&e.enabledFrequentSearchesLocales&&Array.isArray(e.enabledFrequentSearchesLocales)?e.enabledFrequentSearchesLocales:[])),I=((0,a.P1)(A,m.fN,((e,r)=>e.length>0&&e.includes(r))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableG30Vouchers)))),_=(0,a.P1)(v,u.IM,((e,r)=>{var{enableReferralsProgramByMarket:t=[],enableReferralsBannerByMarket:a=[]}=e;return t.includes(r)&&a.includes(r)})),P=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enablePicoInvoices))),R=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableHomepageAds))),k=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableEuHomepageUpdate))),N=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableRecommendedJourney))),O=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableFarePresentationImprovements))),L=(0,a.P1)(v,(e=>{var r=Boolean(null==e?void 0:e.enablePromoCodes),t=(0,l.HI)();return void 0===t?r:"1"===t})),x=(0,a.P1)(v,L,((e,r)=>Boolean(r&&(null==e?void 0:e.enablePromoCodesInputFieldAtCheckout)))),D=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableTravelServiceInformation))),w=(0,a.P1)(v,(e=>e),((e,r)=>{var t=Boolean(null==e?void 0:e.enableNewRegisterSignInForm),a=(0,l.gG)();return!!(void 0===a?t:"1"===a)&&(!!(0,s.tq)()||(0,o.eB)(r,c.zA.ENABLE_NEW_SIGN_IN_FORM_UK_USER))})),Z=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableRealTimeJourneyResultsData))),F=(0,a.P1)(v,(e=>{var r=null==e?void 0:e.trustPilotConfirmationPageTimeout;if(!["string","number"].includes(typeof r))return i.Pq;var t=Number(r);return isNaN(t)||t<0?i.Pq:t})),B=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableInternationalHotelsWidget))),(0,a.P1)(v,p.NZ,((e,r)=>Boolean((null==e?void 0:e.enableAtocPriceCalendar)&&r)))),M=(0,a.P1)(v,(e=>(0,l.OY)()||Boolean(null==e?void 0:e.enableEuPriceCalendar))),U=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enablePricingEuMonthlyCalendar))),j=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableReturnMonthlyPriceCalendar))),H=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSmartPriceBookingFlowUIMobileOnly))),W=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSmartPriceBookingFlowUIDesktopOnly))),G=(0,a.P1)(v,(e=>(0,l.o4)()||Boolean(null==e?void 0:e.disableAdsAutoRefresh))),V=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableGraphQLExampleClientSide))),Y=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableGraphQLExampleServerSide))),K=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableRecommendedJourneysHomepage))),z=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSessionExpirationFlow))),J=(0,a.P1)(v,p.e2,((e,r)=>Boolean(r&&(null==e?void 0:e.enableSplitSaveTickets)))),q=(0,a.P1)(v,p.T_,((e,r)=>!(null==e||!e.enableUKMultifare||!r))),Q=((0,a.P1)(v,p.e2,((e,r)=>Boolean(r&&(null==e?void 0:e.enableAddJourneyLink)))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableCO2Emissions)))),X=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableEticketHelp))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableGraphQLJourneySearchFetchInContext)))),$=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableCxtrad))),ee=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.disableNegativeFares))),re=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableBikesOnTrains))),te=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableUkVouchers))),ae=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSeasonsSearch))),ne=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableJourneyDetailsLinkBlueColor))),ie=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableFlexibilityMessageOnSearchResultsPage))),oe=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableFlexibilityMessageOnTicketOptions))),se=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableInfinitaBistroFare))),le=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableNewSearchHeaderStylingMobile))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableMultipleTripsMobile)))),ce=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableGraphQLJourneySearch))),de=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableRailcardAgeRestrictionCategoryEU))),ue=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSustainabilityPostPurchaseFeedback))),pe=(0,a.P1)(v,(e=>null==e?void 0:e.sustainabilityPostPurchaseFeedbackCoolDownInDaysExpiry)),me=(0,a.P1)(v,(e=>null==e?void 0:e.sustainabilityPostPurchaseFeedbackThresholdInHours)),ge=(0,a.P1)(v,p.H_,((e,r)=>Boolean(null==e?void 0:e.enableShowPriceCalendarByDefault)&&r)),ve=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSummerSalesABTestFR))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableRailcardMenuNavigationBar)))),he=(0,a.P1)(v,p.nh,((e,r)=>Boolean(null==e?void 0:e.enableOpenReturnChangesForMWeb)&&r)),ye=(0,a.P1)(v,p.vC,((e,r)=>Boolean(r&&(null==e?void 0:e.enableEuRealTime)))),fe=(0,a.P1)(v,p.Yv,((e,r)=>Boolean(r&&(null==e?void 0:e.enableEuRealTimeMobile)))),Ee=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableOnDemandCoachSearch))),be=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSustainabilityDashboard))),Se=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableOuigoEticketUpdatesFR))),Te=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableUniversalLinkProxy))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableUniversalLinkProxyAndroid))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableUniversalLinkProxyIOS))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableUniquePropertiesRequirements)))),Ce=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableAirportAwareness))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableTripFinderBanner)))),Ae=(0,a.P1)(v,p.uD,((e,r)=>Boolean(null==e?void 0:e.enableUKPricePrediction)&&r)),Ie=(0,a.P1)(v,p.RG,((e,r)=>Boolean(null==e?void 0:e.enableAggregationBannerUkSRP)&&r)),_e=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enablePromoCodesForUKCustomers))),Pe=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableAssociationPostPurchaseFeedback))),Re=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.smartDOEnabled))),ke=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableRBRInSearch))),Ne=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableMetasearchUICombinePriceAndBookingFeeUK))),Oe=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableMetasearchUIEnhancementsUK))),Le=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableMetasearchUIEnhancementsEU))),xe=((0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableMetaSearchLinksWithoutPrice))),(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableBookingFeeForGTLinkOnlyTraffic))),(0,a.P1)(v,p.WI,((e,r)=>Boolean(null==e?void 0:e.enableTicketAlertsUK)&&r))),De=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSavePassengerDocument))),we=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableNativeAdsViaSmartExp))),Ze=(0,a.P1)(v,g.EI,((e,r)=>Boolean((null==e?void 0:e.enableInsuranceV2)&&r===n.OI.EUR))),Fe=(0,a.P1)(v,(e=>Boolean(null==e?void 0:e.enableSearchShadowSave)))},45294:(e,r,t)=>{"use strict";t.d(r,{OW:()=>h,ZP:()=>y});var a=t(37719),n=t(55265),i=t(56590),o=t(94431),s=t(66547),l=t(4710),c=t(71695),d=t(64169),u=t(16558),p=t(42769),m=t(68760),g=t(40939),v=t(88452),h=()=>["SEARCH_QUERY","SEARCH_CARDS",u.ZW].map(d.nP.removeItem);const y=(0,n.l)(((e,r)=>e.ofType(a.nk).pipe((0,o.h)((()=>void 0!==(0,m.v$)(r.getState()))),(0,s.h)((0,m.x_)()))),((e,r)=>e.ofType(v.N).pipe((0,l.b)((()=>h())),(0,l.b)((()=>{var e=(0,g.dX)(r.getState()),t=p.L1.logout(e!==c.Vd.ENGLISH&&{lang:e});window.location.assign(window.location.origin+t)})),(0,s.h)(i.E))))},20066:(e,r,t)=>{"use strict";t.d(r,{kX:()=>i,oW:()=>s});var a=t(87582),n=t(36592),i="DESERIALIZE_BASKET_RESPONSE",o=(0,n.jD)(i),s=(e,r)=>(0,a.of)(o(e,r||{}))},96586:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>U,Iw:()=>w,IY:()=>Z,OU:()=>D});var a=t(23198),n=t(37719),i=t(55265),o=t(87582),s=t(54466),l=t(61965),c=t(56415),d=t(426),u=t(94431),p=t(7185),m=t(57243),g=t(33729),v=t(93476),h=t(57110),y=t(49891),f=t(68760),E=t(42769),b=t(33810);var S=t(66763),T=t(9635),C=t(20066),A=t(20786),I=t(99461),_=t(41152),P=t(37599),R=t(53230),k=t(61866),N=t(97183),O=t(7968),L={data:[{code:"insurance.genericError"}]},x=[E.L1.login(),E.L1.travelOptions(),E.L1.ticketOptions(),E.L1.deliveryOptions(),E.L1.bookingInformationOptions(),E.L1.options(),E.L1.checkout(),E.L1.confirmation()],D=(e,r)=>{var{getState:t}=r;return(0,A.rU)(t())?(0,o.of)({type:"noop"}):e.ofType(C.kX).pipe((0,l.P)())},w=()=>h.wK(!0).pipe((0,c.zg)((e=>(0,C.oW)(e))),(0,d.K)((e=>(0,I.YN)(e)))),Z=()=>h.wK(!1).pipe((0,c.zg)((e=>(0,C.oW)(e))),(0,d.K)((()=>(0,o.of)({type:"noop",payload:{}})))),F=(e,r)=>(0,o.of)((0,P.Q9)(e,r)),B=e=>(0,s.z)(F(!1,e),(0,I.YN)(L,void 0,void 0,e)),M=e=>(0,o.of)((0,P.NG)(!1,e));const U=(0,i.l)(((e,r)=>e.ofType(n.nk).pipe((0,u.h)((()=>!0)),(0,m.U)((e=>{var{payload:r}=e;return r.location.pathname})),(0,g.x)(),(0,u.h)((()=>!(0,S.C8)(r.getState()))),(0,p.w)((e=>{var t=r.getState();return(0,o.of)({pathname:e,isLoggedIn:(0,f.EM)(t)||(0,f.yW)(t)})})),(0,p.w)((e=>{var{pathname:r,isLoggedIn:t}=e;return x.includes(r)||t?w():Z()})))),((e,r)=>e.ofType(S.bp).pipe((0,p.w)((e=>{var{itemIds:t,basketType:n}=e.payload,i=((e,r)=>{var t,{itemIds:n,basketType:i}=r;if(!(n.length>1||"active"!==i)){var o=e.getState();if((0,y.rA)(o)){var s="GBP"===(null===(t=(0,R.KX)(o))||void 0===t||null===(t=t.promoDiscount)||void 0===t?void 0:t.currencyCode),l=(0,N.iT)(o);if(l.some((e=>e.id===n[0]))){var c=l.filter((e=>e.id!==n[0])).reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{[r.id]:r})),{}),d=Object.assign({},o,{entities:(0,a.Z)((0,a.Z)({},o.entities),{},{discountCardProducts:c})});if(!(s?(0,_.sA)(d):(0,_.BW)(d))){var u=(0,A.vV)(o);return null!=u&&u.length?u[0].id:void 0}}}}})(r,e.payload);i&&t.push(i);var l,u,m=(0,O.d2)(r.getState(),t);if(m.length){var g=m.map((e=>{var{id:r}=e;return r}));t.push(...g)}return h.EN(t,n).pipe((0,c.zg)((e=>(0,s.z)((0,C.oW)(e)))),(l=!!i,u=()=>(0,p.w)((()=>(0,o.of)((0,k.$r)()))),function(e){return l?e.pipe(u()):e}),(0,d.K)((e=>(0,I.YN)(e))))})))),(e=>e.ofType(S.N5).pipe((0,v.b)((e=>{var{payload:r}=e;return h.Y4(r).pipe((0,c.zg)((e=>(0,s.z)((0,o.of)((0,T.vi)(r)),(0,C.oW)(e)))),(0,d.K)((e=>(0,s.z)((0,o.of)((0,T.rm)((0,a.Z)((0,a.Z)({},r),{},{error:e}))),(0,I.YN)(e)))))})))),(e=>e.ofType(S.tX,S.Ln).pipe((0,p.w)((e=>{var{type:r,payload:t}=e;return(0,s.z)(M(t.travelBasketItemId),F(!0,t.travelBasketItemId),h.UT(t,r).pipe((0,c.zg)((e=>(0,s.z)(F(!1,t.travelBasketItemId),(0,C.oW)(e)))),(0,d.K)((()=>(0,s.z)((0,o.of)((0,S.WQ)(t)),B(t.travelBasketItemId))))))})))),(e=>e.ofType(S.L6).pipe((0,p.w)((e=>{var{payload:r}=e;return(0,s.z)(M(r.travelBasketItemId),F(!0,r.travelBasketItemId),h.KP(r).pipe((0,c.zg)((e=>(0,s.z)(F(!1,r.travelBasketItemId),(0,C.oW)(e)))),(0,d.K)(B.bind(null,r.travelBasketItemId))))})))),(e=>e.ofType(S.M5,S.dz).pipe((0,p.w)((e=>{var{type:r,payload:t}=e;return(0,s.z)(M(t.travelBasketItemId),F(!0,t.travelBasketItemId),h.QP(t,r).pipe((0,c.zg)((e=>(0,s.z)(F(!1,t.travelBasketItemId),(0,C.oW)(e)))),(0,d.K)((()=>(0,s.z)((0,o.of)((0,S.nx)(t)),B(t.travelBasketItemId))))))})))),(e=>e.ofType(S.ZI).pipe((0,p.w)((e=>{var{payload:r}=e;return(0,s.z)(M(r.travelBasketItemId),F(!0,r.travelBasketItemId),h.os(r).pipe((0,c.zg)((e=>(0,s.z)(F(!1,r.travelBasketItemId),(0,C.oW)(e)))),(0,d.K)(B.bind(null,r.travelBasketItemId))))})))),(e=>e.ofType(b.G).pipe((0,u.h)((()=>!0)),(0,p.w)((()=>(0,s.z)(Z()))))),(e=>e.ofType(S._x).pipe((0,p.w)((e=>{var{payload:r}=e;return(0,C.oW)(r)})))))},51001:(e,r,t)=>{"use strict";t.d(r,{$q:()=>J,bT:()=>ie,ux:()=>V,Iu:()=>W,hw:()=>G,EX:()=>U,em:()=>B,jh:()=>M,jn:()=>g,Tj:()=>y,Ux:()=>q,wB:()=>re,ZC:()=>P,Nx:()=>X,iq:()=>oe,ud:()=>H,C_:()=>j,G1:()=>T,IY:()=>N,ze:()=>Y,kW:()=>K,C9:()=>Z,Sq:()=>I,sw:()=>te,c5:()=>$,rS:()=>ee,cX:()=>F,L5:()=>v,S:()=>Q,gC:()=>O,HI:()=>L,$n:()=>x});var a=t(23198),n=t(82768),i=t(32034),o=t(8267);const s=function(e){return[e,...(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).slice().sort(((e,r)=>e.localeCompare(r)))].join("|")};var l,c=t(42769),d=t(47514),u=t(97183),p=t(20786),m=t(83504),g=(0,i.P1)(d.J4,p.$l,p.eU,p.zK,p.YL,p.Q,p.MR,m.kS,((e,r,t,a,n,i,o,l)=>{if(r)return l===c.L1.checkout()?e[r]:e[s(r,t.concat(a,n,i,o).map((e=>e.id)))]})),v=(0,i.P1)(d.J4,p.Ml,((e,r)=>{var t=r&&e[r];if(t)return t})),h=(0,i.P1)(d.J4,p.$9,((e,r)=>r&&e[r])),y=(0,i.P1)(g,(e=>{var r;return(null==e||null===(r=e.meta)||void 0===r?void 0:r.appliedExperiments)||[]})),f=(0,i.P1)(g,(e=>e?e.invoices:[])),E=(0,i.P1)(v,(e=>e?e.invoices:[])),b=(0,i.P1)(h,(e=>e?e.invoices:[])),S=e=>e?e.lineItems:[],T=(e,r)=>e.find((e=>{var{seller:t}=e;return t===r})),C=(0,i.P1)(f,(e=>T(e,o.Z.Trainline))),A=(0,i.P1)(E,(e=>T(e,o.Z.Trainline))),I=(0,i.P1)(f,(e=>T(e,o.Z.OUIGO))),_=(e,r)=>{var t=e.lineItems.filter((e=>!!e.productId));if(e.currencyCode===r)return t;var n=t.filter((e=>0!==e.amount));return n.length>1?(console.warn("Invoice ".concat(e.id," have multiple products lines items with a different currency than the one displayed by the user.\n      Impossible to use requestedPrice to determinate the price of ").concat(n.length," products.")),[]):r!==e.requestedPrice.currencyCode?(console.warn("Invoice ".concat(e.id,": mismatch between currencyCode of the requestedPrice (").concat(e.requestedPrice.currencyCode,") and the actual one (").concat(r,").")),[]):t.map((r=>0===r.amount?r:(0,a.Z)((0,a.Z)({},r),{},{amount:e.requestedPrice.amount,isConvertedPrice:!0})))},P=(0,i.P1)(g,(e=>e&&e.currencyCode||"GBP")),R=(e,r)=>e.reduce(((e,t)=>[...e,..._(t,r)]),[]),k=(0,i.P1)(b,P,R),N=(0,i.P1)(f,P,R),O=(0,i.P1)(g,(l=e=>({currencyCode:e.currencyCode,amount:e.totalAmount}),e=>e?l(e):void 0)),L=(0,i.P1)(C,P,((e,r)=>{var t=0;return e&&(t=S(e).reduce(((e,r)=>e+("product"===r.type?r.amount:0)),0)),{amount:t,currencyCode:r}})),x=(0,i.P1)(f,(e=>{var r=e.reduce(((e,r)=>{var t=r.seller,a=e.find((e=>e.seller===t));return a?a.totalAmount+=r.totalAmount:e.push(r),e}),[]);return(0,n.jj$)(r.map((e=>({seller:e.seller,currencyCode:e.currencyCode,totalAmount:e.totalAmount}))))})),D=(0,i.P1)(N,((e,r)=>r.id),((e,r)=>e.find((e=>e.productId===r)))),w=(0,i.P1)(N,((e,r)=>r),((e,r)=>e.filter((e=>e.productId&&r.includes(e.productId))))),Z=(0,i.P1)(N,k,((e,r)=>r),((e,r,t)=>[...e,...r].filter((e=>e.productId&&t.includes(e.productId))))),F=(0,i.P1)(D,P,((e,r)=>({amount:e?e.amount:0,currencyCode:r}))),B=(0,i.P1)(w,P,((e,r)=>({amount:e.reduce(((e,r)=>e+(isNaN(r.amount)?0:r.amount)),0),currencyCode:r}))),M=(0,i.P1)(Z,P,((e,r)=>({amount:e.reduce(((e,r)=>e+(isNaN(r.amount)?0:r.amount)),0),currencyCode:r}))),U=(0,i.P1)(Z,P,((e,r)=>({amount:e.reduce(((e,r)=>e+(r.originalRetailPriceInRequestedCurrency&&!isNaN(r.originalRetailPriceInRequestedCurrency.amount)?r.originalRetailPriceInRequestedCurrency.amount:0)),0),currencyCode:r}))),j=(0,i.P1)(w,(e=>e.some((e=>!!e.isConvertedPrice)))),H=(0,i.P1)(N,(e=>e.some((e=>!!e.isConvertedPrice)))),W=(e,r)=>r.fares.filter((r=>r.fareLegs.map((e=>e.leg.id)).slice(0,e.length).every((r=>e.includes(r))))),G=(e,r)=>r.fares.filter((r=>{var t=r.fareLegs.filter((r=>e.includes(r.leg.id))).map((e=>e.leg.id));return(0,n.fS0)(e,t.slice(0,e.length))})),V=e=>e.reduce(((e,r)=>e.concat(r.farePassengers.map((e=>e.id)))),[]).map((e=>e.replace(/-FAREPASSENGER$/,""))),Y=(0,i.P1)(D,P,((e,r)=>r),((e,r,t)=>t),((e,r,t,a)=>{var n=W(a,t),i=V(n);return{amount:(e&&e.subLineItems||[]).filter((e=>i.includes(e.reference.id)||a.includes(e.reference.id))).reduce(((e,r)=>e+r.amount),0),currencyCode:r}})),K=(e,r,t)=>Y(e,r,(e=>e&&e.legs&&e.legs.map((e=>e.id))||[])(t)),z=e=>({amount:0,currencyCode:e,bookingFeeBreakdown:[]}),J=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";if(!e)return z(r);var t=S(e).find((e=>{var{type:r}=e;return"booking-fee"===r}));if(!t||!t.subLineItems)return z(r);var a=t.subLineItems.map((e=>{var{references:r,amount:t}=e;return{amount:t,vendor:r&&r[0]&&r[0].vendor}}));return{amount:t.amount,currencyCode:r,bookingFeeBreakdown:a}},q=(0,i.P1)(C,P,J),Q=(0,i.P1)(A,P,J),X=(0,i.P1)(C,P,((e,r)=>{if(e){var t=S(e).filter((e=>{var{type:r}=e;return"delivery-fee"===r}));return t.length?{amount:t.reduce(((e,r)=>e+r.amount),0),currencyCode:r}:void 0}})),$=(0,i.P1)(C,P,((e,r)=>{if(e){var t=S(e).filter((e=>{var{type:r}=e;return"promo"===r}));return t.length?t.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),{},{amount:e.amount+r.amount})),{amount:0,currencyCode:r}):void 0}})),ee=(0,i.P1)(C,(e=>{if(e){var r=S(e).filter((e=>{var{type:r}=e;return"promo"===r}));return r.length?r:void 0}})),re=(0,i.P1)(O,$,P,q,X,((e,r,t,a,n)=>{if(e&&r)return{amount:e.amount-r.amount-a.amount-(n?n.amount:0),currencyCode:t}})),te=(0,i.P1)(D,(e=>e&&e.subLineItems?e.subLineItems.reduce(((e,r)=>(e[r.reference.id]=r.amount,e)),{}):{})),ae=(0,i.P1)(g,(e=>e&&e.totalAmount)),ne=(0,i.P1)(g,(e=>e&&e.currencyCode)),ie=((0,i.P1)(N,ae,ne,p.s,p.Q,(function(e,r,t,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(e&&a&&void 0!==r)return{amount:r-(a.reduce(((r,t)=>{var a=e.find((e=>e.productId===t.productId));return a?r+a.amount:r}),0)+n.reduce(((r,t)=>{var a=e.find((e=>e.productId===t.id));return a?r+a.amount:r}),0)+e.filter((e=>"delivery-fee"===e.type)).reduce(((e,r)=>e+r.amount),0)),currencyCode:t}})),e=>(0,i.P1)(C,P,(e=>function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";if(r)return{amount:S(r).reduce(((r,t)=>t.vendor===e?r+t.amount:r),0),currencyCode:t}})(e))),oe=(0,i.P1)(N,u.xY,((e,r)=>e.filter((e=>e.productId&&"product"===e.type&&r.includes(e.productId))).reduce(((e,r)=>(e[r.productId]=r,e)),{})))},20786:(e,r,t)=>{"use strict";t.d(r,{$9:()=>U,$l:()=>M,D4:()=>D,MR:()=>A,Ml:()=>j,Q:()=>S,QX:()=>H,YL:()=>y,YT:()=>F,ZT:()=>p,eE:()=>W,eU:()=>k,g8:()=>L,h8:()=>f,hI:()=>v,ox:()=>O,p$:()=>N,rU:()=>B,s:()=>E,sq:()=>T,tE:()=>P,tz:()=>C,vV:()=>b,zK:()=>R});var a=t(32034),n=t(82768),i=t(59076),o=t(84182),s=t(47514),l=t(66763),c=t(24879),d=t(53230),u=t(99735),p=10,m=e=>{var r;return null!==(r=null==e?void 0:e.items.filter((e=>"product"===e.type)))&&void 0!==r?r:[]},g=e=>e&&e.items.filter((e=>"relation"===e.type))||[],v=(0,a.P1)(l.C8,d.C6,((e,r)=>{var{promoError:t}=(null==e?void 0:e.metadata)||{},{validityStatus:a}=(null==r?void 0:r.details)||{};return t||(a!==i.$f.valid?a:void 0)})),h=(0,a.P1)(l.C8,(e=>e?e.items.filter((e=>"interchange"===e.type)).map((e=>e.data)).reduce(((e,r)=>(e||[]).concat(r||[])),[]):[])),y=(0,a.P1)(l.Rs,(e=>e?e.items.filter((e=>"interchange"===e.type)):[])),f=(0,a.P1)(h,((e,r)=>Object.values((0,c.n)(e)).filter((e=>(null==e?void 0:e.itineraryCorrelation)===r.id)).map((e=>null==e?void 0:e.id)).filter(Boolean)),((e,r,t)=>t||[]),((e,r,t)=>{var a=null==e?void 0:e.filter((e=>r.includes(e.beforeLeg.productId)||r.includes(e.afterLeg.productId)));if(a&&0!==a.length){var n=a.map((e=>((e,r)=>{var t=r.find((r=>r.id===e.beforeLeg.legId)),a=r.find((r=>r.id===e.afterLeg.legId));if(e.interchangeType===o.R.COMBINED){var n,i=null==t||null===(n=t.destination)||void 0===n?void 0:n.name;if(i)return{interchangeType:o.R.COMBINED,destination:i}}if(e.interchangeType===o.R.THROUGH){var s,l,c=null==t||null===(s=t.origin)||void 0===s?void 0:s.name,d=null==a||null===(l=a.destination)||void 0===l?void 0:l.name;if(c&&d)return{interchangeType:o.R.THROUGH,origin:c,destination:d}}})(e,t)));return n.filter(Boolean)}})),E=(0,a.P1)(l.C8,m),b=(0,a.P1)(l.C8,(e=>e&&e.items.filter((e=>"promo"===e.type))||[])),S=(0,a.P1)(l.q2,m),T=(0,a.P1)(E,S,((e,r)=>e.concat(r))),C=(0,a.P1)(l.C8,g),A=(0,a.P1)(l.q2,g),I=((0,a.P1)(C,A,((e,r)=>e.concat(r))),(0,a.P1)(C,((e,r)=>r),((e,r)=>e.filter((e=>e.relation===r))))),_=(0,a.P1)(A,((e,r)=>r),((e,r)=>e.filter((e=>e.relation===r)))),P=(0,a.P1)(I,_,((e,r)=>e.concat(r))),R=(0,a.P1)(l.Rs,g),k=(0,a.P1)(l.Rs,m),N=(0,a.P1)(k,u.tV,((e,r)=>e.filter((e=>{var{id:t}=e;return!r[t]})))),O=(0,a.P1)(c.n,u.tV,R,((e,r)=>r),((e,r,t,a)=>[...Object.values(e),...Object.values(r)].filter((e=>!(null==e||!e.id))).filter((e=>{var{id:r}=e;return t.some((e=>{var{itemIds:t=[]}=e;return t.includes(r)&&a.some((e=>e!==r&&t.includes(e)))}))})))),L=(0,a.P1)(k,(e=>0===e.length)),x=e=>e.slice().reverse().find((e=>{var{type:r}=e;return"product"===r})),D=(0,a.P1)(N,x),w=((0,a.P1)(E,x),e=>e.length),Z=(0,a.P1)(E,w),F=(0,a.P1)(k,w),B=(0,a.P1)(l.C8,(e=>!!e)),M=((0,a.P1)(Z,F,((e,r)=>e+r<p)),(0,a.P1)(l.C8,(e=>e&&e.id||void 0))),U=(0,a.P1)(l.q2,(e=>e&&e.id||void 0)),j=(0,a.P1)(l.Rs,(e=>e&&e.id||void 0)),H=((0,a.P1)(Z,(e=>e>0)),(0,a.P1)(s.J4,M,((e,r)=>{var t,a;if(r&&null!==(t=e[r])&&void 0!==t&&t.invoices)return null===(a=e[r])||void 0===a?void 0:a.invoices}))),W=(0,a.P1)(H,(e=>{var r=null==e?void 0:e.map((e=>null==e?void 0:e.lineItems));if(r)return(0,n.UWY)(r)}))},93754:(e,r,t)=>{"use strict";t.d(r,{VF:()=>L,kS:()=>N,p1:()=>O,wZ:()=>R});var a=t(23198),n=t(82768),i=t(55265),o=t(32034),s=t(8947),l=t(56590),c=t(87582),d=t(94431),u=t(7185),p=t(426),m=t(59199),g=t(60575),v=t(42769),h=t(57110),y=t(52718),f=t(34580),E=t(62331),b=t(72750),S=t(92490),T=t(16758),C=t(61229),A=t(51059),I=t(83504),_=(0,o.P1)(C.xq,(e=>e?Object.values(e).filter((e=>(0,g.s)(e,"dateOfBirth"))).map((e=>({dateOfBirth:e.dateOfBirth}))):[])),P=(0,o.P1)(S.Yu,A.Wc,((e,r)=>{var t=r.origin&&(0,y.A1)(e[r.origin]),n=r.destination&&(0,y.A1)(e[r.destination]),i={outward:{date:r.outwardDate||"",origin:t||"",destination:n||""}},o=r.inwardDate?{inward:{date:r.inwardDate||"",origin:n||"",destination:t||""}}:{};return r.outwardDate&&t&&n?(0,a.Z)((0,a.Z)({},i),o):void 0})),R=(0,o.P1)(E.ic,A.Wc,((e,r)=>{var{passengerDiscountCards:t}=r;if(t){var a=(0,n.VFc)((e=>e),t);return Object.keys(a).filter((r=>!!e[r])).map((r=>({cardTypeId:e[r].code,number:a[r]})))}})),k=(0,o.P1)(_,P,R,A.In,((e,r,t,a)=>a&&e&&r?{passengers:e,journeys:r,cardTypes:t}:void 0)),N=(0,o.P1)(f.K4,k,((e,r)=>r&&e&&e[(0,m.j)(r)]||void 0)),O=(0,o.P1)(T.h_,k,((e,r)=>{var t=r&&e&&e[(0,m.j)(r)];return t&&t.loadDetails&&t.loadDetails.status||void 0})),L=(0,i.l)(((e,r)=>{var{getState:t}=r;return e.ofType(b.ri).pipe((0,d.h)((()=>{var{pathname:e}=(0,I.FD)(t());return e===v.L1.results()})),(0,u.w)((()=>{var e=t(),r=(0,I.FD)(e),a=k(e,r);return a?(0,s.D)([(0,f.M8)({hash:(0,m.j)(a),searchParams:a})]):(0,l.c)()})))}),(e=>e.ofType(f.ou).pipe((0,u.w)((e=>{var{payload:r}=e;return(0,h.GG)(r.searchParams).pipe((0,u.w)((e=>{var{body:t,headers:a}=e;return(0,c.of)((0,f.UZ)({hash:r.hash,data:t.data,headers:a}))})),(0,p.K)((e=>(0,c.of)((0,f.v0)({error:e,hash:r.hash})))))})))))},50431:(e,r,t)=>{"use strict";t.d(r,{fs:()=>E,gc:()=>f});var a=t(23198),n=t(8947),i=t(87582),o=t(54466),s=t(56415),l=t(426),c=t(36592),d=t(57110),u=t(69032),p=t(99461),m=t(34038),g=t(2321),v=t(31521),h=t(35300),y="SET_BIKE_EXTRAS",f=(0,c.ul)(y),E=(e,r)=>e.ofType(y).pipe((0,s.zg)((e=>{var{payload:t}=e,c=r.getState(),y=(0,v.qK)(c).reduce(((e,r)=>{var n={extras:(0,u.Tw)(c,r,t)};return 0===n.extras.length?e:(0,a.Z)((0,a.Z)({},e),{},{[r.id]:n})}),{}),f=Object.keys(y).length>0;return(0,i.of)((0,h.k3)(!0)).pipe((0,s.zg)((()=>{return(0,o.z)((0,i.of)((0,m.Lt)()),f?(e=y,d.mp(e).pipe((0,s.zg)((e=>(0,n.D)([(0,g._i)(e)]))))):(0,i.of)({type:"NOOP"}),(0,i.of)((0,m.F1)()));var e})),(0,l.K)((e=>(0,p.YN)(e))))})))},11635:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>c,kG:()=>s,q3:()=>l});var a=t(87865),n=t(57243),i=t(36592),o="SET_CACHED_PRICE_MESSAGE_SHOWABLE",s="cachedPriceMessage",l=(0,i.ul)(o);const c=e=>e.ofType(o).pipe((0,n.U)((e=>{var{payload:r}=e;return(0,a.setUIState)({id:s,state:{showable:r}})})))},34075:(e,r,t)=>{"use strict";t.d(r,{OU:()=>l,PZ:()=>o,yi:()=>s});var a=t(82768),n=t(32034),i=t(62331),o=(0,n.P1)(i.ic,(e=>(0,a.VO0)(e).filter((e=>!!e)))),s=(e,r)=>{var t=e.find((e=>e.id===r));return t&&t.name},l=e=>new RegExp("^".concat(e.prefix),"g")},43912:(e,r,t)=>{"use strict";t.d(r,{YC:()=>s,ZP:()=>l});var a=t(53066),n=t(57243),i=t(47256),o="INITIALISE_CARDS_FROM_LOCAL",s=(0,a.Z)(o);const l=e=>e.ofType(o).pipe((0,n.U)((e=>{var{payload:r}=e;return r&&(0,i.QN)(r)})))},85905:(e,r,t)=>{"use strict";t.d(r,{C:()=>i,W:()=>n});var a=t(53066),n="CLIENT_STORE_WAS_CREATED",i=(0,a.Z)(n)},87222:(e,r,t)=>{"use strict";t.d(r,{EX:()=>y,Uy:()=>F,V4:()=>D,VF:()=>B,d7:()=>w,fW:()=>h,ii:()=>k,s3:()=>R,wm:()=>Z});var a=t(55265),n=t(32034),i=t(57243),o=t(7185),s=t(426),l=t(60654),c=t(59199),d=t(57110),u=t(16134),p=t(1474),m=t(26260),g=t(70755),v=t(51059),h=(0,n.P1)(v.Wc,(e=>e),((e,r)=>(0,g.k0)(e,r))),y=(0,n.P1)(m.dw,(e=>e&&e.searchParams)),f=(0,n.P1)(y,(e=>e&&(0,c.j)(e))),E=(0,n.P1)(m.Zd,(e=>e&&e.searchParams)),b=(0,n.P1)(E,(e=>e&&(0,c.j)(e))),S=(e,r)=>r&&e[r]||void 0,T=(0,n.P1)(p._V,b,S),C=(0,n.P1)(p._V,f,S),A=e=>e&&e.loadDetails||void 0,I=(0,n.P1)(T,A),_=(0,n.P1)(C,A),P=e=>e&&e.status||void 0,R=(0,n.P1)(I,P),k=(0,n.P1)(_,P),N=(e,r,t)=>r&&r.status===l.LoadStatus.SUCCESS&&t&&e&&e[t]||void 0,O=(0,n.P1)(u.Mq,I,b,N),L=(0,n.P1)(u.Mq,_,f,N),x=e=>e&&e.isAvailable||!1,D=(0,n.P1)(O,x),w=(0,n.P1)(L,x),Z=(0,n.P1)(L,(e=>e&&e.id||void 0)),F=(0,n.P1)(O,(e=>e&&e.id||void 0)),B=(0,a.l)(((e,r)=>{var{getState:t}=r;return e.ofType(u.ou).pipe((0,i.U)((e=>{var{payload:{hash:r,searchType:t,temporalDirection:a,searchParams:n}}=e;return(0,m.HX)({pendingCoachJourneyAvailability:{searchType:t,temporalDirection:a,searchParams:n},selectedOutwardOffer:void 0,selectedInwardOffer:void 0})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(u.ou).pipe((0,o.w)((e=>{var{payload:r}=e;return(0,d.xm)(r.searchParams).pipe((0,i.U)((e=>{var{body:t,headers:a}=e;return(0,u.jn)({hash:r.hash,data:t.data,headers:a,searchType:r.searchType,temporalDirection:r.temporalDirection})})),(0,s.K)((e=>[(0,u.v0)({searchType:r.searchType,error:e,hash:r.hash})])))})))}))},14594:(e,r,t)=>{"use strict";t.d(r,{$r:()=>b,hY:()=>E,iO:()=>O,jJ:()=>S});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(57243),c=t(94431),d=t(59199),u=t(82073),p=t(36592),m=t(16134),g=t(26067),v=t(14238),h=t(45049),y=t(26260),f=t(87222),E=function(e){return e.EARLIER="earlier",e.LATER="later",e}({}),b="coach/pagination",S=(0,p.ul)(b),T=e=>i()(e).add(1,"minute").format(),C=e=>i()(e).subtract(1,"minute").format(),A=(e,r)=>{var t=e&&r?e.filter((e=>{var{legs:t}=e,a=(0,o.Z$Q)(t);return a&&!!r[a]})):void 0;return t&&(0,o.nnj)(i().min,t.map((e=>{var{legs:t}=e,a=(0,o.Z$Q)(t);return a&&i()(r[a].localArriveAt)}))).format()},I=(0,s.P1)(h.Xl,v.XT,A),_=(0,s.P1)(h.QO,v.XT,A),P=(e,r)=>{var t=e&&r?e.filter((e=>{var{legs:t}=e,a=(0,o.YMb)(t);return a&&!!r[a]})):void 0;return t&&(0,o.nnj)(i().max,t.map((e=>{var{legs:t}=e,a=(0,o.YMb)(t);return a&&i()(r[a].localDepartAt)}))).format()},R=(0,s.P1)(h.Xl,v.XT,P),k=(0,s.P1)(h.QO,v.XT,P),N=((0,s.P1)(y.HX,(e=>e&&(0,o.ETc)(["currentCoachJourneyAvailability","temporalDirection"],e))),e=>!!e),O=(e,r)=>e.ofType(b).pipe((0,l.U)((e=>{var{payload:{temporalDirection:t,transitDefinitionDirection:n}}=e,i=r.getState(),o=n===g.N.OUTWARD?I(i):_(i),s=n===g.N.OUTWARD?R(i):k(i),l=(0,f.EX)(i);return o&&s&&l&&(0,m.Lh)(((e,r,t)=>({hash:(0,d.j)(e),searchParams:e,searchType:r,temporalDirection:t}))(((e,r,t,n,i)=>(0,a.Z)((0,a.Z)({},e),{},{outwardDefinition:t===g.N.OUTWARD?{localDateTime:r===E.EARLIER?C(n):T(i),searchMethod:r===E.EARLIER?u.E.ARRIVE_BEFORE:u.E.DEPART_AFTER}:e.outwardDefinition,returnDefinition:t===g.N.INWARD?{localDateTime:r===E.EARLIER?C(n):T(i),searchMethod:r===E.EARLIER?u.E.ARRIVE_BEFORE:u.E.DEPART_AFTER}:e.returnDefinition}))(l,t,n,o,s),m.ir.EARLIER_LATER,t))||void 0})),(0,c.h)(N))},32363:(e,r,t)=>{"use strict";t.d(r,{Qj:()=>k,VF:()=>L,Wr:()=>R,ZM:()=>N,zh:()=>O});var a=t(23198),n=t(37719),i=t(55265),o=t(8947),s=t(57243),l=t(56415),c=t(94431),d=t(60654),u=t(21168),p=t(51059),m=t(97016),g=t(53638),v=t(24087),h=t(14238),y=t(36592),f=t(16134),E=t(8129),b=t(94018),S=t(3896),T=t(89034),C=t(83504),A=t(43288),I=t(29433),_=e=>"coach/".concat(e),P=_("REFINE_COACH_SEARCH"),R=_("CHANGE_TAB_REQUESTED"),k=(0,y.PH)(P),N=(0,y.ul)(R),O=()=>(0,b.eb)(v.ZP.TRAIN);var L=(0,i.l)(((e,r)=>{var{getState:t}=r;return e.ofType(R).pipe((0,s.U)((e=>{var{payload:r}=e,i=t(),{pathname:o,query:s}=(0,C.FD)(i),l=(0,b.DD)(i),c=(0,p.$b)(i),y=(0,I.Jp)(i),f=(l&&l[r.toTab]||{}).tempPaginationParams||{transportModes:void 0,temporalDirection:void 0,transitDefinitionDirection:void 0,searchId:void 0},E=c&&y,_=[r.toTab===v.ZP.TRAIN?d.AvailableTransportModes.MIXED:d.AvailableTransportModes.COACH],P=(0,a.Z)((0,a.Z)((0,a.Z)({},s),{},{selectedTab:r.toTab},f),c?{transportModes:_}:{});return r.toTab===v.ZP.COACH&&(0,h.l2)(i)?[(0,T.Ll)({type:u.e.CHANGE_JOURNEY_SEARCH_MODAL,params:{source:m.G.REFINE_PASSENGERS,errorCodes:[]}})]:[(0,b.eb)(r.toTab),(0,S.LB)(r.toTab),(0,n.gx)({pathname:o,search:g.Z.stringifyQuery(P)}),E?(0,A.uv)({prevQuery:s,nextQuery:P}):{}]})),(0,l.zg)((e=>(0,o.D)(e))))}),((e,r)=>e.ofType(P).pipe((0,s.U)((()=>(0,b.eb)(v.ZP.COACH))))),((e,r)=>{var{getState:t}=r;return e.ofType(f.ri,f.ui,E.ui).pipe((0,c.h)((e=>{var{type:r,payload:a}=e,n=(0,b.vR)(t())===v.ZP.COACH,i=a.searchType!==f.ir.EARLIER_LATER,o=function(e){return void 0!==e.data}(a)&&!a.data.isAvailable,s=r===f.ui||r===E.ui;return n&&i&&(o||s)})),(0,s.U)((()=>(0,b.eb)(v.ZP.TRAIN))))}))},63585:(e,r,t)=>{"use strict";t.d(r,{P3:()=>s,n$:()=>i});var a=t(32034),n=t(74980),i=(0,a.P1)(n.ml,(e=>e.orderId)),o=(0,a.P1)(n.ml,(e=>e.estimatedDeliveryDates||{})),s=(0,a.P1)(o,((e,r)=>r),((e,r)=>e[r]))},7256:(e,r,t)=>{"use strict";t.d(r,{Df:()=>f,EI:()=>T,PP:()=>C,l7:()=>b});var a=t(31616),n=t(84025),i=t.n(n),o=t(67905),s=t(82768),l=t(53066),c=t(32034),d=t(94431),u=t(57243),p=t(4710),m=t(64169),g=t(73009),v=t(2679),h=t(22832),y=["temporalDirection"],f=(0,c.P1)(h.zd,(e=>(0,s.VO0)(e).map((e=>({code:e.code,name:e.name,symbol:e.symbol})))||[])),E=((0,c.P1)(f,(e=>e.length>1)),"SET_CURRENCY_CODE"),b=((0,l.Z)(E),e=>m.Dr.setItem(g.Fu,e,i()().add(1,"month").toDate())),S=()=>{var e=(0,o.parse)(window.location.search,{ignoreQueryPrefix:!0}),{temporalDirection:r}=e,t=(0,a.Z)(e,y);window.location.assign("".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname)+(0,o.stringify)(t,{addQueryPrefix:Object.keys(t).length>0}))},T=e=>{var r=(m.Dr.getItem(g.Fu)||"").toUpperCase(),t=Object.values((0,h.zd)(e)).map((e=>e.code.toUpperCase()));return r&&t.includes(r)?r:v.EJ},C=(e,r)=>{var{getState:t}=r;return e.ofType(E).pipe((0,d.h)((()=>!0)),(0,u.U)((e=>e.payload.code)),(0,d.h)((e=>e!==T(t()))),(0,p.b)(b),(0,p.b)(S),(0,d.h)((()=>!1)))}},52181:(e,r,t)=>{"use strict";t.d(r,{Gu:()=>u,I6:()=>d,gJ:()=>s,jT:()=>c});var a=t(59481),n=t(32034),i=t(36592),o=t(14035),s="CUSTOMER_ATTTRIBUTE_IS_NEW_CUSTOMER",l="customerAttributes/isNewCustomer",c=(0,i.ul)(l),d=(0,o.Z)({[l]:(e,r)=>{var{payload:t}=r;return t}},{}),u=(0,n.P1)(a.Jv,(e=>e.customerAttributeIsNewCustomer))},59254:(e,r,t)=>{"use strict";t.d(r,{n:()=>s});var a=t(32034),n=t(71695),i=t(40939),o=t(83504),s=(0,a.P1)(i.dX,o.kS,((e,r)=>{var t=encodeURIComponent("".concat(r,"?eu_migrated=true")),a=e===n.Vd.ENGLISH?"":"euSite=".concat(e,"&");return"mode=migration&".concat(a,"redirectTo=").concat(t)}))},65737:(e,r,t)=>{"use strict";t.d(r,{Wl:()=>i,nU:()=>l});var a=t(82768),n=function(e){return e.carriersFilter="carriersFilter",e.passengerCountFilter="passengerCountFilter",e.travelClassFilter="travelClassFilter",e.singleLegOnlyFilter="singleLegOnlyFilter",e}({}),i={CSFP_CARRIERS_FILTER:{filters:{[n.carriersFilter]:{canIncludeOtherCarriers:!1},[n.passengerCountFilter]:{singlePassengerOnly:!0},[n.travelClassFilter]:{singleTravelClassOnly:!0},[n.singleLegOnlyFilter]:{singleLegOnly:!0}}},DEFAULT_VIEW_FULLPRICE_IT_ONLY:{filters:{[n.carriersFilter]:{canIncludeOtherCarriers:!1}}}},o=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).includes(e.toLowerCase())},s=(e,r,t)=>{switch(e){case n.carriersFilter:return Boolean(t.carriers&&t.carriers.journeyCarriers&&t.carriers.journeyCarriers.length>0&&((e,r,t)=>e.canIncludeOtherCarriers?r.some((e=>o(t,e))):r.every((e=>o(t,e))))(r,t.carriers.journeyCarriers,t.carriers.whitelist));case n.passengerCountFilter:return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!e.singlePassengerOnly||1===r}(r,t.passengerCount);case n.travelClassFilter:return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!e.singleTravelClassOnly||1===(0,a.jj$)(r).length}(r,t.travelClassNames);case n.singleLegOnlyFilter:return function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.singleLegOnly&&r}(r,t.isSingleLegJourney);default:return!1}},l=(e,r)=>Boolean(r.isEnabled&&Object.entries(e.filters).every((e=>{var[t,a]=e;return s(t,a,r)})))},76376:(e,r,t)=>{"use strict";t.d(r,{Br:()=>_,Bv:()=>f,CK:()=>A,DT:()=>O,IX:()=>k,M2:()=>C,M3:()=>I,O8:()=>L,YH:()=>P,ZV:()=>D,cF:()=>E,eV:()=>T,gG:()=>S,ly:()=>b,tH:()=>x,v6:()=>N});var a=t(23198),n=t(32034),i=t(57243),o=t(21666),s=t(36592),l=t(17038),c=t(59962),d=t(88396),u=t(19196),p=t(97866),m=t(60054),g=t(31521),v=t(41152),h=t(20786),y="DELIVERY_OPTIONS_PAGE_RENDERED",f=(0,s.PH)(y);var E=(0,n.P1)((e=>e),g.SY,p.fD,(function(e,r,t){if(r){var n=(0,d.n5)(e,r.id);if(n){var i=(0,h.ox)(e,[r.id]).map((r=>{var{id:t}=r;return(0,d.n5)(e,t)})).filter(Boolean).reduce(((e,r)=>{var t,n=e.options.filter((e=>r.options.some((r=>{var{method:t,supportsDeliveryGrouping:a}=r;return!!a&&t===e.method}))));return n.some((e=>{var{method:t}=e;return r.defaultDeliveryOption===t}))?(0,a.Z)((0,a.Z)({},r),{},{options:n}):{id:e.id,defaultDeliveryOption:null===(t=n[0])||void 0===t?void 0:t.method,options:n}}),null!=n?n:{});return i.options=(0,o.y)(i.options,t),i}}})),b=(0,n.P1)(E,(e=>{var r;return null!==(r=null==e?void 0:e.options)&&void 0!==r?r:[]})),S=(0,n.P1)(b,m.wy,((e,r)=>e&&(e.length>1&&r?[e[0]]:e))),T=(0,n.P1)(b,(e=>e.some((e=>{var{method:r}=e;return r===l.Gl.AtocETicket})))),C=(0,n.P1)(b,(e=>e.some((e=>{var{method:r}=e;return r===l.Gl.AtocMTicket})))),A=(0,n.P1)(b,(e=>e.some((e=>{var{method:r}=e;return r===l.Gl.AtocItsoSmartActionListCollectOnSmartphone})))),I=(0,n.P1)(b,(e=>e.some((e=>{var{method:r}=e;return r===l.Gl.AtocItsoSmartActionList})))),_=(0,n.P1)(b,(e=>!!e&&e.some((e=>!!e.departureStationHasKiosk)))),P=(0,n.P1)(b,(e=>!!e&&e.some((e=>!!e.departureStationHasWindow)))),R=(0,n.P1)(b,(e=>e&&e.find((e=>e.method===l.Ne.KIOSK)))),k=(0,n.P1)(R,(e=>e&&e.departureStationUrlName)),N=(0,n.P1)(R,(e=>Boolean(e&&e.supportsDeliveryGrouping))),O=(0,n.P1)(E,(e=>null==e?void 0:e.defaultDeliveryOption)),L=(0,n.P1)((e=>e.uiState&&e.uiState.components),(e=>e[u.N]&&e[u.N].errors||[])),x=(0,n.P1)((e=>e),((e,r)=>r),((e,r)=>{if(r===l.Ne.KIOSK){var t=_(e),a=P(e);return t?v.s8.Default:!t&&a?v.s8.CollectAtWindow:v.s8.AnyStation}})),D=(e,r)=>{var{getState:t}=r;return e.ofType(y).pipe((0,i.U)((()=>{var e=(0,g.SY)(t());return(0,c.ns)({itineraryId:e?e.itineraryCorrelation:""})})))}},26532:(e,r,t)=>{"use strict";t.d(r,{EC:()=>be,GP:()=>Te,Hc:()=>ve,Nk:()=>ge,PT:()=>ae,RN:()=>se,V:()=>ie,VF:()=>ke,_w:()=>ne,ap:()=>Se,bT:()=>W,fy:()=>Re,hG:()=>de,iB:()=>re,vc:()=>oe,wE:()=>te,ww:()=>ue,xd:()=>Ee});var a=t(23198),n=t(18406),i=t(55265),o=t(32034),s=t(8947),l=t(87582),c=t(42756),d=t(54466),u=t(56590),p=t(7185),m=t(56415),g=t(57243),v=t(426),h=t(94431),y=t(31875),f=t(4710),E=t(79423),b=t(51282),S=t(78307),T=t(60654),C=t(50693),A=t(64169),I=t(21168),_=t(59838),P=t(57110),R=t(18362),k=t(16256),N=t(253),O=t(50989),L=t(36592),x=t(68760),D=t(62331),w=t(72206),Z=t(39053),F=t(54641),B=t(7674),M=t(40939),U=t(89034),j=t(26074),H=t(32198),W="urn:trainline:atoc:card:GS3",G="REMOVE_INVALID_DISCOUNT_CARDS",V="REMOVE_DISCOUNT_CARD_FROM_ACCOUNT",Y="REMOVE_DISCOUNT_CARD_AND_RESEARCH",K="LAUNCH_DISCOUNT_CARD_MODAL",z="LAUNCH_ITALO_DISCOUNT_CARD_MODAL",J="CREATE_TRAVEL_CARD",q="SELECT_TRAVEL_CARD",Q="discountCardFormRemoveCard",X="removeEUDiscountCardsFromForm",$="discountCardFormToggleCardEnabled",ee="REMOVE_DISCOUNT_CARD_SUCCEEDED",re=(0,L.ul)(V),te=(0,L.ul)(Y),ae=(0,L.ul)(G),ne=(0,L.ul)(K),ie=(0,L.ul)(z),oe=(0,L.ul)(J),se=(0,L.ul)(Q),le=(0,L.ul)(X),ce=(0,L.RW)(ee),de=(0,L.ul)($),ue=(0,L.ul)(q),pe="savePassengerDiscountCards",me=(0,L.ul)(pe),ge=(0,o.P1)(D.ic,(e=>{return(r=H.Do,e=>Object.values(e).filter((e=>!!e&&!!e.code&&r.includes(e.code))).reduce(((e,r)=>(e[r.id]=r,e)),{}))(e);var r})),ve=(0,o.P1)(D.ic,(e=>{return(r=C.tp,e=>Object.values(e).filter((e=>!!e&&!!e.connections&&e.connections.some((e=>r.includes(e.toLocaleLowerCase()))))).reduce(((e,r)=>(e[r.id]=r,e)),{}))(e);var r}));function he(e){return Object.values(e).filter((e=>!!e&&!e.isBusinessOnly&&!e.identificationDocument))}function ye(e){var{id:r,name:t,operator:a,ageRange:n,language:i}=e;return{id:r,attributes:{name:t,operator:a,ageRange:n},locale:i}}function fe(e,r){var t,n=null!==(t=r.displayGroup)&&void 0!==t?t:r.operator;return n?(0,a.Z)((0,a.Z)({},e),{},{[n]:[...e[n]||[],ye(r)]}):e}var Ee=(0,o.P1)(M.fN,((e,r)=>r),((e,r)=>he(r).slice().sort((0,N.eQ)(e)).reduce(fe,{}))),be=(0,o.P1)(((e,r)=>r),(e=>he(e).slice().sort((0,N.L3)()).reduce(fe,{}))),Se=(0,o.P1)(ve,((e,r)=>r),((e,r)=>Object.values(e).find((e=>!!e&&e.id===r)))),Te=(0,o.P1)(b.gH,(e=>e&&e.euFlowPassengers)),Ce=(0,o.P1)(Te,((e,r)=>{var{userIndex:t}=r;return t}),((e,r)=>e&&e[r]&&e[r].discountCards)),Ae=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).findIndex((r=>{var{id:t}=r;return t===e}))};function Ie(e,r,t){var a=Ce(e,{userIndex:r}),n=Ae(t,a);return-1===n?a.length:n}var _e=(e,r,t)=>{var a=[];return a.push(oe({userIndex:e,cardTypeId:r,attributes:{},onSubmitSucceeded:t})),t||a.push((0,U.GZ)({shouldDismiss:!1})),(0,s.D)(a)},Pe=e=>((0,O.WM)(O.Wd.SAVE_RAILCARD_FROM_PASSENGER_PICKER.ERROR,"".concat(e)||"Unknown error"),(0,u.c)()),Re=(e,r)=>{var{getState:t}=r;return e.ofType(J).pipe((0,p.w)((e=>{var{payload:{userIndex:r,cardTypeId:a,attributes:i,onSubmitSucceeded:o,formSubmitResolve:s,formSubmitReject:c}}=e;return(0,d.z)((0,l.of)((0,Z.VQ)()),(0,P.Tb)({cardTypeId:a,attributes:i}).pipe((0,p.w)((e=>{var{id:o}=e,s=(0,b.nH)(t())[r],c=Ie(t(),r,a),u={id:a,uuid:o,readOnly:!1,enabled:!0,notSavedToPassenger:!0,accountNumber:i.number};return((e,r)=>{var t=A.nP.getItem("SEARCH_CARDS");t&&t[e.id]&&t[e.id].find((e=>e.id===r.id))&&(t[e.id]=t[e.id].filter((e=>e.id!==r.id)),t[e.id].push(r),A.nP.setItem("SEARCH_CARDS",t))})(s,u),(0,d.z)((0,l.of)((0,n.m)(S.Th,"euFlowPassengers[".concat(r,"].discountCards[").concat(c,"]"),u)),(0,l.of)((0,Z.K5)()),(0,l.of)(me({passenger:s,card:u})))})),(0,f.b)((()=>{null==o||o(),null==s||s()})))).pipe((0,v.K)((()=>(c&&c({code:"error@discount_card_form/createTravelCard/genericError",message:"modal.discountCard.form.errors.createTravelCard"}),[(0,Z.Jy)()]))))})))},ke=(0,i.l)(((e,r)=>{var{getState:t}=r;return e.ofType("discountCardFormSubmitSucceeded").pipe((0,g.U)((e=>{var{payload:{userIndex:r,discountCard:a,accountNumber:i}}=e,o=Ie(t(),r,a);return(0,n.m)(S.Th,"euFlowPassengers[".concat(r,"].discountCards[").concat(o,"]"),{id:a,accountNumber:i,readOnly:!1})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(Q).pipe((0,m.zg)((e=>{var{payload:{userIndex:r,discountCard:a}}=e;return(0,s.D)([(0,n.Ab)(S.Th,"euFlowPassengers[".concat(r,"].discountCards"),Ae(a,Ce(t(),{userIndex:r}))),ce()])})))}),((e,r)=>{var{getState:t}=r;return e.ofType($).pipe((0,g.U)((e=>{var{payload:{userIndex:r,cardId:i}}=e;return(0,n.m)(S.Th,"euFlowPassengers[".concat(r,"].discountCards"),Ce(t(),{userIndex:r}).map((e=>void 0!==e.uuid&&e.uuid===i?(0,a.Z)((0,a.Z)({},e),{},{enabled:!e.enabled}):e)))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(G).pipe((0,h.h)((()=>(0,F.P0)(t())===T.LoadStatus.SUCCESS)),(0,p.w)((e=>{var{payload:{userIndex:r,passenger:t,cards:n,newPassengerType:i}}=e,o=t.discountCards.reduce(((e,r)=>{var o,s=n[r.id],l="";return null==s||!s.prefix||null!==(o=r.accountNumber)&&void 0!==o&&o.startsWith(s.prefix)||(l=s.prefix),r.accountNumber&&(l="".concat(l).concat(r.accountNumber)),(0,N.D4)({accountNumber:l,card:s,euPassenger:(0,a.Z)((0,a.Z)({},t),{},{type:i})}).length&&e.push(r.id),e}),[]);return[le({userIndex:r,discountCards:o})]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(X).pipe((0,m.zg)((e=>{var{payload:{userIndex:r,discountCards:a}}=e;return(0,s.D)([(0,n.m)(S.Th,"euFlowPassengers[".concat(r,"].discountCards"),Ce(t(),{userIndex:r}).filter((e=>!a.includes(e.id)))),ce()])})))}),((e,r)=>e.ofType(K).pipe((0,p.w)((e=>{var{payload:r}=e,t=[(0,U.Ll)({type:I.e.DISCOUNT_CARD,params:r})];return r.cardId&&t.push((0,w.Cz)({id:r.cardId})),t})))),((e,r)=>e.ofType(z).pipe((0,p.w)((e=>{var{payload:r}=e,t=[(0,U.Ll)({type:I.e.ITALO_DISCOUNT_CARD,params:r})];return r.cardId&&t.push((0,w.Cz)({id:r.cardId})),t})))),((e,r)=>{var{getState:t}=r;return e.ofType(q).pipe((0,p.w)((e=>{var{payload:{fields:r,userIndex:a,onSubmitSucceeded:n}}=e;if("number"==typeof a&&r.discountCard){var i=t(),o=(0,D.ic)(i),{discountCard:s}=r,d=o[s],u=(0,x.L6)(i),p=(0,k.qo)(u,d,!1);if(p.displayed.length>0||p.available.includes(k.Up.ROUTE_FROM)){var m=(0,x.EM)(i),g=(0,x.yW)(i);return d&&!m&&!g&&!(0,N.Pp)(d)?_e(a,s,n):(0,l.of)((0,j.C9)(s))}return _e(a,s,n)}return(0,c._)(new Error("SELECT_TRAVEL_CARD_EPIC: userIndex is missing or with a wrong type. Last value was: ".concat(a)))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(pe).pipe((0,h.h)((e=>{var{payload:{passenger:r}}=e;return r&&!!r.isSavedPassenger})),(0,p.w)((e=>{var{payload:{passenger:r,card:a}}=e;if(!a||!a.uuid||!a.id)return(0,c._)(new TypeError("Invalid input card to save provided"));var n=(0,D.HM)(t(),a.id);return n?(0,l.of)({passenger:r,card:a,code:n}):(0,c._)(new Error("Cannot find a code for card type ".concat(a.id)))})),(0,p.w)((e=>{var{passenger:r,card:t,code:a}=e;return((e,r,t)=>{var a=e.discountCards.find((e=>e.id===r.id));return a?a.uuid?(0,R.LW)(a.uuid,e.id).pipe((0,p.w)((()=>(0,l.of)({passenger:e,card:r,code:t}))),(0,v.K)((()=>(0,c._)(new Error("Cannot delete railcard of UUID ".concat(r.id)))))):(0,c._)(new Error("Cannot find original UUID of card being edited")):(0,l.of)({passenger:e,card:r,code:t})})(r,t,a)})),(0,p.w)((e=>{var{passenger:r,card:i,code:o}=e;return((e,r,t,i)=>{if(!r.uuid)return(0,c._)(new Error("Cannot find original UUID of card"));var o={id:e.id,railCards:[{id:r.uuid,cardType:{id:r.id},number:r.accountNumber,code:t}]};return(0,R.mh)([o]).pipe((0,p.w)((t=>{var o=Object.values(t.body.data.savedPassengers).filter(_.v).find((r=>{var{passengerId:t}=r;return t===e.id})),s=(o&&o.railCards||[]).map((e=>{var{id:r}=e;return r}));if(!s.includes(r.uuid))return(0,c._)(new Error("Card with uuid ".concat(r.uuid," was not saved")));var l=(0,b.nH)(i),d=l.find((r=>{var{id:t}=r;return t===e.id}));return d&&(d.discountCards=d.discountCards.map((e=>(0,a.Z)((0,a.Z)({},e),{},{notSavedToPassenger:!s.includes(e.uuid)})))),[(0,B.lF)(t.body.data),(0,n.m)(S.Th,"euFlowPassengers",l)]})))})(r,i,o,t())})),(0,v.K)(Pe))}),((e,r)=>{var{getState:t}=r;return e.ofType(V).pipe((0,p.w)((e=>{var{payload:{cardId:r,passengerId:n,userIndex:i,discountCard:o}}=e;return(0,d.z)((0,l.of)(se({userIndex:i,discountCard:o})),(0,R.LW)(r,n).pipe((0,p.w)((()=>{var e=Object.entries(t().entities.savedPassengers).reduce(((e,t)=>{var[n,i]=t;return(0,a.Z)((0,a.Z)({},e),{},{[n]:(0,a.Z)((0,a.Z)({},i),{},{railCards:i.railCards.filter((e=>e.id!==r))})})}),{});return(0,l.of)((0,B.lF)({savedPassengers:e}))})),(0,v.K)((()=>(0,u.c)()))))})))}),(e=>e.ofType(E.xF).pipe((0,m.zg)((()=>[(0,D.jb)()])))),((e,r)=>{var{getState:t}=r;return e.ofType(D.JO).pipe((0,h.h)((()=>{var e=(0,F.P0)(t());return e!==T.LoadStatus.SUCCESS&&e!==T.LoadStatus.PENDING})),(0,m.zg)((()=>(0,d.z)((0,l.of)((0,F.FW)()),(0,P.ko)().pipe((0,g.U)(D.wg),(0,v.K)((()=>(0,l.of)((0,F.yn)())))),(0,l.of)((0,F.zq)())))))}),((e,r)=>{var{getState:t}=r;return e.ofType(Y).pipe((0,p.w)((()=>e.ofType(ee).pipe((0,y.q)(1),(0,g.U)((()=>{var e=(0,b.tv)(t());return(0,E.ng)(e)}))))))}),((e,r)=>{var{getState:t}=r;return e.ofType(Y).pipe((0,p.w)((e=>{var{payload:{cardUUID:r,passengerId:a,discountCard:n,isLoggedInUser:i}}=e,o=t(),s=(0,b.nH)(o).findIndex((e=>e.id===a));return(0,d.z)((0,l.of)(i?re({cardId:r,passengerId:a,userIndex:s,discountCard:n}):se({userIndex:s,discountCard:n})))})))}))},98228:(e,r,t)=>{"use strict";t.d(r,{B5:()=>s,GC:()=>o,vJ:()=>i,wf:()=>l});var a=t(32034),n=t(46090),i=(0,a.P1)(n.o8,(e=>e&&e.enrolmentData&&e.enrolmentData.payerAuthenticationUrl)),o=(0,a.P1)(n.o8,(e=>e&&e.enrolmentData&&e.enrolmentData.payerAuthenticationRequest)),s=(0,a.P1)(n.o8,(e=>e&&e.orderId)),l=(0,a.P1)(n.o8,(e=>e&&e.paymentId))},97866:(e,r,t)=>{"use strict";t.d(r,{AW:()=>Me,An:()=>M,BD:()=>b,Br:()=>J,DN:()=>L,DO:()=>H,Dd:()=>W,EP:()=>y,G4:()=>ae,Gg:()=>l,H_:()=>Oe,J8:()=>P,JU:()=>We,Jf:()=>Ie,Jz:()=>oe,KX:()=>te,KZ:()=>Ue,LF:()=>Ge,LR:()=>v,Mb:()=>pe,ND:()=>g,NV:()=>U,NZ:()=>re,Nl:()=>S,Nn:()=>D,O4:()=>c,Ow:()=>T,Pq:()=>I,QA:()=>ie,Qk:()=>Te,RG:()=>Be,RU:()=>u,Rc:()=>Se,S3:()=>Ne,SO:()=>be,Sm:()=>Y,T1:()=>he,T_:()=>X,U9:()=>A,WI:()=>Fe,Wc:()=>p,XN:()=>j,Xc:()=>s,Y$:()=>ve,YD:()=>$,YP:()=>le,YR:()=>Le,Yv:()=>Re,ZI:()=>Ve,Zl:()=>G,_M:()=>E,_n:()=>ke,_v:()=>Ee,c1:()=>ne,c7:()=>d,cd:()=>me,dH:()=>_,dX:()=>h,e:()=>R,e0:()=>K,e2:()=>q,fD:()=>O,hQ:()=>Q,ik:()=>je,ip:()=>x,jn:()=>Ae,k_:()=>ye,kp:()=>F,lw:()=>ue,mT:()=>Ce,nh:()=>xe,oA:()=>se,pZ:()=>de,qB:()=>B,qN:()=>f,r0:()=>z,r4:()=>m,t$:()=>w,tB:()=>fe,th:()=>V,tx:()=>Ze,uD:()=>De,uo:()=>we,v1:()=>_e,vC:()=>Pe,vN:()=>k,wD:()=>C,wr:()=>ce,x8:()=>Z,xg:()=>He,xs:()=>ee,y7:()=>ge,zE:()=>N});var a=t(32034),n=t(5535),i=t(19408),o=t(33695),s=(0,a.P1)(n.t,(e=>e.ttlEnvironmentType)),l=(0,a.P1)(n.t,(e=>e.clientConfiguration)),c=(0,a.P1)(l,(e=>e.singleCTREnabled)),d=(0,a.P1)(l,(e=>e.portal)),u=(0,a.P1)(l,(e=>e.managedGroupName)),p=(0,a.P1)(l,(e=>e.homePageRedirectUrl||"")),m=(0,a.P1)(l,(e=>e.smartContentBannerEnabled)),g=(0,a.P1)(l,(e=>e.enableRecommendedJourneysHomepage)),v=(0,a.P1)(l,(e=>e.favIcon)),h=(0,a.P1)(l,(e=>e.oopsPageAnimationEnabled)),y=(0,a.P1)(l,(e=>e.enableLoaderImageWithCarrierLogo)),f=(0,a.P1)(l,(e=>{var r;return null===(r=e.bookingFeeEnabled)||void 0===r||r})),E=((0,a.P1)(l,(e=>e.appBannerImage)),(0,a.P1)(l,(e=>null==e?void 0:e.appIcon)),(0,a.P1)(l,(e=>e.popularStations||[])),(0,a.P1)(l,(e=>e.exploreEuropeStations||[])),(0,a.P1)(n.t,(e=>e.euRailcardsIframeUrl))),b=(0,a.P1)(n.t,(e=>e.ravelinApiKey)),S=(0,a.P1)(n.t,(e=>e.paypalButtonsClientKey)),T=(0,a.P1)(l,(e=>e.paymentFormStyle)),C=(0,a.P1)(l,(e=>e.paymentFormLanguagePack)),A=(0,a.P1)(l,(e=>e.paymentFormStyleMobile)),I=(0,a.P1)(l,(e=>e.insuranceEnabled)),_=(0,a.P1)(l,(e=>e.digitalRailcardBannersEnabled)),P=(0,a.P1)(l,(e=>e.payPalEnabled)),R=(0,a.P1)(l,(e=>e.applePayEnabled)),k=(0,a.P1)(l,(e=>e.googlePayEnabled)),N=(0,a.P1)(l,(e=>!e.coachEnabled)),O=(0,a.P1)(l,(e=>null==e?void 0:e.deliveryOptionsOrder)),L=(0,a.P1)(l,(e=>e.portalStaticContent)),x=(0,a.P1)(l,(e=>e.feedbackVerbiageEnabled)),D=(0,a.P1)(l,(e=>e.adsEnabled)),w=(0,a.P1)(l,(e=>e.bestFareFinderEnabled)),Z=(0,a.P1)(l,(e=>e.directSearchEnabled)),F=(0,a.P1)(l,(e=>e.enableDirectTrainFilter)),B=(0,a.P1)(l,(e=>(0,i.mR)(e,o.zA.DISABLE_RDSV2_LEISURE)),((e,r)=>e.rdsv2Enabled&&"$0"===r)),M=(0,a.P1)(l,(e=>e.travelExtrasInfoEnabled)),U=(0,a.P1)(l,(e=>e.travelExtrasInfoUrl)),j=(0,a.P1)(l,(e=>e.partnershipsSectionEnabled)),H=(0,a.P1)(l,(e=>e.euFiltersEnabled)),W=(0,a.P1)(l,(e=>e.seasonsLink)),G=((0,a.P1)(l,(e=>e.ticketAlertForUnconfirmedTimeTableJourneys)),(0,a.P1)(l,(e=>e.seatReservationsV2Enabled))),V=(0,a.P1)(l,(e=>e.allowedCarrier?e.allowedCarrier:"")),Y=(0,a.P1)(l,(e=>!!e.carrierFilterEnabled)),K=(0,a.P1)(l,(e=>!!e.enableEuResultsTabView)),z=(0,a.P1)(l,(e=>e.enableTripCardV2)),J=(0,a.P1)(l,(e=>e.enableTripCardV3)),q=(0,a.P1)(l,(e=>e.enableSplitSaveTickets)),Q=(0,a.P1)(l,(e=>e.enableOpenReturnChangesForDWeb)),X=(0,a.P1)(l,(e=>e.enableUKMultifare)),$=(0,a.P1)(l,(e=>e.enableEuPassengerPageInvoiceFormTrenitalia)),ee=(0,a.P1)(l,(e=>e.enableAddJourneyLink)),re=(0,a.P1)(l,(e=>e.enableAtocPriceCalendar)),te=(0,a.P1)(l,(e=>e.enableItaloPiuCode||!1)),ae=(0,a.P1)(l,(e=>e.isChangeJourneyHeaderReadonly||!1)),ne=(0,a.P1)(l,(e=>e.redirectToGenericSearchErrorPageEnabled)),ie=(0,a.P1)(l,(e=>e.tocFormatSelectTicketIcon||!1)),oe=(0,a.P1)(l,(e=>e.redirectToMarketingSite||!1)),se=(0,a.P1)(l,(e=>e.useNewLogoPath||!1)),le=((0,a.P1)(l,(e=>e.sncfDigipassEnabled)),(0,a.P1)(l,(e=>e.redirectToMarketingSite||!1))),ce=(0,a.P1)(l,(e=>e.enableViewInAppSectionFromDisruption)),de=(0,a.P1)(l,(e=>e.enableNewTermsAndConditionsContainer)),ue=(0,a.P1)(l,(e=>e.enableSeatReservationInConfirmation)),pe=(0,a.P1)(l,(e=>e.enableCarrierPrivacyPolicy)),me=(0,a.P1)(l,(e=>!!e.alwaysDisplayTravelOptionsPage)),ge=(0,a.P1)(l,(e=>e.enableEUReservationsErrors||!1)),ve=(0,a.P1)(l,(e=>e.journeySelectionModes||{})),he=(0,a.P1)(l,(e=>e.enableOnAccountPaymentOffer||!1)),ye=(0,a.P1)(l,(e=>e.enableEUAddPassengerButton||!1)),fe=(0,a.P1)(l,(e=>e.enableStationPickerEnhancements||!1)),Ee=(0,a.P1)(l,(e=>(null==e?void 0:e.restrictedReferrer)||[])),be=(0,a.P1)(l,(e=>null==e?void 0:e.redirectToMarketingPageIfNotLoggedIn)),Se=(0,a.P1)(l,(e=>e.marketingPageUrl)),Te=(0,a.P1)(l,(e=>e.enableFirstClassUpgrade)),Ce=(0,a.P1)(l,(e=>e.enableRailcardAgeRestrictionCategoryEU)),Ae=(0,a.P1)(l,(e=>e.enableUSLocalisation)),Ie=(0,a.P1)(l,(e=>e.passengerAssistanceEnabled)),_e=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableGoHomePageLinkInConfirmation))),Pe=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableRealtimeForEuJourneys))),Re=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableRealtimeForEuJourneysMobile))),ke=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableRailcardRecommendBannerForSRP))),Ne=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableDiscountCardBenefitsBanner))),Oe=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableShowPriceCalendarByDefault))),Le=(0,a.P1)(l,(e=>e.enableDestinationImage)),xe=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableOpenReturnChangesForMWeb))),De=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableUKPricePrediction))),we=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.kioskCollectionReferenceBannerEnabled))),Ze=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.disableEticketforBikeReservations))),Fe=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableTicketAlertsUK))),Be=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableAggregationBannerUkSRP))),Me=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableCustomFieldsOptions))),Ue=((0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enablePriceFilter))),(0,a.P1)(l,(e=>e.enableTlbAdminRegistrationModel))),je=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableHomepageHardNavigation))),He=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableSearchAgain))),We=(0,a.P1)(l,(e=>e.enableBusinessCardPaymentOffer||!1)),Ge=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableHomepageRoutes))),Ve=(0,a.P1)(l,(e=>Boolean(null==e?void 0:e.enableNonHomepageRoutes)))},99461:(e,r,t)=>{"use strict";t.d(r,{YN:()=>A,m7:()=>S,qr:()=>I});var a=t(23198),n=t(87582),i=t(8947),o=t(37719),s=t(87865),l=t(57243),c=t(50989),d=t(86003),u=t(59838),p=t(23489),m=t(42769),g=t(7809),v=t(19196),h=t(13174),y=t(35300),f=(t(78440),t(47312)),E=t(37599),b=[...d.Nd,...d.I7,...d.yI,...Object.values(d.d8)],S=(e,r)=>(0,s.setUIState)({id:"root",state:{isInErroredState:e,errorInformation:r&&r.data}}),T=e=>{var r;return(0,a.Z)((0,a.Z)({},e),{},{data:null===(r=e.data)||void 0===r?void 0:r.map((e=>e.code===d.Nz.EXPIRED_PRODUCT?(0,a.Z)((0,a.Z)({},e),{},{detail:e.code}):e))})},C={email:d.d8.INVALID_EMAIL_VALUE},A=(e,r,t,a,l)=>{var A,I=(A=e.data)&&Array.isArray(A)?A.map((e=>{var{code:r,source:t}=e;if(r===d.yQ.INVALID_VALUE){var a,n=null==t||null===(a=t.pointer)||void 0===a?void 0:a.split("/").pop();return C[n]}return r})).filter(u.v):[],_=r?(0,o.VF)(m.L1.deliveryOptions()):{type:"noop"};if(I.includes(d.RH.GENERIC_ERROR)&&a)return(0,n.of)((0,s.setUIState)({id:E._x,state:{[a]:{hasError:!0}}}));if(e instanceof g.Ak){if(I.includes(d.yQ.CHOICE_NO_LONGER_AVAILABLE)||I.includes(d.yQ.QUOTA_NOT_AVAILABLE))return(0,n.of)((0,h.Eq)({errorCodes:[d.yQ.QUOTA_NOT_AVAILABLE]}));if(I.includes(d.yQ.INVALID_LOYALTY_CARD_NUMBER)&&!l)return(0,n.of)((0,h.Eq)({errorCodes:[d.yQ.INVALID_LOYALTY_CARD_NUMBER]}));if(I.includes(d.jP.DELIVERY_METHOD_NOT_SUPPORTED))return(0,n.of)((0,h.Eq)({errorCodes:[d.jP.DELIVERY_METHOD_NOT_SUPPORTED]}));if(e.data.length&&e.data.every((e=>[d.yQ.INVALID_LOYALTY_CARD_NUMBER,d.yQ.CARD_NOT_VALID_FOR_TRIP_DATE,d.yQ.CARDHOLDER_INFORMATION_MISMATCH,d.yQ.INCONSISTENT_DOB,d.yQ.CARD_INFORMATION_INVALID,d.yQ.DUPLICATE_PASSENGER_NAMES,d.yQ.LEAD_PASSENGER_MUST_BE_AN_ADULT,d.yQ.INVALID_PHONE_NUMBER,d.yQ.INVALID_VALUE,d.yQ.INVALID_EMAIL_ADDRESS,d.yQ.SMARTCARD_VALIDITY_PERIOD_TOO_SHORT,d.yQ.DATA_REQUIREMENTS_NOT_MET_STDS_SRV].includes(e.code))))return t?(0,n.of)((0,h.Eq)({errorCodes:e.data.map((e=>e.code))})):I.includes(d.TG.SMARTCARD_NOT_ACTIVE)?(0,n.of)((0,f.iE)(!1,f.Dg.SMARTCARD_NOT_ACTIVE),(0,y.k3)(!1)):I.includes(d.TG.SMARTCARD_VALIDITY_PERIOD_TOO_SHORT)?(0,n.of)((0,f.iE)(!0,f.Dg.SMARTCARD_VALIDITY_PERIOD_TOO_SHORT),(0,y.k3)(!1)):(0,n.of)(_,(0,s.setUIState)({id:v.N,state:{errors:e.data}}),(0,s.setUIState)({id:y.mQ,state:{isLoading:!1}}));if(401===e.response.status){var P=(0,p.s)();return(0,n.of)((0,o.VF)(m.L1.login({to:P.location.pathname})))}if(410===e.response.status)return e.data.some((e=>e.code===d.jP.BIKE_NOT_AVAILABLE))?(0,n.of)((0,h.Eq)({errorCodes:[d.jP.BIKE_NOT_AVAILABLE]})):(0,n.of)((0,h.Eq)({errorCodes:[d.jP.MANDATORY_RESERVATION_FAILED]}))}var R=I.filter((e=>b.includes(e)));if(R.length>0)return(0,n.of)((0,h.Eq)({errorCodes:R}));(0,c.Ep)(e),(0,c.$1)(e);var k=I.includes(d.Nz.EXPIRED_PRODUCT)?T(e):e;return(0,i.D)([S(!0,k)])},I=e=>e.ofType(o.nk).pipe((0,l.U)((()=>S(!1))))},56373:(e,r,t)=>{"use strict";t.d(r,{FE:()=>g,XM:()=>h,hh:()=>v});var a=t(37719),n=t(4710),i=t(66547),o=t(42769),s=t(50989),l=t(60054),c=t(84175),d=t(51059),u=t(31521),p=t(21192),m=t(83504),g=(e,r)=>e.ofType(a.nk).pipe((0,n.b)((()=>(e=>{var r=(0,m.FD)(e);if([o.L1.deliveryOptions(),o.L1.options(),o.L1.results(),o.L1.ticketOptions(),o.L1.travelOptions()].indexOf(r.pathname)>-1){var t=(0,p.mX)(e)?(0,d.Q$)(e):(0,u.Xt)(e);(0,s.qV)("experience",t)}})(r.getState()))),(0,i.h)({type:"NOOP"})),v=e=>{var r=(0,p.mX)(e),t=(0,p.Zy)(e),a=(0,p.ZT)(e),n=(0,l.s9)(e);return r||a?(0,d.$b)(e):t?(0,u.c7)(e):n?(0,c.h_)(e,n):(0,u.rj)(e)},h=e=>{var r=(0,p.mX)(e),t=(0,p.Zy)(e),a=(0,p.ZT)(e),n=(0,l.s9)(e);return r||a?(0,d._v)(e):t?(0,u.$c)(e):n?(0,c.HC)(e,n):(0,u.wD)(e)}},44695:(e,r,t)=>{"use strict";t.d(r,{J:()=>n,u:()=>a});var a="EXTRA_SELECTED",n="UPDATE_AVAILABLE_EXTRAS"},54579:(e,r,t)=>{"use strict";t.d(r,{XA:()=>h,om:()=>g});var a=t(23198),n=t(56415),i=t(53066),o=t(36592),s=t(29728),l=t(10326),c=t(37087),d=t(39404),u=t(31521),p=t(69032),m=t(44695),g=(0,i.Z)(m.u),v=(0,o.ul)(m.J),h=(e,r)=>e.ofType(m.u).pipe((0,n.zg)((e=>{var{payload:t}=e,n=r.getState(),i=(0,u.qK)(n),o=(0,s.u4)(n),m=[];m=null!=t&&t.isUK&&void 0!==t.value?i.reduce(((e,r)=>[...e,...(0,p.Tw)(n,r,t.value)]),[]):i.reduce(((e,r)=>[...e,...(0,l.xg)(n,r)]),[]);var g=d.BB.Impression,h={},y=Object.entries(o).reduce(((e,r)=>{var[t,n]=r;return(0,a.Z)((0,a.Z)({},e),{},{[t]:{extras:n.extras.map((e=>{var r=m.find((r=>r.extra===e.id));if(r&&r.quantity!==e.selectedQuantity&&r&&e){var t=((e,r)=>{var t=e&&e.selectedQuantity||0;return{ecommerceAction:r.quantity>t?d.BB.Add:d.BB.Remove,addOn:{name:e.extraType.name,id:e.id,quantity:Math.abs(r.quantity-t)}}})(e,r);g=t.ecommerceAction,h=t.addOn}return(0,a.Z)((0,a.Z)({},e),{},{selectedQuantity:r?r.quantity:e.selectedQuantity})}))}})}),{});return[v(y),(0,c.by)((0,a.Z)((0,a.Z)({},y),{},{ecommerceAction:g,addOn:h}))]})))},75352:(e,r,t)=>{"use strict";t.d(r,{kN:()=>d,qn:()=>l});var a=t(32034),n=t(10526),i=t(32143),o=(e,r)=>e&&e.fareType?r[e.fareType]:void 0,s=(0,a.P1)(i.sy,n.SP,o),l=(0,a.P1)(s,(e=>e?e.id:void 0)),c=(0,a.P1)(i.m3,n.SP,o),d=(0,a.P1)(c,(e=>e?e.id:void 0))},34038:(e,r,t)=>{"use strict";t.d(r,{E:()=>R,EX:()=>k,F1:()=>j,KS:()=>w,Lr:()=>Z,Lt:()=>U,Nt:()=>D,ZP:()=>Y,iR:()=>O,oT:()=>V,t_:()=>x,uf:()=>L});var a=t(23198),n=t(53066),i=t(18406),o=t(55265),s=t(87582),l=t(54466),c=t(56415),d=t(426),u=t(57243),p=t(57110),m=t(17038),g=t(68760),v=t(88396),h=t(99462),y=t(97340),f=t(70932),E=t(96594),b=t(19356),S=t(76376),T=t(99461),C=t(2321),A=t(41152),I=t(29433),_="TRIGGER_FETCH_DELIVERY_OPTIONS",P="TRIGGER_FETCH_DELIVERY_OPTIONS_WITHOUT_RENDER",R="TRIGGER_FETCH_DELIVERY_OPTIONS_OUTSIDE_FORM",k=(0,n.Z)(_),N=(0,n.Z)(P),O=((0,n.Z)(R),"FETCH_PENDING"),L="FETCH_SUCCESS",x="FETCH_PENDING",D="FETCH_SUCCESS",w="FETCH_PENDING",Z="FETCH_SUCCESS",F="SET_PASSENGER_DETAILS_FORM",B="TRIGGER_FETCH_SMART_COLLECTION_LOCATION",M=(0,n.Z)(B),U=(0,n.Z)(O),j=(0,n.Z)(L),H=((0,n.Z)(x),(0,n.Z)(D),(0,n.Z)(w)),W=(0,n.Z)(Z),G=(0,n.Z)(F),V=e=>e?(0,p.ms)().pipe((0,c.zg)((r=>(0,l.z)((0,s.of)((0,C._i)(r)),((e,r)=>{var t,a=r.getState(),n=(0,I.Gp)(a),i=e&&(null===(t=Object.values(e.deliveryOptions)[0])||void 0===t?void 0:t.options);return n&&i&&i.findIndex((e=>e.method===m.Gl.AtocItsoSmartActionList||e.method===m.Gl.AtocItsoSmartEcebsActionList))>-1?(0,s.of)(H(),M(),W()):(0,s.of)({type:"NOOP"})})(r,e)))),(0,d.K)((e=>(0,T.YN)(e)))):(0,p.ms)().pipe((0,u.U)(C._i),(0,d.K)((e=>(0,T.YN)(e))));const Y=(0,o.l)((e=>e.ofType(R).pipe((0,c.zg)((()=>(0,l.z)((0,s.of)(U()),V(),(0,s.of)(j())))))),(e=>e.ofType(P).pipe((0,c.zg)((()=>(0,l.z)((0,s.of)(U()),V(),(0,s.of)(j()),(0,s.of)((0,v.s1)({},{form:E.ed}))))))),((e,r)=>e.ofType(_).pipe((0,c.zg)((()=>(0,l.z)((0,s.of)(U()),V(r),(0,s.of)((0,S.Bv)()),(0,s.of)((0,b.ue)()),(0,s.of)(j())))))),(e=>e.ofType(f.ZC).pipe((0,c.zg)((()=>(0,s.of)((0,f.nu)({skipPassengerDetails:!0}),G(),(0,h.dw)(),N()))))),((e,r)=>e.ofType(F).pipe((0,c.zg)((()=>{var e=r.getState(),t=(0,A.MF)(e).map((r=>(0,y.sD)(e,r.id)?(0,a.Z)((0,a.Z)({},(0,y.sD)(e,r.id)),{},{id:r.id}):[])),n=(0,g.u0)(e),o=[(0,i.m)(E.ed,"email",n),(0,i.m)(E.ed,"euPassengers",t)],l=(0,h.yz)(e);if(l){var c=t[0];o.push((0,i.m)(E.ed,"euLeadPassenger","0")),l.title&&o.push((0,i.m)(E.ed,"euLeadTitle",c.title)),l.phoneNumber&&(o.push((0,i.m)(E.ed,"euLeadPhone",c.phoneNumber)),o.push((0,i.m)(E.ed,"euLeadPhonePrefix",c.phoneCountryCode)))}return(0,s.of)(...o)})))),(e=>e.ofType(B).pipe((0,c.zg)((()=>(0,p.h5)().pipe((0,u.U)(C.r),(0,d.K)((e=>(0,T.YN)(e)))))))))},51730:(e,r,t)=>{"use strict";t.d(r,{FE:()=>l,cf:()=>s});var a=t(36592),n=t(57243),i=t(97866),o="NAVIGATE_TO_HOMEPAGE",s=(0,a.RW)(o),l=(e,r)=>{var{getState:t}=r;return e.ofType(o).pipe((0,n.U)((()=>{var e=(0,i.Wc)(t());window.location.href=e})))}},23723:(e,r,t)=>{"use strict";t.d(r,{j6:()=>p,rE:()=>d,yI:()=>m});var a=t(36592),n=t(42769),i=t(57243),o=t(37719),s=t(31255),l="GOTO_RESULTS_PAGE",c="HAVIGATE_FROM_HOMEPAGE",d=(0,a.ul)(l),u=(0,a.ul)(c),p=(e,r)=>{var{getState:t}=r;return e.ofType(c).pipe((0,i.U)((e=>{var{payload:r}=e;return(0,s.T)(t())?window.location.href=r:(0,o.VF)(r)})))},m=e=>e.ofType(l).pipe((0,i.U)((e=>{var{payload:r}=e,t=n.L1.results(r.query);return r.pathname===n.L1.home()?u(t):(0,o.VF)(t)})))},31255:(e,r,t)=>{"use strict";t.d(r,{Cp:()=>v,T:()=>g});var a=t(33695),n=t(19408),i=t(32034),o=t(42769),s=t(83504),l=t(97866),c=(0,i.P1)(s.kS,(e=>e===o.L1.home())),d=e=>{var r=0==c(e);return(0,n.mR)(e,a.zA.ENABLE_HOMEPAGE_HARD_NAVIGATION_PRELOAD,r)},u=((0,i.P1)(d,(e=>"$0"===e)),(0,i.P1)(d,(e=>"$1"===e))),p=(0,i.P1)(d,(e=>"$2"===e)),m=(0,i.P1)(d,(e=>"$3"===e)),g=(0,i.P1)(l.ik,p,m,c,((e,r,t,a)=>(e||r||t)&&a)),v=(0,i.P1)(u,m,c,((e,r,t)=>(e||r)&&t))},41773:(e,r,t)=>{"use strict";t.d(r,{Cj:()=>p,Ef:()=>v,VA:()=>y,ww:()=>h});var a=t(32034),n=t(64169),i=t(29433),o=t(97866),s=t(19408),l=t(33695),c=t(56373),d=(0,a.P1)(o.Gg,(e=>{var{hasTocHorizontalSearchFormEnabled:r}=e;return Boolean(r)})),u=(0,a.P1)(o.Gg,(e=>e.enableHorizontalSearchUk)),p=(0,a.P1)(i.ie,d,c.hh,((e,r,t)=>{var a=!0===n.nP.getItem("HAS_HORIZONTAL_SEARCH_BEEN_RENDERED");return e&&t||r||a})),m=e=>(0,s.eB)(e,l.zA.ENABLE_HORIZONTAL_SEARCH_WIDGET_ATOC_UK,!0),g=(0,a.P1)(i.ie,u,c.hh,((e,r,t)=>e&&r&&!t)),v=(0,a.P1)(g,m,((e,r)=>e&&r)),h=(0,a.P1)(g,(e=>(0,s.wM)(e,l.zA.ENABLE_HORIZONTAL_SEARCH_WIDGET_ATOC_UK,!0)),m,((e,r,t)=>e&&(r||t))),y=e=>(0,s.eB)(e,l.zA.ENABLE_CARRIERS_FILTER,!0)},10587:(e,r,t)=>{"use strict";t.d(r,{A:()=>i,p:()=>o});var a=t(37544),n="iframePaymentForm",i=e=>e.uiState.components[n],o=e=>(0,a.ET)({id:n,state:{isLoading:e}})},64411:(e,r,t)=>{"use strict";t.d(r,{A:()=>o,H:()=>i});var a=t(23198),n=t(98903),i=(e,r)=>{var t=(0,n.hM)(e);return Object.keys(t).reduce(((e,n)=>{var{leadPassengerName:i,otherPassengerNames:o,insuranceAddress:s}=t[n];return(0,a.Z)((0,a.Z)({},e),{},{[n]:{passengers:[i,...o],address:r||s}})}),{})},o=(e,r)=>{var t;return Object.values(null!==(t=e.itineraryRecommendation)&&void 0!==t?t:{}).reduce(((e,t)=>{if(null!=t&&t.isValid&&(null!=t&&t.selectedOutboundInsurance||null!=t&&t.selectedInboundInsurance)&&t.userName){var n="".concat(t.userName.firstName," ").concat(t.userName.lastName);return(0,a.Z)((0,a.Z)((0,a.Z)({},e),t.selectedOutboundInsurance&&{[t.selectedOutboundInsurance.id]:(0,a.Z)({passengers:[n]},r&&{address:r})}),t.selectedInboundInsurance&&{[t.selectedInboundInsurance.id]:(0,a.Z)({passengers:[n]},r&&{address:r})})}return(0,a.Z)({},e)}),{})}},40939:(e,r,t)=>{"use strict";t.d(r,{BX:()=>d,VT:()=>l,dX:()=>c,fN:()=>s,pv:()=>g,wZ:()=>m});var a=t(32034),n=t(71695),i=t(4695),o=e=>e.intl,s=(0,a.P1)(o,(e=>e.locale||i.ZW)),l=(0,a.P1)(s,(e=>n.Uj[e])),c=(0,a.P1)(o,(e=>n.Uj[e.locale]||n.Uj[n.vi.ENGLISH])),d=(0,a.P1)(s,(e=>e===n.vi.ENGLISH)),u=(0,a.P1)(s,(e=>e===n.vi.ENGLISH||e===n.vi.AMERICANENGLISH)),p="undefined"!=typeof window&&window.__CLIENT_CONFIGURATION__&&window.__CLIENT_CONFIGURATION__.defaultCountry?window.__CLIENT_CONFIGURATION__.defaultCountry:null!={BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.DEFAULT_COUNTRY?{BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.DEFAULT_COUNTRY:"GB",m=(0,a.P1)(s,(e=>(0,i.vK)(e)?n.Uj[e]:p)),g=(0,a.P1)(u,(e=>e))},60054:(e,r,t)=>{"use strict";t.d(r,{Ah:()=>Pe,C6:()=>De,E0:()=>je,Ek:()=>ae,G7:()=>de,Gf:()=>fe,Mg:()=>he,NY:()=>ce,Nk:()=>z,Qz:()=>Ue,RB:()=>ee,TC:()=>pe,WV:()=>re,XQ:()=>Me,_l:()=>Oe,au:()=>ie,bQ:()=>Ze,dX:()=>xe,fj:()=>Se,fp:()=>Ne,hg:()=>ue,i3:()=>ve,ob:()=>ne,pe:()=>j,s9:()=>te,v2:()=>Ee,wp:()=>we,ws:()=>be,wy:()=>Le,xB:()=>le,xG:()=>ge,x_:()=>J});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(24114),c=t(59199),d=t(41925),u=t(18353),p=t(51001),m=t(51486),g=t(29148),v=t(44481),h=t(26524),y=t(38949),f=t(59838),E=t(7041),b=t(49891),S=t(93601),T=t(16362),C=t(97183),A=t(10526),I=t(92490),_=t(24879),P=t(6105),R=t(9635),k=t(20786),N=t(84175),O=t(88675),L=t(37935),x=t(61229),D=t(32554),w=t(31521),Z=t(41152),F=function(e){return e.EU_ONLY="EU_ONLY",e.ATOC_ONLY="ATOC_ONLY",e.EU_AND_ATOC="EU_AND_ATOC",e}({}),B="atoc",M="nx",U=(e,r,t,a,n,i,s)=>Object.entries((0,o.vMG)((e=>e.timetableId||e.id),i)).sort(((e,r)=>{var[,[t]]=e,[,[a]]=r;return(0,E.rm)(t.localDepartAt,a.localDepartAt)})).map((i=>{var o,[,l]=i,c=l[0],{brand:d,carrier:u,timetableId:p}=c,g=null==s?void 0:s.reduce(((e,r)=>{if(0!=r.fareLegs.filter((e=>{var{leg:r}=e;return r.id===c.id})).length){var t=r.fareType.id;if(n&&n[t])return[...e,n[t]]}return e}),[]),v=(0,m.eg)(a,t,{brand:d&&d.id,carrier:u&&u.id}),h=(0,m.xJ)(a,{brand:d&&d.id}),y=c.transportModeEntity&&r[c.transportModeEntity.id],f=y&&y.name,E={name:v,mode:f,id:null==u?void 0:u.id,route:c.route},b=(null==u?void 0:u.id)&&(null===(o=t[u.id])||void 0===o?void 0:o.code),S=c.transportDesignation&&c.timetableId?"".concat(c.transportDesignation," ").concat(c.timetableId):void 0;return{id:c.id,localArriveAt:c.localArriveAt,localDepartAt:c.localDepartAt,origin:c.origin&&e[c.origin.id],destination:c.destination&&e[c.destination.id],items:l.map((e=>({legId:e.id,productId:e.productId}))),carrierName:v,carrierUrn:b,carrierLogo:E,fareTypes:g,brandCode:h,transportModeName:f?f.toLowerCase():"",timetableId:p,vendorQuotaIdentifier:S}})),j=(e,r)=>Object.entries((0,o.vMG)((e=>e.id),r)).sort(((e,r)=>{var[,[t]]=e,[,[a]]=r;return(0,E.rm)(t.arriveAt,a.departAt)})).map((r=>{var[t,a]=r,n=a[0];return{id:t,localArriveAt:n.arriveAt,localDepartAt:n.departAt,origin:n.departureLocation?e[n.departureLocation]:void 0,destination:n.arrivalLocation?e[n.arrivalLocation]:void 0,items:a.map((e=>({legId:e.id,productId:""})))}})),H=e=>r=>(0,a.Z)((0,a.Z)({},r),{},{productId:e}),W=(e,r)=>{var t=(e=>e.reduce(((e,r)=>[...e,...r.outwardJourneyPlan.legs.map(H(r.id)),...r.inwardJourneyPlan&&r.inwardJourneyPlan.legs?r.inwardJourneyPlan.legs.map(H(r.id)):[]]),[]))(e),a=(e=>e.sort(((e,r)=>(0,E.rm)(e.localDepartAt,r.localDepartAt))))(t),[n]=a,i=(0,o.Z$Q)(a),s=n&&n.origin&&r[n.origin.id],c=i&&i.destination&&r[i.destination.id];if(s&&c&&t.length>1&&((0,L.Mq)(s,c)||(0,L.jN)(s,c))){var d=a.indexOf((e=>{var r=(0,l.Z)(e).map((e=>{var[r,t]=e;return{time:(0,E.K7)(r.localArriveAt,t.localDepartAt),nextLeg:t}}));if(0===r.length)throw new Error("No connection");return r.reduce((0,o.UT8)((e=>{var{time:r}=e;return r})),r[0]).nextLeg})(a));return{outwardLegs:a.slice(0,d),inwardLegs:a.slice(d,a.length)}}return{outwardLegs:a,inwardLegs:[]}},G=function(e,r,t,a,n,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];return{id:(0,c.j)(i.map((e=>(0,c.j)([e.productId,e.id])))),legs:U(e,r,t,a,n,i,s),isMultifare:(0,x.pk)(o),isSplitSave:(0,x.vz)(o)}},V=function(e,r,t,a,n,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],l=i.map((e=>(0,c.j)([e.productId,e.id])));if(0!==l.length)return{id:(0,c.j)(l),legs:U(e,r,t,a,n,i,s),isMultifare:(0,x.pk)(o),isSplitSave:(0,x.vz)(o)}},Y=e=>{var r=e.filter((e=>e&&Boolean(e.expiresAt)));if(r.length){var[t]=r.sort(((e,r)=>new Date(e.expiresAt).getTime()-new Date(r.expiresAt).getTime()));return{expiresAt:new Date(t.expiresAt)}}},K=e=>(0,a.Z)((0,a.Z)({},e),{},{itineraryCorrelation:e.itineraryCorrelation||(0,d.v4)()}),z=(e,r,t,n,i,s)=>{var l=e&&(0,o.vMG)((e=>e.itineraryCorrelation),e&&e.map(K));return l&&Object.entries(l).map((e=>{var[l,d]=e;if(1===d.length)return((e,r,t,n,i,o)=>{var s,l=e.inwardJourneyPlan?e.inwardJourneyPlan.legs?V(r,t,n,i,o,e.inwardJourneyPlan.legs.map(H(e.id)),e.inwardJourneyPlan.composition||[],e.fares||[]):{id:(0,c.j)([e.inwardJourneyPlan.id]),legs:[]}:void 0;return(0,a.Z)((0,a.Z)({id:e.itineraryCorrelation,outwardJourney:(0,a.Z)((0,a.Z)({},G(r,t,n,i,o,e.outwardJourneyPlan.legs.map(H(e.id)),e.outwardJourneyPlan.composition||[],e.fares||[])),{},{bikeRestrictionStatus:e.outwardJourneyPlan.bikeRestrictionStatus}),inwardJourney:l?(0,a.Z)((0,a.Z)({},l),{},{bikeRestrictionStatus:null===(s=e.inwardJourneyPlan)||void 0===s?void 0:s.bikeRestrictionStatus}):void 0,priceLock:Y([e])},e.promoCodeDiscount?{promoCodeDiscount:e.promoCodeDiscount}:{}),{},{commercials:e.commercials?[e.commercials]:[],pnrCodes:e.inventoryReferences&&e.inventoryReferences.length>0?[e.inventoryReferences[0]]:[],selectedExtras:e.selectedExtras||[]})})(d[0],r,t,n,i,s);var{outwardLegs:p,inwardLegs:m}=W(d,r),g=d.reduce(((e,r)=>r&&r.promoCodeDiscount?{amount:e.amount+r.promoCodeDiscount.amount,currencyCode:r.promoCodeDiscount.currencyCode}:e),{amount:0}),h=(0,o.xHg)(d.map((e=>e.fares))),y=d.some((e=>{var r;return(0,x.vz)(null===(r=e.outwardJourneyPlan)||void 0===r?void 0:r.composition)})),f=d.some((e=>{var r;return(0,x.vz)(null===(r=e.inwardJourneyPlan)||void 0===r?void 0:r.composition)})),E=V(r,t,n,i,s,m,[],h);return(0,a.Z)((0,a.Z)({id:l,outwardJourney:(0,a.Z)((0,a.Z)({},G(r,t,n,i,s,p,[],h)),{},{isSplitSave:y,isSmartPrice:(0,u.GW)(v.t.OUTWARD,d)}),inwardJourney:E?(0,a.Z)((0,a.Z)({},E),{},{isSplitSave:f,isSmartPrice:(0,u.GW)(v.t.INWARD,d)}):E,priceLock:Y(d)},0!==g.amount?{promoCodeDiscount:g}:{}),{},{commercials:d.reduce(((e,r)=>(r&&r.commercials&&e.push(r.commercials),e)),[]),pnrCodes:d.reduce(((e,r)=>(r&&r.inventoryReferences&&r.inventoryReferences.length>0&&e.push(r.inventoryReferences[0]),e)),[]),selectedExtras:d.reduce(((e,r)=>r&&r.selectedExtras&&r.selectedExtras.length>0?e.concat(r.selectedExtras):e),[])})}))},J=(0,s.P1)(((e,r)=>r),(e=>e&&e.priceLock&&e.priceLock.expiresAt)),q=(0,s.P1)(J,(()=>new Date),((e,r)=>e&&+e-+r)),Q=(0,s.P1)(q,(e=>Boolean(e&&e<=0))),X=(e,r,t,n,i,o,s,l,c)=>{var d=e&&e.reduce(((e,t)=>{var n=t.productId&&r[t.productId];if(n){var i={};if(c){var o=c.find((e=>e.productId===n.id));o&&l&&(i={promoCodeDiscount:{amount:o.amount,currencyCode:l}})}e.push((0,a.Z)((0,a.Z)({},n),i))}return e}),[]);return z(d,t,n,i,o,s)},$=(0,s.P1)(b.vt,_.n,I.Yu,P.I7,T.GR,S.gg,A.SP,X),ee=e=>((e,r)=>[...r].sort(((r,t)=>{var a=(0,N.RU)(r)||Q(e,r),n=(0,N.RU)(t)||Q(e,t);return a&&!n?-1:!a&&n?1:0})))(e,X((0,k.s)(e),(0,_.n)(e),(0,I.Yu)(e),(0,P.I7)(e),(0,T.GR)(e),(0,S.gg)(e),(0,A.SP)(e),(0,p.ZC)(e),(0,p.rS)(e))),re=(0,s.P1)(b.dB,_.n,I.Yu,P.I7,T.GR,S.gg,A.SP,X),te=(0,s.P1)(k.eU,_.n,I.Yu,P.I7,T.GR,S.gg,A.SP,p.ZC,p.rS,((e,r,t,a,n,i,o,s,l)=>{var c=X(e,r,t,a,n,i,o,s,l);return c.length>1&&console.warn("TemporaryBasket should have only 1 itinerary, instead we get ".concat(c.length," itineraries.")),c[0]})),ae=(0,s.P1)(b.LP,_.n,I.Yu,P.I7,T.GR,S.gg,A.SP,X),ne=(0,s.P1)(((e,r)=>r&&Object.keys(r.items)||[]),_.n,I.Yu,P.I7,T.GR,S.gg,A.SP,((e,r,t,a,n,i,o)=>{var s=e.map((e=>r[e])).filter((e=>void 0!==e));return z(s,t,a,n,i,o)})),ie=(0,s.P1)($,(e=>e.length)),oe=(0,s.P1)(re,(e=>e.length)),se=(0,s.P1)(k.s,C.AX,((e,r)=>e.filter((e=>r[e.id])).length)),le=(0,s.P1)(ie,oe,se,((e,r,t)=>e+r+t)),ce=(0,s.P1)(ie,se,((e,r)=>e+r)),de=(0,s.P1)(ie,(e=>e>=k.ZT)),ue=(0,s.P1)(ie,(e=>e>k.ZT?e-k.ZT:0)),pe=(0,s.P1)((e=>e),ne,((e,r)=>(0,o.jj$)(r.map(N.Ks).filter(f.v)).map((r=>{var{id:t}=r;return{name:(0,D.ud)(e,t),parent:(0,D.F6)(e,t)}})))),me=(e,r,t)=>{if(r.length<2)return[];var a=e=>{var{outwardJourney:r}=e,t=r.legs[0],a=r.legs[r.legs.length-1];return{departure:t.origin&&t.origin.name,arrival:a.destination&&a.destination.name}};return(0,o.mNm)((e=>(e.arrival||"")+(e.departure||"")),r.reduce(((n,i)=>r.some((r=>i!==r&&t(e,i,r)))?[...n,a(i)]:n),[]))},ge=(0,s.P1)((e=>e),$,((e,r)=>me(e,r,N.pj))),ve=(0,s.P1)((e=>e),$,((e,r)=>me(e,r,N.Rk))),he=(0,s.P1)($,(e=>e),((e,r)=>e.map((e=>{var{outwardJourney:r}=e;return r.legs[r.legs.length-1]})).map((e=>{var{destination:t}=e;return{name:t&&(0,D.ud)(r,t.id),parent:t&&(0,D.F6)(r,t.id)}})))),ye=(0,s.P1)(w.qK,I.Yu,((e,r)=>W(e,r))),fe=(0,s.P1)(ye,(e=>e.outwardLegs.map((e=>e.id)))),Ee=(0,s.P1)(ye,(e=>e.inwardLegs.map((e=>e.id)))),be=(0,s.P1)(g.zT,g.XK,g.wB,(e=>e),((e,r)=>r),(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;return!(!e||(0,g.uv)(e))&&(0,N.pE)(a,n).some((e=>{var a=r[e.id]||{};return t.paymentState===y.K.FAILED||(0,h.uS)(a.issueStatus)}))})),Se=(0,s.P1)(g.zT,g.XK,g.wB,N.pE,(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!e&&(arguments.length>3?arguments[3]:void 0).some((e=>{var a=r[e.id]||{};return(0,y.I)(t.paymentState)||(0,h.rF)(a.issueStatus)}))})),Te=e=>e&&e.commercials&&e.commercials.every((e=>![B,M].includes(e.id.toLowerCase())))||!1,Ce=e=>{var r=e.map(Te);if(r.length)return r.every((e=>!0===e))?F.EU_ONLY:r.every((e=>!1===e))?F.ATOC_ONLY:F.EU_AND_ATOC},Ae=(0,s.P1)($,Ce),Ie=(0,s.P1)(re,Ce),_e=(0,s.P1)(ne,Ce),Pe=(0,s.P1)(Ae,(e=>e===F.EU_ONLY)),Re=(0,s.P1)(Ae,(e=>e===F.ATOC_ONLY||!e)),ke=(0,s.P1)(Ie,(e=>e===F.ATOC_ONLY||!e)),Ne=(0,s.P1)(Re,ke,((e,r)=>e&&r)),Oe=(0,s.P1)(_e,(e=>e===F.ATOC_ONLY||!e)),Le=(0,s.P1)((e=>e),te,((e,r)=>Boolean(r&&(0,N.h_)(e,r)))),xe=(0,s.P1)((e=>e),$,((e,r)=>r.map((r=>{var t=(0,N.XS)(r),a=(0,N.Ks)(r);return{isSingleJourney:!(r.inwardJourney||(0,N.Dw)(r)),departureStation:t?t.name:"",arrivalStation:a?a.name:"",departureDate:(0,O._Y)(r.outwardJourney),journeyPrice:{amount:(0,N.rx)(e,r),currencyCode:(0,N.Fl)(e,r)}}})))),De=(0,s.P1)(Re,(e=>e)),we=(0,s.P1)((e=>e),$,((e,r)=>r.filter((r=>{var t,a,n=(0,w.sk)(e,r.id);return n&&(t=(0,Z.WK)(e,n),a=Q(e,r),!t&&a)})).length)),Ze=(e,r)=>{var t=(0,N.WA)(e,r);return(0,R.oO)(e,t)},Fe=Math.pow(2,31)-100,Be=(0,s.P1)(((e,r)=>(0,O._Y)(r.outwardJourney)),J,N.h_,((e,r,t)=>{var a=i()().add(Fe,"ms"),n=i()(e),o=t&&r?i()(r):a;return i().min(n,o,a)})),Me=(e,r)=>r.reduce(((r,t)=>{var n=Be(e,t);return(0,a.Z)((0,a.Z)({},r),{},{[t.id]:n})}),{}),Ue=(e,r)=>{var t=(0,N.WA)(e,r),a=(0,g.VL)(e);return Object.values(a||{}).map((e=>{var{lineItems:r}=e;return r.find((e=>{var{productId:r=""}=e;return t.includes(r)}))})).reduce(((e,r)=>{var{originalRetailPriceInRequestedCurrency:t={amount:0,currencyCode:""}}=r||{};return{amount:e.amount+t.amount,currencyCode:t.currencyCode}}),{amount:0,currencyCode:""})},je=(0,s.P1)(g.oK,g.fP,((e,r)=>!(e&&r.length<=1)))},50403:(e,r,t)=>{"use strict";t.d(r,{Ij:()=>b,Nm:()=>E,ZY:()=>C,aj:()=>S,dj:()=>y,ke:()=>f,v5:()=>T,z1:()=>v,zm:()=>g});var a=t(23198),n=t(32034),i=t(49248),o=t(72385),s=t(90042),l=t(93601),c=t(16362),d=t(6105),u=t(9410),p=t(31521),m=t(41152),g=(0,n.P1)(((e,r)=>r.legId),((e,r)=>(0,p.NR)(e,r.productId)),((e,r)=>(null==r?void 0:r.fares.reduce(((r,t)=>t.fareLegs.some((r=>r.leg.id===e))?[...r,t]:r),[]))||[])),v=(0,n.P1)(((e,r)=>r.legId),((e,r)=>(0,p.NR)(e,r.productId)),((e,r)=>r&&r.fares?r.fares.reduce(((r,t)=>[...r,...t.fareLegs.filter((r=>r.leg.id===e))]),[]):[])),h=(0,n.P1)(((e,r)=>v(e,r)),((e,r)=>r.legId),s.$1,d.I7,((e,r,t,a)=>e.reduce(((e,r)=>r.reservation?[...e,r.reservation]:e),[]).reduce(((e,n)=>[...e,...n.spaceAllocations.filter((e=>{var n,o=e.leg.transportModeEntity.id?a[e.leg.transportModeEntity.id]:void 0,s=o&&o.mode&&"bus"===o.mode,l=(null===(n=t[e.allocationType.id])||void 0===n?void 0:n.code)===i.E;return r===e.leg.id&&!!(l||s||e.carriage)&&!!((e.position||l)&&e.allocationType&&t[e.allocationType.id]&&t[e.allocationType.id].spaceType)}))]),[]))),y=(0,n.P1)(h,o.Js,s.$1,((e,r,t)=>e.map((e=>(0,a.Z)((0,a.Z)({},e),{},{allocationType:t[e.allocationType.id],allocationProperties:(e.allocationProperties||[]).map((e=>{var{id:t}=e;return r[t]})).filter(Boolean)}))))),f=(0,n.P1)(h,o.Js,s.$1,((e,r,t)=>e.filter((e=>{var r;return(null===(r=t[e.allocationType.id])||void 0===r?void 0:r.code)!==i.E})).map((e=>(0,m.lu)(e,r,t))))),E=(0,n.P1)(((e,r)=>(0,m.Fo)(e,r.productId)),((e,r)=>r.legId),((e,r)=>e.find((e=>{var{id:t}=e;return t===r})))),b=(0,n.P1)(c.GR,E,((e,r)=>r&&r.carrier&&e[r.carrier.id])),S=(0,n.P1)(l.gg,E,((e,r)=>r&&r.brand&&e[r.brand.id])),T=(0,n.P1)(d.I7,E,((e,r)=>r&&r.transportModeEntity&&e[r.transportModeEntity.id])),C=(0,n.P1)(v,u.Vx,((e,r)=>{var t=e[0]&&e[0].travelClass&&e[0].travelClass.id,a=t&&r[t];return a&&a.name}))},84175:(e,r,t)=>{"use strict";t.d(r,{$I:()=>Ie,$U:()=>N,A8:()=>z,B3:()=>Oe,BK:()=>se,Bf:()=>xe,Dw:()=>M,Fl:()=>oe,HC:()=>Z,Im:()=>ie,JV:()=>G,Kc:()=>ye,Ks:()=>H,OI:()=>J,Oc:()=>F,Om:()=>Fe,Qf:()=>Be,RD:()=>Le,RU:()=>V,Rb:()=>D,Rk:()=>Se,Rw:()=>B,SL:()=>W,VN:()=>re,V_:()=>Ae,WA:()=>O,WH:()=>Ce,XS:()=>j,XX:()=>De,b6:()=>L,bB:()=>ge,ck:()=>$,dP:()=>X,dW:()=>K,db:()=>U,f3:()=>me,h_:()=>w,iU:()=>Y,kB:()=>Ze,kj:()=>we,lk:()=>le,n1:()=>ve,o7:()=>pe,oZ:()=>te,pE:()=>k,pj:()=>be,pv:()=>ce,rx:()=>ae,sY:()=>fe,sn:()=>ne,t:()=>ee,vL:()=>he,xr:()=>Ee,yX:()=>x});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(60654),c=t(67292),d=t(17038),u=t(49891),p=t(24813),m=t(16362),g=t(59962),v=t(10526),h=t(69918),y=t(4794),f=t(51001),E=t(20786),b=t(34075),S=t(29148),T=t(31521),C=t(41152),A=t(88675),I=t(37935),_=t(86003),P=t(80911),R=["urn:trainline:ilsa:carrier:ilsa"],k=(e,r)=>(0,o.mNm)((e=>e.id),[...(0,A._P)(e,r&&r.outwardJourney?r.outwardJourney:{}),...r&&r.inwardJourney?(0,A._P)(e,r.inwardJourney):[]]),N=(0,s.P1)(((e,r)=>{var t=(0,A.Kd)(e,r.outwardJourney);if(r.inwardJourney){var a=(0,A.Kd)(e,r.inwardJourney);t=[...t,...a]}return t}),C.wF),O=(0,s.P1)(k,(e=>e.map((e=>{var{id:r}=e;return r})))),L=(0,s.P1)(O,E.s,E.Q,((e,r,t)=>r.concat(t).filter((r=>r.productId&&e.includes(r.productId))))),x=(0,s.P1)(L,(e=>e.map((e=>e.id)))),D=((0,s.P1)(L,(e=>e.map((e=>e.productId)))),(0,s.P1)(T.Vc,(e=>e.length>0&&Object.values(e).some((e=>{var r;return Boolean(null==e||null===(r=e.meta)||void 0===r||null===(r=r.warnings)||void 0===r?void 0:r.some((e=>e.code===_.ZT)))}))))),w=(e,r)=>k(e,r).filter((r=>(0,T.vx)(e,r.id))).length>0,Z=(e,r)=>k(e,r).filter((r=>(0,T.Gt)(e,r.id))).length>0,F=(e,r)=>k(e,r).reduce(((r,t)=>r||(0,C.HJ)(e,t)),!1),B=(e,r)=>k(e,r).some((r=>{var{id:t}=r;return!!(0,u.XW)(e,t)})),M=e=>Boolean(e.inwardJourney&&0===e.inwardJourney.legs.length),U=e=>Boolean(e.inwardJourney&&e.inwardJourney.legs.length>0),j=e=>{var{outwardJourney:{legs:r}}=e;if(0===r.length)throw new Error("Itinerary outward has no leg");return r[0].origin},H=e=>{var{outwardJourney:r}=e,t=(0,A.ts)(r);if(!t)throw new Error("Itinerary outward has no leg");return t.destination},W=e=>{var{inwardJourney:r}=e;return r&&r.legs&&r.legs[0]&&r.legs[0].origin},G=e=>{var{inwardJourney:r}=e;if(r){var t=(0,A.ts)(r);return t&&t.destination}},V=e=>function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(0,A._Y)(e.outwardJourney);return i()(t).isBefore(i()().add(r,"seconds"))}(e,0),Y=e=>{var r=j(e),t=H(e);if(!r||!t)return!1;var a=(0,I.Jw)(r,t);return void 0!==a&&!a},K=(0,s.P1)(k,(e=>(0,C.m_)(e[0]))),z=(0,s.P1)(k,C.FG),J=(0,s.P1)(b.PZ,((e,r)=>(0,o.xHg)(k(e,r).map((e=>e.fares)))),C.MT),q=[d.Ne.SNCF_ETICKET,d.Ne.SNCF_PRINT_YOUR_OWN,d.Ne.BENERAIL_ETICKET,d.Ne.BENERAIL_PRINT_YOUR_OWN,d.Ne.RENFE_ETICKET,d.Ne.TRENITALIA_ETICKET,d.Ne.TRENITALIA_TICKETLESS,d.Ne.ILSA_ETICKET,d.Ne.NTV_TICKETLESS],Q=e=>e.reduce(((e,r)=>{var t=(0,C.$Y)(r);if(t){var a=(e=>q.includes(e)?d.Ne.EU_GENERIC:e)(t);e&&e[a]?e[a].productIds.push(r.id):e[a]={method:a,productIds:[r.id]}}return e}),{}),X=(0,s.P1)(A._P,Q),$=(0,s.P1)(A._P,(e=>e.map((e=>{var r,t;return{deliverables:null===(r=e.deliveries[0])||void 0===r?void 0:r.deliverables,recipients:null===(t=e.deliveries[0])||void 0===t||null===(t=t.recipients)||void 0===t?void 0:t.map((e=>e.email)).filter((e=>e&&null!==e))}}))[0])),ee=(0,s.P1)(k,Q),re=(0,s.P1)(S.XK,k,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((r,t)=>{var a=e[t.id];return a&&r.push(a.issueStatus),r}),[])})),te=(0,s.P1)(k,(e=>e.some((e=>Boolean(e.meta&&e.meta.warnings&&e.meta.warnings.length&&e.meta.warnings.find((e=>"travelProtocol.nsDirectServiceAddOn"===e.code))))))),ae=(e,r)=>{var t=O(e,r);return(0,f.em)(e,t).amount},ne=(e,r)=>{var t=O(e,r);return(0,f.jh)(e,t).amount},ie=(e,r)=>{var t=O(e,r);return(0,f.EX)(e,t).amount},oe=(e,r)=>{var t=O(e,r);return(0,f.em)(e,t).currencyCode},se=(0,s.P1)(ae,oe,((e,r)=>({amount:e,currencyCode:r}))),le=(0,s.P1)(se,((e,r)=>r),((e,r)=>{var{amount:t,currencyCode:a}=e;return{amount:t-(r.promoCodeDiscount?r.promoCodeDiscount.amount:0),currencyCode:a}})),ce=(e,r)=>{var t=O(e,r);return(0,f.C_)(e,t)},de=(e,r)=>(0,o.xHg)(k(e,r).map((e=>(0,o.xHg)(e.fares.map((e=>(0,o.xHg)(e.farePassengers.map((e=>e.passengers))))))))),ue=(e,r)=>{var t=de(e,r);return(0,o.mNm)((e=>{var{passenger:r}=e;return(e=>{var{firstName:r,lastName:t,dateOfBirth:a,name:n,id:i}=e;return r||t||n?[r,t,a,n].join():i})(r)}))(t)},pe=(e,r)=>ue(e,r).map((e=>e.passenger)),me=(0,s.P1)(m.GR,((e,r)=>r),((e,r)=>(0,a.Z)((0,a.Z)({},r),{},{selectedExtras:r.selectedExtras?r.selectedExtras.filter((e=>e.extraType.group===P.nj.MEAL)).filter((r=>r.legs.every((r=>{var t,a;return r.carrier&&r.carrier.id&&R.includes(null!==(t=null===(a=e[r.carrier.id])||void 0===a?void 0:a.code)&&void 0!==t?t:"")})))):void 0}))),ge=(e,r)=>{var t=((e,r)=>(0,A.Mo)(e,r.outwardJourney).length+(r.inwardJourney?(0,A.Mo)(e,r.inwardJourney).length:0))(e,r),a=ue(e,r),{inwardJourney:n,outwardJourney:i}=r;return Boolean(t>0&&1===a.length&&!n&&1===i.legs.length)},ve=(e,r)=>{var t=w(e,r),a=ue(e,r),n=(0,h.xU)(e),i=a.map((e=>n[e.passengerType.id])).filter(Boolean);return(t?h.hT:h.HS)(i)},he=(0,s.P1)(ve,(e=>Object.values(e).reduce(((e,r)=>e+r),0))),ye=(0,s.P1)(y.JW,g.Dc,((e,r)=>r),((e,r,t)=>!(e>1)||!!r.hideCollectionWarning[t.id])),fe=(0,s.P1)(v.SP,k,((e,r)=>!!(0,o.xHg)(r.map((e=>e.fares.map((e=>e.fareType))))).reduce(((r,t)=>{var{id:a}=t;return e[a]?(r.push(e[a].code),r):r}),[]).find((e=>v.XE.includes(e))))),Ee=e=>{var r=j(e),t=H(e);return{originName:r&&r.name,destinationName:t&&t.name}},be=(e,r,t)=>(0,A.f1)(r.inwardJourney,t.inwardJourney)&&(0,A.f1)(r.outwardJourney,t.outwardJourney)&&de(e,r).length===de(e,t).length,Se=(e,r,t)=>(0,A.og)(r.outwardJourney,t.outwardJourney)||(0,A.og)(r.inwardJourney,t.inwardJourney),Te=e=>{var r=i().utc(e),t=i().utc(),a=t.add(15,"minutes");if(r.isSameOrBefore(a)){var n="YYYY-MM-DD",o=i().utc(r.format(n)),s=i().utc(t.format(n)),l=o.isBefore(s)?i().parseZone(e).add(s.diff(o,"days"),"days"):i().parseZone(e);return i().utc(l).isSameOrBefore(a)&&i()(l).isValid()?(0,p.X)(l).format(c.pA):l.format(c.pA)}return i().parseZone(e).format(c.pA)},Ce=(e,r,t,n)=>{var o,s,d,u,p=r.outwardJourney.legs;return(0,a.Z)((0,a.Z)({journeySearchType:r.inwardJourney?"return":"single",origin:t.id,destination:n.id,outwardDate:Te(p[0].localDepartAt),outwardDateType:l.TransitDefinitionDateType.DEPART_AFTER},U(r)?{inwardDate:(o=p[p.length-1].localArriveAt,s=r.inwardJourney.legs[0].localDepartAt,d=i().utc(o),u=i().utc(s),u.isSameOrBefore(d.add(15,"minutes"),"minutes")?i().parseZone(s).add(d.diff(u,"hours"),"hours").add(2,"hours").format(c.pA):i().parseZone(s).format(c.pA)),inwardDateType:l.TransitDefinitionDateType.DEPART_AFTER}:{}),{},{passengers:pe(e,r).map((e=>e.dateOfBirth))})},Ae=(e,r)=>((e,r)=>k(e,r).reduce(((r,t)=>[...r,...(0,o.xHg)((0,C.jq)(e,t)).map((r=>(0,m.Pm)(e,r)))]),[]))(e,r).includes(m.de),Ie=(0,s.P1)(k,(e=>e.some((e=>{var{hasInvoiceRecipient:r}=e;return Boolean(r)})))),_e=(e,r)=>!(!e||!e.productId)&&r.includes(e.productId),Pe=e=>e&&"voucher"===e.category,Re=(0,s.P1)(O,f.jn,((e,r)=>{if(!r||!e||0===e.length)return[];var t=r.invoices.find((r=>{var{lineItems:t}=r;return t.some((r=>_e(r,e)))}));return t&&t.lineItems?t.lineItems.filter((r=>_e(r,e)&&r.subLineItems&&r.subLineItems.some(Pe))):[]})),ke=(0,s.P1)(Re,(e=>(0,o.xHg)(e.map((e=>e.subLineItems||[]))))),Ne=(0,s.P1)(ke,(e=>e.filter(Pe))),Oe=(0,s.P1)(Ne,(e=>{var r=e.reduce(((e,r)=>r.amount?e+r.amount:e),0);return Math.abs(r)})),Le=(0,s.P1)(ke,(e=>e.length>0)),xe=(e,r)=>e.outwardJourney.legs[0].localDepartAt>r.outwardJourney.legs[0].localDepartAt?1:r.outwardJourney.legs[0].localDepartAt>e.outwardJourney.legs[0].localDepartAt?-1:0,De=(e,r)=>{var t=O(e,r);return(0,f.jh)(e,t)},we=(e,r)=>k(e,r).reduce(((e,r)=>{var{fullListPrice:t}=r;return t?{amount:e.amount+t.amount,currencyCode:t.currencyCode}:e}),{amount:0,currencyCode:""}),Ze=(e,r)=>{var t=O(e,r),a=(0,f.C9)(e,t);if(0!==a.length)return a.reduce(((e,r)=>{var t,a,n,i;return{amount:(null!==(t=null===(a=r.originalRetailPriceInRequestedCurrency)||void 0===a?void 0:a.amount)&&void 0!==t?t:0)+e.amount,currencyCode:null!==(n=null===(i=r.originalRetailPriceInRequestedCurrency)||void 0===i?void 0:i.currencyCode)&&void 0!==n?n:""}}),{amount:0,currencyCode:""})},Fe=(e,r)=>{var t=O(e,r);return(0,f.C9)(e,t).some((e=>{var r;return null===(r=e.subLineItems)||void 0===r?void 0:r.some((e=>"category"in e&&"voucher"===(null==e?void 0:e.category)))}))},Be=(0,s.P1)(k,T.Ht)},88675:(e,r,t)=>{"use strict";t.d(r,{Ek:()=>F,Kd:()=>P,Kj:()=>x,Lf:()=>Z,Mo:()=>A,U6:()=>_,Ws:()=>V,Wz:()=>G,_P:()=>R,_Y:()=>L,f1:()=>M,id:()=>k,oF:()=>I,oW:()=>N,og:()=>U,pt:()=>B,r2:()=>j,rJ:()=>w,ts:()=>O,vg:()=>D,yT:()=>C});var a=t(23198),n=t(82768),i=t(32034),o=t(84025),s=t.n(o),l=t(10526),c=t(24879),d=t(9410),u=t(51001),p=t(31521),m=t(41152),g=t(50403),v=t(51486),h=t(32554),y=t(72385),f=t(83504),E=t(61229),b=t(90042),S=t(49248),T=t(67909),C=(e,r)=>{var{legs:t}=r,a=(0,d.Vx)(e);return t.some((r=>r.items.some((r=>(0,g.z1)(e,r).some((e=>{var{travelClass:r}=e;return(0,d.e8)(r&&a[r.id])}))))))},A=(e,r)=>r.legs.reduce(((r,t)=>[...r,...t.items.reduce(((r,t)=>[...r,...(0,g.ke)(e,t)]),[])]),[]),I=(e,r)=>r.legs.reduce(((r,t)=>{var a=(0,v.Ce)(e,t);return a&&!r.includes(a)&&r.push(a),r}),[]),_=(e,r)=>{var t=r.legs.map((r=>(0,v.Mq)(e,r)||"")),a=r.legs.reduce(((r,t)=>{var a=(0,v.$q)(e,t),n=a&&a.mode;return n&&!r.includes(n)?r.concat(n):r}),[]);return{isFirstClass:C(e,r),seats:A(e,r),serviceProviders:I(e,r).map((e=>e.name)),reservationStatus:t,hasOneLeg:1===r.legs.length,transportModes:a}},P=(e,r)=>(0,n.mNm)((e=>{var{id:r}=e;return r}),r.legs.reduce(((r,t)=>[...r,...(0,n.xHg)(t.items.map((r=>(0,g.zm)(e,r))))]),[])),R=(0,i.P1)(c.n,((e,r)=>r.legs?r.legs:[]),((e,r)=>r.reduce(((e,r)=>(0,n.jj$)([...e,...r.items.map((e=>e.productId))])),[]).map((r=>e[r])).filter(Boolean))),k=(0,i.P1)(P,(e=>e.some((r=>r.fareType.id!==e[0].fareType.id)))),N=(0,i.P1)(l.SP,P,((e,r)=>!!r.find((r=>(0,m.C)(e,r))))),O=e=>{var{legs:r}=e;return r.length>0?r[r.length-1]:void 0},L=e=>{var{legs:r}=e;return r.length>0?r[0].localDepartAt:""},x=(0,i.P1)(O,(e=>e?e.localArriveAt:"")),D=e=>{var r,{legs:t}=e;return(null==t||null===(r=t[0])||void 0===r||null===(r=r.origin)||void 0===r?void 0:r.name)||""},w=(0,i.P1)(O,(e=>{var r;return(null==e||null===(r=e.destination)||void 0===r?void 0:r.name)||""})),Z=(e,r)=>r.legs.reduce(((r,t)=>{var a=(0,v.Zx)(e,t);return a&&!r.includes(a)&&r.push(a),r}),[]),F=(e,r)=>{var t=r.legs.reduce(((e,r)=>(e.push(...r.items),e)),[]),a=(0,n.vMG)((e=>e.productId),t),i=Object.entries(a).reduce(((r,t)=>{var[a,n]=t,i=(0,p.NR)(e,a);if(!i)throw new Error("Product ".concat(a," not found."));return r.push((0,u.ze)(e,i,n.map((e=>e.legId)))),r}),[]);return i.reduce(((e,r)=>{if(r.currencyCode!==i[0].currencyCode)throw new Error("Summing price with different currency (".concat(r.currencyCode," and ").concat(i[0].currencyCode,")."));return r.amount+e}),0)},B=(e,r)=>0===r.legs.length?void 0:(0,v.PS)(e,r.legs[0]),M=(e,r)=>!e&&!r||Boolean(e&&r&&e.legs.length===r.legs.length&&e.legs.every(((e,t)=>((e,r)=>Boolean(e.origin&&e.destination&&r.origin&&r.destination&&e.origin.id===r.origin.id&&e.destination.id===r.destination.id&&e.localDepartAt===r.localDepartAt&&e.localArriveAt===r.localArriveAt))(e,r.legs[t])))),U=(e,r)=>{if(e&&e.legs.length>0&&r&&r.legs.length>0){var t=e.legs[0],a=r.legs[0],n=e.legs[e.legs.length-1],i=r.legs[r.legs.length-1];return Boolean(t&&a&&(t.localDepartAt!==a.localDepartAt||t.localArriveAt!==a.localDepartAt)&&Boolean(s()(t.localDepartAt).isSame(a.localDepartAt,"day"))&&t.origin&&a.origin&&t.origin.id===a.origin.id&&n.destination&&i.destination&&n.destination.id===i.destination.id)}return!1},j=(e,r)=>r.legs.reduce(((r,t)=>{var a=(0,v.z8)(e,t);return r.some((e=>e.name===a.name))||r.push(a),r}),[]),H=e=>({id:e.id,localArriveAt:e.localArriveAt,localDepartAt:e.localDepartAt,origin:e.origin,destination:e.destination,carrier:void 0,transportMode:{mode:e.transportModeName}}),W=e=>e.reduce(((e,r)=>e.some((e=>{var{origin:t,destination:a}=e;return t.id===r.origin.id&&a.id===r.destination.id}))?e.map((e=>{var{origin:t,destination:n}=e;return t.id===r.origin.id&&n.id===r.destination.id?(0,a.Z)((0,a.Z)({},e),{},{seats:[...e.seats,...r.seats]}):e})):[...e,r]),[]),G=(e,r,t)=>{var n,i=(0,f.FD)(e),o=(0,E.ft)(e,i)[t],{fares:s=[],composition:c}=o||{},d=((e,r)=>{var t=(0,f.FD)(e),a=(0,E.ng)(e,t)||[];return Object.keys(a).map((e=>a[e])).filter((e=>!!e&&r.includes(e.id)))})(e,s);return null===(n=r.legs)||void 0===n?void 0:n.map((r=>{var t=r.items.map((e=>{var{legId:r}=e;return r})),n=((e,r)=>e.filter((e=>!!e&&e.fareLegs.some((e=>r.includes(e.legId))))))(d,t).map((a=>{var n=(0,l.oH)(e,(null==a?void 0:a.fareType)||""),i=(0,h.CM)(e,a.origin),o=(0,h.CM)(e,a.destination),s=(0,T.Jc)(e,a.routeRestriction||""),{travelClass:c}=(null==a?void 0:a.fareLegs.find((e=>t.includes(e.legId))))||{};return{fare:n,localArriveAt:r.localArriveAt,localDepartAt:r.localDepartAt,origin:i,destination:o,seats:[],travelClass:c,routeRestriction:(null==s?void 0:s.description)||""}}));return(0,a.Z)((0,a.Z)({},H(r)),{},{segments:W(n),isSplitSave:(0,E.vz)(c),isMultiFare:(0,E.pk)(c)})}))},V=(e,r)=>{var t;return null===(t=r.legs)||void 0===t?void 0:t.map((t=>{var n=(0,p.NR)(e,t.items[0].productId),i=(0,u.hw)([t.id],n).map((r=>{var a,n=(0,T.Jc)(e,(null===(a=r.routeRestriction)||void 0===a?void 0:a.id)||""),i=(0,l.oH)(e,r.fareType.id),{leg:o,travelClass:s,reservation:c={spaceAllocations:[]}}=r.fareLegs.find((e=>e.leg.id===t.id)),u=(0,h.CM)(e,r.origin.id),p=(0,h.CM)(e,r.destination.id),m=(0,d.K7)(e,(null==s?void 0:s.id)||""),g=null===c?[]:c.spaceAllocations.filter((r=>{var{allocationType:{id:t}}=r,a=(0,b.Tz)(e,t);return(null==a?void 0:a.code)!==S.E})).map((r=>{var{allocationProperties:t=[],carriage:a,position:n}=r,i=t.length>0?t[0]:{id:""},o=(0,y.Nl)(e,i.id||"");return{carriage:a||void 0,position:null==o?void 0:o.description,seat:n||void 0}}));return{fare:i,localArriveAt:o.localArriveAt,localDepartAt:o.localDepartAt,origin:u,destination:p,seats:g,travelClass:m,routeRestriction:(null==n?void 0:n.description)||""}}));return(0,a.Z)((0,a.Z)({},H(t)),{},{segments:W(i),isSplitSave:r.isSplitSave})}))}},51486:(e,r,t)=>{"use strict";t.d(r,{$T:()=>j,$q:()=>b,BT:()=>U,Ce:()=>f,G3:()=>T,Gj:()=>O,Ho:()=>H,L:()=>R,Mq:()=>_,PS:()=>I,S9:()=>A,U:()=>F,V$:()=>P,Zx:()=>k,eg:()=>D,fY:()=>C,vu:()=>E,x4:()=>N,xJ:()=>w,y9:()=>x,z2:()=>Z,z8:()=>S,zb:()=>B});var a=t(23198),n=t(82768),i=t(32034),o=t(50453),s=t(59838),l=t(7041),c=t(50403),d=t(93601),u=t(16362),p=t(72750),m=t(24879),g=t(6105),v=t(32554),h=t(49248),y=t(51001),f=(e,r)=>r.items.reduce(((r,t)=>{var a=(0,c.Ij)(e,t);if(void 0!==r&&a!==r)throw new Error("Carrier should be identical for all products legs link into items");return a}),void 0),E=(e,r)=>r.items.reduce(((r,t)=>(0,c.aj)(e,t)||r),void 0),b=(e,r)=>r.items.reduce(((t,n)=>{var i=(0,c.v5)(e,n);if(void 0!==t&&t!==i){var o=r.items.map((r=>(0,c.v5)(e,r))),s=new Error("Transport mode should be identical for all products legs link into items");if(!window||!window.newrelic)throw s;var l=(0,a.Z)({transportModes:o},r);window.newrelic.noticeError(s,l)}return i}),void 0),S=(0,i.P1)(f,b,E,((e,r,t)=>{var a=t?t.name:void 0,n=e?e.name:void 0;return{name:a||n,mode:r?r.name:void 0}})),T=(0,i.P1)(b,(e=>e&&e.mode||"")),C=(e,r)=>r.items.reduce(((r,t)=>[...r,...(0,c.dj)(e,t)]),[]),A=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((r,t)=>[...r,...C(e,t)]),[]).filter(s.v)},I=(e,r)=>{var t=r.items.reduce(((r,t)=>[...r,...(0,c.z1)(e,t)]),[]).find((e=>!!e.boardBeforeGuaranteed));return t?t.boardBeforeGuaranteed/6e4:void 0},_=(e,r)=>{var t=r.items.reduce(((r,t)=>[...r,...(0,c.z1)(e,t)]),[]).find((e=>!!e.reservationType));return t&&t.reservationType},P=(e,r)=>r.map((r=>_(e,r))),R=(0,i.P1)(m.n,((e,r)=>r),((e,r)=>{var t=Object.values(e).reduce(((e,r)=>r?[...e,...r.fares]:[]),[]).reduce(((e,r)=>[...e,...r.fareLegs]),[]).find((e=>e.leg.id===r));return t&&t.reservationType})),k=(e,r)=>{if(r.items.length>0){var t=(0,c.Nm)(e,r.items[0]);return t&&t.route||""}return""},N=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.reduce(((t,a,n)=>{var{id:i,destination:o,localArriveAt:s}=a,c=r[n+1];if(i===e&&c){var d=(0,v.Qw)(o,c.origin);return{duration:(0,l.K7)(s,c.localDepartAt),inSameStation:d}}return t}),{})},O=(0,i.P1)(p.dv,((e,r)=>r),((e,r)=>{var{legs:t}=Object.values(e).find((e=>Boolean(e&&e.legs&&e.legs[r])))||{legs:{}};return t[r]})),L=(e,r)=>r?r.transportMode&&e[r.transportMode]&&e[r.transportMode].mode:void 0,x=(0,i.P1)(g.I7,O,L),D=(e,r,t)=>{if(t){var{brand:a,carrier:n}=t,i=n&&r[n]&&r[n].name;return a&&e[a]&&e[a].name||i}},w=(e,r)=>{if(r){var{brand:t}=r;return t&&e[t]&&e[t].code}},Z=(0,i.P1)(d.gg,u.GR,O,D),F=(0,i.P1)(u.GR,O,((e,r)=>{var t;if(null!=r&&r.carrier)return null===(t=e[null==r?void 0:r.carrier])||void 0===t?void 0:t.name})),B=(e,r,t,a)=>{var n,i,{brand:s,carrier:l}=a||{},c=l&&(null===(n=r[l])||void 0===n?void 0:n.name),d=s&&(null===(i=e[s])||void 0===i?void 0:i.name),u=(null==c?void 0:c.toLowerCase())||"",p=(null==d?void 0:d.toLowerCase())||"",m=Boolean(o.bd[u]),g=Boolean(o.bd[p]);return a?{name:g?d:m?c:void 0,mode:L(t,a)}:{}},M=(e,r)=>r&&r.map((r=>{var t=C(e,r),n=_(e,r),i=r.items&&r.items.length>0&&r.items[0],o=i&&(0,c.ZY)(e,i);return(0,a.Z)((0,a.Z)({},r),{},{seatReservations:t,reservationType:n,travelClass:o})})),U=e=>(0,i.P1)((e=>e),((r,t)=>(0,n.ETc)([e,"legs"],t)),M),j=function(e){return A(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((e=>!(0,h.J)(e))).map((e=>({carriage:e.carriage,seat:e.position,code:e.allocationType.code})))},H=(0,i.P1)(m.n,y.ZC,((e,r)=>r),((e,r,t)=>{var a=t.items.map((e=>e.productId));return{amount:(0,n.jj$)(a).map((r=>e[r])).filter(Boolean).reduce(((e,r)=>e+r.listPrice.amount),0),currencyCode:r}}))},37935:(e,r,t)=>{"use strict";t.d(r,{JV:()=>o,Jw:()=>c,Mq:()=>s,jN:()=>l});var a=t(82768),n=e=>e.parents&&e.parents.length?e.parents.reduce(((e,r)=>[...e,...n(r)]),[e]):[e],i=e=>e*Math.PI/180,o=function(e,r,t,a){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=i(t-e),s=i(a-r),l=Math.sin(o/2)*Math.sin(o/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(i(e))*Math.cos(i(t));return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))/(n?1.609:1)},s=(e,r)=>(0,a.jVA)(n(e).map((e=>e.id)),n(r).map((e=>e.id))).length>0,l=(e,r)=>n(e).some((e=>n(r).some((r=>((e,r,t)=>void 0!==e.latitude&&void 0!==e.longitude&&void 0!==r.latitude&&void 0!==r.longitude&&o(e.latitude,e.longitude,r.latitude,r.longitude)<t)(e,r,2))))),c=(e,r)=>{var{countryCode:t}=e,{countryCode:a}=r;return void 0!==t&&void 0!==a?t===a:void 0}},99289:(e,r,t)=>{"use strict";t.d(r,{l:()=>d,p:()=>p});var a=t(40510),n=t(94431),i=t(57243),o=t(36592),s=t(16134),l=t(8129),c=t(72750),d="ALL_SEARCH_REQUESTS_COMPLETED",u=(0,o.ul)(d),p=e=>(0,a.$R)(e.ofType(c.ri,c.ui),e.ofType(l.ri,l.ui,s.ri,s.ui).pipe((0,n.h)((e=>{var{type:r,payload:t}=e;return r!==s.ri||!t.data.isAvailable||r===l.ri&&t.searchType===s.ir.EARLIER_LATER})))).pipe((0,i.U)((e=>u({train:e[0].type,coach:e[1].type}))))},11089:(e,r,t)=>{"use strict";t.d(r,{AE:()=>g,YK:()=>y,fO:()=>v});var a=t(23198),n=t(31616),i=t(37719),o=t(53066),s=t(57243),l=t(24955),c=t(82758),d=t(42769),u=t(51059),p=["filterByConnection"],m="TOGGLE_FILTERED_CARRIER_RESULTS",g=(0,o.Z)(m),v=(e,r)=>{var{getState:t}=r;return e.ofType(m).pipe((0,s.U)((()=>t())),(0,s.U)((e=>{var r=(0,u.Wc)(e),{filterByConnection:t}=r,a=(0,n.Z)(r,p);return(0,i.VF)(d.L1.results(a))})))},h=(e,r,t)=>{var a=(0,l.Hz)(e);return t&&t&&r?Number(r):a},y=(e,r)=>e.map((e=>{var{id:t,cards:n,dateOfBirth:i,age:o,disabilityInformation:s}=e;return(0,a.Z)((0,a.Z)({id:t,age:h(i,o,r),discountCards:(n||[]).map((e=>{var{number:r,type:t,uuid:a}=e;return{id:t,accountNumber:r,uuid:a,enabled:!0,readOnly:!0,notSavedToPassenger:!0}})),type:(0,c.bR)(i)},(null==s?void 0:s[0])&&{disability:{wheelchairUser:s[0].wheelchairUser,cardLevel:s[0].disabilityCardLevel}}),{},{selected:!0})}))},55869:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(10526),n=e=>!!e&&a.B_.includes(e.code)},36762:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var a=t(23198),n=t(50989),i=t(16384),o=t(28300),s=t(75046),l=t(57425),c=t(18086),d=e=>{var r=Boolean(e);return{infinitaBistroSinglePassenger:r,infinitaBistroMultiPassenger:r,includeCo2EmissionComparison:!0}},u=(e,r,t)=>null==t?void 0:t.map((t=>{var a=e(t);return a||console.error("Failed to determine ".concat(r," station with id ").concat(t)),{code:a}})).filter((e=>!!e.code)),p=(e,r)=>{var t="openReturn"==e.journeySearchType,a=r||t?["THROUGH"]:["THROUGH","MULTIFARE"];return t||"true"!==e.splitSave?a:[...a,"DIRECTSPLIT","INTERCHANGESPLIT"]};const m=(e,r)=>{var{isEurope:t=!1,connections:a,enableCachedResults:n,locationsCodeMapper:i,isMobile:o,enableInfinitaBistroFare:m}=r,g={dateTime:e.outwardDate||"",type:(0,s.qr)(e.outwardDateType)};if(!g.dateTime)throw new Error("".concat(c.Z," Missing outward dateTime"));var v="return"===e.journeySearchType?{dateTime:e.inwardDate||"",type:(0,s.qr)(e.inwardDateType)}:void 0;if(v&&!v.dateTime)throw new Error("".concat(c.Z," Missing inward dateTime"));var h=e.origin&&i(e.origin),y=e.destination&&i(e.destination);if(!h||!y)throw new Error("".concat(c.Z," Failed to determine ").concat(!h&&'origin: "'.concat(e.origin,'"')||!y&&'destination: "'.concat(e.destination,'"')));var f=(0,l.s7)(t,o),E="true"===e.directSearch;return{origin:h,destination:y,outwardJourney:g,inwardJourney:v,maxJourneys:f,journeyType:(0,s.Vz)(e.journeySearchType),transportModes:e.transportModes?(0,s.rm)(e.transportModes):t&&["MIXED"]||void 0,avoidStations:u(i,"avoid",e.avoid),viaStations:u(i,"via",e.via),connections:null==a?void 0:a.map((e=>{var{code:r}=e;return{code:r}})),includeDisruptions:!0,applyFareDiscounts:!0,additionalData:["realtime"],composition:p(e,t),includeCachedResults:!e.noCachedResults&&n,features:d(m),transferRules:{maxTransfers:E?0:null}}};var g=t(73228);const v=(e,r,t,s)=>{var{isEurope:l,cardTypes:d,isGuest:u,dpi:p,enableG30Vouchers:v,isMinMaxAgeVariant:h}=t,{connections:y,enableCachedResults:f,isMobile:E,locationsCodeMapper:b,enableInfinitaBistroFare:S}=s,{passengers:T,discountCards:C,vouchers:A}=(0,g.Z)((0,a.Z)((0,a.Z)({cardTypes:d,reqPassengers:r.passengers},l?{storedDiscountCards:(0,i.ck)()||void 0}:{passengerDiscountCards:r.passengerDiscountCards}),{},{passengersVouchers:r.euVoucher&&[r.euVoucher],vouchersEnabled:v,isEurope:l,isMinMaxAgeVariant:h,prm:r.prm,isGuest:u,dpiData:p}));try{if(!T.length)throw new Error("".concat(c.Z," No passengers"));var I=m(r,{isEurope:l,connections:y,enableCachedResults:f,isMobile:E,locationsCodeMapper:b,enableInfinitaBistroFare:S}),_={requestBody:(0,a.Z)({passengers:T,vouchers:A,discountCards:C||[]},I)};return{environment:e,graphQLQuery:o.Z,variables:_,options:{fetchPolicy:"store-or-network"}}}catch(e){return void(0,n.Ep)(e,r)}}},50549:(e,r,t)=>{"use strict";t.d(r,{LA:()=>o,U9:()=>a,Vw:()=>u,e8:()=>s,jl:()=>c,rE:()=>n,uw:()=>i,xD:()=>d});var a=function(e){return e.STANDARD="Standard",e.FIRST="First",e}({}),n=e=>e.fareLegs.some((e=>!!e.travelClass&&e.travelClass.name===a.FIRST)),i=(e,r)=>!(!r||!r.fares)&&r.fares.reduce(((r,t)=>{var a=!!e[t]&&n(e[t]);return a||r}),!1),o=e=>{var{fares:r,alternative:t}=e;return!i(r,t)},s=e=>!o(e),l=e=>{var{alternative:r}=e;return r.isPartial},c=l,d=e=>{var{isOpenReturn:r,alternative:t}=e;return!r&&!l({alternative:t})},u=e=>{var{isOpenReturn:r}=e;return!!r}},61229:(e,r,t)=>{"use strict";t.d(r,{$s:()=>q,AE:()=>P,Cu:()=>g,Dk:()=>H,ER:()=>U,FP:()=>Z,FV:()=>w,HO:()=>A,HT:()=>J,II:()=>C,JQ:()=>h,J_:()=>R,Ld:()=>K,SD:()=>X,Ug:()=>j,X2:()=>G,XA:()=>S,Xt:()=>Q,ZO:()=>V,_F:()=>I,b7:()=>z,cy:()=>b,dg:()=>B,ft:()=>E,fz:()=>x,h7:()=>k,iF:()=>W,j6:()=>Y,ng:()=>O,pk:()=>f,sl:()=>M,v3:()=>L,vz:()=>y,wy:()=>_,xq:()=>D,yp:()=>N,zE:()=>v});var a=t(84025),n=t.n(a),i=t(82768),o=t(32034),s=t(60654),l=t(547),c=t(44481),d=t(72750),u=t(48925),p=t(51059),m=t(97819),g=(0,o.P1)(d.dv,p.yR,((e,r)=>e&&r?e[r]:void 0)),v=(0,o.P1)(d.dv,((e,r)=>r),((e,r)=>e[r])),h=(0,o.P1)(g,(e=>e&&e.isEUPagination)),y=e=>{if(!e)return!1;var r=e.map((e=>e.toLowerCase()));return r.includes(s.CompositionTypes.DIRECT_SPLIT.toLowerCase())||r.includes(s.CompositionTypes.INTERCHANGE_SPLIT.toLowerCase())},f=e=>!!e&&e.map((e=>e.toLowerCase())).includes(s.CompositionTypes.MULTIFARE.toLowerCase()),E=(0,o.P1)(g,(e=>{var{alternatives:r={}}=e||{alternatives:{}};return Object.keys(r).filter((e=>{var t,a;return!(null!==(t=r[e])&&void 0!==t&&t.isPartial&&y(null===(a=r[e])||void 0===a?void 0:a.composition))})).reduce(((e,t)=>Object.assign(e,{[t]:r[t]})),{})})),b=(0,o.P1)(E,(e=>Object.values(e).some((e=>(null==e?void 0:e.composition)&&y(e.composition))))),S=(0,o.P1)(E,(e=>Object.values(e).some((e=>null==e?void 0:e.calculatedPrice)))),T=((0,o.P1)(E,(e=>Object.values(e).some((e=>null==e?void 0:e.travellingGroups)))),(0,o.P1)(g,(e=>null==e?void 0:e.expiresAt))),C=(0,o.P1)(T,(e=>e&&n()(e).subtract(1,"minute").utc().format())),A=(0,o.P1)(g,(e=>e?e.journeys:{})),I=(0,o.P1)(A,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).filter((e=>(null==e?void 0:e.direction)===c.t.OUTWARD))})),_=(0,o.P1)(A,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).filter((e=>(null==e?void 0:e.direction)===c.t.INWARD))})),P=(0,o.P1)(g,(e=>e?e.sections:{})),R=(0,o.P1)(g,(e=>e?e.legs:{})),k=(0,o.P1)(I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){var{departAt:r}=e[0];return(r.match(/([\+\-]\w+:\w+)$/gi)||[])[0]}})),N=(0,o.P1)(g,(e=>e?e.responseCards:{})),O=(0,o.P1)(g,(e=>e?e.fares:{})),L=(0,o.P1)(g,(e=>e?e.deliveryOptions:{})),x=(0,o.P1)(g,(e=>e&&e.pagination)),D=(0,o.P1)(g,(e=>e?e.passengers:void 0)),w=(0,o.P1)(D,(e=>!!e&&Object.keys(e).some((r=>Boolean(r)&&Boolean(e[r].cardIds)&&e[r].cardIds.length>0)))),Z=(0,o.P1)(g,(e=>!(!e||!e.inwardSearch))),F=(0,o.P1)(u.fH,p.yR,((e,r)=>e&&r?e[r]:void 0)),B=(0,o.P1)(F,(e=>e&&e.loadDetails)),M=(0,o.P1)(B,(e=>e&&(0,m.np)(e)?e.createdAt:void 0)),U=(0,o.P1)(d.dv,(e=>Object.keys(e).reduce(((r,t)=>Object.assign(r,e[t].legs)),{}))),j=(0,o.P1)(d.dv,(e=>Object.keys(e).reduce(((r,t)=>Object.assign(r,e[t].journeys)),{}))),H=(0,o.P1)(g,(e=>e&&e.journeys)),W=(0,o.P1)(g,(e=>Boolean(e&&!(0,i.xbD)(e.journeys)))),G=(0,o.P1)(g,(e=>e&&e.isCachedResults)),V=(0,o.P1)(A,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(0,i.xbD)(e)&&Object.values(e).every((e=>null==e?void 0:e.unsellableReason))})),Y=(0,o.P1)(A,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(0,i.xbD)(e)&&Object.values(e).every((e=>{var r;return null==e||null===(r=e.unsellableReason)||void 0===r?void 0:r.code.endsWith(l.Gp.TIMETABLE_UNCONFIRMED)}))})),K=(0,o.P1)(I,R,(function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every((r=>r.legs.some((r=>{var t;return!(null===(t=e[r])||void 0===t||!t.isReservationMandatory)}))))})),z=(0,o.P1)(_,R,(function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every((r=>r.legs.some((r=>{var t;return!(null===(t=e[r])||void 0===t||!t.isReservationMandatory)}))))})),J=(0,o.P1)(I,K,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)&&e.length>0&&e.every((e=>{var r;return null==e||null===(r=e.unsellableReason)||void 0===r?void 0:r.code.endsWith(l.Gp.TIMETABLE_UNCONFIRMED)}))})),q=(0,o.P1)(_,z,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)&&e.length>0&&e.every((e=>{var r;return null==e||null===(r=e.unsellableReason)||void 0===r?void 0:r.code.endsWith(l.Gp.TIMETABLE_UNCONFIRMED)}))})),Q=(0,o.P1)(I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Boolean(e.length&&e.every((e=>{var r;return null==e||null===(r=e.unsellableReason)||void 0===r?void 0:r.code.endsWith(l.Gp.TIMETABLE_UNCONFIRMED)})))})),X=(0,o.P1)(_,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Boolean(e.length&&e.every((e=>{var r;return null==e||null===(r=e.unsellableReason)||void 0===r?void 0:r.code.endsWith(l.Gp.TIMETABLE_UNCONFIRMED)})))}))},88005:(e,r,t)=>{"use strict";t.d(r,{fi:()=>Fe,VF:()=>ze,IA:()=>Ue});var a=t(23198),n=t(31616),i=t(46206),o=t(37719),s=t(84025),l=t.n(s),c=t(82768),d=t(18406),u=t(80189),p=t(55265),m=t(87582),g=t(8947),v=t(84589),h=t(56590),y=t(7185),f=t(57243),E=t(94431),b=t(4710),S=t(426),T=t(56415),C=t(24955),A=t(78307),I=t(7809),_=t(43755),P=t(52510),R=t(79423),k=t(97646),N=t(51282),O=t(60654),L=t(71695),x=t(64169),D=t(4385),w=t(98831),Z=t(21168),F=t(23583),B=t(70932),M=t(58563),U=t(50989);const j=e=>{var r=Error(e);r.name="NonCriticalError",(0,U.Ep)(r)};var H=t(1160),W=t(33695),G=t(53544),V=t(46005),Y=t(9553),K=t(86003),z=t(68117),J=t(53638),q=t(24087),Q=t(59838),X=t(4695),$=t(57110),ee=t(42769),re=t(85536),te=t(36592),ae=t(16384),ne=t(9187),ie=t(68760),oe=t(50877),se=t(62331),le=t(54422),ce=t(19408),de=t(72750),ue=t(92490),pe=t(97340),me=t(85066),ge=t(94018),ve=t(28642),he=t(29433),ye=t(20066),fe=t(43912),Ee=t(85905),be=t(97866),Se=t(40939),Te=t(89034),Ce=t(43864),Ae=t(83504),Ie=t(11089),_e=t(36762),Pe=t(89253),Re=t(51059),ke=t(97819),Ne=t(18086),Oe=t(51807),Le=t(21192),xe=["euVoucher"],{CUSTOMER_MIGRATION:De,USER_SEARCHED_JOURNEY_IN:we}=U.Wd.MIGRATION,Ze=!1,Fe="JOURNEY_SEARCH_ERROR",Be="LOAD_DISCOUNT_CARDS_FOR_ITALO",Me="INITIALIZE_JOURNEY_SEARCH_FORM_FROM_LOCAL",Ue=(0,te.ul)(Me),je=(0,te.ul)(Be),He=e=>(0,c.D95)((e=>void 0!==e),e),We=(e,r)=>{return!!r&&e.type===r.type&&e.applyFareDiscounts===r.applyFareDiscounts&&!(e.transportModes&&e.transportModes.includes(O.AvailableTransportModes.COACH))&&(0,c.fS0)(e.transportModes,r.transportModes)&&e.maximumJourneys===r.maximumJourneys&&(0,c.fS0)(e.cards,r.cards)&&(0,c.fS0)(e.composition,r.composition)&&(0,c.fS0)(e.passengers,r.passengers)&&(0,c.fS0)(e.ukVoucher,r.ukVoucher)&&(0,c.fS0)(e.directSearch,r.directSearch)&&(t=e.transitDefinitions,a=r.transitDefinitions,t.reduce(((e,r,t)=>e&&(0,c.fS0)(He(r),He(a[t]))),!0));var t,a};var Ge=(e,r,t,a)=>{var{__INITIAL_SEARCH__:{params:n,responseSource:i,graphqlResponseSource:o}={}}=window,s=We(e,null==n?void 0:n.request),c=r&&t&&a,d=void 0;s&&o&&c&&(d=o.then((e=>{if(e instanceof Error||!e.body.data)throw new I.sR("SearchError: Unparsable response",{},e);var r=(0,P.createOperationDescriptor)(G.Z,e.variables),{body:{data:t}}=e;return M.ZP.commitPayload(r,t),{body:{data:(0,V.Z)(t,(0,Y.Q)(e.variables.requestBody,a))},headers:{date:(new Date).toUTCString(),expires:new Date((new Date).getTime()+12e5).toUTCString()}}})));var u=d||i;return s&&u?(0,g.D)(u).pipe((0,b.b)((e=>{if(r=e,Boolean((null==r||null===(t=r.body)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.journeySearch)||void 0===t?void 0:t.expiresAt)&&l()(r.body.data.journeySearch.expiresAt).isValid()&&l()(r.body.data.journeySearch.expiresAt).subtract(1,"minute").isBefore(l()())))throw new Error("expired");var r,t})),(0,S.K)((r=>("expired"!==(null==r?void 0:r.message)&&j("JourneyPrefetchFailure"),c?(0,Pe.WN)(t,a):(0,$.Tu)(e)))),(0,y.w)((e=>{var a;return(0,v.D)((0,m.of)(e),(0,m.of)(t&&r&&null!=n&&null!==(a=n.graphqlRequest)&&void 0!==a&&a.variables?(0,_.loadQuery)(t.environment,t.graphQLQuery,n.graphqlRequest.variables,t.options):void 0))}))):(0,v.D)(r?c?(0,g.D)((0,Pe.WN)(t,a)):(0,m.of)(void 0):(0,$.Tu)(e),(0,m.of)(t&&c&&r?(0,_.loadQuery)(t.environment,t.graphQLQuery,t.variables,t.options):void 0))},Ve=e=>{var r=document.querySelector('[id^="'.concat(e,'"]'));return r&&r.value||void 0},Ye={from:Ve("from.search"),to:Ve("to.search")},Ke={[F.jg.noThanks]:"cta click - no thanks",[F.jg.modalImpression]:"modal impression",[F.jg.applyDiscount]:"cta click - apply discount",[F.jg.displayAfterPagination]:"modal impression - after pagination"},ze=(0,p.l)((e=>e.ofType(R.t9).pipe((0,y.w)((()=>(0,m.of)((0,w.qm)(z.N.READY_TO_DISPLAY)))))),((e,r)=>{var{getState:t}=r;return e.ofType(de.EC).pipe((0,f.U)((e=>{var{payload:r}=e;return{journeySearchPayload:r}})),(0,y.w)((e=>{var{journeySearchPayload:r}=e,a=[];return(0,be.KX)(t())&&a.push(je(r)),a.push((0,de.M8)(r)),(0,g.D)(a)})))}),((e,r)=>{var{getState:t}=r;return e.ofType(de.ou).pipe((0,T.zg)((e=>{var r,a,{payload:{searchParams:n,hash:i,query:o}}=e,s=t(),l=(0,Pe.A)(s);if(l){var c,d="mobile"===(null===(c=s.devicePlatform)||void 0===c||null===(c=c.deviceInfo)||void 0===c?void 0:c.type);a=(0,se.ic)(s);var u={isEurope:n.isEurope,cardTypes:a,dpi:n.dpiCookieId?(0,le.NE)(s):void 0,enableMinMaxAge:(0,ce.eB)(s,W.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH),enableG30Vouchers:(0,he.Rt)(s),isGuest:(0,ie.OK)(s)};r=(0,_e.Z)(M.ZP,o,u,{connections:(0,oe.kz)(s),enableCachedResults:(0,he.eq)(s).enableCachedResults,locationsCodeMapper:e=>{var r;return null===(r=(0,ue.Yu)(s)[e])||void 0===r?void 0:r.code},isMobile:d,enableInfinitaBistroFare:(0,he.eq)(s).enableInfinitaBistroFare})}return Ge(n,l,r,a).pipe((0,b.b)((()=>{var e=(0,Se.dX)(t());H.at&&e===L.Vd.SPANISH&&(0,U.WM)(De,we(e.toUpperCase()))})),(0,T.zg)((e=>{var[r,a]=e;if(!r)throw new Error("".concat(Ne.Z," Request not made"));var{body:{data:o}}=r,s=[];if(n.isEurope){var l=n.transportModes&&n.transportModes[0]===O.AvailableTransportModes.COACH?q.ZP.COACH:q.ZP.TRAIN;s.push((0,ge.Ac)({[l]:{loadedOutwardSearchHash:i}}))}return[(0,de.UZ)({hash:i,data:o,headers:null==r?void 0:r.headers,queryRef:a}),(0,B.nu)({skipPassengerDetails:!1}),...s,...(0,Pe.OI)(o,t()),(0,de.b4)()]})),(0,S.K)((e=>(0,m.of)((0,de.v0)({error:e,hash:i})))))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(de.ui).pipe((0,E.h)((()=>{var{pathname:e}=(0,Ae.FD)(t());return e===ee.L1.results()})),(0,y.w)((e=>{var r,{payload:a}=e,n=t(),i=(0,D._0)(),s=[],l=a&&a.error,c=(0,ke.UX)(l),u=(0,Re.Wc)(n);!(0,re.QA)()||(r=u.modal)&&r.find((e=>!!e.match(Fe)))||((0,O.isItaloPortal)(i)?function(e,r){var{enableDataDomeProtection:t}=(0,he.eq)(e);return Boolean(t)&&r instanceof I.Ak&&403===r.code&&r.response.headers.has("x-datadome")}(n,l)||s.push((0,o.VF)(ee.L1.genericSearchError())):s.push((0,Te.OB)({params:{source:Fe,errorCodes:0===c.length?["default"]:c},type:Z.e.CHANGE_JOURNEY_SEARCH_MODAL,preventClose:!0})));var p=K.YZ.filter((e=>c.some((r=>!!r.match(new RegExp(e,"i"))))));p.length&&s.push((0,me.a0)({errorCodes:p}));var m=c.filter((e=>k.C[e]&&k.Z[e])).reduce(((e,r)=>(e[k.C[r]]=k.Z[r],e)),{});return Object.keys(m).length&&s.push((0,d.GK)(A.Th,m)),(0,g.D)(s)})))}),(e=>e.ofType(Me).pipe((0,f.U)((e=>{var{payload:r}=e;return r})),(0,f.U)(ae.vD),(0,T.zg)((e=>[(0,Ce.BA)({query:e})])))),((e,r)=>{var{getState:t}=r;return e.ofType(Ee.W).pipe((0,f.U)((()=>({query:(0,ae.uP)((0,ce.eB)(t(),W.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH)),cards:(0,ae.ck)()}))),(0,y.w)((e=>{var{query:r,cards:n}=e,i=n&&(0,fe.YC)(n),o=i?[i]:[];if((0,be.kp)(t())&&!(0,ce.eB)(t(),W.zA.ENABLE_DIRECT_SEARCH_REQUEST)&&(0,Le.Jc)(t())&&(r=(0,a.Z)((0,a.Z)({},r),{},{directSearch:!1})),r)o.push(Ue(r));else{var s=(0,pe.dT)(t()),l=(0,C.q3)();s.length>0&&(l.euFlowPassengers=(0,ke.zZ)(s)),o.push((0,d.j2)(A.Th,(0,a.Z)((0,a.Z)({},l),["from","to"].map((e=>[e,Ye[e]||Ve("".concat(e,".text"))])).reduce(((e,r)=>{var[t,n]=r;return n?(0,a.Z)((0,a.Z)({},e),{},{[t]:{name:n,id:"",code:""}}):e}),{})),!1))}return o})))}),((e,r)=>{var{getState:t}=r;return e.ofType(ie.tV).pipe((0,f.U)((()=>(0,u.Z)(A.Th)(t(),"euFlowPassengers"))),(0,b.b)((()=>{var e=x.nP.getItem("SEARCH_QUERY");e&&e.passengers&&e.passengers.length>0&&x.nP.setItem("SEARCH_QUERY",(0,a.Z)((0,a.Z)({},e),{},{passengers:[]}))})),(0,f.U)((e=>(0,d.m)(A.Th,"euFlowPassengers",e))))}),Ie.fO,((e,r)=>{var{getState:t}=r;return e.ofType(ye.kX).pipe((0,T.zg)((e=>{var{payload:r}=e,n=(0,ke.zZ)(Object.values(r.savedPassengers).filter(Q.v));if(0===n.length)return[];var i=((e,r)=>{var t=(0,Ae.kS)(r),n=(0,X.T1)(t)||t.startsWith(ee.L1.checkout()),i=(0,N.gH)(r).euFlowPassengers,o=i.filter((e=>!0===e.selected)),s=e.concat(o),l=n?e:s.reduce(((e,r)=>e.find((e=>e.id===r.id))?e:e.concat(r)),[]);i.filter((e=>e.disability))&&(l=l.map((e=>{var r=i.find((r=>r.id===e.id));return r?(0,a.Z)((0,a.Z)({},e),{},{disability:r.disability}):e})));var c=l.map((e=>o.find((r=>e.id===r.id))?(0,a.Z)((0,a.Z)({},e),{},{selected:!0}):(0,a.Z)((0,a.Z)({},e),{},{selected:!1})));return c.some((e=>!0===e.selected))?c:c.map((e=>e.isAccountHolder?(0,a.Z)((0,a.Z)({},e),{},{selected:!0}):e))})(n,t());return[(0,d.m)(A.Th,"euFlowPassengers",i)]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(F.oq).pipe((0,f.U)((e=>{var{payload:{trackType:r}}=e,a=t(),n=(0,Re.fV)(a),o=(0,Re.um)(a).length>0,s=(0,Re.BG)(a,{query:n});return(0,ne.$)({eventType:i.EventTypes.GENERIC_EVENT,analyticsEventType:i.EventTypes.GENERIC_EVENT,analyticsEventPayload:(0,ve._)(a,{eventCategory:"auto group save",eventAction:Ke[r],eventLabel:"".concat(o?"with":"without"," railcard")},{genericValue1:s?"after pagination":void 0})})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(de.Hw).pipe((0,f.U)((e=>{var{payload:r}=e,n=t(),{pathname:i,query:s}=(0,Ae.FD)(n);return[(0,ge.Pl)(r.carrierTabType),(0,o.gx)({pathname:i,search:J.Z.stringifyQuery((0,a.Z)((0,a.Z)({},s),{},{selectedCarrierFilterTab:r.carrierTabType}))})]})),(0,T.zg)((e=>(0,g.D)(e))))}),(e=>e.ofType(Be).pipe((0,E.h)((e=>{var{payload:{query:{refetchSearch:r}}}=e;return!Ze||!!r})),(0,T.zg)((e=>{var{payload:r}=e;return(0,$.ko)().pipe((0,b.b)((()=>{var{query:{euVoucher:e}}=r,t=(0,n.Z)(r.query,xe);x.nP.setItem("SEARCH_QUERY",t)})),(0,T.zg)((e=>{var r=[(0,se.wg)(e)];return Ze=!0,r})))})))),((e,r)=>{var{getState:t}=r;return e.ofType(de.ri,de.ui).pipe((0,f.U)((()=>{var e=t(),r=(0,Oe.PE)(e,(0,Ae.FD)(e));if("SUCCESS"===(null==r?void 0:r.status))(0,U.Kh)(r,"search_success");else{var a,n=403===(null==r||null===(a=r.error)||void 0===a?void 0:a.code);(0,U.Kh)(null==r?void 0:r.error,n?"search_datadome_error":"search_error")}return h.E})))}))},89253:(e,r,t)=>{"use strict";t.d(r,{A:()=>A,OI:()=>T,WN:()=>C});var a=t(23198),n=t(82768),i=t(18406),o=t(52510),s=t(51282),l=t(78307),c=t(46005),d=t(9553),u=t(33695),p=t(54422),m=t(19408),g=t(29433),v=t(11089),h=t(51059),y=t(97819),f=t(68760),E=e=>{var{id:r,dateOfBirth:t,cards:n,disabilityInformation:i}=e;return(0,a.Z)({id:r,dob:t,cards:n},(null==i?void 0:i[0])&&{disabilityInformation:{wheelchairUser:i[0].wheelchairUser,disabilityCardLevel:i[0].disabilityCardLevel.toString()}})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=[],t=Object.values(e);if(t.forEach((e=>{var t;return(null==e||null===(t=e.cards)||void 0===t?void 0:t.length)&&e.cards.forEach((e=>e.type&&r.push(e)))})),!r.length)return[];var a=(0,n.VFc)((e=>e.type),r),i=(0,n.jj$)(r.map((e=>{var{type:r}=e;return{id:r,count:a[r]}})));return i.reduce(((e,r)=>e+r.count),0)<=t.length?i:[]},S=(e,r)=>{var t=e.map((e=>e.id));return Object.values(r).reduce(((e,r)=>(!r||t.includes(r.id)||e.push(r),e)),[])},T=(e,r)=>{var t,{dpiCookieId:a}=(0,y.aj)().query,{passengers:n}=e.journeySearch,o=(0,h.$b)(r),c=(0,f.OK)(r),d=!(!(0,m.eB)(r,u.zA.ENABLE_DPI_ITALIAN_AGE_RANGE)||void 0!==c)||c,g=(0,s.rG)(r),T=o?{field:"euFlowPassengers",values:g.concat((0,v.YK)(S(g,n),d))}:{field:"ukFlowCardTypes",values:b(e.journeySearch.passengers)};return a&&n?[(0,p.e9)((t=n,{passengers:Object.values(t).filter((e=>!!e)).map(E)})),(0,i.m)(l.Th,T.field,T.values)]:[]},C=(e,r,t)=>{var a,{environment:n,graphQLQuery:i,variables:s,options:l}=e;if((e=>{var r;return void 0!==(null===(r=e.requestBody)||void 0===r?void 0:r.origin)})(s))a=(0,d.Q)(s.requestBody,r);else{if(!t)throw new Error("data required to map passengers to redux is undefined");a=(0,d.Q)(t,r)}return(0,o.fetchQuery)(n,i,s,l).toPromise().then((e=>({body:{data:(0,c.Z)(e,a)},headers:{date:(new Date).toUTCString(),expires:new Date((new Date).getTime()+12e5).toUTCString()}})))},A=e=>(0,g.m2)(e)&&(0,m.eB)(e,u.zA.ENABLE_GRAPHQL_JOURNEY_SEARCH)&&!(0,g.bw)(e)},51059:(e,r,t)=>{"use strict";t.d(r,{$b:()=>Y,BG:()=>V,Bc:()=>Ne,Bd:()=>Te,Bk:()=>xe,DL:()=>ne,DY:()=>w,Dw:()=>le,ED:()=>Ie,FZ:()=>je,Fd:()=>ve,GE:()=>Ce,GK:()=>Ge,Gc:()=>me,HQ:()=>z,He:()=>_,In:()=>Ee,J1:()=>N,JU:()=>Q,KA:()=>q,KR:()=>ie,L_:()=>He,Ms:()=>J,NA:()=>fe,O3:()=>Ue,Pv:()=>ye,Q$:()=>H,QM:()=>se,RS:()=>Be,S8:()=>ce,SR:()=>ue,U0:()=>re,Up:()=>Le,VS:()=>he,Wc:()=>P,Xg:()=>R,Yh:()=>$,Yq:()=>Oe,_v:()=>Se,a9:()=>be,al:()=>ae,c4:()=>U,f1:()=>de,fE:()=>W,fV:()=>Ze,fp:()=>G,g9:()=>Ve,i2:()=>oe,iK:()=>ke,iW:()=>ee,j3:()=>K,jQ:()=>We,k$:()=>F,lj:()=>Me,m7:()=>Fe,n$:()=>X,or:()=>De,oy:()=>we,p$:()=>k,r:()=>_e,tJ:()=>M,uY:()=>L,um:()=>D,vX:()=>Z,vs:()=>B,xl:()=>j,yR:()=>te,zN:()=>Ae});var a=t(23198),n=t(82768),i=t(32034),o=t(60654),s=t(82758),l=t(64169),c=t(73009),d=t(78307),u=t(24087),p=t(33695),m=t(97068),g=t(7041),v=t(43691),h=t(29171),y=t(54422),f=t(19408),E=t(92490),b=t(1699),S=t(94018),T=t(70755),C=t(97866),A=t(83504),I=t(51282),_=e=>e.query,P=(0,i.P1)(A.FD,_),R=(0,i.P1)(((e,r)=>r.getOutwardHash),(e=>!!e)),k=(0,i.P1)((e=>e.uiState.components.inward),(e=>e)),N=(0,i.P1)(k,(e=>(0,n.CEd)(["isInward"],e))),O=e=>void 0!==e.searchId&&void 0!==e.temporalDirection&&void 0!==e.transitDefinitionDirection,L=(0,i.P1)(P,O),x=(0,i.P1)(P,y._A,(e=>(0,f.eB)(e,p.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH)),((e,r,t)=>{var a=e.passengers?e.passengers.map((r=>(0,s.TC)(r,e.prm,t).dob)):r.map((e=>e.dob.toString()));return a.length&&a||[(0,s.Q9)().ADULT_DOB]})),D=(0,i.P1)(P,(e=>e.passengerDiscountCards||[])),w=(0,i.P1)(P,(e=>"true"===e.selectExactTime)),Z=(0,i.P1)(P,(e=>e.outwardDateType)),F=(0,i.P1)(P,(e=>e.selectedOutward)),B=(0,i.P1)(P,(e=>e.selectedInward)),M=(0,i.P1)(P,(e=>e.ukVoucherInput)),U=(0,i.P1)(P,(e=>e.origin)),j=(0,i.P1)(P,(e=>e.destination)),H=(0,i.P1)(U,j,E.Yu,S.vR,h.lK),W=(0,i.P1)(k,R,F,((e,r,t)=>!!e&&e.isInward&&!r&&Boolean(t))),G=(0,i.P1)(k,(e=>!!(e&&e.searchId&&e.temporalDirection&&e.transitDefinitionDirection))),V=(0,i.P1)(G,W,R,((e,r)=>r),((e,r,t,a)=>O(a.query)&&!r||e&&!t)),Y=((0,i.P1)((e=>e),P,V,R,((e,r,t,a)=>t?(0,T.Y6)(e,r,a):void 0)),(0,i.P1)(H,(e=>e===o.Experiences.EU_TRAIN||e===o.Experiences.EU_COACH))),K=(0,i.P1)(H,(e=>e===o.Experiences.EU_COACH)),z=(0,i.P1)(H,(e=>e===o.Experiences.EU_TRAIN)),J=(e,r)=>r.map((e=>(0,s.CY)(e))).filter(e).length,q=(0,i.P1)(x,S.vR,((e,r)=>r===u.ZP.TRAIN?e.filter((e=>(0,s.CY)(e)<5)).length:0)),Q=(0,i.P1)(x,Y,S.vR,((e,r,t)=>r?(0,s.Cx)(e):(0,s.V6)(e,t!==u.ZP.COACH))),X=(0,i.P1)(Q,(e=>e&&Object.values(e).reduce(((e,r)=>e+r),0))),$=(0,i.P1)(x,(e=>{var r=e&&e.reduce(((e,r)=>((0,s.PY)(0,2,r)&&(e.zeroToTwo+=1),(0,s.PY)(16,150,r)&&(e.adult+=1),e)),{zeroToTwo:0,adult:0});return r&&r.adult>0&&r.zeroToTwo<=r.adult})),ee=(0,i.P1)(((e,r)=>_(r)),(e=>e.outwardDateType)),re=(0,i.P1)(((e,r)=>_(r)),(e=>e.inwardDateType)),te=(0,i.P1)(P,k,R,S.DD,Y,S.vR,((e,r)=>r),((e,r,t,n,i,s,l)=>{var c,d,p=Boolean(r&&r.isInward),m=!!l.noHashCache,g=null===(c=l.query)||void 0===c?void 0:c.transportModes,v=((e,r,t,n)=>t?(0,a.Z)((0,a.Z)((0,a.Z)({},e),!!r&&{selectedTab:r}),n?{transportModes:n}:r&&{transportModes:[r===u.ZP.TRAIN?o.AvailableTransportModes.MIXED:o.AvailableTransportModes.COACH]}):e)(e,(null===(d=l.query)||void 0===d?void 0:d.selectedTab)||e.selectedTab||s,i,g),h=((e,r)=>{var t;if(e){var a=(e.transportModes&&e.transportModes[0]===o.AvailableTransportModes.COACH?u.ZP.COACH:e.selectedTab)||u.ZP.TRAIN;return r&&(null===(t=r[a])||void 0===t?void 0:t.loadedOutwardSearchHash)}})(v,n);if(e.searchId&&!m&&i&&(!p||t)&&h)return h;var y=i?["reservationErrors","selectedOutward","selectedInward","searchId","temporalDirection","transitDefinitionDirection","directSearch"]:[];return!t&&p?(0,T.OS)({queryParams:v,inwardState:r,removeKeys:y}):(0,T.OS)({queryParams:v,removeKeys:y})})),ae=(0,i.P1)(P,(e=>(null==e?void 0:e.referrer)===v.O.GoogleTravelTransport)),ne=(0,i.P1)(P,(e=>!(null==e||!e.bookingToken))),ie=((0,i.P1)(P,(e=>null==e?void 0:e.transactionSource)),(0,i.P1)(P,(e=>null==e?void 0:e.agency)),(0,i.P1)(P,(e=>e.journeySearchType||"single"))),oe=(0,i.P1)(ie,(e=>"return"===e)),se=(0,i.P1)(ie,(e=>"single"===e)),le=(0,i.P1)(ie,(e=>"openReturn"===e)),ce=(0,i.P1)(ie,(e=>"return"===e||"openReturn"===e)),de=(0,i.P1)(le,(e=>e&&1===parseInt(l.Dr.getItem(c.wl),10))),ue=(0,i.P1)(P,(e=>e.outwardDate)),pe=(0,i.P1)(ue,(e=>e&&(0,g.CD)(e))),me=(0,i.P1)(P,(e=>e.inwardDate)),ge=(0,i.P1)(me,(e=>e&&(0,g.CD)(e))),ve=(0,i.P1)(W,pe,ge,((e,r,t)=>e?t:r)),he=(0,i.P1)(E.Yu,U,((e,r)=>r&&e[r]||void 0)),ye=(0,i.P1)(I.EC,I.pw,E.Yu,ue,((e,r,t,a)=>{var n,i,o=e&&(null===(n=t[e])||void 0===n?void 0:n.countryCode),s=r&&(null===(i=t[r])||void 0===i?void 0:i.countryCode);if(e&&o&&r&&s&&a)return{origin:{gurn:e,countryCode:o},destination:{gurn:r,countryCode:s},departureDate:a}})),fe=(0,i.P1)(E.Yu,j,((e,r)=>r&&e[r]||void 0)),Ee=(0,i.P1)(H,(e=>e===o.Experiences.UK_TRAIN)),be=(0,i.P1)(H,(e=>e===o.Experiences.NATIONAL_EXPRESS_COACH)),Se=(0,i.P1)(H,(e=>e===o.Experiences.UK_TRAIN||e===o.Experiences.NATIONAL_EXPRESS_COACH)),Te=(0,i.P1)(Ee,S.vR,C.zE,((e,r,t)=>e&&t||e&&!t&&r!==u.ZP.COACH)),Ce=(0,i.P1)(H,(e=>e===o.Experiences.EU_TRAIN?m.O.EU:e===o.Experiences.UK_TRAIN?m.O.ATOC:m.O.NATIONAL_EXPRESS_COACH)),Ae=(0,i.P1)(P,(e=>null==e?void 0:e.selectedPartner)),Ie=(0,i.P1)(((e,r)=>_(r)),(e=>e.selectedOutward)),_e=(0,i.P1)(((e,r)=>_(r)),(e=>e.selectedInward)),Pe=(0,i.P1)(P,(e=>e.origin)),Re=(0,i.P1)(P,(e=>e.destination)),ke=(0,i.P1)(Pe,Re,E.Yu,((e,r,t)=>(0,h.Gg)(e,r,t))),Ne=(0,i.P1)(Y,oe,((e,r)=>e&&r)),Oe=(0,i.P1)(Y,se,((e,r)=>e&&r)),Le=(0,i.P1)(P,(e=>e.via)),xe=(0,i.P1)(E.Yu,Le,((e,r)=>r&&r.length>0&&e[r[0]]||void 0)),De=(0,i.P1)(P,(e=>e.avoid)),we=(0,i.P1)(Le,De,((e,r)=>e||r)),Ze=(0,i.P1)(A.FD,(e=>e.query)),Fe=(0,i.P1)(A.FD,(e=>e.pathname)),Be=(0,i.P1)(P,(e=>{var{outwardDate:r}=e;return r})),Me=(0,i.P1)(P,(e=>{var{outwardDateType:r=o.TransitDefinitionDateType.DEPART_AFTER}=e;return r})),Ue=(0,i.P1)(P,(e=>"true"===e.showMatrix)),je=(0,i.P1)(_,(e=>e.filterByConnection)),He=(0,i.P1)(P,(e=>e.dpiCookieId)),We=(0,i.P1)(A.FD,(e=>e.query)),Ge=(0,i.P1)((0,b.j)(d.Th),(e=>{var r;return e&&(null===(r=e.values)||void 0===r?void 0:r.ukVoucherInput)||""})),Ve=(0,i.P1)(P,(e=>Boolean(e.referrer&&[v.O.NRE.valueOf(),v.O.Marketing.valueOf()].includes(e.referrer))))},32143:(e,r,t)=>{"use strict";t.d(r,{$D:()=>P,AW:()=>G,EU:()=>ce,FW:()=>K,GF:()=>x,H8:()=>F,KV:()=>ie,Kp:()=>be,L5:()=>Ue,NG:()=>Ne,P8:()=>Re,PF:()=>X,Pb:()=>Ee,Q4:()=>Ie,QP:()=>U,Rr:()=>$,Sq:()=>oe,VJ:()=>w,W6:()=>C,XD:()=>Le,_5:()=>Fe,_m:()=>E,aV:()=>Oe,b8:()=>Te,e0:()=>de,e8:()=>te,eR:()=>M,gR:()=>W,gu:()=>_,hD:()=>Be,iB:()=>Ae,ih:()=>Me,kP:()=>D,kX:()=>fe,m3:()=>H,mW:()=>le,nG:()=>ae,ng:()=>S,oM:()=>z,ph:()=>Z,pp:()=>R,qF:()=>N,qV:()=>je,qu:()=>He,qv:()=>h,qw:()=>b,rg:()=>B,st:()=>ue,sy:()=>j,uF:()=>ne,vU:()=>Q,w:()=>we,wT:()=>q,xk:()=>V,yC:()=>me,yn:()=>De,zh:()=>Pe});var a=t(23198),n=t(32034),i=t(10526),o=t(72750),s=t(67909),l=t(51059),c=t(97819),d=t(82768),u=t(92490),p=t(50549),m=t(61229),g=t(83504),v=t(67512),h=(e,r)=>Array.isArray(r)?r.map((r=>e[r])).filter((e=>!!e)):[],y=(0,d.qCK)((0,d.YjB)((e=>!!e)),(0,d.UID)((e=>!!e.travellingGroups)),h),f=(0,d.qCK)((0,d.YjB)((e=>!!e)),(0,d.UID)((0,d.vgT)("isPartial")),h),E=(0,n.P1)(m.HO,m.AE,m.ft,((e,r)=>{var{query:t}=r;return null==t?void 0:t.selectedInward}),c.Cz),b=(0,n.P1)(E,(e=>e&&e[0]?e[0]:void 0)),S=(0,n.P1)(m.HO,m.AE,m.ft,m.ng,((e,r)=>{var{query:t}=r;return null==t?void 0:t.selectedOutward}),((e,r)=>{var{query:t}=r;return null==t?void 0:t.selectedInward}),i.SP,((e,r)=>r.fallbackToPaired),((e,r,t,a,n,i,o,s)=>{var l=(0,c.Cz)(e,r,t,n);if(l||!s)return l;var d=(0,c.Cz)(e,r,t,i);return d?(0,c.k0)(t,a,d,o):void 0})),T=(0,n.P1)(m.HO,m.AE,m.ft,((e,r)=>{var{query:t}=r;return t.selectedPartner}),((e,r,t,a)=>(0,c.Cz)(e,r,t,a)||void 0)),C=(0,n.P1)(S,(e=>e&&e[0]?e[0]:void 0)),A=(e,r,t)=>(0,c.Ed)(e,t,r),I=e=>Boolean(e&&e.some((e=>!e.availability||"limited"!==e.availability.status))),_=(0,n.P1)(o.dv,l.r,l.yR,A),P=(0,n.P1)(o.dv,l.ED,l.yR,A),R=(0,n.P1)(m.ft,S,h),k=(0,n.P1)(m.ft,T,h),N=(0,n.P1)(m.ft,E,h),O=e=>Boolean(e.length&&e.every((e=>{var{composition:r}=e;return(0,m.vz)(r)}))),L=e=>e.every((e=>{var{composition:r}=e;return(0,m.pk)(r)})),x=(0,n.P1)(N,O),D=(0,n.P1)(R,O),w=(0,n.P1)(N,L),Z=(0,n.P1)(R,L),F=(0,n.P1)(m.ft,S,y),B=(0,n.P1)(m.ft,E,y),M=(0,n.P1)(m.ft,S,f),U=(0,n.P1)(m.ft,E,f),j=(0,n.P1)(S,m.ft,m.ng,i.SP,c.zX),H=(0,n.P1)(E,m.ft,m.ng,i.SP,c.zX),W=(0,n.P1)(j,(e=>e&&(0,p.rE)(e))),G=(0,n.P1)(H,(e=>e&&(0,p.rE)(e))),V=(0,n.P1)(R,(e=>e.some((e=>void 0!==e.affiliation)))),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,d.jj$)(e.map((e=>e.correlationToken)).filter((e=>!!e)))},K=(0,n.P1)(N,Y),z=(0,n.P1)(R,Y),J=(e,r)=>{if(!Array.isArray(r))return[];var t=(0,d.xHg)(r.map((e=>e.fares)));return Object.keys(e).filter((e=>t.includes(e))).map((r=>e[r]))},q=(0,n.P1)(m.ng,R,J),Q=(0,n.P1)(m.ng,N,J),X=(0,n.P1)(q,I),$=(0,n.P1)(Q,I),ee=(e,r)=>e&&e.routeRestriction&&r[e.routeRestriction]||void 0,re=(e,r)=>e&&e.fareRestriction&&r[e.fareRestriction]||void 0,te=(0,n.P1)(j,s.dl,ee),ae=(0,n.P1)(H,s.dl,ee),ne=(0,n.P1)(j,v.op,re),ie=(0,n.P1)(H,v.op,re),oe=e=>(0,d.qCK)(d.Smz,(0,d.UID)((e=>e||0)),(0,d.UID)((0,d.ETc)([e,"amount"]))),se=e=>r=>Array.isArray(r)?{currencyCode:(0,d.ETc)(["0",e,"currencyCode"],r),amount:oe(e)(r)}:void 0,le=se("price"),ce=se("fullPrice"),de=se("calculatedPrice"),ue=(0,n.P1)(R,le),pe=(0,n.P1)(k,le),me=(0,n.P1)(N,le),ge={amount:0,currencyCode:"GBP"},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;return{amount:e.amount+r.amount,currencyCode:e.currencyCode}},he=(0,n.P1)(R,ce),ye=(0,n.P1)(N,ce),fe=(0,n.P1)(ue,me,ve),Ee=(0,n.P1)(he,ye,ve),be=(0,n.P1)(m.Cu,S,c.mX),Se=(0,n.P1)(m.Cu,T,c.mX),Te=(0,n.P1)(m.Cu,E,c.mX),Ce=(e,r)=>r?e[r]:void 0,Ae=(0,n.P1)(u.Yu,l.Wc,((e,r)=>{var t=r.origin?e[r.origin]:void 0,n=r.destination?e[r.destination]:void 0,i={outward:{origin:t,destination:n}},o=r.inwardDate?{inward:{origin:n,destination:t}}:{};return r.outwardDate&&t&&n?(0,a.Z)((0,a.Z)({},i),o):void 0})),Ie=(0,n.P1)(m.HO,be,Ce),_e=(0,n.P1)(m.HO,Se,Ce),Pe=(0,n.P1)(m.Cu,_e,m.J_,pe,u.Yu,((e,r,t,a,n)=>{var i=[];return null!=r&&r.legs&&n&&t&&(null==r||r.legs.forEach((e=>{var r,a,o,s,l=t[e];i.push({origin:null===(r=n[null==l?void 0:l.departureLocation])||void 0===r?void 0:r.code,destination:null===(a=n[null==l?void 0:l.arrivalLocation])||void 0===a?void 0:a.code,departureUtcDateTime:null===(o=t[e])||void 0===o?void 0:o.departAt,arrivalUtcDateTime:null===(s=t[e])||void 0===s?void 0:s.arriveAt})}))),{journey:r,journeyLegs:i,price:a,searchId:null==e?void 0:e.id}})),Re=(0,n.P1)(m.HO,Te,Ce),ke=e=>e&&e.departAt,Ne=(0,n.P1)(Ie,ke),Oe=(0,n.P1)(Re,ke),Le=(0,n.P1)(l.fE,Ne,Oe,((e,r,t)=>e?t:r)),xe=e=>e&&e.arriveAt,De=(0,n.P1)(Ie,xe),we=(0,n.P1)(Re,xe),Ze=e=>e&&e.legs,Fe=(0,n.P1)(Ie,Ze),Be=(0,n.P1)(Re,Ze),Me=(0,n.P1)(Ie,Re,((e,r)=>{var t=e&&e.arriveAt,a=r&&r.departAt;return Boolean(t&&a&&t>a)})),Ue=e=>!!e.replacementServiceInfo&&Boolean(e.replacementServiceInfo.isReplacementService),je=e=>!!e&&e.some(Ue),He=(e,r)=>{var t=(0,g.FD)(e),a=(0,m.Cu)(e,t);return(0,c.mX)(a,[r])}},51807:(e,r,t)=>{"use strict";t.d(r,{co:()=>ze,yj:()=>Ke,Fn:()=>qe,kC:()=>De,Gg:()=>ar,Qv:()=>Me,jQ:()=>Ge,uv:()=>Xe,uT:()=>er,Te:()=>le,T7:()=>oe,al:()=>Q,FW:()=>_e,XJ:()=>Ee,mk:()=>Ie,YK:()=>Ce,e_:()=>Ye,PE:()=>de,Dk:()=>me,yE:()=>Le,cX:()=>we,g8:()=>Pe,ox:()=>te,Zo:()=>ue,Mv:()=>xe,rA:()=>re,Rc:()=>Ze,Zb:()=>ye,uB:()=>fe,s6:()=>pe,cy:()=>We,vt:()=>se,sk:()=>ie,Iw:()=>q,xw:()=>or,Rx:()=>tr,p7:()=>nr,xt:()=>Ue,DU:()=>ge,qn:()=>X,ae:()=>$e});var a=t(31616),n=t(23198),i=t(84025),o=t.n(i),s=t(82768),l=t(32034),c=t(86977),d=t.n(c),u=t(78307),p=t(51282),m=t(60654),g=t(67292),v=t(82758),h=t(60575),y=t(7739),f=t(63530),E=t(10517),b=t(19536),S=t(97068),T=t(59838),C=t(53638),A=t(43088),I=t(42292),_=t(62331),P=t(92490),R=t(48925),k=t(5535),N=t(1699),O=t(51059),L=t(32554),x={single:"Single",return:"Return",openReturn:"Open Return"},D={departAfter:"Leave After",arriveBefore:"Arrive Before"},w=t(34075),Z=t(61229),F=t(32143),B=t(29433),M=["code"],U=["code"],j=(0,s.qCK)(s.xHg,(0,s.UID)((0,s.vgT)("farePassengers"))),H=function(){return j(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])},W=(0,l.P1)(F.pp,H),G=(0,l.P1)(F.qF,H),V=(e,r,t)=>e.filter((e=>r[e.fareId])).map((e=>({fareId:e.fareId,passengers:e.passengers.filter((e=>!!t[e.id])).map((e=>(0,n.Z)((0,n.Z)({},e),{},{dateOfBirth:t[e.id].dateOfBirth}))),fare:r[e.fareId]}))),Y=(0,l.P1)(W,Z.ng,Z.xq,V),K=(0,l.P1)(G,Z.ng,Z.xq,V),z=e=>(r,t)=>{var a,i,o=r[t.fareId];return r[t.fareId]=o?(0,n.Z)((0,n.Z)({},o),{},{qty:o.qty+1,totalPrice:o.totalPrice&&(a=o.totalPrice,i=t.fare.price?t.fare.price.amount:0,{amount:a.amount+i,currencyCode:a.currencyCode})}):((e,r)=>{var t,a;return{fareId:e.fareId,qty:1,cardTypeId:e.fare.cardIds&&e.fare.cardIds.length?e.fare.cardIds[0]:void 0,price:e.fare.price,totalPrice:e.fare.price&&{amount:e.fare.price.amount,currencyCode:e.fare.price.currencyCode},type:e.passengers.length>1?m.PassengerType.GROUP:(0,v.QA)((null===(t=e.passengers[0])||void 0===t?void 0:t.dateOfBirth)||(0,v.o7)(null===(a=e.passengers[0])||void 0===a?void 0:a.passengerType),r)}})(t,e),r},J=(e,r,t,a)=>{var i=e.reduce(z(a),{});return Object.keys(i).map((e=>{var a=i[e]&&i[e].cardTypeId,o=a&&r[a]&&r[a].cardType;return(0,n.Z)((0,n.Z)({},i[e]),{},{cardTypeId:(0,w.yi)(t,o),railcardId:o})}))},q=(0,l.P1)(Y,Z.yp,w.PZ,O.Q$,J),Q=(0,l.P1)(K,Z.yp,w.PZ,O.Q$,J),X=(0,l.P1)(q,(e=>e.map((e=>{var{cardTypeId:r}=e;return r})).filter(T.v).reduce(((e,r)=>(e.includes(r)||e.push(r),e)),[]))),$=(0,l.P1)(F._5,Z.J_,((e,r)=>{var t=e&&e.length&&(0,s.YMb)(e);return t?r[t]:void 0})),ee=(0,l.P1)(F.hD,Z.J_,((e,r)=>{var t=e&&e.length&&(0,s.YMb)(e);return t?r[t]:void 0})),re=(0,l.P1)($,(e=>e?e.departAt:void 0)),te=(0,l.P1)(ee,(e=>e?e.departAt:void 0)),ae=(0,l.P1)(F._5,Z.J_,((e,r)=>{var t=e&&e.length&&(0,s.Z$Q)(e);return t?r[t]:void 0})),ne=(0,l.P1)(F.hD,Z.J_,((e,r)=>{var t=e&&e.length&&(0,s.Z$Q)(e);return t?r[t]:void 0})),ie=(0,l.P1)($,P.Yu,((e,r)=>e&&r[e.departureLocation]?r[e.departureLocation].name:"")),oe=(0,l.P1)(ee,P.Yu,((e,r)=>e&&r[e.departureLocation]?r[e.departureLocation].name:"")),se=(0,l.P1)(ae,P.Yu,((e,r)=>e&&r[e.arrivalLocation]?r[e.arrivalLocation].name:"")),le=(0,l.P1)(ne,P.Yu,((e,r)=>e&&r[e.arrivalLocation]?r[e.arrivalLocation].name:"")),ce=(0,l.P1)(R.fH,O.yR,((e,r)=>e[r])),de=(0,l.P1)(ce,(e=>e&&e.loadDetails)),ue=(0,l.P1)(ce,(e=>!!(e&&e.paginationStatus&&e.paginationStatus.isPaginating))),pe=((0,l.P1)(ce,(e=>null==e?void 0:e.queryRef)),(0,l.P1)(ce,(e=>e&&e.paginationStatus&&e.paginationStatus.direction))),me=(0,l.P1)(de,(e=>e&&e.status)),ge=(0,l.P1)(de,(e=>e?e.status:m.LoadStatus.UNDEFINED)),ve=(0,l.P1)(de,B.Jp,((e,r)=>e?e.status:r?m.LoadStatus.UNDEFINED:m.LoadStatus.PENDING)),he=(e,r)=>e===m.LoadStatus.SUCCESS?!r||(0,s.xbD)(r.journeys)||(e=>{var r,t=null==e||null===(r=e.warnings)||void 0===r?void 0:r.filter((e=>e.code&&(b.sW.includes((0,y.gC)(e.code))||b.ZB.includes((0,y.gC)(e.code)))));return void 0!==t&&t.length>0})(r)?m.LoadStatus.ERROR:m.LoadStatus.SUCCESS:e,ye=(0,l.P1)(me,Z.Cu,he),fe=(0,l.P1)(ve,Z.Cu,he),Ee=(0,l.P1)(me,(e=>e===m.LoadStatus.PENDING)),be=e=>(0,l.P1)(O.Wc,(e=>e.history),((r,t)=>!(!t.previousPaths[1]||"/book/results"!==t.previousPaths[1].pathname||r.transitDefinitionDirection!==e))),Se=be("outward"),Te=be("inward"),Ce=(0,l.P1)(Se,Te,((e,r)=>e||r)),Ae=(e,r,t)=>!(!e&&(e||r||!t||t.status!==m.LoadStatus.PENDING)),Ie=(0,l.P1)(A.qi,A.VW,de,Ae),_e=(0,l.P1)(A.VW,A.qi,de,Ae),Pe=(0,l.P1)(Z.Cu,(e=>e?e.id:void 0)),Re=(0,l.P1)(R.fH,((e,r)=>{var{hash:t}=r;return t}),((e,r)=>e[r])),ke=((0,l.P1)(Re,(e=>e?e.loadDetails:void 0)),(0,l.P1)(Z.HO,(e=>(0,s.Z$Q)(Object.values(e).filter((e=>(0,h.s)(e,"departAt"))).sort(((e,r)=>{var t=o()(e.departAt).unix(),a=o()(r.departAt).unix();return t>a?1:t<a?-1:0})))))),Ne=(0,l.P1)(Z.HO,(e=>(0,s.YMb)(Object.values(e).filter((e=>(0,h.s)(e,"departAt"))).sort(((e,r)=>d()(e.departAt).isAfter(r.departAt)?1:d()(e.departAt).isBefore(r.departAt)?-1:0))))),Oe=(0,l.P1)(ke,(e=>e&&e.departAt)),Le=(0,l.P1)(Ne,(e=>e&&e.departAt)),xe=(e,r)=>o()().isAfter(o()(Oe(e,r))),De=(0,l.P1)(O.Wc,(e=>e),((e,r)=>"/buytickets/datapassedin.aspx?"+C.Z.stringifyQuery(((e,r)=>{var{passengers:t,passengerDiscountCards:a,origin:i,destination:l,outwardDate:c,outwardDateType:d,inwardDate:u,inwardDateType:p,journeySearchType:g,via:h,selectedTab:y}=e,f=i&&(0,L.ud)(r,i),E=l&&(0,L.ud)(r,l),b=h?(0,L.ud)(r,h[0]):void 0,S=(0,s.Zpf)((0,s.VFc)(s.yRu,a||[])).reduce(((e,t,a)=>{var[n,i]=t,o=(0,_.C0)(r,n);if(o){var s=a>0?a+1:"";e["rcName"+s]=o,e["rcNum"+s]=i+""}return e}),{}),T=o()(c),C=u?o()(u):void 0;return(0,n.Z)((0,n.Z)((0,n.Z)({ori:f,dest:E,viaSt:b,jt:g&&x[g],noa:(t&&(0,O.Ms)((0,v.$M)(),t)||1)+"",noc:(t&&(0,O.Ms)((0,v.Rs)(),t)||0)+"",CST:"true",override_handoff:"MATRIX",oadInd:D[d||m.TransitDefinitionDateType.DEPART_AFTER],iadInd:p?D[p]:void 0,outDate:T.format("DD-MMM-YYYY"),outHourField:T.hours()+"",outMinuteField:T.minutes()+""},C?{inDate:C.format("DD-MMM-YYYY"),inHourField:C.hours()+"",inMinuteField:C.minutes()+""}:void 0),S),{},{selectedTab:y})})(e,r)))),we=(0,l.P1)(Z.HO,(e=>{var{outward:r,inward:t}=Object.values(e).filter(T.v).reduce(((e,r)=>(e[r.direction].push((0,g.Xn)(r.departAt)),e)),{outward:[],inward:[]}),a=(e,r,t)=>e===t[0];return!(r.every(a)&&t.every(a))})),Ze=(0,l.P1)((e=>e),((e,r,t)=>t),ye),Fe=(0,l.P1)(Pe,I.om,((e,r)=>({inventory:S.O.EU,searchId:e,outwardAlternativeIds:r||[]}))),Be=(0,l.P1)((e=>e),((e,r)=>r),Pe,I.N6,((e,r,t,a)=>{var i=(0,I.om)(e,(0,n.Z)((0,n.Z)({},r),{},{getOutwardHash:!0})),o=Pe(e,(0,n.Z)((0,n.Z)({},r),{},{getOutwardHash:!0}));return{inventory:S.O.EU,searchId:o,outwardAlternativeIds:i||[],inwardAlternativeIds:a||void 0,inwardSearchId:t}})),Me=(0,l.P1)(O.Yq,Fe,Be,((e,r,t)=>e?r:t)),Ue=(0,l.P1)(O.Wc,O.fE,O.p$,((e,r,t)=>{var{temporalDirection:a}=e;return r?t&&t.temporalDirection:a})),je=(0,l.P1)((e=>e),((e,r)=>({query:(0,n.Z)((0,n.Z)({},r),{},{transportModes:[m.AvailableTransportModes.MIXED]})})),ye),He=(0,l.P1)((e=>e),((e,r)=>({query:(0,n.Z)((0,n.Z)({},r),{},{transportModes:[m.AvailableTransportModes.COACH]})})),ye),We=(0,l.P1)(je,He,((e,r)=>Boolean(e===m.LoadStatus.ERROR&&r===m.LoadStatus.PENDING))),Ge=(0,l.P1)(je,He,B.Jp,((e,r,t)=>e===m.LoadStatus.ERROR&&r===m.LoadStatus.ERROR?m.LoadStatus.ERROR:e===m.LoadStatus.SUCCESS||r===m.LoadStatus.SUCCESS?m.LoadStatus.SUCCESS:t?m.LoadStatus.UNDEFINED:m.LoadStatus.PENDING)),Ve=(e,r)=>null==r?void 0:r.reduce(((r,t)=>{var i=t.code&&(0,y.gC)(t.code);if(i&&e.includes(i)){var{code:o}=t,s=(0,a.Z)(t,M);return[...r,(0,n.Z)((0,n.Z)({},s),{},{code:i})]}return r}),[]),Ye=(0,l.P1)(Z.Cu,(e=>{var r=Ve(b.sW,null==e?void 0:e.warnings);if(r&&r.length>0)return r})),Ke=(0,l.P1)(Z.Cu,(e=>{var r=Ve(b.BB,null==e?void 0:e.warnings);return r&&r.length>0?r:void 0})),ze=(0,l.P1)(Z.Cu,(e=>{var r,t=null==e||null===(r=e.warnings)||void 0===r?void 0:r.reduce(((e,r)=>{var t;if(!r.code)return e;var i=null===(t=b.aN.find((e=>{var{regExp:t}=e;return r.code.match(t)})))||void 0===t?void 0:t.code;if(i){var{code:o}=r,s=(0,a.Z)(r,U);return[...e,(0,n.Z)((0,n.Z)({},s),{},{code:i})]}return e}),[]);return t&&t.length>0?t:void 0})),Je=(0,l.P1)(Z.Cu,(e=>null==e?void 0:e.warnings)),qe=(0,l.P1)(Je,(e=>Ve(b.bh,e))),Qe=(0,l.P1)(ze,Ke,((e,r)=>{var t=(e||[]).concat(r||[]);return t&&t.length>0?t:void 0})),Xe=(0,l.P1)(Qe,(e=>(Array.isArray(e)&&e.length>0?e:[]).reduce(((e,r)=>(r.code&&f.N[r.code]&&e.every((e=>"string"==typeof e&&"string"==typeof r.code&&f.N[e]!==f.N[r.code]))&&e.push(r.code),e)),[]))),$e=((0,l.P1)((0,N.j)(u.Th),(e=>!!e&&e.anyTouched)),(0,l.P1)(Z.yp,(e=>e),((e,r)=>{var t=Object.values(e).filter(T.v).map((e=>(0,_.C0)(r,e.cardType))).filter(T.v);return Array.from(new Set(t))}))),er=(0,l.P1)(p.nH,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((e=>!(null==e||!e.disability)))})),rr=(0,l.P1)((0,I.io)(!0),(e=>1===e.length&&e[0].toUpperCase()===E.X.SNCF.toUpperCase())),tr=(0,l.P1)(rr,er,((e,r)=>r&&e)),ar=(0,l.P1)(k.t,(e=>e.clientConfiguration)),nr=(0,l.P1)(ar,(e=>!!e.skipTravelOptions)),ir=(0,l.P1)(Z.Cu,(e=>{var r=null==e?void 0:e.fares;return!!r&&Object.values(r).some((e=>null==e?void 0:e.vouchers))})),or=(0,l.P1)(Z.Cu,O.GK,ir,((e,r,t)=>{var a=Ve(b.ZB,null==e?void 0:e.warnings);return a&&a.length>0?a:r&&!t?[{code:y.tS}]:void 0}))},97819:(e,r,t)=>{"use strict";t.d(r,{Cz:()=>O,E5:()=>C,Ed:()=>L,Ei:()=>k,Md:()=>P,NU:()=>R,Pi:()=>A,SE:()=>y,UX:()=>w,Yz:()=>_,Z6:()=>S,aj:()=>D,ih:()=>B,k0:()=>N,l0:()=>I,mX:()=>E,np:()=>x,rH:()=>U,yY:()=>M,zX:()=>T,zZ:()=>F});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(2031),l=t(24955),c=t(60654),d=t(82758),u=t(60575),p=t(59838),m=t(23489),g=t(52718),v=t(10526),h=t(50549),y=(e,r,t)=>{var a=e[t];return a?a.sections.map((e=>r[e]?r[e].alternatives:void 0)).filter((e=>!!e)):[]},f=(e,r,t,a)=>{if(a&&a.length&&t){var n=Object.keys(t[e]).filter((n=>a.some((a=>{var i=(0,o.ETc)([e,n,r],t);return!!i&&i.includes(a)}))));return n&&n.length?n:[]}},E=(e,r)=>{var t=Array.isArray(r)&&r.length?r:"string"==typeof r?[r]:[],a=f("sections","alternatives",e,t),n=f("journeys","sections",e,a);return Array.isArray(n)?n[0]:n},b=function(){var e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fares||[]).filter((t=>{var a=e[t];return a&&!(a.fareType&&r[a.fareType]&&r[a.fareType].secondaryFare)})).map((r=>e[r]))},S=(e,r,t)=>b(e,r,t).find(Boolean),T=(e,r,t,a)=>!e||Array.isArray(e)&&!e.length?void 0:S(Array.isArray(e)?r[e[0]]:r[e],t,a),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return(0,o.xHg)(e).map((e=>b(e,r,t)))},A=(0,s.compose)((e=>!!e.find((e=>!!e&&v.XE.includes(e.code)))),((e,r,t)=>e.fares.map((e=>{var a=r[e];return a&&a.fareType?t[a.fareType]:void 0})))),I=e=>!!e&&!!e.fareType&&!!e.routeRestriction,_=e=>!(!e||!e.availability)&&"limited"===e.availability.status,P=e=>!!e.availability&&!!e.availability.remaining,R=e=>_(e)&&!P(e),k=(e,r,t,n)=>{var i=((e,r,t,n)=>{var i=e.filter((e=>!!r[e])).map((e=>{var a=T(e,r,t,n);if(a&&a.availability&&"limited"===a.availability.status)return{alternativeId:e,price:r[e].price,travelClass:(0,h.rE)(a)?"First":"Standard",description:a.fareType&&n[a.fareType]?n[a.fareType].name:void 0}})),s=(0,o.vMG)((e=>e?"".concat(e.travelClass).concat(e.description):""))(i);return Object.keys(s).filter(p.v).reduce(((e,r)=>(e.push(s[r].reduce(((e,r)=>((!e||r&&r.price&&e.price&&r.price.amount<e.price.amount)&&r&&(e=(0,a.Z)({},r)),e)),void 0).alternativeId),e)),[])})(e,r,t,n);return e.filter((e=>{var a=T(e,r,t,n);return!_(a)||((e,r)=>r.indexOf(e)>-1)(e,i)}))},N=(e,r,t,a)=>Object.keys(e).filter((n=>!!e[n]&&!!t.find((r=>e[n].correlationToken===e[r].correlationToken))&&I(T([n],e,r,a)))),O=(e,r,t,a)=>{if(!a)return[];var{journeyHash:n,alternativeHash:i}=(0,g.tb)(a),o=Object.keys(e).find((r=>!!e[r]&&e[r].hash===n));return(o&&y(e,r,o)?y(e,r,o):[]).map((e=>e.find((e=>t[e]&&i.includes(t[e].hash))))).filter((e=>!!e))},L=(e,r,t)=>{if(t){var a=(0,g.tb)(t),n=a.journeyHash,i=a.alternativeHash[0],s=Object.keys(e).map((r=>{var t=e[r],a=Object.keys(t.journeys).filter((e=>!!t.journeys[e]&&t.journeys[e].hash===n)).map((e=>t.journeys[e])).filter((e=>(0,u.s)(e,"sections"))).map((e=>e.sections[0])).map((e=>t.sections[e])).filter((e=>(0,u.s)(e,"alternatives"))),s=(0,o.xHg)(a.map((e=>e.alternatives))).find((e=>!!t.alternatives[e]&&t.alternatives[e].hash===i));return s?t.alternatives[s]:void 0}));return s.find((t=>!!t&&!!e[r].alternatives[t.id]))||s.find(Boolean)}},x=e=>void 0!==e.createdAt&&void 0!==e.expiresAt,D=()=>{var{query:e}=(0,m.s)().location;return{query:e}},w=e=>(e.data&&Array.isArray(e.data)?e.data:[]).reduce(((e,r)=>(r.code&&e.push(r.code),e)),[]),Z=e=>{var{passengerId:r,dateOfBirth:t,firstName:a,lastName:n,isAccountHolder:o,nickName:s,railCards:u=[]}=e,p=t?i()(t).format(d.E2):void 0,m=p?(0,d.QA)(p,c.Experiences.EU_TRAIN):c.PassengerType.ADULT,g=(0,d.CY)(p||(0,l.RE)({age:null,type:m}));return{id:String(r),type:m,name:[a,n].filter(Boolean).join(" ")||s,age:g,isAccountHolder:Boolean(o),isAgeSubmitted:!0,isSavedPassenger:!0,discountCards:u.map((e=>({id:e.cardType,accountNumber:e.number,readOnly:e.readOnly,enabled:e.enabled,validityEnd:e.validityEnd,uuid:e.id}))),selected:o,dateOfBirth:p}},F=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Z)},B=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>(0,l.On)(e)||!e.isSavedPassenger)),t=r.filter((r=>!e.find((e=>e.id===r.id)))).map((e=>(0,a.Z)((0,a.Z)({},e),{},{selected:!0}))),n=r.length>0;return e.reduce(((e,t)=>{var i=r.find((e=>e.id===t.id)),o=Boolean(r.find((e=>e.id===t.id)))||!1===n&&Boolean(t.isAccountHolder);return[...e,(0,a.Z)((0,a.Z)({},t),{},{discountCards:t.discountCards,selected:o},null!=i&&i.disability?{disability:i.disability}:{})]}),[]).concat(t)},M=(e,r,t)=>{if(r&&null!=t&&t.journeys){var a=Date.parse(r+"+0200"),n=t.journeys,i=Object.keys(null==t?void 0:t.journeys).filter((r=>{var t=n[r];return e?Date.parse(t.arriveAt)===a:Date.parse(t.departAt)===a}));if(Array.isArray(i))return i[0]}return null},U=(e,r,t)=>{if(e&&r&&null!=t&&t.journeys){var a=t.journeys,n=Object.keys(null==t?void 0:t.journeys).filter((t=>{var n=a[t],o=i()(n.departAt).utc().format("YYYY-MM-DDTHH:mm:ss"),s=i()(n.arriveAt).utc().format("YYYY-MM-DDTHH:mm:ss");return o===e&&s===r}));if(Array.isArray(n))return n[0]}return null}},13164:(e,r,t)=>{"use strict";t.d(r,{EM:()=>G,Fv:()=>x,VF:()=>q,yb:()=>V,lS:()=>K});var a=t(23198),n=t(37719),i=t(55265),o=t(87582),s=t(57243),l=t(94431),c=t(7185),d=t(53638),u=t(63410),p=t(44481),m=t(36592),g=t(64383),v=t(51059),h=t(97819),y=t(11620),f=t(7173),E=t(43650),b=t(53178),S=t(84025),T=t.n(S),C=t(48500),A=t(82768);function I(e,r){var t=r.map((r=>(0,C.yV)(e,r))),a=2===t.length&&t.every((e=>Boolean(e&&e.isPartial)))&&(0,C.Gu)(t),n=t.length>0&&t.every(((e,t)=>Boolean(!r[t]||e&&!e.isPartial)));return{hashes:r,isReturn:a,isSingle:n}}function _(e,r){return(0,A.qCK)(C.Py,C.CS,u.TU)(e,r)}function P(e,r,t){return(0,A.qCK)(C.Py,(e=>(0,C.fV)(e,t)),u.TU)(e,r)}function R(e,r,t,a){return(0,A.qCK)(C.Py,(e=>(0,C.j2)(e,t,a)),u.TU)(e,r)}function k(e,r,t,a){return(0,A.qCK)((e=>(0,C.vo)(e,t,a)),(e=>(0,u.TU)(e,r)),C.qx)(e)}function N(e){var{outwardHash:r}=e;return!!r}function O(e){var{outwardHash:r,inwardHash:t}=e;return!(!r||!t)}var L="AUTO_SELECT_UK_ALTERNATIVES",x=(0,m.RW)(L),D="AUTO_SELECT_EXACT_ALTERNATIVES",w=(0,m.RW)(D),Z="AUTO_SELECT_JOURNEYS_BY_EXACT_TIME_AND_BEST_MATCH",F=(0,m.RW)(Z),B="AUTO_SELECT_SINGLE_ALTERNATIVES",M=(0,m.RW)(B),U="AUTO_SELECT_RETURN_ALTERNATIVES",j=(0,m.RW)(U),H="AUTO_SELECT_OPEN_RET_ALTERNATIVES",W=(0,m.RW)(H),G="SELECT_UK_ALTERNATIVES",V=(0,m.ul)(G),Y="SELECT_UK_PARTNER_JOURNEY",K=(0,m.RW)(Y),z="SELECT_PARTNER_JOURNEY_BY_EXACT_TIME",J=(0,m.RW)(z),q=(0,i.l)(((e,r)=>{var{getState:t}=r;return e.ofType(G).pipe((0,l.h)((e=>{var{payload:r}=e;return Boolean(r&&(r.outwardHash||r.inwardHash))})),(0,s.U)((e=>{var{payload:r}=e;return{payload:r,state:t(),selectorParams:(0,h.aj)()}})),(0,s.U)((e=>{var{payload:r,state:t,selectorParams:a}=e;return{payload:r,state:t,query:a.query,alternatives:(0,f.b6)(t,a)}})),(0,s.U)((e=>{var{payload:r,state:t,query:a,alternatives:n}=e,i=(0,v.KR)(t);return{newAlts:I(n,[r.outwardHash,r.inwardHash]),oldAlts:I(n,[a.selectedOutward,a.selectedInward]),query:a,partnerHash:r.partnerHash,pathname:(0,v.m7)(t),isSingle:"single"===i,isReturn:"return"===i,isOpenReturn:"openReturn"===i,shouldReplace:r.inwardHash&&"mobile"===t.devicePlatform.deviceInfo.type}})),(0,l.h)((e=>{var{newAlts:{isReturn:r,isSingle:t}}=e;return r||t})),(0,s.U)((e=>{var{partnerHash:r,newAlts:t,oldAlts:n,query:i,pathname:o,isSingle:s,isReturn:l,isOpenReturn:c}=e,[d,u]=t.hashes,[p,m]=n.hashes;return t.isReturn||t.isSingle&&n.isReturn?{nextQuery:(0,a.Z)((0,a.Z)({},i),{},{selectedOutward:d,selectedInward:u,selectedPartner:r}),pathname:o,shouldReplace:!0}:{nextQuery:(0,a.Z)((0,a.Z)({},i),{},{selectedOutward:d||p,selectedInward:u||m,selectedPartner:r||i.selectedPartner}),pathname:o,shouldReplace:d&&(s||c)||r&&(s||c)||u&&l}})),(0,c.w)((e=>{var{nextQuery:r,pathname:t,shouldReplace:a}=e;return(0,o.of)((a?n.gx:n.VF)({pathname:t,search:d.Z.stringifyQuery(r)}),(0,g.Op)({query:r}))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(L).pipe((0,s.U)((()=>({state:t()}))),(0,l.h)((e=>{var{state:{router:{location:r}}}=e;return(0,b.i)(t(),!0)||!r.query.selectedOutward&&!r.query.selectedInward})),(0,s.U)((e=>{var{state:r}=e;return{selectExactTime:(0,v.DY)(r),isSingle:(0,v.QM)(r),isReturn:(0,v.i2)(r),isOpenReturn:(0,v.Dw)(r),hasGTTReferrer:(0,v.al)(r),hasBookingToken:(0,v.DL)(r)}})),(0,l.h)((e=>{var{selectExactTime:r,isSingle:t,isReturn:a,isOpenReturn:n,hasGTTReferrer:i,hasBookingToken:o}=e;return r||t||a||n||i||o})),(0,s.U)((e=>{var{selectExactTime:r,isSingle:t,isReturn:a,isOpenReturn:n,hasGTTReferrer:i,hasBookingToken:o}=e;return o||i?F():r?w():t?M():a?j():n?W():void 0})))}),((e,r)=>{var{getState:t}=r;return e.ofType(B).pipe((0,s.U)((()=>({singleAlts:(0,u.x0)((0,f.xQ)(t(),(0,h.aj)()))}))),(0,s.U)((e=>{var{singleAlts:r}=e;return{outwardHash:_(r,p.t.OUTWARD)}})),(0,l.h)(N),(0,c.w)((e=>{var{outwardHash:r}=e;return[V({isAuto:!0,outwardHash:r})]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(D).pipe((0,s.U)((()=>({singleAlts:(0,u.x0)((0,f.xQ)(t(),(0,h.aj)())),outwardDate:(0,h.aj)().query.outwardDate,inwardDate:(0,h.aj)().query.inwardDate}))),(0,s.U)((e=>{var{singleAlts:r,outwardDate:t,inwardDate:a}=e;return{outwardHash:P(r,p.t.OUTWARD,t)||_(r,p.t.OUTWARD),inwardHash:P(r,p.t.INWARD,a)||_(r,p.t.INWARD)}})),(0,l.h)((e=>{var{outwardHash:r}=e;return!!r})),(0,c.w)((e=>{var{outwardHash:r,inwardHash:t}=e;return[V({isAuto:!0,outwardHash:r,inwardHash:t})]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(Z).pipe((0,s.U)((()=>({singleAlts:(0,u.x0)((0,f.xQ)(t(),(0,h.aj)())),departureTime:(0,h.aj)().query.outwardDate,arrivalTime:T()(JSON.parse((0,h.aj)().query.arrivalTime)[0]).utc().local().format("YYYY-MM-DDTHH:mm:ss")}))),(0,s.U)((e=>{var{singleAlts:r,departureTime:t,arrivalTime:a}=e,n=R(r,p.t.OUTWARD,t,a),i=P(r,p.t.OUTWARD,t),o=_(r,p.t.OUTWARD);return{partnerHash:n||i||o,outwardHash:o}})),(0,l.h)((e=>{var{partnerHash:r,outwardHash:t}=e;return!!r&&!!t})),(0,c.w)((e=>{var{partnerHash:r,outwardHash:t}=e;return[V({isAuto:!0,outwardHash:t,partnerHash:r})]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(U).pipe((0,s.U)((()=>({state:t(),selectorParams:(0,h.aj)()}))),(0,s.U)((e=>{var{state:r,selectorParams:t}=e;return{selectSingles:(0,y.wE)(r,t),state:r,selectorParams:t}})),(0,s.U)((e=>{var{selectSingles:r,state:a,selectorParams:n}=e;if(r){var i=(0,u.x0)((0,f.xQ)(t(),(0,h.aj)()));return{outwardHash:_(i,p.t.OUTWARD),inwardHash:_(i,p.t.INWARD)}}var o=(0,E.fV)(a,n),{query:{outwardDate:s,outwardDateType:l,inwardDate:c,inwardDateType:d}}=n;return{outwardHash:k(o,p.t.OUTWARD,s,l),inwardHash:k(o,p.t.INWARD,c,d)}})),(0,l.h)(O),(0,c.w)((e=>{var{outwardHash:r,inwardHash:t}=e;return[V({isAuto:!0,outwardHash:r,inwardHash:t})]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(H).pipe((0,s.U)((()=>({state:t(),selectorParams:(0,h.aj)()}))),(0,s.U)((e=>{var{state:r,selectorParams:t}=e,a=(0,E.fV)(r,t),{query:{outwardDate:n,outwardDateType:i}}=t;return{outwardHash:k(a,p.t.OUTWARD,n,i)}})),(0,l.h)(N),(0,c.w)((e=>{var{outwardHash:r}=e;return[V({isAuto:!0,outwardHash:r})]})))}),((e,r)=>{var{getState:t}=r;return e.ofType(Y).pipe((0,s.U)((()=>({state:t()}))),(0,s.U)((e=>{var{state:r}=e;return{hasGTTReferrer:(0,v.al)(r),hasBookingToken:(0,v.DL)(r)}})),(0,l.h)((e=>{var{hasGTTReferrer:r,hasBookingToken:t}=e;return r||t})),(0,s.U)((e=>{var{hasGTTReferrer:r,hasBookingToken:t}=e;if(r||t)return J()})))}),((e,r)=>{var{getState:t}=r;return e.ofType(z).pipe((0,s.U)((()=>({singleAlts:(0,u.x0)((0,f.xQ)(t(),(0,h.aj)())),departureTime:(0,h.aj)().query.outwardDate,arrivalTime:T()(JSON.parse((0,h.aj)().query.arrivalTime)[0]).utc().local().format("YYYY-MM-DDTHH:mm:ss")}))),(0,s.U)((e=>{var{singleAlts:r,departureTime:t,arrivalTime:a}=e;return{partnerHash:R(r,p.t.OUTWARD,t,a)||P(r,p.t.OUTWARD,t)||_(r,p.t.OUTWARD)}})),(0,l.h)((e=>{var{partnerHash:r}=e;return!!r})),(0,s.U)((e=>({payload:e,state:t(),selectorParams:(0,h.aj)()}))),(0,s.U)((e=>{var{payload:r,state:t,selectorParams:a}=e;return{payload:r,state:t,query:a.query}})),(0,s.U)((e=>{var{payload:r,state:t,query:a}=e,n=(0,v.KR)(t);return{query:a,partnerHash:r.partnerHash,pathname:(0,v.m7)(t),isSingle:"single"===n,isReturn:"return"===n,isOpenReturn:"openReturn"===n,shouldReplace:"mobile"===t.devicePlatform.deviceInfo.type}})),(0,s.U)((e=>{var{partnerHash:r,query:t,pathname:n,isSingle:i,isOpenReturn:o}=e;return{nextQuery:(0,a.Z)((0,a.Z)({},t),{},{selectedPartner:r||t.selectedPartner}),pathname:n,shouldReplace:r&&(i||o)}})),(0,c.w)((e=>{var{nextQuery:r,pathname:t,shouldReplace:a}=e;return(0,o.of)((a?n.gx:n.VF)({pathname:t,search:d.Z.stringifyQuery(r)}))})))}))},11620:(e,r,t)=>{"use strict";t.d(r,{kA:()=>l,wE:()=>u});var a=t(23198),n=t(32034),i=t(48500),o=t(7173),s=t(43650),l=(0,n.P1)(o.VW,s.Qe,((e,r)=>(0,a.Z)((0,a.Z)({},e),r))),c=(0,n.P1)(o.yX,o.Xh,((e,r)=>(0,i.q1)(e)+(0,i.q1)(r))),d=(0,n.P1)(s.fV,(e=>(0,i.uy)(e))),u=(0,n.P1)(c,d,((e,r)=>e<r));(0,n.P1)(c,d,((e,r)=>e<=r))},7173:(e,r,t)=>{"use strict";t.d(r,{Gh:()=>U,H2:()=>Y,Mi:()=>W,Uw:()=>F,VW:()=>K,Xh:()=>V,b6:()=>M,lp:()=>O,s5:()=>j,xQ:()=>z,yX:()=>G});var a,n=t(47320),i=t(82768),o=t(32034),s=t(67292),l=t(88246),c=t(56543),d=t(50549),u=t(61229),p=t(47462),m=t(48728),g=t(63410),v=t(48500),h=t(89277),y=t(52718),f=t(44481),E=t(80609),b=t(25792),S=t(59838),T=t(10011),C=t(10526),A=t(92490),I=t(67909),_=t(6105),P=t(55869),R=t(51059),k=t(32143),N=t(67512),O=(e,r)=>(0,i.xHg)((0,p.JV)(e,r,Object.keys(e))),L=(0,o.P1)(u.HO,u.AE,O),x=(0,o.P1)(L,u.ft,((e,r)=>e.reduce(((e,t)=>(e[t]=r[t],e)),{}))),D=(e,r)=>{var t,a;if(1===e.length)t=a=e[0];else{var n=(e=>e.sort(h.oc))(e);t=n.shift(),a=n.pop()}var i=r[t.departureLocation],o=r[a.arrivalLocation];return{departureStation:i.name,arrivalStation:o.name}},w=(e,r)=>(0,i.jVA)(r,e).length>0,Z=(e,r,t,a)=>{var i,o=e.map((e=>{var{fareType:r}=e;return r})).filter(S.v),s=[r.origin,r.destination];return o.length&&s.push((i=o,(0,n.murmur2)(i.sort().join()).toString())),t&&s.push(t.id),a&&s.push(a),(0,n.murmur2)(s.join()).toString()},F=(e,r)=>(0,i.jj$)(r.map((e=>(e.realTime||{}).disruptions||[])).reduce(((e,r)=>[...e,...r]),[])).map((r=>e[r])).filter(Boolean),B=(0,o.P1)(c.n,u.HO,u.AE,u.ng,u.v3,u.J_,u.sl,u.yp,((e,r,t,a,n,i,o,s)=>({journeys:r,sections:t,fares:a,deliveryOptions:n,disruptions:e,legs:i,createdAt:o,responseCards:s}))),M=(0,o.P1)(B,x,C.SP,C.OZ,I.dl,N.op,A.Yu,_.I7,R.Dw,((e,r,t,a,n,i,o,c,p)=>{var{journeys:g,sections:v,fares:h,deliveryOptions:f,legs:C,disruptions:A,createdAt:I,responseCards:_}=e;return Object.values(g).reduce(((e,g)=>{var R=(g&&g.legs||[]).map((e=>C[e])),N=F(A,R),O=(0,k.qV)(R),L=R.map((e=>c[e.transportMode].mode)),x=D(R,o),B=!!f.AtocETicket||!!f.AtocMTicket,M=R[0],U=M&&M.platforms,j=(e=>{var r=w(e,E.X4),t=w(e,E.h9);if(r||t){if(r)return b.B.NONRAIL;if(t)return b.B.UNDERGROUND}return b.B.NONE})(L),H=(e=>({journeyId:e.id,direction:e.direction,departAt:e.departAt,arriveAt:e.arriveAt,duration:e.duration,changes:e.legs.length-1,journeyHash:e.hash,isOvertaken:Boolean(e.overtaken&&e.overtaken.isOvertaken),journeyLegs:e.legs,journeyBikeRestrictionStatus:e.bikeRestrictionStatus}))(g),W=Object.assign({hasRailReplacementService:O,transportWarning:j,platforms:U,hasETicket:B},x,H,{departAtNormalized:(0,s.Qb)(H.departAt),arriveAtNormalized:(0,s.Qb)(H.arriveAt)},(e=>({isReservable:Boolean(e.find((e=>Boolean(e.isReservable))))}))(R));return g&&0===g.sections.length||(e=Object.assign({},e,v[(e=>e.sections[0])(g)].alternatives.reduce(((e,o)=>{var s=r[o];if(!s)return e;var c,v,E=(0,u.vz)(s.composition),b=(0,u.pk)(s.composition),C=s.fares.map((e=>h[e])),A=((e,r,t)=>{var a=e.fares.length>1&&e.fares.find((e=>{var a=t[e],n=a.fareType?r[a.fareType]:void 0;return!(!n||n.secondaryFare)}))||e.fares[0];return t[a]})(s,t,h),R=A.fareCategory?a[A.fareCategory]:void 0,k=A.fareType?t[A.fareType]:void 0,O=n[A.routeRestriction],L=i[A.fareRestriction],x=((e,r,t,a,n)=>{var i=(0,y.e$)(r,t);return i=i===1/0?0:i,!(n&&n.realTime&&n.realTime.isCancelled)&&(0,S.v)(a)&&(0,T.Ro)(a).add(i,"ms").isBefore(e)})(g.departAt,C,f,I,M),D=(0,m.p)(s,_),w=Z(C,A,O,D);return e[o]=Object.assign({isEnabled:x,openReturnGroupKey:w,disruptions:N,isSplitSaveJourney:E,isMultiFareJourney:b,fareRestriction:L,availableExtras:s.availableExtras},W,(v=p&&w||void 0,{alternativeId:(c=s).id,price:c.price,fullPrice:c.fullPrice,isPartial:c.isPartial,correlationToken:c.correlationToken||v,fares:c.fares,alternativeHash:c.hash}),((e,r,t)=>{return{fareTypeId:r&&r.id,fareTypeName:r&&r.name,fareTypeIsTravelcard:(0,P.Z)(r),fareCategory:t,travelClass:(a=e.fareLegs,a.find((e=>Boolean(e.travelClass&&e.travelClass.name===d.U9.FIRST)))?d.U9.FIRST:d.U9.STANDARD),availability:e.availability,conditionsSummary:r&&r.conditionsSummary,returnValidityDurationCode:r&&r.validityPeriods&&(r.validityPeriods.inward||r.validityPeriods.outward),isSale:r&&(r.pricingCategory===l.y.SALE||r.farePricingCategory===l.y.SALE)};var a})(A,k,R),(e=>({routeRestrictionId:e&&e.id,routeRestrictionDescription:e&&e.description}))(O)),e}),{}))),e}),{})})),U=(0,o.P1)(M,(e=>(0,i.vMG)((e=>e.journeyId),Object.values(e).filter(S.v)))),j=(0,o.P1)(U,(e=>Object.values(e).filter(S.v))),H=e=>r=>r.map(g.$E).filter((e=>!(0,i.xbD)(e))).filter(e===f.t.OUTWARD?g.he:g.BP).sort(h.XG).map((e=>(0,v.NG)(e))),W=(0,o.P1)(j,(a=f.t.OUTWARD,e=>e.map(g.$E).filter((e=>!(0,i.xbD)(e))).filter(a===f.t.OUTWARD?g.he:g.BP).sort(h.XG).map((e=>(0,v.NG)(e,!0))))),G=(0,o.P1)(j,H(f.t.OUTWARD)),V=(0,o.P1)(j,H(f.t.INWARD)),Y=(0,o.P1)(V,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[{standard:r}={}]=e.filter((e=>e.standard)).sort(((e,r)=>e.standard.price.amount-r.standard.price.amount)),[{first:t}={}]=e.filter((e=>e.first)).sort(((e,r)=>e.first.price.amount-r.first.price.amount));return{cheapestInboundStandard:r,cheapestInboundFirst:t}})),K=(0,o.P1)(G,V,((e,r)=>[...e,...r].reduce(((e,r)=>{var{standard:t,first:a}=r,n=t&&t.alternativeId,i=a&&a.alternativeId;return n&&(e[n]=t),i&&(e[i]=a),e}),{}))),z=(0,o.P1)(K,(e=>Object.values(e)))},54107:(e,r,t)=>{"use strict";t.d(r,{CT:()=>d,EX:()=>s,IH:()=>u,L8:()=>m,Rx:()=>i,ZJ:()=>o,Zu:()=>l,oy:()=>p,sR:()=>c,t7:()=>n});var a=t(36592),[n,i]=["ACCEPT_PRICE_CAPTURE","DISMISS_PRICE_CAPTURE"].map((e=>"priceCapture/".concat(e))),o="hijacked/".concat("HIJACKED_SUBMIT"),s="RESET_CORRELATION_TOKEN_UISTATE",[l,c]=[i,s].map(a.RW),d=(0,a.ul)(o),u=(0,a.ul)(n),p="PERFORM_SCROLL",m=(0,a.ul)(p)},96723:(e,r,t)=>{"use strict";t.d(r,{cb:()=>d,ky:()=>u,wI:()=>c});var a=t(32034),n=t(35300),i=t(51059),o=t(43650),s=t(21224),l=e=>e.uiState.components[s.Qz],c=((0,a.P1)(l,(e=>e&&e.dismissed||!1)),(0,a.P1)(l,(e=>e&&!e.dismissed&&e.active||!1))),d=(0,a.P1)(n.KF,i.O3,l,o.se,((e,r,t,a)=>Boolean(e&&!r&&t&&!t.dismissed&&!t.active&&a))),u=(0,a.P1)(l,(e=>e&&e.correlationToken||void 0))},21224:(e,r,t)=>{"use strict";t.d(r,{Bs:()=>l,Km:()=>s,Qz:()=>n,ZU:()=>o,aq:()=>i,n0:()=>c});var a=t(87865),n="priceCapture",i=()=>(0,a.setUIState)({id:n,state:{dismissed:!0}}),o=()=>(0,a.setUIState)({id:n,state:{active:!0}}),s=()=>(0,a.setUIState)({id:n,state:{dismissed:!1,active:!1}}),l=e=>(0,a.setUIState)({id:n,state:{correlationToken:e}}),c=()=>(0,a.setUIState)({id:n,state:{correlationToken:void 0}})},43650:(e,r,t)=>{"use strict";t.d(r,{MJ:()=>E,Qe:()=>f,fV:()=>y,iB:()=>k,lB:()=>x,sL:()=>_,se:()=>I});var a=t(82768),n=t(32034),i=t(47956),o=t(79389),s=t(63085),l=t(63410),c=t(48500),d=t(89277),u=t(44481),p=t(50549),m=t(32143),g=t(7173),v=t(83504),h=(0,n.P1)(g.b6,(e=>(0,a.vMG)((e=>{var{correlationToken:r}=e;return r}),Object.values(e).filter((e=>Boolean(e&&e.correlationToken)))))),y=(0,n.P1)(h,(e=>Object.values(e))),f=(0,n.P1)(y,(e=>(0,i.Z)((0,a.xHg)(e),"alternativeId"))),E=((0,n.P1)(y,(e=>!(0,a.kKJ)(e.map(l.Dd).find((e=>!(0,c.rv)(e))))&&!(0,a.kKJ)(e.map(l.pG).find((e=>!(0,c.rv)(e)))))),(0,n.P1)(m.pp,m.qF,((e,r)=>{var[t]=e,[a]=r;return Boolean(a&&t&&!a.isPartial&&!t.isPartial)}))),b=e=>e.fareLegs.some((e=>Boolean(e.travelClass&&e.travelClass.name===p.U9.FIRST))),S=(0,n.P1)(m.sy,m.m3,((e,r)=>e&&r&&(b(e)||b(r)))),T=(0,n.P1)(S,y,m.kX,((e,r,t)=>{var{amount:a}=t;return(0,l.rC)(e?(0,l.z5)(r):r,a)})),C=(0,n.P1)(T,m.Kp,m.b8,l.by),A=(0,n.P1)(C,c.qx),I=(0,n.P1)(E,T,C,A,((e,r,t,a)=>e&&r.length>0&&t.length>0&&a.length>0?a:void 0)),_=(0,n.P1)(m.Kp,m.b8,I,((e,r,t)=>t&&{outward:t.find((r=>r.direction===u.t.OUTWARD&&r.journeyId===e)),inward:t.find((e=>e.direction===u.t.INWARD&&e.journeyId===r))})),P=(0,a.qCK)((e=>Object.keys(e).reduce(((r,t)=>(r[t]=(0,a.DYV)(((e,r)=>(0,d.d$)(e[0],r[0])),e[t]),r)),{})),(0,a.vMG)((e=>{var r=(0,c.ey)(e);return r&&s.j[r]||s.j.OTHER}))),R=(0,n.P1)(y,P),k=e=>{var r=(0,v.FD)(e);return!!(R(e,r)[s.j.P1M]||[]).length},N=((0,n.P1)(R,(e=>{var r=e[s.j.P1D]||[],t=e[s.j.P1M]||[],n=e[s.j.OTHER]||[];return(0,a.Smz)([r.length,t.length,n.length])})),(e,r)=>t=>{var{ALL:a,SOME:n,NONE:i}=o.E;return t.reduce(((t,o)=>{var s=r(o).length;return t[(0,c.Xi)(o)]=s===o.length&&"".concat(a,"_").concat(e)||s>0&&"".concat(n,"_").concat(e)||i,t}),{})}),O=(0,n.P1)(y,N(o.Z.BUS,l.fw)),L=(0,n.P1)(y,N(o.Z.NONRAIL,l.eU)),x=(0,n.P1)(O,L,((e,r,t)=>t),((e,r,t)=>{var{NONE:a}=o.E,n=e[t];return n===a?r[t]:n}));(0,n.P1)(R,(e=>Object.keys(e).length?Object.keys(e).reduce(((r,t)=>{var a=(0,c.uy)(e[r]||[]);return(0,c.uy)(e[t]||[])<a?t:r})):void 0))},42321:(e,r,t)=>{"use strict";t.d(r,{BD:()=>ge,HL:()=>pe,ex:()=>me});var a=t(31616),n=t(23198),i=t(84025),o=t.n(i),s=t(82768),l=t(37544),c=t(8947),d=t(57243),u=t(4710),p=t(56415),m=t(90878),g=t(24955),v=t(79423),h=t(51282),y=t(78307),f=t(77962),E=t(60654),b=t(67292),S=t(82758),T=t(64169),C=t(81659),A=t(12273),I=t(33695),_=t(59838),P=t(14238),R=t(29171),k=t(42769),N=t(70252),O=t(54422),L=t(47256),x=t(19408),D=t(72750),w=t(92490),Z=t(30272),F=t(51059),B=t(70755),M=t(32363),U=t(97866),j=t(32554),H=t(89034),W=t(53178),G=t(81482),V=t(83504),Y=t(42874),K=t(68760),z=t(44544),J=t(48977),q=t(23723),Q=["euVoucher"],X=e=>o()(e.date,"YYYY-MM-DD").hours(Number(e.hours)).minutes(Number(e.minutes)),$=e=>e&&e.enabled,ee=(e,r,t,a,i,o)=>{var l=Object.assign({},(0,n.Z)((0,n.Z)({origin:e.from[a],destination:e.to[a],outwardDate:X(e.outbound).format(b.pA),outwardDateType:e.outbound.dateType,journeySearchType:e.journeySearchType,passengerDiscountCards:e.ukFlowCardTypes.length?(0,s.xHg)(e.ukFlowCardTypes.map((e=>{var{id:r,count:t}=e;return(0,s.rx1)(r,t)}))):void 0,passengers:e.passengers,directSearch:e.directSearch},t&&e.journeySearchType!==y.ki.OPEN_RETURN?{splitSave:"true"}:{}),{},{openReturnType:o&&e.journeySearchType===y.ki.OPEN_RETURN?e.openReturnType:void 0}),"return"===e.journeySearchType&&e.inbound&&{inwardDate:X(e.inbound).format(b.pA),inwardDateType:e.inbound.dateType},e.viaAvoidType&&e.viaAvoidType===m.d3&&{via:[e.viaAvoidStation&&e.viaAvoidStation[a]].filter(Boolean)},e.viaAvoidType&&e.viaAvoidType===m.kq&&{avoid:[e.viaAvoidStation&&e.viaAvoidStation[a]].filter(Boolean)},e.applyFareDiscounts&&{applyFareDiscounts:e.applyFareDiscounts},e.directSearch&&{directSearch:e.directSearch},e.ukVoucherInput&&{ukVoucherInput:e.ukVoucherInput});if(!r)return{query:l};var c,d=e.euFlowPassengers.map((e=>e.type===E.PassengerType.YOUTH?(0,n.Z)((0,n.Z)({},e),{},{age:Number(e.age)}):e)),u=((e,r)=>e.reduce(((e,t)=>{t.discountCards.length>0&&(e.cards[t.id]=t.discountCards.filter($));var a=t.isSavedPassenger?t.dateOfBirth:(0,g.RE)(t,r);return e.passengers.push("".concat(a).concat(t.id?"|".concat(t.id):"")),e}),{cards:{},passengers:[]}))(d.filter(g.On),i),p=d.filter((e=>!0===e.selected||void 0===e.selected&&!e.isSavedPassenger)),v=e.voucherInput&&(e.voucherPassengerSelections||p[0]&&p[0].id)?{passengerId:e.voucherPassengerSelections||p[0]&&p[0].id,voucherCode:e.voucherInput}:void 0,h=(c=u.cards,Object.values(c).reduce(((e,r)=>[...e,...r&&r.map((e=>{var{id:r}=e;return r}))||[]]),[])),f=(0,C.mW)(p);return(0,n.Z)({query:(0,n.Z)((0,n.Z)({},l),{},{passengerDiscountCards:h.length?h:void 0,passengers:u.passengers,euVoucher:v,prm:Object.keys(f).length?f:void 0}),cardsByPassengerId:u.cards},i?{euFlowPassengers:d}:{})},re=(e,r,t,a,i,o)=>{if(t){var s=a?{}:(0,S._W)(!0,(0,S.Q9)().ADULT_DOB);return(0,n.Z)({id:e,age:a?(0,g.Hz)(a):null,type:a?(0,S.bR)(a):E.PassengerType.ADULT,discountCards:r},s)}var l=(0,S.bR)(a||(0,S.Q9)().YOUTH_DOB),c=o&&l===E.PassengerType.YOUTH?(e=>{var r=T.nP.getItem("SEARCH_QUERY"),{euFlowPassengers:t}=r||{};return null==t?void 0:t.find((r=>r.id===e))})(e):null;return{id:e,age:null!=c&&c.age?null==c?void 0:c.age:(0,g.Hz)(a||(0,S.Q9)().YOUTH_DOB),type:l,discountCards:r,disability:i}},te=(e,r,t,a)=>{var n=(0,x.eB)(e,I.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH);return r&&r.map((e=>(0,S.TC)(e,t,n))).map((r=>{var{dob:t,id:n,disability:i}=r;return re(n||(0,g.HL)().id,n&&(0,L.jY)(e,n)||[],(0,x.eB)(e,I.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH),t,i,a)}))||[(0,g.HL)()]},ae=(e,r)=>r&&r.map((r=>{var{id:t,dob:a,cards:n,disabilityInformation:i}=r;return re(t||(0,g.HL)().id,n&&n.map((e=>{var{type:r,number:t,uuid:a}=e;return{id:r,accountNumber:t,uuid:a,enabled:!0,readOnly:!0,notSavedToPassenger:!0}}))||[],(0,x.eB)(e,I.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH),a.toString(),i&&{wheelchairUser:i.wheelchairUser,cardLevel:null==i?void 0:i.disabilityCardLevel})}))||[(0,g.HL)()],ne=(0,s.qCK)(s.VO0,(0,s.IDH)(((e,r)=>({id:r,count:e}))),(0,s.VFc)(s.yRu)),ie=(e,r)=>(t,a)=>{var n=(Array.isArray(t[e])?t[e][0]:t[e])||"",i=(0,j.CM)(a,n);return{[r]:{id:n,code:(null==i?void 0:i.code)||"",connections:(null==i?void 0:i.connections)||[],name:(null==i?void 0:i.name)||"",countryCode:(null==i?void 0:i.countryCode)||""},["".concat(r,"Updating")]:!1}},oe=(e,r)=>(t,a)=>{var i=ie(e,"viaAvoidStation")(t,a);return(0,n.Z)((0,n.Z)({},i),{},{viaAvoidType:r})},se=(e,r,t)=>a=>{var n,i,s=(n=a["".concat(e,"Date")],(i=n.match(/(.*?)T(\d{2}):(\d{2})/))&&{date:i[1],hours:i[2],minutes:i[3],dateType:E.TransitDefinitionDateType.DEPART_AFTER}),l="origin"===t,c=s?X(s):o()(a["".concat(e,"Date")]),d=(0,f.uy)(l,!1),u=c.isBefore(d)?d:c;return{[r]:(0,f.ym)(u,a["".concat(e,"DateType")])}},le=(e,r)=>{var{origin:t,destination:a,passengers:n,dpiCookieId:i,prm:o}=e,s=(0,O._A)(r),l=(0,K.OK)(r),c=(0,Y.pN)({locations:(0,w.Yu)(r),isGuest:void 0===l||l,originId:t,destinationId:a});return(0,R.Uw)(t,a,(0,w.Yu)(r))?{passengers:i&&s.length?s.map((e=>(0,S.qE)(e.dob))):n||[(0,S.Q9)().ADULT_DOB]}:{euFlowPassengers:i?ae(r,s):te(r,n,o,c)}},ce={origin:ie("origin","from"),destination:ie("destination","to"),via:oe("via",m.d3),avoid:oe("avoid",m.kq),journeySearchType:e=>({journeySearchType:e.journeySearchType}),openReturnType:e=>({openReturnType:e.openReturnType}),passengers:le,dpiCookieId:le,passengerDiscountCards:(e,r)=>{var{origin:t,destination:a,passengerDiscountCards:n}=e;return(0,R.Uw)(t,a,(0,w.Yu)(r))?{ukFlowCardTypes:ne(n||[],[])}:{}},outwardDate:se("outward","outbound","origin"),inwardDate:se("inward","inbound","destination"),euVoucher:e=>{var{euVoucher:r}=e;return r?{voucherInput:r.voucherCode,voucherPassengerSelections:r.passengerId}:{}},ukVoucherInput:e=>{var{ukVoucherInput:r}=e;return r?{ukVoucherInput:r}:{}},directSearch:(e,r)=>{var{directSearch:t}=e;return(0,U.x8)(r)||(0,U.kp)(r)||(0,J.$n)(r.entities.experiments,I.zA.ENABLE_DIRECT_SEARCH_REQUEST)?{directSearch:"true"===t||!0===t}:{}}},de=e=>(0,B.OS)({queryParams:e,removeKeys:["selectedTab"]}),ue=e=>{var r;return e&&e.includes(":")&&(null===(r=e.split(":").pop())||void 0===r?void 0:r.slice(0,3))||""},pe=(e,r)=>Object.keys(e).filter((r=>void 0!==e[r])).reduce(((t,a)=>{var n=ce[a];return n&&Object.assign(t,n(e,r)),t}),{}),me=(e,r)=>{var{getState:t}=r;return e.ofType(v.SL).pipe((0,d.U)((()=>({state:t()}))),(0,d.U)((e=>{var r,t,{state:a}=e,{from:n,to:i,seasons:o}=(0,h.gH)(a),s=(0,w.Yu)(a),l=(0,U.Dd)(a),c=s[n.id]&&s[n.id].aliases&&s[n.id].aliases.length?s[n.id].aliases[0]:ue(null===(r=s[n.id])||void 0===r?void 0:r.code),d=s[i.id]&&s[i.id].aliases&&s[i.id].aliases.length?s[i.id].aliases[0]:ue(null===(t=s[i.id])||void 0===t?void 0:t.code),u=new URLSearchParams({annual:"true",custom:"false",destination:d,monthly:"true",origin:c,passenger:"adult",startDate:o.seasonsStartDate,ticketclass:"standard",weekly:"true"});window.location.assign("".concat(l,"/fare-selection?").concat(u.toString()))})))},ge=(e,r)=>{var{getState:t}=r;return e.ofType(v.t9).pipe((0,d.U)((e=>{var{payload:r}=e;return{state:t(),payload:r}})),(0,d.U)((e=>{var{state:r,payload:t}=e,a=(0,R.Gg)((0,h.gH)(r).from.code,(0,h.gH)(r).to.code,(0,w.Yu)(r)),i=(0,R.Uw)((0,h.gH)(r).from.code,(0,h.gH)(r).to.code,(0,w.Yu)(r)),o=(0,W.i)(r,i),s=(0,U.qB)(r)?"code":"id",l=(0,K.OK)(r),c=(0,Y.pN)({locations:(0,w.Yu)(r),isGuest:void 0===l||l,originId:(0,h.gH)(r).from.id,destinationId:(0,h.gH)(r).to.id}),d=(0,z.EX)(r)&&(0,F.In)(r);return(0,A.pH)(t.from.code,t.to.code),(0,n.Z)((0,n.Z)({},ee(t,a,o,s,c,d)),{},{state:r})})),(0,d.U)((e=>{var{state:r,query:t,cardsByPassengerId:a,euFlowPassengers:n}=e;return{pathname:(0,V.kS)(r),query:t,cardsByPassengerId:a,recentLocations:{[Z.Px]:(0,Z.eA)(r)},refinePassengerType:(0,P.l2)(r),euFlowPassengers:n}})),(0,u.b)((e=>{var{recentLocations:r,query:t,cardsByPassengerId:i,euFlowPassengers:o}=e;T.I_.setItem(Z.Fb,r),i&&T.nP.setItem("SEARCH_CARDS",i);var{euVoucher:s}=t,l=(0,a.Z)(t,Q);T.nP.setItem("SEARCH_QUERY",(0,n.Z)((0,n.Z)({},l),{},{euFlowPassengers:o}))})),(0,d.U)((e=>{var r,a,{pathname:i,query:o,refinePassengerType:s,cardsByPassengerId:l}=e;return{searchQueryActions:(r=o,a=JSON.parse(JSON.stringify((0,F.Wc)(t())),((e,r)=>"string"==typeof r&&/true|false/.test(r)?JSON.parse(r):r)),de(r)===de(a)?[(0,D.zx)({hash:(0,F.yR)(t(),{query:(0,n.Z)((0,n.Z)({},o),{},{transportModes:[E.AvailableTransportModes.MIXED]})}),searchParams:(0,B.hn)(t(),(0,n.Z)((0,n.Z)({},o),{},{transportModes:[E.AvailableTransportModes.MIXED]})),query:o}),...o.prm?[]:[(0,D.zx)({hash:(0,F.yR)(t(),{query:(0,n.Z)((0,n.Z)({},o),{},{transportModes:[E.AvailableTransportModes.COACH]})}),searchParams:(0,B.hn)(t(),(0,n.Z)((0,n.Z)({},o),{},{transportModes:[E.AvailableTransportModes.COACH]})),query:o})],(0,H.GZ)({shouldDismiss:!1})]:[(0,H.GZ)({shouldDismiss:!1}),(0,q.rE)({query:o,pathname:i})]),coachSearchActions:s&&(0,N.c)(t())?[(0,M.Qj)()]:[],setTabActions:i===k.L1.home()?[(0,M.zh)()]:[],isTravelOptionPage:i===k.L1.travelOptions(),addAnotherJourneyActions:(0,G.XW)({addAnotherJourneyQuery:o}),cardsByPassengerId:l}})),(0,d.U)((e=>{var{isTravelOptionPage:r,searchQueryActions:t,coachSearchActions:a,setTabActions:n,addAnotherJourneyActions:i,cardsByPassengerId:o}=e;return r?[i,(0,M.zh)()]:[(0,l.k5)({id:D.yZ}),o&&(0,L.QN)(o),...t,...a,...n].filter(_.v)})),(0,p.zg)((e=>(0,c.D)(e))))}},13174:(e,r,t)=>{"use strict";t.d(r,{Eq:()=>S,ZP:()=>T});var a=t(23198),n=t(37719),i=t(87865),o=t(8947),s=t(7185),l=t(64169),c=t(19408),d=t(85066),u=t(60054),p=t(35300),m=t(33695),g=t(53638),v=t(86003),h=t(42769),y=t(36592),f=t(97866),E=["origin","destination","outwardDate"],b="BACK_FROM_RESERVATION_ERROR",S=(0,y.ul)(b);const T=(e,r)=>{var{getState:t}=r;return e.ofType(b).pipe((0,s.w)((e=>{var r,{payload:s}=e,y=l.nP.getItem("SEARCH_QUERY")||g.Z.parseQueryString(location.search.substring(1));if(E.some((e=>!y[e])))return(0,o.D)([(0,n.VF)({pathname:h.L1.home()})]);var b=t(),S=(0,f.y7)(b),T=(0,c.eB)(b,m.zA.ENABLE_EU_RESERVATION_ERRORS),C=Boolean((0,u.wy)(b)),A=s.errorCodes.includes(v.jP.DELIVERY_METHOD_NOT_SUPPORTED);if(S||T&&C||A)return(0,o.D)([(0,i.setUIState)({id:p.mQ,state:{isLoading:!1}}),(0,d.a0)(s)]);var I=(0,a.Z)((0,a.Z)({},y),{},{reservationErrors:s.errorCodes}),_=null===(r=b.ui)||void 0===r||null===(r=r.results)||void 0===r?void 0:r.selectedTab;return _&&Object.assign(I,{selectedTab:_}),(0,o.D)([(0,n.VF)(h.L1.results(I))])})))}},34570:(e,r,t)=>{"use strict";t.d(r,{JX:()=>u,V_:()=>l,ai:()=>d,pJ:()=>p,qZ:()=>m});var a=t(32034),n=t(60654),i=t(79257),o=t(79399),s=t(75898),l=(0,a.P1)(i.U,(e=>e?e.journeyHash:void 0)),c=(0,a.P1)(s.b,l,((e,r)=>r?e[r]:void 0)),d=(0,a.P1)(c,(e=>e?e.loadDetails.status:n.LoadStatus.ERROR)),u=(0,a.P1)((e=>e.uiState&&e.uiState.components),(e=>e&&e[o.yP])),p=(0,a.P1)(o.fN,u,((e,r)=>r&&r.hash?e[r.hash]:void 0)),m=(0,a.P1)(p,(e=>e?e.reasonCode:void 0))},25162:(e,r,t)=>{"use strict";t.d(r,{N:()=>m});var a=t(32034),n=t(73173),i=t(16558),o=t(56543),s=t(61229),l=t(32143),c=t(51807),d=t(59838),u=t(83504),p=(0,a.P1)(s.HO,s.J_,o.n,((e,r,t)=>{var a={},n=Object.values(e);for(var o of n)if(null!=o&&o.legs)for(var s of o.legs){var l=r[s];if(l&&l.realTime&&l.realTime.disruptions){var c=l.realTime.disruptions;for(var u of c){var p=t[u];(null==p?void 0:p.severity)===i.vK&&(a[p.message]=p)}}}return Object.values(a).filter(d.v)})),m=(0,a.P1)(p,n.Mx,n.at,n.Ku,l.ih,n.fQ,n.CD,c.cX,u.xM,u.FD,((e,r,t,a,i,o,s,l,c,d)=>{var{nreSelectAnotherTicketWarning:u}=c;return{disruptions:e,reservationErrorMessageIds:(0,n.Xl)(d),journeySearchNrsWarnings:r,showNoJourneysWarning:t,showTicketCorrelationWarning:a,showReturnBeforeArrivalWarning:i,showEarlyBookingWithoutAdvancedWarning:o,showEarlyBookingWithAdvancedWarning:s,showDayBoundaryFaresWarning:l,showNreSelectAnotherTicketWarning:u||!1}}))},20777:(e,r,t)=>{"use strict";t.d(r,{Gr:()=>N,MH:()=>M,U3:()=>B,VF:()=>x,bT:()=>O,bb:()=>J,dE:()=>q,t0:()=>Y,uJ:()=>L,v5:()=>Q,zH:()=>U});var a=t(55265),n=t(32034),i=t(57243),o=t(66547),s=t(60654),l=t(7715),c=t(56267),d=t(73173),u=t(42292),p=t(42769),m=t(8129),g=t(72750),v=t(62830),h=t(91490),y=t(26260),f=t(94018),E=t(3896),b=t(14594),S=t(60054),T=t(51059),C=t(32143),A=t(13164),I=t(56398),_=e=>r=>{if(!r)return!1;var{pathname:t}=r;return t.includes(e)},P=(_(p.dC.children.book.children.results.segmentName),_(p.dC.children.book.children.travelOptions.segmentName)),R=_(p.dC.children.book.children.deliveryOptions.segmentName),k=_(p.dC.children.book.children.informationOptions.segmentName),N=(0,n.P1)(S.wy,I.FD,l.Mh,v.Ay,((e,r,t,a)=>{var n="customerJourneySummary.button.subtitle";return e&&P(r)?"".concat(n,".passangerDetails"):P(r)?"".concat(n,".travelOptions"):R(r)&&t?"".concat(n,".nextStep"):R(r)&&!a?"".concat(n,".deliveryOptions"):R(r)&&a?"".concat(n,".deliveryOptionsToBookingInformation"):k(r)?"".concat(n,".fromBookingInformationToCheckout"):""})),O=(0,n.P1)(N,(e=>"customerJourneySummary.button.title.".concat(e?"conjunctive":"standalone"))),L="customerJourneySummary.error.coach.product.fail",x=(0,a.l)((e=>e.ofType(g.XY,g.ou,A.EM).pipe((0,i.U)((e=>{var{type:r,payload:t}=e;return!(r!==A.EM||!t.isAuto)})),(0,i.U)(h.li))),(e=>e.ofType(g.Mr,A.EM,g.W2,m.Ms,E.Y$).pipe((0,o.h)((0,f.N1)()))),(e=>e.ofType(g.XY,b.$r).pipe((0,o.h)((0,f.N1)())))),D=(0,n.P1)(f.Zz,(e=>e===L)),w=(e,r)=>(0,n.P1)(e,c._D,r,((e,r,t)=>!!t[r.findIndex((r=>r===e))])),Z=w(C.Kp,c.xP),F=w(C.b8,c.xF),B=(0,n.P1)(Z,T.i2,F,C.ih,d.Ku,T.Q$,D,((e,r,t,a,n,i,o)=>i!==s.Experiences.NATIONAL_EXPRESS_COACH?n||e||r&&(t||a):o)),M=(0,n.P1)(T.Q$,T.i2,C.pp,C.qF,y.be,y.Nv,((e,r,t,a,n,i)=>e!==s.Experiences.NATIONAL_EXPRESS_COACH?Boolean(r&&(!t||!t.length)&&a&&a.length):Boolean(r&&!n&&i))),U=(0,n.P1)(T.Q$,T.i2,C.pp,C.qF,y.be,y.Nv,((e,r,t,a,n,i)=>e!==s.Experiences.NATIONAL_EXPRESS_COACH?Boolean(r&&t&&t.length&&(!a||!a.length)):Boolean(r&&n&&!i))),j=(0,n.P1)(T.QM,C.pp,((e,r)=>Boolean(e&&(!r||!r.length)))),H=(0,n.P1)(T.Dw,C.pp,((e,r)=>Boolean(e&&(!r||!r.length)))),W=(0,n.P1)(T.i2,C.pp,C.qF,((e,r,t)=>Boolean(e&&(!r||!r.length)&&(!t||!t.length)))),G=(0,n.P1)(T.QM,y.be,((e,r)=>Boolean(e&&!r))),V=(0,n.P1)(T.i2,y.be,y.Nv,((e,r,t)=>Boolean(e&&!r&&!t))),Y=(0,n.P1)(T.Q$,j,H,W,G,V,((e,r,t,a,n,i)=>e!==s.Experiences.NATIONAL_EXPRESS_COACH?r||t||a:n||i)),K=(0,n.P1)(T.Yq,u.hy,((e,r)=>Boolean(e&&(!r||!r.length)))),z=(0,n.P1)(T.Bc,T.fE,u.Jf,((e,r,t)=>Boolean(e&&r&&(!t||!t.length)))),J=(0,n.P1)(T.Bc,T.fE,u.hy,((e,r,t)=>Boolean(e&&!r&&(!t||!t.length)))),q=(0,n.P1)(K,z,((e,r)=>e||r)),Q=(0,n.P1)(Y,M,U,((e,r,t)=>e||r||t))},32554:(e,r,t)=>{"use strict";t.d(r,{$h:()=>d,CM:()=>o,EQ:()=>c,F6:()=>p,JN:()=>u,Qw:()=>m,ud:()=>s,y:()=>l});var a=t(32034),n=t(92490),i=t(51059),o=(0,a.P1)(((e,r)=>r),n.Yu,((e,r)=>r[e])),s=(0,a.P1)(o,(e=>e?e.name:void 0)),l=(0,a.P1)(o,(e=>e&&e.shortName)),c=(0,a.P1)(o,(e=>e&&e.aliases&&e.aliases.find((e=>e.length<4)))),d=((0,a.P1)(o,(e=>e&&e.code)),(0,a.P1)(n.Yu,i.c4,((e,r)=>r&&e[r]||void 0))),u=(0,a.P1)(n.Yu,i.xl,((e,r)=>r&&e[r]||void 0)),p=(0,a.P1)(o,(e=>e&&e.parents&&e.parents.length>0?e.parents[0].name:void 0));function m(e,r){if(!e||!r)return!1;var t=[e.latitude,e.longitude].filter(Boolean),a=[r.latitude,r.longitude].filter(Boolean);return 2===t.length&&2===a.length?t[0]===a[0]&&t[1]===a[1]:e.name===r.name&&e.countryCode===r.countryCode}},18478:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>E});var a=t(37719),n=t(55265),i=t(54466),o=t(8947),s=t(7185),l=t(75663),c=t(57110),d=t(42769),u=t(68760),p=t(20066),m=t(96586),g=t(14846),v=t(81482),h=t(83504),y=t(51730),f=(e,r)=>{if(r)return window.location.reload();var{plan:t,quickBuy:n,addAnotherJourney:i,to:o,fromOptions:s,method:l,passengerId:c,fromMobileTicketOptions:u}=(0,h.xM)(e);return o?(0,a.VF)(o):[n,i].includes("true")?(0,v.EF)((0,h.TJ)(e)):s?(0,g.f9)({method:l}):u?(0,a.VF)(d.L1.options()):c?(0,a.VF)(d.L1.deliveryOptions({passengerId:c})):void 0!==t?(0,a.VF)(d.L1.deliveryOptions()):(0,y.cf)()};const E=(0,n.l)(((e,r)=>e.ofType(u.tV).pipe((0,s.w)((e=>{var{payload:t}=e;return(0,i.z)((0,o.D)([(0,u.Ai)()]),(0,o.D)([f(r.getState(),t.reloadCurrentPage)]))})))),((e,r)=>e.ofType(u.KS).pipe((0,s.w)((t=>{var{payload:a}=t;return(0,i.z)((0,m.OU)(e,r),(0,c.Lx)(a.email)).pipe((0,l.j)(2),(0,s.w)((e=>{var[,t]=e;return(0,i.z)((0,p.oW)(t),(0,o.D)([f(r.getState())]))})))})))),((e,r)=>e.ofType(u.yE).pipe((0,s.w)((()=>(0,m.OU)(e,r))),(0,s.w)((()=>(0,c.w$)())),(0,s.w)((e=>(0,p.oW)(e))))))},88452:(e,r,t)=>{"use strict";t.d(r,{N:()=>n,k:()=>i});var a=t(36592),n="AUTH_LOGOUT",i=(0,a.RW)(n)},62966:(e,r,t)=>{"use strict";t.d(r,{E:()=>g,i:()=>m});var a=t(32034),n=t(87582),i=t(84589),o=t(57110),s=t(83507),l=t(87764),c=t(41152),d=(0,a.P1)(l.Y,(e=>e&&e.gdprConsent)),u=(0,a.P1)(l.Y,(e=>e&&e.nationalExpressConsent)),p=(0,a.P1)(l.Y,(e=>e&&e.discountCardConsent)),m=e=>(0,i.D)((e=>{var r=(0,c.sA)(e),t=p(e);return r&&void 0!==t?(0,o.ni)({discountCardConsent:t,productIds:(0,c.df)(e)}):(0,n.of)({})})(e),(e=>{var r=(0,c.nt)(e),t=(0,c.uv)(e),a=u(e);return r&&void 0!==a?(0,o.qN)({nationalExpressConsent:a,coachProductIds:t}):(0,n.of)({})})(e)),g=e=>{var r=d(e),t=(0,s.Fp)(e);return t&&void 0!==r?(0,o.aZ)({consent:r,id:t}):(0,n.of)([{}])}},2321:(e,r,t)=>{"use strict";t.d(r,{$K:()=>d,_i:()=>s,e$:()=>i,gr:()=>o,h8:()=>n,nL:()=>c,r:()=>l});var a=t(36592),n="MERGE_ENTITIES",i="SMART_CARD_GUID",o="STORE_SMART_COLLECTION_LOCATION",s=(0,a.ul)(n),l=((0,a.ul)("SMART_CARDS_LIST"),(0,a.ul)(o)),c=(0,a.ul)(i),d=(0,a.ul)(n)},1747:(e,r,t)=>{"use strict";t.d(r,{E:()=>n,t:()=>i});var a=t(36592),n="MERGED_OPTIONS_UK_MOUNTED",i=(0,a.RW)(n)},89034:(e,r,t)=>{"use strict";t.d(r,{GZ:()=>m,JA:()=>c,Ll:()=>u,OB:()=>p,Qv:()=>s,TZ:()=>o,Un:()=>d,fn:()=>g,hv:()=>h,jw:()=>i,lE:()=>v,tL:()=>l});var a=t(53066),n=t(36592),i="modal/PUSH_MODAL",o="modal/POP_MODAL",s="modal/POP_MODAL_CONFIRM",l="modal/POP_ALL_MODALS",c="modal/REPLACE_MODAL",d="modal/MODAL_SET_PREVENT_CLOSE",u=e=>(0,n.ul)(i)(e),p=e=>(0,n.ul)(c)(e),m=(0,n.ul)(o),g=(0,a.Z)(s),v=(0,a.Z)(l),h=(0,a.Z)(d)},58126:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var a=t(41344),n=t(88543),i=t(44544),o=t(51059),s=t(51282),l=t(78307),c=t(29901),d=t(19408),u=t(18332),p=t(33695);const m=()=>{var e=(0,n.useSelector)(i.EX),{mobile:r}=(0,a.zw)(),t=(0,n.useSelector)(o.In),{journeySearchType:m}=(0,n.useSelector)(s.gH),g=m===l.ki.OPEN_RETURN,{experimentsDict:v}=(0,u.zM)(["experimentsDict"]),h=(0,c.useRef)(v),y=(0,i.IO)();return(0,c.useEffect)((()=>{r&&t&&g&&y&&(0,d.BD)(h.current,p.zA.ENABLE_OPEN_RETURN_CHANGES_FOR_MWEB)}),[y,g,t,r]),e&&r&&t&&g}},44544:(e,r,t)=>{"use strict";t.d(r,{EX:()=>p,IO:()=>g});var a=t(32034),n=t(29433),i=t(97866),o=t(19408),s=t(33695),l=t(88543),c=(0,a.P1)(i.Gg,(e=>e.enableOpenReturnChangesForMWeb)),d=e=>(0,o.eB)(e,s.zA.ENABLE_OPEN_RETURN_CHANGES_FOR_MWEB,!0),u=(0,a.P1)(n.lP,c,((e,r)=>e&&r)),p=(0,a.P1)(u,d,((e,r)=>e&&r)),m=(0,a.P1)(u,(e=>(0,o.wM)(e,s.zA.ENABLE_OPEN_RETURN_CHANGES_FOR_MWEB,!0)),d,((e,r,t)=>e&&(r||t))),g=()=>(0,l.useSelector)(m)},29148:(e,r,t)=>{"use strict";t.d(r,{AI:()=>ie,Az:()=>ce,B_:()=>w,D_:()=>ne,EW:()=>ae,Gw:()=>Y,Ib:()=>O,Jd:()=>$,KQ:()=>K,Lz:()=>Me,NW:()=>x,PL:()=>re,Pp:()=>me,Qm:()=>j,RS:()=>te,Rk:()=>Ee,Sp:()=>Re,Tw:()=>se,Ul:()=>de,V9:()=>Z,VG:()=>ee,VL:()=>L,Wl:()=>V,XK:()=>W,ZO:()=>ye,Zj:()=>Fe,_J:()=>le,_Z:()=>ge,bb:()=>Te,bp:()=>Ne,c1:()=>Ae,f0:()=>oe,fP:()=>U,gd:()=>D,gt:()=>Ze,hN:()=>F,i5:()=>Q,i6:()=>be,iQ:()=>G,k7:()=>Ie,kr:()=>we,lH:()=>Be,lr:()=>M,mO:()=>B,n3:()=>Ce,oK:()=>Se,qT:()=>ke,st:()=>he,uv:()=>ue,wB:()=>pe,xi:()=>De,yW:()=>ve,zT:()=>N,zq:()=>fe});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(60575),c=t(17038),d=t(26524),u=t(63479),p=t(38949),m=t(97183),g=t(49788),v=t(76801),h=t(27895),y=t(8563),f=t(24879),E=t(38599),b=t(63585),S=t(32554),T=t(31521),C=t(41152),A=t(51001),I=t(25453),_=t(97866),P=[c.Gl.SNCFETicket,c.Gl.EurostarDirectETicket,c.Gl.SNCFPrintYourOwn,c.Gl.BenerailETicket,c.Gl.BenerailPrintYourOwn,c.Gl.DBETicket,c.Gl.RenfeETicket,c.Gl.TrenitaliaETicket,c.Gl.TrenitaliaTicketless,c.Gl.ILSAEticket,c.Gl.NTVTicketless,c.Gl.OBBOnDemandETicket,c.Gl.OBBOnDemandPrintYourOwn,c.Gl.OBBETicket,c.Gl.OBBPrintYourOwn,c.Gl.CFFETicket,c.Gl.BusbudPrintYourOwn,c.Gl.BusbudETicket,c.Gl.WestbahnETicket,c.Gl.DistribusionPrintYourOwn],R=[c.Gl.AtocETicket,c.Gl.RenfeETicket,c.Gl.BenerailETicket,c.Gl.TrenitaliaETicket,c.Gl.ILSAEticket,c.Gl.DBETicket,c.Gl.CFFETicket,c.Gl.OBBOnDemandETicket,c.Gl.OBBETicket,c.Gl.SNCFETicket,c.Gl.EurostarDirectETicket,c.Gl.OUIGOETicket,c.Gl.EUGeneric],k=function(e){return e.ProductType="product",e.PromoType="promo",e.RelationType="relation",e}(k||{}),N=(0,s.P1)(b.n$,h.n,((e,r)=>e?r[e]:void 0)),O=(0,s.P1)(N,(e=>{if(!e)throw new Error("No order found.");return e})),L=(0,s.P1)(N,(e=>e&&e.invoices||{})),x=(0,s.P1)(h.n,((e,r)=>r),((e,r)=>e[r])),D=e=>{var{invoices:r,currencyCode:t}=e;return Object.entries(r).reduce(((e,r)=>{var[,t]=r;if(t.requestedPrice.currencyCode!==e.currencyCode)throw new Error("Invalid currency between invoices and order");return(0,a.Z)((0,a.Z)({},e),{},{amount:e.amount+t.requestedPrice.amount})}),{currencyCode:t,amount:0})},w=((0,s.P1)(N,D),(0,s.P1)(L,((e,r)=>r),((e,r)=>{if(!Object.keys(e).length)return 0;var t=e=>e.type===r,a=(e,r)=>e+r.amount;return Object.values(e||{}).map((e=>{var{lineItems:r}=e;return r})).reduce(((e,r)=>e+r.filter(t).reduce(a,0)),0)}))),Z=(0,s.P1)(O,(e=>e&&Object.values(e.items).find((e=>e.type===k.PromoType)))),F=(0,s.P1)((e=>e),((e,r)=>r&&r.items||{}),((e,r)=>{var t=new Array;return r&&Object.keys(r).length?(Object.keys(r).forEach((e=>{var a=r[e];a.type===k.ProductType&&t.push(a.id)})),t.filter((r=>!!(0,T.NR)(e,r))).sort(((r,t)=>{var a=(0,T.NR)(e,r),n=(0,T.NR)(e,t),o=i()((0,C.$C)(e,a)),s=i()((0,C.$C)(e,n));return o.isBefore(s)?-1:1}))):t})),B=(0,s.P1)(F,(e=>e.length)),M=(0,s.P1)((e=>e),f.n,((e,r)=>r),((e,r,t)=>{var a=F(e,t);return(0,o.mNm)((e=>e.ref),a.map((e=>({id:e,ref:(0,o.ETc)([e,"deliveries","0","deliverables","0","collection","reference"],r)}))).filter((e=>{var{ref:r}=e;return r})))})),U=(0,s.P1)(M,(e=>e.map((e=>e.ref)))),j=(0,s.P1)((e=>e),f.n,((e,r)=>r),((e,r,t)=>F(e,t).some((t=>!!r[t]&&(0,C.F0)(e,r[t]).length>0)))),H=(e,r)=>{var t=r.map((r=>(0,T.NR)(e,r))).filter((e=>(0,l.s)(e,"outwardJourneyPlan"))).map((e=>e.outwardJourneyPlan.destination.id));return Array.from(new Set(t)).map((r=>({name:(0,S.ud)(e,r),parent:(0,S.F6)(e,r)})))},W=(0,s.P1)(g.C,b.n$,((e,r)=>r&&e?e[r]:{})),G=(0,s.P1)(E.p,b.n$,((e,r)=>r&&e?e[r]:void 0)),V=(0,s.P1)(G,(e=>e&&e.amount&&e.currencyCode?{amount:e.amount,currencyCode:e.currencyCode||""}:void 0)),Y=(0,s.P1)(W,(e=>!e||Object.values(e).some((e=>e.issueStatus===d.d$.PENDING)))),K=(0,s.P1)((e=>e),f.n,F,((e,r,t)=>t),((e,r,t)=>{var a=new Set;return t.forEach((t=>{var n=r[t];if(n){var i=(0,C.tH)(e,n);i&&i===C.s8.CollectAtWindow&&a.add((0,C.A_)(e,n))}})),Array.from(a)})),z=(0,s.P1)(f.n,F,((e,r)=>r.map((r=>(0,C.Tq)(e[r]))).filter(I.BX))),J=(0,s.P1)(z,(e=>(0,o.mNm)((e=>{var r;return null==e||null===(r=e.deliveryMethod)||void 0===r?void 0:r.method}),e))),q=(0,s.P1)(J,(e=>e.find((e=>{var r;return(null===(r=e.deliveryMethod)||void 0===r?void 0:r.method)===c.Gl.OUIGOETicket})))),Q=(0,s.P1)((e=>e),b.n$,((e,r)=>q(e,x(e,null!=r?r:"")))),X=(0,s.P1)((e=>e),f.n,F,m.AX,m.xY,((e,r,t,a,n)=>{var i=[];return t.forEach((t=>{var a=r[t],n=(0,C.$Y)(a);if(n){var o=n;if(n===c.Gl.AtocKiosk){var s=(0,C.tH)(e,a);o=s===C.s8.Default?n:s}i.push(o)}})),a&&n.forEach((e=>{var r=a[e],t=(0,C._V)(r);t&&i.push(t)})),i})),$=(0,s.P1)(X,(e=>Array.from(new Set(e)))),ee=(0,s.P1)(X,(e=>e.length>0&&e.every((e=>P.includes(e))))),re=(0,s.P1)(X,(e=>e.filter((e=>e===c.Gl.AtocETicket)).length)),te=(0,s.P1)(X,(e=>e.filter((e=>P.includes(e))).length)),ae=(0,s.P1)(X,(e=>e.filter((e=>e===c.Gl.NationalExpressETicket)).length)),ne=(0,s.P1)(X,(e=>e.length>0&&e.every((e=>R.includes(e))))),ie=(0,s.P1)(X,(e=>null==e?void 0:e.some((e=>R.includes(e))))),oe=(0,s.P1)(X,(e=>e.every((e=>e===c.Gl.AtocKiosk)))),se=(0,s.P1)((e=>e),$,((e,r)=>r.includes(c.Gl.AtocMTicket))),le=((0,s.P1)((e=>e),$,((e,r)=>r.includes(c.Gl.NationalExpressETicket))),(0,s.P1)(T.NR,(e=>e&&e.deliveries&&e.deliveries[0].recipients&&e.deliveries[0].recipients[0].email))),ce=(0,s.P1)(((e,r)=>r),(e=>e.bookingReference)),de=(0,s.P1)(F,f.n,((e,r)=>e.reduce(((e,t)=>{var a=r[t];return a&&e.push(a),e}),[]))),ue=e=>e.state===u.C.Fulfilment,pe=(0,s.P1)(y.yM,b.n$,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[arguments.length>1&&void 0!==arguments[1]?arguments[1]:""]||{}})),me=(0,s.P1)(y.yM,b.n$,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Boolean(e[r]&&e[r].isAsync&&(0,p.I)(e[r].paymentState))})),ge=(0,s.P1)(y.yM,b.n$,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Boolean(e[r]&&e[r].isAsync&&e[r].paymentState===p.K.FAILED)})),ve=(0,s.P1)(N,ge,W,f.n,((e,r,t,a)=>{if(!t||e&&ue(e))return!1;if(r)return!0;var n=Object.values(a).map((e=>e&&e.id));return!(!t||!n.length)&&Object.entries(t).reduce(((e,r)=>{var[t,{issueStatus:a}]=r;return n.includes(t)?e.concat(a):e}),[]).every((e=>e===d.d$.FAILED))})),he=(0,s.P1)(N,W,v.qs,((e,r,t)=>{if(!r||e&&ue(e))return!1;var a=Object.values(t).map((e=>e&&e.id));return Object.keys(r).filter((e=>-1!==a.indexOf(e)&&(0,d.uS)(r[e].issueStatus))).length>0})),ye=(0,s.P1)(N,W,((e,r)=>void 0!==r&&Object.values(r).some((e=>{var{issueStatus:r}=e;return(0,d.uS)(r)}))&&Object.values(r).some((e=>{var{issueStatus:r}=e;return!(0,d.uS)(r)})))),fe=(0,s.P1)(N,ge,W,v.qs,m.xY,f.n,((e,r,t,a,n,i)=>{if(e&&ue(e))return!0;if(!t||r||0===Object.keys(i).length)return!1;var o=Object.values(a).map((e=>e&&e.id));return!(Object.keys(t).filter((e=>-1===o.indexOf(e)&&-1===n.indexOf(e)&&(0,d.uS)(t[e].issueStatus))).length>0)})),Ee=(0,s.P1)(N,ge,W,v.qs,m.xY,f.n,((e,r,t,a,n,i)=>{if(!e)return!1;if(!t||r||!Object.keys(i).length)return!1;var o=Object.values(a).map((e=>null==e?void 0:e.id));return Object.keys(t).filter((e=>-1===o.indexOf(e)&&-1===n.indexOf(e))).length>0})),be=(0,s.P1)(N,ge,W,m.xY,((e,r,t,a)=>!(!e||!ue(e))||!(!t||r||!a.length)&&Object.entries(t).reduce(((e,r)=>{var[t,{issueStatus:n}]=r;return a.includes(t)?e.concat(n):e}),[]).every((e=>e!==d.d$.FAILED)))),Se=(0,s.P1)(X,_.uo,((e,r)=>r&&e.every((e=>e===c.Gl.AtocKiosk)))),Te=(0,s.P1)(N,m.xY,((e,r)=>!!e&&e.itemIds.filter((r=>(null==e?void 0:e.items[r].type)===k.ProductType)).every((e=>r.includes(e))))),Ce=(0,s.P1)(N,ge,W,((e,r,t)=>!(!e||!ue(e))||!(!t||r)&&Object.values(t).every((e=>{var{issueStatus:r}=e;return!(0,d.uS)(r)})))),Ae=(0,s.P1)(N,ge,W,((e,r,t)=>!(!e||!ue(e))||!(!t||r)&&Object.values(t).some((e=>{var{issueStatus:r}=e;return!(0,d.uS)(r)})))),Ie=e=>Object.values(e.invoices).some((e=>e.currencyCode!==e.requestedPrice.currencyCode)),_e=(0,s.P1)(F,W,(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter((e=>r[e]&&(0,d.uS)(r[e].issueStatus)))})),Pe=(0,s.P1)(F,W,(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter((e=>r[e]&&!(0,d.uS)(r[e].issueStatus)))})),Re=(0,s.P1)((e=>e),_e,((e,r)=>H(e,r))),ke=(0,s.P1)((e=>e),Pe,((e,r)=>H(e,r))),Ne=(0,s.P1)((e=>e),F,((e,r)=>H(e,r))),Oe=(0,s.P1)((e=>e),O,fe,m.iT,((e,r,t,a)=>{var n=F(e,r);return n&&n.length>0&&t&&0===a.length})),Le=(0,s.P1)((e=>e),O,be,m.iT,((e,r,t,a)=>{var n=F(e,r);return a.length>0&&t&&n&&0===n.length})),xe=(0,s.P1)((e=>e),O,fe,be,m.iT,((e,r,t,a,n)=>{var i=F(e,r);return i&&i.length>0&&t&&n.length>0&&a})),De=(0,s.P1)(T.bq,m._w,Ce,be,((e,r,t,a)=>e>0&&r>0&&(!t||!a))),we=(0,s.P1)(Oe,Le,xe,((e,r,t)=>e||r||t)),Ze=(0,s.P1)(N,(e=>e&&Object.values(e.items).some((e=>e.type===k.PromoType)))),Fe=(e,r)=>{var t=L(e);if(!t)return{amount:0,currencyCode:"GBP"};var n=r.legs.reduce(((e,r)=>(e.push(...r.items),e)),[]),i=Object.values(t||{}).map((e=>{var{lineItems:r}=e;return r.find((e=>{var{productId:r=""}=e;return n.find((e=>e.productId===r))}))})).filter((e=>!!e)),o=n.map((r=>(0,T.NR)(e,r.productId))),s=n.map((e=>e.legId)),l=o.reduce(((e,r)=>{if(!r)return e;var t=(0,A.Iu)(s,r),a=(0,A.ux)(t);return[...e,...a]}),[]),c=((e,r,t)=>e.reduce(((e,a)=>{if(!a)return e;var{originalRetailPriceInRequestedCurrency:n={currencyCode:""}}=a,i=a.subLineItems.filter((e=>t.includes(e.reference.id)||r.includes(e.reference.id))).reduce(((e,r)=>e+r.amount),0);return{amount:e.amount+i,currencyCode:n.currencyCode}}),{amount:0,currencyCode:"GBP"}))(i,s,l);if(c.amount)return c;var d=(e=>e.reduce(((e,r)=>{var t,n=null!==(t=null==r?void 0:r.amount)&&void 0!==t?t:0;return(0,a.Z)((0,a.Z)((0,a.Z)({},e),null==r?void 0:r.originalRetailPriceInRequestedCurrency),{},{amount:e.amount+n})}),{amount:0,currencyCode:"GBP"}))(i);return d},Be=(0,s.P1)(F,f.n,((e,r)=>(0,T.IN)(e.map((e=>r[e]))))),Me=(0,s.P1)(N,(e=>e?Object.values(e.items).filter((e=>e.type===k.RelationType)):[]))},47779:(e,r,t)=>{"use strict";var a=t(43437),n=t(23198),i=t(87582),o=t(8947),s=t(73606),l=t(56590),c=t(57243),d=t(56415),u=t(426),p=t(86003),m=t(57110),g=t(66763),v=t(99462),h=t(89390),y=t(99461),f=t(13174),E=t(2321),b=t(31521),S=t(73680);(0,a.mb)([S.ZP,(e,r)=>e.ofType(v.YB).pipe((0,d.zg)((()=>{var e=r.getState();if(!(0,b.SY)(e))return(0,i.of)((0,f.Eq)({errorCodes:[p.jP.MANDATORY_RESERVATION_FAILED]}));var t,a,c=(0,g.Rs)(e),S=(0,v.HK)(e),T=c.id;return(t=S,a=c.items[0],!(t&&t[a.id]))?m.Pk().pipe((0,d.zg)((e=>(0,o.D)([(0,E.$K)(e),(0,v.Vj)((0,n.Z)((0,n.Z)({},e),{},{temporaryBasketId:T})),(0,h.BA)()])))).pipe((0,u.K)((e=>(0,s.T)((0,y.YN)(e),(0,o.D)([(0,v.Tl)((0,n.Z)((0,n.Z)({},e),{},{temporaryBasketId:T}))]))))):(0,l.c)()}))),(e,r)=>e.ofType(v.P7).pipe((0,c.U)((()=>{var e=r.getState(),t=(0,g.Rs)(e).id;return(0,v.e9)({temporaryBasketId:t})})))])},14784:(e,r,t)=>{"use strict";t.d(r,{D9:()=>le,Uy:()=>oe,VF:()=>fe,WV:()=>de,pZ:()=>ue,tg:()=>ie});var a=t(23198),n=t(82768),i=t(3713),o=t(79834),s=t(94917),l=t(18406),c=t(55265),d=t(37544),u=t(54466),p=t(87582),m=t(84589),g=t(8947),v=t(37050),h=t(42756),y=t(56415),f=t(426),E=t(57243),b=t(7185),S=t(62514),T=t(1716),C=t(66547),A=t(4710),I=t(71695),_=t(57110),P=t(41719),R=t(54575),k=t(7809),N=t(1160),O=t(78178),L=t(33243),x=t(50989),D=t(76010),w=t(16362),Z=t(59962),F=t(46090),B=t(8563),M=t(6485),U=t(17967),j=t(87764),H=t(27802),W=t(45869),G=t(9884),V=t(20066),Y=t(96586),K=t(20786),z=t(98228),J=t(97866),q=t(10587),Q=t(64411),X=t(40939),$=t(62966),ee=t(26068),re=t(13942),te=t(54285),{CUSTOMER_MIGRATION:ae,USER_PURCHASED_IN:ne}=x.Wd.MIGRATION,ie="ApplePay",oe={"InvalidCardDetailsCardNumber:FailedValidBinRangeRules":"cardType",allUnknownErrors:"default",duplicateOrderFound:"alreadyPaid",productIssuingFailed:"productIssuingFailed",productLockingFailed:"default",takePaymentFailed:"default",paymentOfferRetrievalFailed:"default",invoiceNotFound:"default",noTrainlineInvoice:"default",fraudCheckFailed:"dm3",basketPricingRetrievalFailed:"default",basketNotFound:"somethingWentWrong",basketRetrievalFailed:"default",basketInvalid:"somethingWentWrong",paymentDetailsNotFound:"default",paymentDetailsRetrievalFailed:"default",paymentCreationFailed:"default",paymentNotFound:"default",paymentRetrievalFailed:"default",customerNotFound:"somethingWentWrong",customerRetrievalFailed:"default",contextNotFound:"somethingWentWrong",contextRetrievalFailed:"default",invalidCardExpiryDate:"invalidCardExpiryDate",invalidCardSecurityCode:"invalidCardSecurityCode",cardAPIError:"default",paymentCaptureNotFound:"default",alreadyPaid:"alreadyPaid",invalidEnrolmentStatus:"default",validationError:"somethingWentWrong",invalidCustomer:"somethingWentWrong",invalidContext:"somethingWentWrong",fraudRequestError:"default",invalidProduct:"somethingWentWrong",[O.Z]:O.Z,[O.q]:O.q},se={"InvalidCardDetailsCardNumber:FailedValidBinRangeRules":"InvalidCardDetailsCardNumber:FailedValidBinRangeRules",InvalidCardExpiryDate:"invalidCardExpiryDate",InvalidCardDetailsCardSecurityCode:"invalidCardSecurityCode",66001.1:"allUnknownErrors",66001.2:"duplicateOrderFound","66001.10":"productIssuingFailed","66001.20":"productLockingFailed","66001.30":"takePaymentFailed","66001.40":"paymentOfferRetrievalFailed",66001.42:"invoiceNotFound",66001.43:"noTrainlineInvoice","66001.50":"fraudCheckFailed","66001.60":"basketPricingRetrievalFailed","66001.70":"basketNotFound",66001.71:"basketRetrievalFailed",66001.72:"basketInvalid","66001.80":"paymentDetailsNotFound",66001.81:"paymentDetailsRetrievalFailed",66001.82:"paymentCreationFailed",66001.83:"paymentNotFound",66001.84:"paymentRetrievalFailed","66001.90":"customerNotFound",66001.91:"customerRetrievalFailed",66001.92:"contextNotFound",66001.93:"contextRetrievalFailed",40222.1:"allUnknownErrors","40222.10":"cardAPIError","40222.20":"paymentCaptureNotFound","40222.30":"alreadyPaid","40222.40":"invalidEnrolmentStatus",40396.1:"allUnknownErrors","40396.10":"validationError","40396.20":"invalidCustomer","40396.30":"invalidContext","40396.40":"fraudRequestError","40396.50":"invalidProduct"},le=e=>oe[se[e.message]||e.message]||"default",ce={cardType:"page.checkout.paymentForm.cardType",cardNumber:"page.checkout.paymentForm.cardNumber",cardHolderName:"page.checkout.paymentForm.cardName",cardExpirationMonth:"page.checkout.paymentForm.submitError.expiryMonth",cardExpirationYear:"page.checkout.paymentForm.submitError.expiryYear",cardCVV:"page.checkout.paymentForm.securityCode",country:"page.checkout.paymentForm.submitError.billingAddress",postCode:"page.checkout.paymentForm.submitError.billingAddress",addressLine1:"page.checkout.paymentForm.submitError.billingAddress",addressLine2:"page.checkout.paymentForm.submitError.billingAddress",addressLine3:"page.checkout.paymentForm.submitError.billingAddress",addressLine4:"page.checkout.paymentForm.submitError.billingAddress",city:"page.checkout.paymentForm.submitError.billingAddress",state:"page.checkout.paymentForm.submitError.billingAddress",cardNickName:"page.checkout.paymentForm.submitError.cardNickName",confirmationEmails:"page.checkout.paymentForm.submitError.confirmationEmails"},de=(e,r)=>{var t=(0,a.Z)((0,a.Z)((0,a.Z)({},(0,i.Z)(r)(e)),(0,o.Z)(r)(e)),(0,s.Z)(r)(e));return(0,n.jj$)(Object.keys(ce).filter((e=>t[e])).map((e=>ce[e])))},ue=(e,r)=>{var t,a,n=(t=r)instanceof k.Ak?null===(a=t.data[0])||void 0===a?void 0:a.code:t.message;return"66001.41"===n||"DesktopWeb.Payments.InvalidPaymentOffer"===n?(0,Y.Iw)().pipe((0,y.zg)((e=>{if(e.type===V.kX){var r=e.payload.primary.id;return[e,(0,B.wn)({basketId:r,error:new Error(O.Z)}),(0,Z.Om)()]}return[]}))):(0,u.z)((0,p.of)((0,B.wn)({basketId:e,error:r})),(0,p.of)((0,Z.ym)()))},pe=(e,r)=>(0,u.z)(ue(e,r),(0,p.of)((0,l.m)(G.Th,"cardCVV","")),(0,p.of)((0,l.OP)(G.Th,"cardCVV")),(0,p.of)((0,Z.ym)())),me=(e,r)=>{var t=(0,Z.Fb)(e),a=t&&(t.paymentDetailsId||t.paymentDetailsUri);return(0,m.D)((0,$.E)(e),a?(0,_.nV)(t):(0,p.of)({}),(0,G.SW)(e)?(0,_.j9)((0,G.M3)(e)):(0,p.of)({})).pipe((0,f.K)((()=>[{}])),(0,E.U)((()=>(0,B.Ri)({orderId:r}))))},ge=(e,r,a,n)=>{var{orderId:i,paymentId:o,enrolment:s}=e,l="Prod"===a?"PRODUCTION":null;return s.threeDSessionUri?(0,g.D)(t.e(80517).then(t.bind(t,96216))).pipe((0,b.w)((e=>(0,g.D)(e.authenticate(s.threeDSessionUri,{env:l})).pipe((0,E.U)((e=>e.paymentSuccess?(0,B.xd)({orderId:i,carriers:n}):pe(r,new Error("Payment was not successful.")))),(0,f.K)((e=>pe(r,e))))))):(0,v.s)((()=>!!s.payerAuthenticationRequired),(0,p.of)((0,F.nC)({basketId:r,orderId:i,paymentId:o,data:s})),(0,p.of)((0,B.xd)({orderId:i,carriers:n})))},ve=e=>Object.values((0,w.GR)(e)).filter(Boolean).map((e=>e.name)),he=e=>{window.location.href=e},ye={card:(0,g.D)([(0,l.mc)(G.Th),(0,R.Jn)()]),paypal:(0,p.of)((0,l.mc)(W.Th)),applepay:(0,p.of)((0,d.EE)({id:ie,state:{hasBeenSubmitted:!1}})),resetPaymentMethod:(0,p.of)((0,d.EE)({id:B.u3,state:{paymentMethod:void 0}}))},fe=(0,c.l)(((e,r)=>e.ofType(B.Kv).pipe((0,b.w)((e=>{var t,i=r.getState(),o=(0,K.$l)(i),s=(0,M.zp)(i,e.payload.cardId),l=(0,ee.Az)(i,s),c=l?l.id:"",d=(0,U.TO)(i),m=(0,J.Xc)(i);if(!o)return(0,h._)({error:new Error("Missing basketId on prepareSavedCardPaymentEpic")});var g=(0,Q.H)(i);null!==(t=e.payload.insuranceState)&&void 0!==t&&t.itineraryRecommendation&&(g=(0,Q.A)(e.payload.insuranceState));var v=(0,a.Z)((0,a.Z)({},(0,n.CEd)(["index","insuranceState"],e.payload)),{},{paymentOfferId:c,basketId:o,confirmationEmails:d,insuranceDetails:g,carriers:ve(i)});return(0,$.i)(i).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:o})),(0,_.oJ)(v).pipe((0,b.w)((e=>ge(e.data,o,m,ve(i)))))))),(0,f.K)((e=>pe(o,e))))})))),((e,r)=>{var{getState:t}=r;return e.ofType(B.ek).pipe((0,b.w)((e=>{var{payload:{token:r,insuranceState:a}}=e,n=t(),i=(0,K.$l)(n),o=(0,D.Er)(n),s=(0,U.TO)(n),l=(0,Z.Pp)(n),c=(0,J.Xc)(n),d=(0,H.Fv)(n),m=ve(n);if(!i)return(0,h._)({error:new Error("Missing basketId on prepareNewCardPaymentV2Epic")});var g=[],v=(0,H.WG)(n);return!v&&d?g.push((0,_.w7)(d).pipe((0,E.U)((e=>(0,P.RG)({basketId:i,paymentOffers:e.data}))),(0,b.w)((e=>{var{payload:{paymentOffers:r}}=e;if(r){var t=(0,L._)(r,d);return(0,p.of)(t)}return(0,h._)({error:new Error("Missing paymentOffers on prepareNewCardPaymentV2Epic")})})))):g.push((0,p.of)(v)),r&&l?(0,$.i)(n).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:i})),(0,u.z)(...g,(0,_.eT)(r,l)).pipe((0,S.q)(),(0,b.w)((e=>{var[r,n]=e,l=r,{paymentDetailsId:d,saveCard:g,cardNickname:v}=n,y=(0,Q.H)(t());return null!=a&&a.itineraryRecommendation&&(y=(0,Q.A)(a)),l?(0,_.SC)({paymentOfferId:l.id,paymentDetailsId:d,basketId:i,isBillingAddressRequired:o,confirmationEmails:s,insuranceDetails:y,carriers:m}).pipe((0,b.w)((e=>(0,u.z)(ge(e.data,i,c,m),((e,r,t,a)=>(0,p.of)((0,Z.K8)({cardData:e?{paymentDetailsId:r,isBillingAddressRequired:t,cardNickname:a}:void 0})))(!!g,d,o,v)))),(0,f.K)((e=>ue(i,e)))):(0,h._)({error:new Error("Missing paymentOffer on prepareNewCardPaymentV2Epic")})}))))))):ue(i,new Error)})))}),((e,r)=>{var{getState:t}=r;return e.ofType(B._P).pipe((0,E.U)((e=>{var{payload:{token:r,lastFourCardDigits:a}}=e;return{state:t(),token:r,lastFourCardDigits:a}})),(0,E.U)((e=>{var{state:r,token:t,lastFourCardDigits:a}=e;return{state:r,token:t,lastFourCardDigits:a,paymentOffer:(0,H.WG)(r),basketId:(0,K.$l)(r),sessionId:(0,Z.Pp)(r),storedCardToken:(0,H.Fv)(r),storedCardType:(0,H.eY)(r)}})),(0,b.w)((e=>{var{basketId:r,token:t,lastFourCardDigits:a,paymentOffer:n,sessionId:i,storedCardToken:o,storedCardType:s}=e;return r&&n?t&&i?(0,_.eT)(t,i).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,Z.Ss)({formCardToken:o,formCardType:s,formLastFourCardDigits:a,formToken:t})),(0,p.of)((0,B.zI)(!0)),(0,p.of)((0,Z.Qd)())))),(0,f.K)((e=>ue(r,e))),(0,T.x)((()=>(0,q.p)(!1)))):(0,u.z)((0,p.of)((0,q.p)(!1)),ue(r,new Error)):(0,u.z)((0,p.of)((0,q.p)(!1)),(0,h._)({error:new Error("Missing basketId or paymentOffer on prepareSubmitCardDetails")}))})))}),((e,r)=>e.ofType(B.Ws).pipe((0,y.zg)((e=>{var t=r.getState(),n=(0,z.B5)(t),i=(0,K.$l)(t),o=ve(t);if(!n||!i)return(0,h._)(new Error("Missing orderId or basketId on validateAndConfirmCardPaymentEpic"));var s=(0,a.Z)((0,a.Z)({},e.payload),{},{orderId:n,carriers:o});return(0,u.z)((0,p.of)((0,F.dq)({basketId:i})),(0,_.jR)(s).pipe((0,b.w)((()=>me(t,n))),(0,f.K)((e=>pe(i,e)))))})))),((e,r)=>e.ofType(B._J).pipe((0,b.w)((e=>{var{payload:{orderId:t,carriers:a}}=e;return(0,_.rR)(t,a).pipe((0,b.w)((e=>me(r.getState(),e.orderId))),(0,f.K)((e=>{var t=r.getState(),a=(0,K.$l)(t);return pe(a,e)})))})))),((e,r)=>e.ofType(B.Yg).pipe((0,b.w)((e=>{var t=r.getState(),a=(0,ee.AD)(t),n=(0,re.V7)(t),i=(0,re.V1)(t),o=(0,re.Sx)(t),s=(0,K.$l)(t),l=(0,U.TO)(t),{insuranceState:c}=e.payload;if(n&&i&&o&&a&&s){var d={addressLine1:o.line1||"",addressLine2:o.city||o.line2||"X",postCode:o.postalCode||""},m=(0,Q.H)(t,d);null!=c&&c.itineraryRecommendation&&(m=(0,Q.A)(c,d));var g={paymentOfferId:a,nonce:n,email:i,basketId:s,confirmationEmails:l,insuranceDetails:m};return e.payload.formSubmitResolve(),(0,$.i)(t).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:s})),(0,_.Qf)(g).pipe((0,b.w)((e=>(0,$.E)(t).pipe((0,f.K)((()=>[{}])),(0,C.h)(e)))),(0,E.U)((e=>(0,B.Ri)({orderId:e.orderId}))))).pipe((0,f.K)((e=>((e,r)=>(0,u.z)((0,p.of)((0,B.TE)({methods:["applepay","card"]})),ue(r,e)))(e,s)))))))}return e.payload.formSubmitReject(),ue(s,new Error("Missing required parameters on doPayPalPayment"))})))),((e,r)=>{var{getState:t}=r;return e.ofType(B.Up).pipe((0,b.w)((()=>{var e=t(),r=(0,ee.Vn)(e),a=(0,K.$l)(e),n=(0,U.TO)(e);if(!a||!r)return(0,h._)({error:new Error("Missing basketId or paymentOfferId on sofortDoPaymentEpic")});var i={paymentOfferId:r,basketId:a,confirmationEmails:n,carriers:ve(e)};return(0,$.i)(e).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:a,message:"page.checkout.loading"})),(0,_.Te)(i).pipe((0,E.U)((e=>{var r;return null!=e&&null!==(r=e.authorisation)&&void 0!==r&&r.redirectUri?(he(e.authorisation.redirectUri),(0,B.gB)()):(0,B.wn)({basketId:a,error:new Error("No redirectUri available")})})),(0,f.K)((e=>ue(a,e))))))))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(B.hm).pipe((0,b.w)((()=>{var e=t(),r=(0,ee.Ch)(e),a=(0,K.$l)(e),n=(0,U.TO)(e);if(!a||!r)return(0,h._)({error:new Error("Missing basketId or paymentOfferId on satispayDoPaymentEpic")});var i={paymentOfferId:r,basketId:a,confirmationEmails:n,carriers:ve(e)};return(0,$.i)(e).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:a,message:"page.checkout.loading"})),(0,_.fg)(i).pipe((0,E.U)((e=>{var r;return null!=e&&null!==(r=e.authorisation)&&void 0!==r&&r.redirectUri?(he(e.authorisation.redirectUri),(0,B.gB)()):(0,B.wn)({basketId:a,error:new Error("No redirectUri available")})})),(0,f.K)((e=>ue(a,e))))))))})))}),((e,r)=>e.ofType(B.Mc).pipe((0,b.w)((e=>{var t=r.getState(),n=(0,ee.Vq)(t),i=(0,K.$l)(t),o=(0,U.TO)(t);if(!i||!n)return(0,h._)({error:new Error("Missing basketId or paymentOfferId on idealDoPaymentEpic")});var s=(0,a.Z)({paymentOfferId:n,basketId:i,confirmationEmails:o,carriers:ve(t)},e.payload);return(0,$.i)(t).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:i,message:"page.checkout.loading"})),(0,_.nk)(s).pipe((0,E.U)((e=>e&&e.authorisation&&e.authorisation.redirectUri?(he(e.authorisation.redirectUri),(0,B.gB)()):(0,B.wn)({basketId:i,error:new Error("No redirectUri available")}))),(0,f.K)((e=>ue(i,e))))))))})))),((e,r)=>{var{getState:t}=r,a=(0,X.dX)(t());return e.ofType(B.lr).pipe((0,b.w)((e=>(0,u.z)((0,p.of)((0,Z.PX)(e.payload)),(0,p.of)((0,B.f2)()),(0,p.of)((0,te.$)())))),(0,A.b)((()=>{N.at&&a===I.Vd.SPANISH&&(0,x.WM)(ae,ne(a.toUpperCase()))})))}),(e=>e.ofType(B.Zt).pipe((0,b.w)((e=>(0,u.z)(...(e=>{var{methods:r}=e;return r&&r.length?r.filter((e=>!!e&&Object.keys(ye).includes(e))).map((e=>ye[e])):[]})(e.payload).concat([ye.resetPaymentMethod])))))),(e=>e.ofType(B.my).pipe((0,b.w)((()=>[(0,l.ob)(G.Th,W.Th,j.T),(0,d.k5)({id:B.u3}),(0,d.k5)({id:ie}),(0,R.Jn)()])))),((e,r)=>{var{getState:t}=r;return e.ofType(B.ve).pipe((0,E.U)((()=>t())),(0,E.U)((e=>({paymentOfferId:(0,ee.EI)(e),basketId:(0,K.$l)(e),state:e}))),(0,b.w)((e=>{var{paymentOfferId:r,basketId:t,state:a}=e;if(!t||!r)return(0,h._)({error:new Error("Missing basketId or paymentOfferId on doZeroChargePaymentEpic")});var n={paymentOfferId:r,basketId:t,confirmationEmails:[],carriers:ve(a)};return(0,$.i)(a).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:t})),(0,_.tH)(n).pipe((0,b.w)((e=>(0,$.E)(a).pipe((0,f.K)((()=>[{}])),(0,C.h)(e)))),(0,E.U)((e=>(0,B.Ri)({orderId:e.orderId}))))).pipe((0,f.K)((e=>ue(t,e)))))))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(B.Gv).pipe((0,E.U)((()=>t())),(0,E.U)((e=>({paymentOfferId:(0,ee.UO)(e),basketId:(0,K.$l)(e),state:e}))),(0,b.w)((e=>{var{paymentOfferId:r,basketId:t,state:a}=e;if(!t||!r)return(0,h._)({error:new Error("Missing basketId or paymentOfferId on doOnAccountPaymentEpic")});var n={paymentOfferId:r,basketId:t,confirmationEmails:[],carriers:ve(a)};return(0,$.i)(a).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:t})),(0,_.k)(n).pipe((0,b.w)((e=>(0,$.E)(a).pipe((0,f.K)((()=>[{}])),(0,C.h)(e)))),(0,E.U)((e=>(0,B.Ri)({orderId:e.orderId}))))).pipe((0,f.K)((e=>ue(t,e)))))))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(B.i_).pipe((0,b.w)((e=>{var r=t(),a=(0,ee.c7)(r),n=(0,K.$l)(r),i=(0,U.TO)(r);if(!n||!a)return(0,h._)({error:new Error("Missing basketId or paymentOfferId on googlePayDoPaymentEpic")});var o={paymentOfferId:a,basketId:n,confirmationEmails:i,customer:{fullName:e.payload.name,email:e.payload.email},token:e.payload.token,cardType:e.payload.cardType};return(0,$.i)(r).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:n,message:"page.checkout.loading"})),(0,_.CO)(o).pipe((0,b.w)((e=>(0,$.E)(r).pipe((0,f.K)((()=>[{}])),(0,C.h)(e)))),(0,E.U)((e=>(0,B.Ri)({orderId:e.orderId}))))).pipe((0,f.K)((e=>ue(n,e)))))))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(B.QU).pipe((0,E.U)((()=>t())),(0,E.U)((e=>({paymentOfferId:(0,ee.jg)(e),basketId:(0,K.$l)(e),state:e}))),(0,b.w)((e=>{var{paymentOfferId:r,basketId:t,state:a}=e;if(!t||!r)return(0,h._)({error:new Error("Missing basketId or paymentOfferId on doOnAccountPaymentEpic")});var n={paymentOfferId:r,basketId:t,confirmationEmails:[],carriers:ve(a)};return(0,$.i)(a).pipe((0,b.w)((()=>(0,u.z)((0,p.of)((0,B.X_)({basketId:t})),(0,_.Js)(n).pipe((0,b.w)((e=>(0,$.E)(a).pipe((0,f.K)((()=>[{}])),(0,C.h)(e)))),(0,E.U)((e=>(0,B.Ri)({orderId:e.orderId}))))).pipe((0,f.K)((e=>ue(t,e)))))))})))}))},26068:(e,r,t)=>{"use strict";t.d(r,{g1:()=>A,PR:()=>E,c_:()=>b,pr:()=>se,YC:()=>le,_b:()=>h,jg:()=>he,ZC:()=>ie,P5:()=>L,FL:()=>ee,c7:()=>$,$4:()=>Y,Vq:()=>z,Vc:()=>me,wy:()=>Q,Oo:()=>K,bf:()=>pe,B0:()=>N,Lu:()=>j,zb:()=>Z,PL:()=>oe,UO:()=>ve,HL:()=>J,Az:()=>te,h3:()=>ae,Hg:()=>re,bw:()=>R,AD:()=>P,Ch:()=>H,Vn:()=>F,EI:()=>S});var a=t(82768),n=t(32034),i=t(3731),o=function(e){return e.Satispay="satispay",e.Sofort="sofort",e.Ideal="ideal",e.Paypal="paypal",e.Zerocharge="zerocharge",e.Onaccount="onaccount",e.Googlepay="googlepay",e.Card="card",e.BusinessCard="businesscard",e}({}),s=t(78052),l=t(41719),c=t(97866),d=["AmericanExpress","DinersClub","Maestro","MasterCardCredit","MasterCardDebit","MasterCard","VisaCredit","VisaDebit","Visa","InternationalVisaDebit","InternationalMasterCardDebit"],u=["ApplePayCredit","ApplePayDebit"],p="ZeroCharge",m="OnAccount",g="BusinessCard",v=(0,n.P1)(l.oo,(e=>e&&e.offers?Object.keys(e.offers).filter((r=>d.includes(e.offers[r].paymentMethod))).map((r=>e.offers[r])):[])),h=(0,n.P1)(l.oo,(e=>e&&e.offers?Object.keys(e.offers).filter((r=>u.includes(e.offers[r].paymentMethod))).map((r=>e.offers[r])):[])),y=(0,n.P1)(v,h,((e,r)=>e.concat(r))),f=(0,n.P1)(l.oo,(e=>e&&e.offers&&Object.keys(e.offers).filter((r=>"CardPayment"===e.offers[r].paymentMethod)).map((r=>e.offers[r]))[0]||null)),E=(0,n.P1)(v,f,((e,r)=>!(!e.length||!e.some((e=>e.availability.isAvailable)))||!(!r||!r.availability.isAvailable))),b=(0,n.P1)(l.oo,(e=>!(!e||!e.offers)&&Object.keys(e.offers).some((r=>e.offers[r].paymentMethod===p&&e.offers[r].availability.isAvailable)))),S=(0,n.P1)(l.oo,(e=>{if(e&&e.offers){var r=Object.keys(e.offers).find((r=>e.offers[r].paymentMethod===p));return r&&e.offers[r]&&e.offers[r].id}})),T=(0,n.P1)(s.O,(e=>e.applePay)),C=((0,n.P1)(h,(e=>{var r=(0,a.Z$Q)(e);return e.length&&r&&r.id})),(0,n.P1)(T,(e=>{var{canPay:r}=e;return r}))),A=(0,n.P1)(h,C,((e,r)=>!!e.filter((e=>e.availability.isAvailable)).length&&r)),I=(0,n.P1)(l.oo,(e=>e&&e.offers?Object.keys(e.offers).filter((r=>"PayPal"===e.offers[r].paymentMethod)).map((r=>e.offers[r])):[])),_=((0,n.P1)(I,(e=>!!e.length)),(0,n.P1)(I,(e=>(0,a.Z$Q)(e)))),P=(0,n.P1)(_,(e=>e&&e.id)),R=(0,n.P1)(_,(e=>e&&e.totalAmount)),k=(0,n.P1)(_,(e=>e&&e.availability)),N=(0,n.P1)(k,(e=>!!e&&e.isAvailable)),O=(0,n.P1)(k,(e=>e&&e.reasons)),L=(0,n.P1)(O,(e=>{if(e){var r=(0,a.YMb)(e);return r&&r.code}})),x=(0,n.P1)(l.oo,(e=>e&&e.offers?Object.keys(e.offers).filter((r=>e.offers[r].paymentMethod.toLowerCase()===o.Sofort)).map((r=>e.offers[r])):[])),D=(0,n.P1)(x,(e=>(0,a.Z$Q)(e))),w=(0,n.P1)(D,(e=>e&&e.availability)),Z=(0,n.P1)(w,(e=>!!e&&e.isAvailable)),F=(0,n.P1)(D,(e=>e&&e.id)),B=(0,n.P1)(l.oo,(e=>e&&e.offers?Object.keys(e.offers).filter((r=>e.offers[r].paymentMethod.toLowerCase()===o.Satispay)).map((r=>e.offers[r])):[])),M=(0,n.P1)(B,(e=>(0,a.Z$Q)(e))),U=(0,n.P1)(M,(e=>e&&e.availability)),j=(0,n.P1)(U,(e=>!!e&&e.isAvailable)),H=(0,n.P1)(M,(e=>e&&e.id)),W=(0,n.P1)(l.oo,(e=>e&&e.offers?Object.keys(e.offers).filter((r=>"iDEAL"===e.offers[r].paymentMethod)).map((r=>e.offers[r])):[])),G=(0,n.P1)(W,(e=>(0,a.Z$Q)(e))),V=(0,n.P1)(G,(e=>e&&e.availability)),Y=(0,n.P1)(G,(e=>e&&e.issuers)),K=(0,n.P1)(V,Y,((e,r)=>!!(e&&r&&r.length>0)&&e.isAvailable)),z=(0,n.P1)(G,(e=>e&&e.id)),J=(0,n.P1)(y,(e=>{var r={};return e.forEach((e=>r[e.paymentMethod]=e.totalPaymentFeeAmount)),r})),q=(0,n.P1)(l.oo,(e=>e&&e.offers?Object.keys(e.offers).filter((r=>"GooglePay"===e.offers[r].paymentMethod)).map((r=>e.offers[r])):[])),Q=(0,n.P1)(q,(e=>e.some((e=>e.availability.isAvailable)))),X=(0,n.P1)(q,(e=>(0,a.Z$Q)(e))),$=(0,n.P1)(X,(e=>e&&e.id)),ee=(0,n.P1)(X,(e=>e&&e.totalAmount)),re=(0,n.P1)(v,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,r)=>(r.cardToken&&(e[r.cardToken]=r),e)),{})})),te=(0,n.P1)(re,((e,r)=>r.cardToken),(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.length?e[r]:void 0})),ae=(0,n.P1)(y,(e=>e.reduce(((e,r)=>(e[r.paymentMethod]=r.totalAmount,e)),{}))),ne=(0,n.P1)(y,(e=>e.reduce(((e,r)=>(e[r.paymentMethod]=r.totalPaymentFeeAmount,e)),{}))),ie=((0,n.P1)(ae,((e,r)=>r),((e,r)=>e[r]&&e[r])),(0,n.P1)(ne,((e,r)=>r),((e,r)=>e[r])),(0,n.P1)(l.oo,(e=>e&&e.currencyCode))),oe=(0,n.P1)(l.oo,(e=>!!(e&&e.offerIds&&e.offerIds.length))),se=e=>{if(e&&!e.availability.isAvailable)return e.availability.reasons.find((e=>{var{code:r}=e;return r===i.G.PaymentMethodNotSupportedForProduct}))},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[,r=""]=e.match(/'([^']+)'/)||[];return r},ce=(e,r)=>e&&e.offers?Object.keys(e.offers).filter((t=>e.offers[t].paymentMethod===r)).map((r=>e.offers[r])):[],de=(0,n.P1)(l.oo,(e=>ce(e,m))),ue=(0,n.P1)(l.oo,(e=>ce(e,g))),pe=(0,n.P1)(de,c.T1,((e,r)=>!0===r&&e.some((e=>e.availability.isAvailable)))),me=(0,n.P1)(ue,c.JU,((e,r)=>!0===r&&e.some((e=>e.availability.isAvailable)))),ge=(e,r)=>{if(e&&e.offers){var t=Object.keys(e.offers).find((t=>e.offers[t].paymentMethod===r));return t&&e.offers[t]&&e.offers[t].id}},ve=(0,n.P1)(l.oo,(e=>ge(e,m))),he=(0,n.P1)(l.oo,(e=>ge(e,g)))},13942:(e,r,t)=>{"use strict";t.d(r,{VF:()=>k,Sx:()=>P,Fo:()=>R,V1:()=>_,V7:()=>I});var a=t(42756),n=t(87582),i=t(54466),o=t(46949),s=t(75915),l=t(8947),c=t(68480),d=t(32034),u=t(7185),p=t(426),m=t(40939),g=t(64472),v=t(97430),h=t(59462),y=t(84589),f=t(82838),E=function(){var e=(0,v.Z)((function*(e,r,t,a,n){if("undefined"!=typeof window){if(window.paypal)return e(window.paypal);var i=window.document.createElement("script");i.type="text/javascript",i.onload=()=>e(window.paypal),i.onerror=()=>r(new Error("Paypal Buttons client load error"));var o=(0,f.K)(n);i.src="https://www.paypal.com/sdk/js?client-id=".concat(t,"&intent=capture&commit=false&currency=").concat(a,"&locale=").concat(o),window.document.getElementsByTagName("head")[0].appendChild(i)}}));return function(r,t,a,n,i){return e.apply(this,arguments)}}(),b=(0,h.P)((()=>(0,l.D)(t.e(44873).then(t.t.bind(t,45428,23))))),S=(0,h.P)((()=>(0,l.D)(t.e(24542).then(t.t.bind(t,93695,23))))),T=t(51001),C=t(20786),A=t(97866),I=(0,d.P1)(g.Hs,(e=>e&&e.nonce)),_=(0,d.P1)(g.Hs,(e=>e&&e.email)),P=(0,d.P1)(g.Hs,(e=>e&&e.billingAddress)),R=((0,d.P1)(I,(e=>!!e)),(0,d.P1)(g.Hs,(e=>e&&e.paypalCheckoutInstance))),k=(e,r)=>e.ofType(g.eP).pipe((0,u.w)((e=>{var t=r.getState(),d=(0,C.$l)(t);if(!d)return(0,a._)({error:new Error("Missing primary basket id")});var v=e.payload.clientToken;if(!v)return(0,n.of)((0,g.eW)({basketId:d}));var h=(0,A.Nl)(t),f=(0,T.ZC)(t);return((e,r,t)=>(0,y.D)(b,S,(0,l.D)(new Promise(((a,n)=>{E(a,n,e,r,t)})))))(h[f.toUpperCase()]||h.MCP,f,(0,m.fN)(t)).pipe((0,u.w)((e=>{var[r,t]=e;return(0,i.z)((0,n.of)((0,g.gA)({basketId:d})),(0,o.S3)((0,s.$)(r.create)({authorization:v}).pipe((0,u.w)((e=>(0,s.$)(t.create)({client:e}))),(0,u.w)((e=>(0,l.D)([(0,g.hz)({instance:e}),(0,g.eW)({basketId:d})])))),(0,c.F)(3e4).pipe((0,u.w)((()=>(0,a._)("PayPal instance creation timeout"))))).pipe((0,p.K)((e=>(0,n.of)((0,g.rB)({basketId:d,error:e}))))))})),(0,p.K)((e=>(0,n.of)((0,g.rB)({basketId:d,error:e})))))})))},31521:(e,r,t)=>{"use strict";t.d(r,{$c:()=>x,DX:()=>$,ER:()=>J,Gt:()=>B,HG:()=>Y,HN:()=>H,Ht:()=>E,IN:()=>T,NR:()=>Z,SY:()=>C,VO:()=>j,Vc:()=>k,Xt:()=>_,YZ:()=>Q,aw:()=>z,bq:()=>W,c7:()=>L,ck:()=>q,o:()=>X,qK:()=>A,qO:()=>w,rj:()=>P,sk:()=>U,uc:()=>D,vx:()=>F,wD:()=>R,wd:()=>K});var a=t(84025),n=t.n(a),i=t(32034),o=t(60654),s=t(24087),l=t(84182),c=t(59838),d=t(68760),u=t(92490),p=t(24879),m=t(94018),g=t(20786),v=t(7256),h=t(6105),y=t(80609),f=e=>e.vouchers&&e.vouchers.length,E=e=>!!e&&e.some((e=>e&&e.fares.some(f))),b=e=>!!e.find((e=>e.commercials&&["atoc","nx"].includes(e.commercials.id.toLowerCase())||!1)),S=e=>!!e.find((e=>e.commercials&&!["atoc","nx"].includes(e.commercials.id.toLowerCase())||!1)),T=e=>{var r=e&&e.find((e=>e&&e.fares.some(f))),t=r&&r.fares.find(f);return t&&t.vouchers&&t.vouchers.length&&t.vouchers[0].hasOwnProperty("code")?t.vouchers[0].code:void 0},C=(0,i.P1)(p.n,g.D4,((e,r)=>r&&r.productId?e[r.productId]:void 0)),A=(0,i.P1)(p.n,g.eU,((e,r)=>r?r.map((r=>r.productId&&e[r.productId])).filter(c.v):[])),I=(0,i.P1)(A,(e=>e.map((e=>e.outwardJourneyPlan)).filter(c.v))),_=((0,i.P1)(I,(e=>{var r=e.sort(((e,r)=>n()(e.legs[0].localArriveAt).isBefore(r.legs[0].localArriveAt)?-1:1)).find(Boolean);return r&&r.origin.id})),(0,i.P1)(I,(e=>{var r=e.sort(((e,r)=>n()(e.legs[0].localDepartAt).isAfter(r.legs[0].localDepartAt)?-1:1)).find(Boolean);return r&&r.destination.id})),(0,i.P1)(A,m.vR,((e,r)=>S(e)?r&&r===s.ZP.COACH?o.Experiences.EU_COACH:o.Experiences.EU_TRAIN:r&&r===s.ZP.COACH?o.Experiences.NATIONAL_EXPRESS_COACH:o.Experiences.UK_TRAIN))),P=(0,i.P1)(_,(e=>[o.Experiences.EU_TRAIN,o.Experiences.EU_COACH].includes(e))),R=(0,i.P1)(_,(e=>[o.Experiences.UK_TRAIN,o.Experiences.NATIONAL_EXPRESS_COACH].includes(e))),k=(0,i.P1)(p.n,g.s,((e,r)=>r.filter((r=>Boolean(r.productId&&e[r.productId]))).map((r=>e[r.productId])))),N=(0,i.P1)(p.n,g.eU,((e,r)=>r.filter((r=>Boolean(r.productId&&e[r.productId]))).map((r=>e[r.productId])))),O=(0,i.P1)(p.n,g.Q,((e,r)=>r.filter((r=>Boolean(r.productId&&e[r.productId]))).map((r=>e[r.productId])))),L=(0,i.P1)(k,u.Yu,S),x=(0,i.P1)(k,u.Yu,b),D=(0,i.P1)(k,(e=>e?Object.values(e).filter((e=>Boolean(e&&e.meta&&e.meta.warnings.some((e=>"travelProtocol.seatsAutoAllocated"===e.code))))).map((e=>null==e?void 0:e.itineraryCorrelation)):[])),w=((0,i.P1)(k,(e=>!!e&&Object.values(e).some((e=>Boolean(e&&e.meta&&e.meta.warnings.some((e=>"travelProtocol.seatsAutoAllocated"===e.code))))))),(0,i.P1)(k,(e=>!!e&&Object.values(e).some((e=>Boolean(e&&e.meta&&e.meta.warnings.some((e=>"travelProtocol.reservationPriceChanged"===e.code)))))))),Z=(0,i.P1)(p.n,((e,r)=>r),((e,r)=>e[r])),F=(0,i.P1)(((e,r)=>[Z(e,r)]),u.Yu,S),B=(0,i.P1)(((e,r)=>[Z(e,r)]),u.Yu,b),M=(0,i.P1)(((e,r)=>[r]),S),U=(0,i.P1)(((e,r)=>({state:e,correlationId:r})),k,((e,r)=>{var{state:t,correlationId:a}=e;return r.filter(c.v).find((e=>M(t,e)&&e.itineraryCorrelation===a))})),j=(0,i.P1)(p.n,((e,r)=>r),((e,r)=>r.reduce(((r,t)=>{var a=e[t];return a&&r.push(a),r}),[]))),H=(0,i.P1)(j,(e=>!!e&&e.some((e=>e&&e.isPrmBooking)))),W=(0,i.P1)(p.n,(e=>Object.keys(e).length)),G=(0,i.P1)((e=>e),k,O,((e,r,t)=>[...r,...t].filter((r=>F(e,r.id))))),V=(0,i.P1)(G,v.EI,((e,r)=>e.some((e=>e.listPrice.currencyCode!==r)))),Y=(0,i.P1)(((e,r)=>r),G,v.EI,((e,r,t)=>{var a=r.find((r=>Boolean(r&&r.itineraryCorrelation===e.id)));return Boolean(a&&a.listPrice.currencyCode!==t)})),K=(0,i.P1)(V,d.L6,((e,r)=>Boolean(e&&r))),z=(0,i.P1)(Y,d.L6,((e,r)=>Boolean(e&&r))),J=(0,i.P1)(g.s,((e,r)=>r),((e,r)=>e.some((e=>e.id===r))?l.I.ACTIVE:l.I.PASSIVE)),q=(0,i.P1)(k,E),Q=(0,i.P1)(N,E),X=(0,i.P1)(k,(e=>e.filter((e=>e&&e.fares.some(f))).length>1)),$=(0,i.P1)(N,h.I7,((e,r)=>e.some((e=>{var t;return e.outwardJourneyPlan.legs.some((e=>{var t;return(null===(t=r[e.transportModeEntity.id])||void 0===t?void 0:t.mode)===y.He.BUS}))||(null===(t=e.inwardJourneyPlan)||void 0===t||null===(t=t.legs)||void 0===t?void 0:t.some((e=>{var t;return(null===(t=r[e.transportModeEntity.id])||void 0===t?void 0:t.mode)===y.He.BUS})))}))))},41152:(e,r,t)=>{"use strict";t.d(r,{$C:()=>qe,$H:()=>We,$Y:()=>F,A_:()=>Ke,Ad:()=>fr,B8:()=>jr,BH:()=>Ze,BW:()=>br,Bu:()=>ie,C:()=>ke,D8:()=>or,DO:()=>Tr,Dw:()=>ge,Ez:()=>G,F$:()=>Cr,F0:()=>Q,FG:()=>dr,Fo:()=>Rr,Fz:()=>Xe,Gg:()=>Y,Gj:()=>ce,HJ:()=>_e,L:()=>Ye,Lp:()=>Ur,MF:()=>ae,MT:()=>X,NG:()=>De,QD:()=>ze,QM:()=>ve,Qq:()=>te,ST:()=>J,Sk:()=>Be,Tq:()=>B,UL:()=>Hr,W2:()=>de,WK:()=>rr,_8:()=>W,_E:()=>hr,_V:()=>M,_n:()=>Fe,af:()=>Qe,cg:()=>gr,df:()=>yr,eP:()=>je,fZ:()=>ye,fg:()=>he,gk:()=>Yr,i0:()=>le,iB:()=>Le,iS:()=>ee,jc:()=>er,jq:()=>ir,kq:()=>Te,kx:()=>Br,l3:()=>oe,lu:()=>Ae,mF:()=>Ne,m_:()=>sr,nt:()=>pr,pw:()=>Ir,px:()=>V,s8:()=>U,sA:()=>Sr,tH:()=>j,to:()=>Gr,uf:()=>_r,uv:()=>Ar,vt:()=>Vr,wF:()=>pe,wG:()=>Re,xK:()=>mr,yV:()=>He,z1:()=>ur,zR:()=>Pe});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(60654),c=t(82758),d=t(17038),u=t(59838),p=t(72385),m=t(90042),g=t(93601),v=t(16362),h=t(97183),y=t(62331),f=t(10526),E=t(92490),b=t(69918),S=t(24879),T=t(6105),C=t(9410),A=t(29433),I=t(51001),_=t(20786),P=t(34075),R=t(61229),k=t(32554),N=t(31521),O=t(67147),L=t(58780),x=t(71695),D=t(10552),w=t(80911),Z=t(4385),F=e=>(0,o.ETc)(["deliveries",0,"deliveryMethod","method"],e),B=e=>null==e?void 0:e.deliveries[0],M=e=>(0,o.ETc)(["deliveryMethod","id"],e),U=function(e){return e.Default="default",e.CollectAtWindow="caw",e.AnyStation="AnyStation",e}({}),j=(0,s.P1)((e=>e),((e,r)=>r),((e,r)=>F(r)),((e,r,t)=>{if(t===d.Ne.KIOSK){var{departureStationHasKiosk:a,departureStationHasWindow:n}=r;return a?U.Default:!a&&n?U.CollectAtWindow:U.AnyStation}})),H=e=>(r,t)=>{var a=t.map((e=>(0,N.NR)(r,e))).filter((e=>!!e));return e&&(a=a.filter((r=>{var{deliveries:t}=r;return t.filter((r=>r.deliveryMethod&&r.deliveryMethod.method===e)).length}))),a.map((e=>(e=>(0,o.ETc)(["deliveries",0,"recipients",0],e))(e))).reduce(((e,r)=>{return r&&(t=r,a=!1,e.forEach((e=>{e.postCode===t.postCode&&e.country===t.country&&e.address1===t.address1&&e.address2===t.address2&&e.address3===t.address3&&e.address4===t.address4&&e.address5===t.address5&&(a=!0)})),!a)&&r.address1?[...e,r]:[...e];var t,a}),[])},W=(0,s.P1)((e=>e),((e,r)=>r),H()),G=(0,s.P1)((e=>e),((e,r)=>r),H(d.Ne.SPECIAL_DELIVERY)),V=(0,s.P1)((e=>e),((e,r)=>r),H(d.Ne.SECOND_CLASS_POST)),Y=(0,s.P1)((e=>e),((e,r)=>r),H(d.Ne.INTERNATIONAL_POST)),K=e=>[].concat(e).reduce(((e,r)=>e.concat(r.fares)),[]).filter(Boolean),z=(0,s.P1)(K,(e=>e.reduce(((e,r)=>(r.farePassengers.forEach((r=>{e=e.concat(r.passengers)})),e)),[]))),J=((0,s.P1)(z,(e=>e.map((e=>e.passenger)).map((e=>e.id)))),(0,s.P1)(K,(e=>Array.from(e.reduce(((e,r)=>(e.add(r.fareType.id),e)),new Set)))),e=>Array.from(e.reduce(((e,r)=>(e.add(r.fareType.id),e)),new Set))),q=((0,s.P1)(K,(e=>Array.from(e.reduce(((e,r)=>(r.routeRestriction&&e.add(r.routeRestriction.id),e)),new Set)))),(0,s.P1)(P.PZ,((e,r)=>K(r)),((e,r)=>r.reduce(((r,t)=>r.concat(((e,r)=>r.cards&&r.cards.reduce(((r,t)=>{var a=(0,P.yi)(e,t.cardType.id);return a?r.concat(a):r}),[])||[])(e,t))),[])))),Q=(0,s.P1)(q,(e=>(0,o.jj$)(e))),X=(e,r)=>r.reduce(((r,t)=>{var a={};return t.cards&&t.cards.forEach((t=>{var n=(0,P.yi)(e,t.cardType.id);n&&!r[n]&&(a[n]?a[n]+=1:a[n]=1)})),Object.assign(r,a)}),{}),$=((0,s.P1)(P.PZ,((e,r)=>K(r)),X),(0,s.P1)(z,(e=>(0,o.mNm)((e=>e.passenger.id))(e)))),ee=(0,s.P1)(N.NR,(e=>e?K(e).reduce(((e,r)=>[...e,...r.farePassengers]),[]):[])),re=(0,s.P1)(((e,r)=>$(r)),(e=>e.map((e=>{var{passengerType:r}=e;return r.id})))),te=(0,s.P1)(((e,r)=>$(r)),(e=>e.map((e=>{var{passenger:r}=e;return r})))),ae=(0,s.P1)((e=>e),N.qK,((e,r)=>te(e,r))),ne=(0,s.P1)(ae,((e,r)=>r),((e,r)=>e.find((e=>e.id===r)))),ie=e=>e.filter((e=>e.extraType.group===w.nj.LOCAL_TRANSPORT&&e.extraType.code.includes(":extra:cercanias_ticket"))),oe=(0,s.P1)(N.qK,((e,r)=>r),((e,r)=>{var t=e.filter((e=>{var t;return Boolean(e.selectedExtras)&&(null===(t=e.selectedExtras)||void 0===t?void 0:t.some((e=>e.legs.some((e=>e.id===r)))))})).reduce(((e,r)=>[...e,...r.selectedExtras]),[]);return t.length>0&&ie(t).length>0})),se=((0,s.P1)(ne,(e=>e&&e.documents)),(0,s.P1)(b.xU,re,((e,r)=>r.map((r=>e[r])).filter((e=>!!e))))),le=(0,s.P1)(se,(e=>e.length)),ce=(0,s.P1)(se,b.HS),de=(0,s.P1)(se,b.hT),ue=(e,r)=>{if(!e||!e.legs)return[];var t=e.legs.map((e=>e.id));return r.filter((e=>e.fareLegs.some((e=>t.includes(e.leg.id)))))},pe=e=>(e||[]).some((e=>"limited"===e.availability.status)),me=(e,r,t,n)=>{if(r){var i={direction:n,originId:r.origin.id,originName:(0,k.ud)(e,r.origin.id),destinationId:r.destination.id,destinationName:(0,k.ud)(e,r.destination.id),destinationCode:(0,k.y)(e,r.destination.id),bikeRestrictionStatus:r.bikeRestrictionStatus};if(!r.legs)return i;var s=(0,o.xHg)(t.map((e=>e.fareLegs))),l=r.legs.map((e=>{var r=s.filter((r=>e.id===(r.leg&&r.leg.id)));return(0,a.Z)((0,a.Z)({},e),{},{fareLegs:r})})),c=l[0],d=l[l.length-1],u=ue(r,t),p=pe(u);return(0,a.Z)((0,a.Z)({},i),{},{localDepartAt:c.localDepartAt,localArriveAt:d.localArriveAt,changes:l.length-1,legs:l,fares:u,limitedAvailability:p,firstFareTypeId:u.length?u[0].fareType.id:"",firstRouteRestrictionId:u.length&&u[0].routeRestriction&&u[0].routeRestriction.id||""})}},ge=(0,s.P1)(((e,r)=>r.inwardJourneyPlan),(e=>Boolean(e&&!e.legs))),ve=(0,s.P1)(((e,r)=>r.inwardJourneyPlan),(e=>Boolean(!e))),he=(0,s.P1)(((e,r)=>r.fares),(e=>(e||[]).some((e=>!(!e.validUntil||!e.validUntil.inward))))),ye=(0,s.P1)((e=>e),((e,r)=>r.outwardJourneyPlan),((e,r)=>r.fares),((e,r,t)=>me(e,r,t,"outward"))),fe=(0,s.P1)((e=>e),((e,r)=>r),((e,r)=>r.map((r=>me(e,r.outwardJourneyPlan,r.fares,"outward"))).filter(u.v))),Ee=e=>e&&e.legs&&e.legs[0]&&e.legs[0].route,be=(0,s.P1)(((e,r)=>r.outwardJourneyPlan),Ee),Se=(0,s.P1)(((e,r)=>r.inwardJourneyPlan),Ee),Te=(0,s.P1)((e=>e),((e,r)=>r.inwardJourneyPlan),((e,r)=>r.fares),((e,r,t)=>me(e,r,t,"inward"))),Ce=e=>{var r=(e.legs||[]).map((e=>e.fareLegs.map((e=>e.reservation)).filter(u.v)));return(0,o.xHg)(r)},Ae=(e,r,t)=>({coach:e.carriage,preference:e.allocationProperties&&e.allocationProperties.length?r[e.allocationProperties[0].id]&&r[e.allocationProperties[0].id].description:t[e.allocationType.id].spaceType||void 0,seat:e.position,type:t[e.allocationType.id]&&t[e.allocationType.id].description||void 0}),Ie=(0,s.P1)(((e,r)=>r),(e=>e&&e.legs&&e.legs.map((e=>e.id)))),_e=((0,s.P1)(((e,r)=>Ce(r)),Ie,p.Js,m.$1,((e,r,t,a)=>(0,o.xHg)(r&&r.length?e.map((e=>e.spaceAllocations.filter((e=>!!e.carriage&&!!e.position&&!!e.allocationType&&!!a[e.allocationType.id]&&!!a[e.allocationType.id].spaceType&&r.includes(e.leg.id))).map((e=>Ae(e,t,a))))):[]))),(0,s.P1)(ye,Te,((e,r)=>{var t=Ce(e),a=r&&Ce(r),n=t.length>0&&t.some((e=>e.spaceAllocations&&e.spaceAllocations.length>0)),i=a&&a.length>0&&a.some((e=>e.spaceAllocations&&e.spaceAllocations.length>0));return!(!n&&!i)}))),Pe=(0,s.P1)((e=>e.outwardJourneyPlan),(e=>e.fares),ue),Re=(0,s.P1)((e=>e.inwardJourneyPlan),(e=>e.fares),ue),ke=(e,r)=>{var t=e[r.fareType.id];return!(!t||!t.secondaryFare)},Ne=(0,s.P1)(f.SP,((e,r)=>r),((e,r)=>!!r.fares.find((r=>ke(e,r))))),Oe=(e,r)=>{var{passengers:t}=e;return t.length>1?l.PassengerType.GROUP:(0,c.QA)(t[0].passenger.dateOfBirth||(0,c.o7)(t[0].passengerType.id),r)},Le=(0,s.P1)(I.ZC,y.ic,f.SP,I.sw,N.Xt,((e,r,t)=>t),((e,r,t,a,n,i)=>i.map((i=>((e,r,t,a,n,i)=>({fareId:e.id,isTravelTogether:ke(r,e),fareName:r[e.fareType.id]&&r[e.fareType.id].name,price:t[e.farePassengers[0].id.replace(/-FAREPASSENGER$/,"")]?{amount:t[e.farePassengers[0].id.replace(/-FAREPASSENGER$/,"")],currencyCode:a}:void 0,qty:e.farePassengers.length,type:Oe(e.farePassengers[0],i),card:e.cards&&e.cards.map((e=>{var{cardType:r}=e,{id:t}=r;return n[t]&&n[t]})).filter(Boolean)[0]}))(i,t,a,e,r,n))).sort(((e,r)=>e.card&&e.card.name||!r.card||!r.card.name?!e.card||!e.card.name||r.card&&r.card.name?e.card&&e.card.name||r.card&&r.card.name?e.card&&r.card&&e.card.name<r.card.name?-1:e.card&&r.card&&e.card.name>r.card.name?1:0:0:1:-1)))),xe=e=>{var{localDepartAt:r,localArriveAt:t}=e,a=i()(r),n=i()(t);if(!n.isAfter(a,"day"))return!1;var o=a.endOf("day").add(4.5,"hours").add(1,"second");return n.isAfter(o)},De=(0,s.P1)(ye,Te,((e,r)=>{var t=!!e&&xe(e),a=!!r&&xe(r);return t||a})),we=(e,r)=>!(!e.legs||!e.legs.some((e=>"bus"===(0,T.tx)(r,e)))),Ze=(e,r)=>!(!e.legs||!e.legs.every((e=>"bus"===(0,T.tx)(r,e)))),Fe=(0,s.P1)(ye,T.I7,Te,((e,r,t)=>{var a=!!e&&we(e,r),n=!!t&&we(t,r);return a||n})),Be=(0,s.P1)(ye,T.I7,Te,((e,r,t)=>{var a=!!e&&Ze(e,r),n=!!t&&Ze(t,r);return t?a&&n:a})),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,t=r&&r.name&&r.name.toLowerCase();return"train"===e.toLowerCase()&&"standard"===t},Ue=(0,s.P1)(C.Vx,((e,r)=>r),((e,r)=>Boolean(r.fares&&r.fares.some((r=>{var{fareLegs:t}=r;return t.some((r=>{var{travelClass:t}=r;return(0,C.e8)(t&&e[t.id])}))}))))),je=(0,s.P1)(ye,Te,(e=>e),((e,r,t)=>!!e&&Ue(t,e)||!!r&&Ue(t,r))),He=(0,s.P1)(C.Vx,((e,r)=>r),((e,r)=>Boolean(r.fares&&r.fares.every((r=>{var{fareLegs:t}=r;return t.every((r=>{var{travelClass:t}=r;return(0,C.e8)(t&&e[t.id])}))}))))),We=(0,s.P1)(C.Vx,T.I7,((e,r)=>r),((e,r,t)=>Boolean(t.fares&&t.fares.every((t=>{var{fareLegs:a}=t;return a.every((t=>{var{leg:a,travelClass:n}=t,i=n&&e[n.id];return Me((0,T.tx)(r,a),i)}))}))))),Ge=(0,s.P1)(C.Vx,T.I7,((e,r)=>r),((e,r,t)=>Boolean(t.fares&&t.fares.some((t=>{var{fareLegs:a}=t;return a.some((t=>{var{leg:a,travelClass:n}=t,i=n&&e[n.id];return Me((0,T.tx)(r,a),i)}))}))))),Ve=(0,s.P1)(Ue,Ge,((e,r)=>e&&r)),Ye=(0,s.P1)(ye,Te,(e=>e),((e,r,t)=>!!e&&Ve(t,e)||!!r&&Ve(t,r))),Ke=(0,s.P1)(ye,(e=>e&&e.originName)),ze=(0,s.P1)(fe,(e=>{var r=e.reduce(((e,r)=>i()(e.localDepartAt).isBefore(i()(r.localDepartAt))?e:r));return r&&r.originName})),Je=(0,s.P1)(ye,(e=>e&&e.originId)),qe=((0,s.P1)(E.Yu,Je,((e,r)=>r&&e[r]?e[r].code:void 0)),(0,s.P1)(ye,(e=>e&&e.localDepartAt))),Qe=(0,s.P1)((e=>e),N.qK,((e,r)=>r.filter((e=>!!e)).map((r=>qe(e,r))).reduce(((e,r)=>i()(e).isBefore(i()(r))?e:r)))),Xe=((0,s.P1)(ye,(e=>e&&e.destinationName)),(0,s.P1)(fe,(e=>{var r=e.reduce(((e,r)=>i()(e.localArriveAt).isAfter(i()(r.localArriveAt))?e:r));return r&&r.destinationName}))),$e=(0,s.P1)(ye,(e=>e&&e.destinationId)),er=((0,s.P1)(E.Yu,$e,((e,r)=>r&&e[r]?e[r].code:void 0)),(0,s.P1)(ye,(e=>e&&e.localArriveAt))),rr=((0,s.P1)(Te,(e=>e&&e.localDepartAt)),(0,s.P1)(qe,(()=>new Date),((e,r)=>i()(e).isSameOrBefore(r)))),tr=e=>e.legs&&e.legs.some((e=>e.fareLegs.some((r=>r.leg.id===e.id&&!!r.boardBeforeGuaranteed)))),ar=((0,s.P1)(ye,Te,((e,r)=>void 0!==e&&(r?tr(e)&&tr(r):tr(e)))),(0,s.P1)(v.GR,((e,r)=>r),((e,r)=>{var t=r&&r.legs&&r.legs[0]&&r.legs[0].carrier&&r.legs[0].carrier.id,a=t&&e[t];return a&&a.name})),e=>e&&e.legs&&e.legs.filter((e=>!!e.carrier)).map((e=>e.carrier.id))||[]),nr=e=>(0,o.xHg)(e&&e.legs&&e.legs.map((e=>e.fareLegs.filter((e=>!!e.travelClass)).map((e=>e.travelClass.id))))||[]),ir=(0,s.P1)(ye,Te,((e,r)=>[ar(e),ar(r)])),or=((0,s.P1)(ye,Te,((e,r)=>[nr(e),nr(r)])),(0,s.P1)(N.NR,(e=>F(e)))),sr=e=>{var r=e.deliveries,t=r&&r.length?r[0]:void 0,a=t?t.deliverables:void 0,n=a&&a.length?a[0]:void 0,i=n?n.collection:void 0;return i&&i.reference?i.reference:null},lr=e=>!!e.commercials&&e.commercials.id.toLowerCase()===l.CommercialId.NX,cr=e=>!e.commercials||e.commercials.id.toLowerCase()===l.CommercialId.ATOC,dr=e=>e.some(lr),ur=(0,s.P1)(_.s,S.n,((e,r)=>e.map((e=>e.productId&&r[e.productId])).filter(u.v))),pr=(0,s.P1)(ur,dr),mr=(0,s.P1)(ur,(e=>e.some(cr))),gr=(0,s.P1)(_.s,h.AX,((e,r)=>e.some((e=>Boolean(e.id&&r[e.id]))))),vr=(0,s.P1)(_.s,h.AX,((e,r)=>e.filter((e=>Boolean(e.id&&r[e.id]))).map((e=>e.id)))),hr=(0,s.P1)(vr,h.AX,((e,r)=>e.filter((e=>Boolean(r[e]))).reduce(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{[t]:i().utc(r[t].issueExpiresAtUtc)})),{}))),yr=(0,s.P1)(vr,h.AX,((e,r)=>e.filter((e=>{var t;return"urn:trainline:atoc:vendor:ATOC"===(null===(t=r[e])||void 0===t?void 0:t.vendor.code)})))),fr=(0,s.P1)(vr,h.iT,((e,r)=>r.find((r=>"urn:trainline:sncf:vendor:sncf_pao"===r.vendor.code&&e.includes(r.id))))),Er=(0,s.P1)(vr,h.AX,((e,r)=>e.filter((e=>{var t;return"urn:trainline:sncf:vendor:sncf_pao"===(null===(t=r[e])||void 0===t?void 0:t.vendor.code)})))),br=(0,s.P1)(Er,(e=>e.length>0)),Sr=(0,s.P1)(yr,(e=>e.length>0)),Tr=(0,s.P1)(Sr,br,A.DO,(e=>(0,L.IM)(e)===x.Qd.USA),((e,r,t,a)=>t&&(e||r||a))),Cr=(0,s.P1)(_.s,S.n,((e,r)=>e.filter((e=>e.productId&&F(r[e.productId])===d.Gl.AtocKiosk)))),Ar=(0,s.P1)(ur,(e=>e.filter(lr).map((e=>e.id)))),Ir=e=>e.bookingFeeBreakdown.find((e=>"nationalexpress"===e.vendor)),_r=e=>e.bookingFeeBreakdown.filter((e=>"nationalexpress"!==e.vendor)),Pr=e=>[...e&&e.outwardJourneyPlan&&e.outwardJourneyPlan.legs||[],...e&&e.inwardJourneyPlan&&e.inwardJourneyPlan.legs||[]],Rr=(0,s.P1)(N.NR,Pr),kr=(0,s.P1)(N.VO,(e=>e.reduce(((e,r)=>[...e,...Pr(r)]),[]))),Nr=(0,s.P1)(N.qK,(e=>(0,o.xHg)(e.map(Pr)))),Or=((0,s.P1)(R.ER,Rr,((e,r)=>{var t=r.map((e=>e.id));return Object.values(e).filter((e=>t.includes(e.id)))})),(e,r,t,a)=>e.reduce(((e,n)=>{var i=n.carrier&&r[n.carrier.id]&&r[n.carrier.id].name,o=n.brand&&t[n.brand.id]&&t[n.brand.id].name;return e[n.id]={mode:a[n.transportModeEntity.id]&&a[n.transportModeEntity.id].mode,name:o||i},e}),{})),Lr=(0,s.P1)(Nr,v.GR,g.gg,T.I7,Or),xr=(0,s.P1)(Rr,v.GR,g.gg,T.I7,Or),Dr=(0,s.P1)(kr,v.GR,g.gg,T.I7,Or),wr=(0,s.P1)(((e,r)=>r),v.GR,g.gg,T.I7,Or),Zr=e=>(0,o.mNm)((0,o.ETc)(["name"]),e),Fr=e=>(0,o.qCK)((0,o.qnb)(e),Zr,Object.values),Br=Fr(2),Mr=Fr(3),Ur=((0,s.P1)(xr,(e=>Mr(e))),(0,s.P1)(Dr,(e=>Mr(e)))),jr=(0,s.P1)(wr,(e=>Mr(e))),Hr=(0,s.P1)(((e,r)=>r),Lr,((e,r)=>r[e])),Wr=(e,r,t)=>{var a=!(!t.fares||!Array.isArray(t.fares))&&(0,o.jj$)(t.fares.map((e=>e.fareType.id))).length>1,n=t.firstFareTypeId||"",i=t.firstRouteRestrictionId||"",s="outward"===t.direction?be(e,r):Se(e,r);return{noOfChanges:t&&t.changes||0,restrictionId:i,savings:0,isFirstClass:!1,routeDescription:(0,O.Y)(e,i),numberOfAdults:1,numberOfChildren:0,hasTravellingGroup:Ne(e,r),route:s,type:{code:n,description:(0,f.Hs)(e,n)||""},arrivalDate:t.localArriveAt||"",departureDate:t.localDepartAt||"",price:(0,I.kW)(e,r,t).amount,hasOneLeg:Boolean(t.legs&&1===t.legs.length),isLimitedAvailability:t.limitedAvailability,isCombinationFare:a}},Gr=(e,r)=>{var t=ye(e,r);return t&&Wr(e,r,t)},Vr=(e,r)=>{var t=Te(e,r),a=ge(e,r);return t&&!a&&Wr(e,r,t)||void 0},Yr=((0,s.P1)(f.SP,((e,r)=>K(r)),((e,r)=>!!r.map((e=>e.fareType)).reduce(((r,t)=>{var{id:a}=t;return e[a]?(r.push(e[a].code),r):r}),[]).find((e=>f.XE.includes(e))))),(0,s.P1)(A.F4,N.c7,((e,r)=>{var{userLocationCountry:t}=(0,D.d)(),a=(0,Z._0)();return e&&(r||(0,l.isUkPortal)(a))&&"GB"===t})))},53230:(e,r,t)=>{"use strict";t.d(r,{C6:()=>i,KX:()=>o,Mp:()=>s});var a=t(32034),n=t(78052),i=(0,a.P1)(n.O,(e=>e&&e.promoCodes)),o=(0,a.P1)(i,(e=>e&&e.details)),s=(0,a.P1)(i,(e=>Boolean(null==e?void 0:e.isFetching)))},43864:(e,r,t)=>{"use strict";t.d(r,{BA:()=>D,Kt:()=>Z,ZP:()=>M,tG:()=>F});var a=t(23198),n=t(37719),i=t(53066),o=t(18406),s=t(87582),l=t(56590),c=t(56415),d=t(94431),u=t(426),p=t(24955),m=t(78307),g=t(47956),v=t(4794),h=t(88005),y=t(42769),f=t(16384),E=t(33695),b=t(57110),S=t(36592),T=t(62331),C=t(19408),A=t(92490),I=t(97340),_=t(57194),P=t(97819),R=t(42321),k=t(83504),N=t(50989),O=t(97866),L="queryLocations/INITIALISE_QUERY_LOCATIONS",x="queryLocations/INITIALISE_JOURNEY_SEARCH_FORM",D=(0,i.Z)(L),w=(0,S.ul)(x),Z=(e,r)=>{var{getState:t}=r;return e.ofType(x).pipe((0,c.zg)((e=>{var{payload:r}=e,n=t(),i=(0,R.HL)(r,n),s=(0,P.ih)(i.euFlowPassengers,(0,P.zZ)((0,I.dT)(n)));i.euFlowPassengers=s.length>0?s:[(0,p.HL)()];var l=Boolean(i.ukVoucherInput&&i.ukVoucherInput.length),c=i.ukFlowCardTypes&&i.ukFlowCardTypes.length||i.euFlowPassengers&&i.euFlowPassengers.find((e=>!(!e.discountCards||!e.discountCards.length))),d=(0,p.q3)(),u=i.passengers&&i.passengers.length>0?i.passengers:d.passengers;return[(0,o.j2)(m.Th,(0,a.Z)((0,a.Z)((0,a.Z)({},d),i),{},{passengers:u}),!1),...c?[(0,T.jb)()]:[],(0,_.LS)(l),(0,o.mc)(m.Th),(0,o.Fq)(m.Th,"viaAvoidStation","viaAvoidType")]})))},F=(e,r)=>{var{getState:t}=r;return e.ofType(n.nk).pipe((0,d.h)((()=>{var{pathname:e}=(0,k.FD)(t());return e===y.L1.results()})),(0,c.zg)((()=>{var e=(0,v.JW)(t()),r=(0,f.uP)((0,C.eB)(t(),E.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH));return r&&e>1?(0,s.of)((0,h.IA)(r)):(0,s.of)({type:"NOOP"})})))},B=new RegExp("^urn:trainline:\\w+:\\w+:\\w+$");const M=(e,r)=>e.ofType(L).pipe((0,c.zg)((e=>{var{payload:t}=e,a=(e=>{var{origin:r,destination:t,via:a,avoid:n}=e;return[r,t].concat(a,n).filter((e=>!!e))})(t.query),n=r.getState(),i=Object.keys((0,A.Yu)(n)),o=a.filter((e=>e&&!i.includes(e))),p=o.filter((e=>B.test(e))),m=o.filter((e=>!B.test(e))),v=(0,O.qB)(n);return v&&m.length&&(0,N.Ep)(new Error("Received none-code via/avoid location"),{codes:a}),!v&&p.length&&(0,N.Ep)(new Error("Received none-id via/avoid location"),{codes:a}),o.length?(0,b.oI)({locationIds:m,locationCodes:p}).pipe((0,d.h)((e=>Boolean(Array.isArray(e)&&e.length))),(0,c.zg)((e=>[(0,A.gH)((0,g.Z)(e,"id")),w(t.query)])),(0,u.K)((()=>(0,l.c)()))):(0,s.of)(w(t.query))})))},34832:(e,r,t)=>{"use strict";t.d(r,{K4:()=>k,XX:()=>O,Xv:()=>C,dy:()=>N,r:()=>L});var a=t(23198),n=t(18406),i=t(87582),o=t(56590),s=t(42756),l=t(7185),c=t(426),d=t(57243),u=t(33729),p=t(94431),m=t(98754),g=t(19356),v=t(57110),h=t(35134),y=t(50989),f=t(36592),E=t(68760),b=t(80336),S=t(10287),T="QUICKSIGNUPSIGNIN/".concat("SEARCH_EMAIL"),C=(0,f.ul)(T),A="PASSENGER_DETAILS_PROMPT_REGISTRATION",{[A]:I}=y.Wd,_=e=>(0,y.WM)(A,e),P=e=>(_(I.REGISTRATION_FAILED),[(0,b.zn)(e),(0,g.rv)(g.jg.userRegistrationFailure)]),R=["email","password","firstName","lastName"],k=e=>e&&e.guest?(0,i.of)((0,g.rv)(g.jg.progressedAsGuest)):(0,o.c)(),N=e=>{for(var r of R)if(!e[r])return(0,s._)(new Error("Missing ".concat(r," in quickSignUpSubmitEpic")));var{email:t,password:n,firstName:i,lastName:o}=e;return(0,v.Z0)({billingAddress:{country:"Z0",postCode:"INCOMP",addressLine1:"INCOMPLETE"},password:n,emailAddress:t,firstName:i,lastName:o}).pipe((0,l.w)((e=>{var{CustomerId:r}=e;return(0,h.N)(t,n).pipe((0,l.w)((e=>{return r=(0,a.Z)({},e),_(I.REGISTRATION_SUCCEDED),[(0,b.ng)(r),(0,g.rv)(g.jg.userRegistrationSuccess)];var r})),(0,c.K)((e=>P({email:t,err:e,customerId:r}))))})),(0,c.K)((e=>P({err:e}))))},O=e=>e.ofType(b.zD).pipe((0,l.w)((e=>{var{payload:r}=e;return N(r)})),(0,c.K)((e=>P({err:e})))),L=(e,r)=>{var{getState:t}=r;return e.ofType(T).pipe((0,d.U)((e=>{var{payload:r}=e;return r.email})),(0,u.x)(),(0,p.h)((()=>!(0,E.JS)(t()))),(0,l.w)((e=>e&&(0,S.u$)(e)?(0,v.h8)(e).pipe((0,l.w)((e=>{var{body:r}=e;return(e=>{var{Customers:r,Errors:t}=e,a=r&&r.length<1&&t.length<1,n=r&&r.length>0&&!r.some((e=>e.IsImplicitlyRegistered))&&t.length<1;return a&&_(I.REGISTRATION_PROMPT_SEEN),[(0,m.on)({canSignUp:a,promptLogin:n})]})(r)})),(0,c.K)((()=>[(0,m.on)({canSignUp:!1,promptLogin:!1}),(0,n.ob)(b.Th)]))):[(0,m.on)({canSignUp:!1,promptLogin:!1}),(0,n.ob)(b.Th)])))}},71001:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>p,PC:()=>d});var a=t(53066),n=t(57243),i=t(97430);function o(){return(o=(0,i.Z)((function*(e){new((yield t.e(89106).then(t.t.bind(t,89106,23))).default)({key:e})}))).apply(this,arguments)}var s=t(14916),l=t(97866),c="RAVELIN_SETUP",d=(0,a.Z)(c),u=(0,a.Z)(s.cH);(0,a.Z)("RAVELIN_NO_TRACKING");const p=(e,r)=>e.ofType(c).pipe((0,n.U)((()=>{var e=r.getState();return function(e){o.apply(this,arguments)}((0,l.BD)(e)),u()})))},45499:(e,r,t)=>{"use strict";t.d(r,{PB:()=>c,du:()=>l});var a=t(71695),n=t(85536),i=t(68760),o=t(40939),s=t(97866),l=e=>(0,s._n)(e)&&(0,o.fN)(e)===a.vi.FRENCH&&!(0,i.L6)(e),c=e=>(0,s._n)(e)&&(0,o.fN)(e)===a.vi.FRENCH&&!(0,i.L6)(e)&&!(0,n.tq)()},43288:(e,r,t)=>{"use strict";t.d(r,{Ij:()=>L,VF:()=>H,W4:()=>w,dn:()=>D,g:()=>x,mX:()=>M,ue:()=>Z,uv:()=>B});var a=t(23198),n=t(55265),i=t(54466),o=t(8947),s=t(87582),l=t(94431),c=t(7185),d=t(56415),u=t(426),p=t(60654),m=t(59199),g=t(29719),v=t(42769),h=t(50989),y=t(24087),f=t(57110),E=t(14238),b=t(70252),S=t(36592),T=t(16134),C=t(72750),A=t(71162),I=t(4794),_=t(86278),P=t(94018),R=t(70755),k=t(61229),N=t(51059),O=t(29433),L="NO_EU_COACH_RESULTS_ANALYTICS_FRAMEWORK",x="RESULTS_PAGE_MOUNTED",D=(0,S.ul)(x),w="RESULTS_PAGE_CHANGED",Z=(0,S.ul)(w),F="SEARCH_ON_TAB_CHANGE",B=(0,S.ul)(F),M=(e,r,t)=>{var n=(0,N.yR)(e,{query:r}),i=(0,N.BG)(e,{query:r})?(0,R.Y6)(e,r):void 0,o=(null==t?void 0:t.hasOwnProperty("splitSave"))||r.hasOwnProperty("splitSave"),s=(null==t?void 0:t.hasOwnProperty("splitSave"))&&r.hasOwnProperty("splitSave");if(i&&(!o||s))return(0,C.wy)({hash:n,searchParams:i});var l=(0,N.fE)(e,{query:r})?(0,R.W$)(e,(0,a.Z)((0,a.Z)({},r),{},{selectedOutward:r.selectedOutward})):void 0;if(l)return(0,C.VP)({hash:n,searchParams:l});var c=(0,R.hn)(e,r);return(0,C.zx)({hash:n,searchParams:c,query:r})},U=(e,r)=>{var t=(0,R.k0)(r,e);return(0,T.Lh)({hash:(0,m.j)(t),searchParams:t,searchType:T.ir.STANDARD})},j=(e,r,t)=>{var a,n,i;if(t&&t!==y.ZP.TRAIN)return!1;if(null!==(a=r.transportModes)&&void 0!==a&&a.includes(p.AvailableTransportModes.COACH)){if(r.prm)return!1;if((0,O.Jp)(e)&&r.selectedTab!==y.ZP.COACH)return!1}if(r.reservationErrors&&r.reservationErrors.length||r.refetchSearch)return!0;var o,s=(0,N.$b)(e),l=(0,I.Dl)(e),c=null===(n=l[1])||void 0===n?void 0:n.pathname.startsWith(v.L1.travelOptions()),d=null===(i=l[1])||void 0===i?void 0:i.pathname.startsWith(v.L1.deliveryOptions()),u="single"===r.journeySearchType,m="return"===r.journeySearchType,f=(0,k.Cu)(e,{query:r}),E=!!(0,k.II)(e,{query:r})?(0,g.G)(e):!!f&&(o=f.createdAt,Math.floor((Date.now()-Date.parse(o))/6e4)<19);if(s&&(u||m)&&(c||d)&&E){var b=c?v.L1.travelOptions():v.L1.deliveryOptions(),S="".concat(r.journeySearchType.toUpperCase(),"_JOURNEY_BACK_FROM_").concat(b.toUpperCase());return(0,h.WM)(h.Wd.REUSE_JOURNEY_SEARCH,S),!1}return!0},H=(0,n.l)(((e,r)=>{var{getState:t}=r;return e.ofType(x).pipe((0,c.w)((e=>{var{payload:{query:r,fetchByJourneyType:n}}=e,i=t(),s=[],l=(0,N.$b)(i),c=(0,O.Jp)(i);if(l){var d=r.selectedTab===y.ZP.COACH?{selectedTab:void 0,searchId:void 0,temporalDirection:void 0,transitDefinitionDirection:void 0}:{},u=(0,a.Z)((0,a.Z)((0,a.Z)({},r),d),{},{transportModes:c?r.transportModes:[p.AvailableTransportModes.MIXED]});j(i,u,n)&&s.push((0,_.jI)(!1),M(i,u))}else{s.push(M(i,r));var m=(0,P.vR)(i),g=(0,E.Pj)(i);(m===y.ZP.COACH||m===y.ZP.TRAIN&&(0,b.c)(i))&&g&&s.push(U(i,r))}return(0,o.D)(s)})))}),((e,r)=>{var{getState:t}=r;return e.ofType(F).pipe((0,c.w)((e=>{var{payload:{prevQuery:r,nextQuery:a}}=e;if(!a)return(0,s.of)({type:"noop"});var n=[],i=t(),l=(0,N.$b)(i),c=(0,O.Jp)(i),d=(0,N.yR)(i,{query:a}),u=(0,k.zE)(i,d);return(0,R.uX)(r,a,l,!(l&&c))||u?(0,s.of)({type:"noop"}):(n.push(M(i,a)),(0,o.D)(n))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(w).pipe((0,c.w)((e=>{var{payload:{prevQuery:r,nextQuery:n,forceReload:i}}=e,l=[];if(!n)return(0,s.of)({type:"noop"});var c=t(),d={query:n},u=(0,N.$b)(c);if(!i&&(0,R.uX)(r,n,u))return(0,s.of)({type:"noop"});var m=(0,N.fE)(c,d),g=(0,P.vR)(c),v=n.selectedTab!==y.ZP.TRAIN?{selectedTab:void 0,searchId:void 0,temporalDirection:void 0,transitDefinitionDirection:void 0}:{};if(u&&m?l.push(M(c,(0,a.Z)((0,a.Z)((0,a.Z)({},n),v),{},{transportModes:[g===y.ZP.COACH?p.AvailableTransportModes.COACH:p.AvailableTransportModes.MIXED],directSearch:g!==y.ZP.COACH&&n.directSearch}),(0,a.Z)({},r))):u?(l.push((0,P.eb)(y.ZP.TRAIN)),l.push(M(c,(0,a.Z)((0,a.Z)((0,a.Z)({},n),v),{},{transportModes:[p.AvailableTransportModes.MIXED]})))):l.push(M(c,n,r)),!u){var h=(0,P.vR)(c),f=(0,E.Pj)(c);(h===y.ZP.COACH&&!u||h===y.ZP.TRAIN&&(0,b.c)(c)&&!(e=>Boolean(e.temporalDirection))(n))&&f&&l.push(U(c,n))}return l.length>0?(0,o.D)(l):(0,s.of)({type:"noop"})})))}),((e,r)=>{var{getState:t}=r;return e.ofType(x).pipe((0,l.h)((e=>{var{payload:{fetchByJourneyType:r}}=e;return(0,N.$b)(t())&&(!r||r===y.ZP.COACH)})),(0,c.w)((e=>{var{payload:{query:r}}=e,n=t(),s=(0,f.ob)((0,R.hn)(n,r)),l=r.selectedTab!==y.ZP.COACH?{selectedTab:void 0,searchId:void 0,temporalDirection:void 0,transitDefinitionDirection:void 0}:{};return(0,i.z)((0,o.D)([(0,A.M)()]),(0,o.D)(s).pipe((0,d.zg)((e=>{var{valid:i}=e,s=[];s.push((0,A.lp)(i));var c=(0,N.Q$)(t()),d=(0,N.fE)(t(),{query:r}),u=(0,O.Jp)(t()),m=(0,a.Z)((0,a.Z)((0,a.Z)({},r),l),{},{transportModes:[p.AvailableTransportModes.COACH],directSearch:!1}),g=j(n,m);return i.includes(p.AvailableTransportModes.COACH)&&(u||g)?(s.push((0,_.jI)(!0)),g&&(!d||d&&c===p.Experiences.EU_COACH)&&s.push(M(n,m))):(s.push({type:L,payload:{}}),s.push({type:"noop",payload:{}})),(0,o.D)(s)})),(0,u.K)((()=>(0,o.D)([M(n,(0,a.Z)((0,a.Z)((0,a.Z)({},r),l),{},{transportModes:[p.AvailableTransportModes.COACH],directSearch:!1})),(0,_.jI)(!0)])))))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(w).pipe((0,l.h)((e=>{var{payload:{nextQuery:r}}=e;return!!r&&(0,N.$b)(t())})),(0,d.zg)((e=>{var{payload:{prevQuery:r,nextQuery:n}}=e;if(n&&!(0,R.uX)(r,n,!0)){var l=t(),c=(0,f.ob)((0,R.hn)(l,n)),m=(0,O.Jp)(l);return(0,i.z)((0,o.D)([(0,A.M)()]),(0,o.D)(c).pipe((0,d.zg)((e=>{var{valid:r}=e,t=[];t.push((0,A.lp)(r));var i=n.selectedTab!==y.ZP.COACH?{selectedTab:void 0,searchId:void 0,temporalDirection:void 0,transitDefinitionDirection:void 0}:{};return!r.includes(p.AvailableTransportModes.COACH)||n.prm||m||t.push(M(l,(0,a.Z)((0,a.Z)((0,a.Z)({},n),i),{},{transportModes:[p.AvailableTransportModes.COACH],directSearch:!1}))),r.includes(p.AvailableTransportModes.COACH)&&!n.prm?t.push((0,_.jI)(!0)):t.push((0,_.jI)(!1)),(0,o.D)(t)})),(0,u.K)((()=>(0,o.D)(n.prm||m?[(0,_.jI)(!1)]:[M(l,(0,a.Z)((0,a.Z)({},n),{},{transportModes:[p.AvailableTransportModes.COACH]})),(0,_.jI)(!0)])))))}return(0,s.of)({type:"noop"})})))}))},83570:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>K,qR:()=>V,yH:()=>G,z5:()=>U,jJ:()=>M,f0:()=>B,Yw:()=>Z,rd:()=>N,d3:()=>x,Nd:()=>D,_J:()=>Y,um:()=>w});var a=t(23198),n=t(32034),i=t(87582),o=t(76706),s=t(57243),l=t(426),c=t(94431),d=t(7185),u=t(60654),p=t(59838);const m=(e,r,t)=>[e,r,t].filter(p.v).join("|");var g=t(57110),v=t(16031),h=t(47514),y=t(8129),f=t(64383),E=t(81695),b=t(61502),S=t(10287),T=t(51001),C=t(20786),A=t(61229),I=t(51059),_=t(32143),P=t(51807),R=t(83504),k=(e,r)=>(0,i.of)((0,h.UM)({key:r})).pipe((0,o.T)((0,g.DV)({inventory:e.inventory,searchId:e.searchId,inwardSearchId:e.inwardSearchId,outwardAlternativeIds:e.outwardAlternativeIds,inwardAlternativeIds:e.inwardAlternativeIds}).pipe((0,s.U)((e=>{var{value:t}=e;return(0,h.Tu)({key:r,value:t})})),(0,l.K)((()=>(0,i.of)((0,h.RZ)({key:r}))))))),N=(0,n.P1)(I.Q$,v.JW,v.wT,v.vU,A.Cu,_.pp,_.qF,((e,r,t,a,n,i,o)=>{var s=n&&n.id;switch(e){case u.Experiences.NATIONAL_EXPRESS_COACH:return{searchId:r&&r.id,outwardAlternativeId:t&&t[0]&&t[0].alternativeId||void 0,inwardAlternativeId:a&&a[0]&&a[0].alternativeId||void 0};case u.Experiences.EU_TRAIN:return{searchId:s,outwardAlternativeId:Array.isArray(i)&&i.length?i.map((e=>e.id)):[],inwardAlternativeId:Array.isArray(o)&&o.length?o.map((e=>e.id)):[]};default:return{searchId:s,outwardAlternativeId:i&&i[0]&&i[0].id,inwardAlternativeId:o&&o[0]&&o[0].id}}})),O=(0,n.P1)(N,(e=>{var{searchId:r,outwardAlternativeId:t,inwardAlternativeId:a}=e;return m(r,t,a)})),L=(e,r,t)=>{var a=e[t]&&e[t].fares,n=a&&a[0];if(n){var i=r[n];return i&&!!i.vouchers&&i.vouchers.length>0}return!1},x=(0,n.P1)(A.ft,A.ng,N,((e,r,t)=>[...Array.isArray(t.outwardAlternativeId)?t.outwardAlternativeId:[t.outwardAlternativeId],...Array.isArray(t.inwardAlternativeId)?t.inwardAlternativeId:[t.inwardAlternativeId]].some((t=>t&&L(e,r,t))))),D=(0,n.P1)(A.ft,A.ng,N,((e,r,t)=>{var a=Array.isArray(t.outwardAlternativeId)?t.outwardAlternativeId:[t.outwardAlternativeId];return{inward:(Array.isArray(t.inwardAlternativeId)?t.inwardAlternativeId:[t.inwardAlternativeId]).some((t=>t&&L(e,r,t))),outward:a.some((t=>t&&L(e,r,t)))}})),w=(0,n.P1)(A.ft,A.ng,N,((e,r,t)=>{var a=[...Array.isArray(t.outwardAlternativeId)?t.outwardAlternativeId:[t.outwardAlternativeId],...Array.isArray(t.inwardAlternativeId)?t.inwardAlternativeId:[t.inwardAlternativeId]].find((t=>t&&L(e,r,t)));return a&&((e,r,t)=>{var a=e[t]&&e[t].fares,n=a&&a[0],i=n&&r[n];return i&&i.vouchers&&i.vouchers.length?i.vouchers[0].voucherCode:void 0})(e,r,a)})),Z=(0,n.P1)(R.FD,(e=>e),((e,r)=>{var t=D(r,e);return Boolean(t&&(t.inward||t.outward))})),F=(0,n.P1)(A.ft,A.ng,((e,r)=>{var t=[];return Object.keys(e).forEach((a=>{var n=e[a]&&e[a].fares&&e[a].fares[0];if(n){var i=r[n];i&&i.vouchers&&i.vouchers.length>0&&t.push(e[a].hash)}})),t})),B=(0,n.P1)(F,(e=>e&&e.length>0)),M=(0,n.P1)(F,((e,r)=>r&&r.alternative),((e,r)=>{var t=r&&Array.isArray(r.hash)?r.hash[0]:r.hash;return t&&e.includes(t)})),U=(0,n.P1)(C.$l,h.J4,b.W0,((e,r,t)=>{if(t&&e){var a=r[e];return!!a&&a.invoices.some((e=>!!e&&e.lineItems.some((e=>{var r=e&&e.subLineItems||[];return Boolean(r.some((e=>!!e.category&&"voucher"===e.category)))}))))}return!1})),j=(0,n.P1)(I.i2,N,I.Q$,((e,r,t)=>{var{inwardAlternativeId:a,outwardAlternativeId:n}=r;return![u.Experiences.EU_TRAIN,u.Experiences.EU_COACH].includes(t)&&(e?Boolean(a&&n):Boolean(n))})),H=(0,n.P1)(E.$1,O,((e,r)=>r?e[r]:void 0)),W=(0,n.P1)(H,(e=>e&&e.loadDetails.status===u.LoadStatus.SUCCESS)),G=(0,n.P1)(H,(e=>e&&e.loadDetails.status===u.LoadStatus.PENDING)),V=(0,n.P1)(W,h.J4,O,((e,r,t)=>{if(e&&t){var a=r[t],n=a?a.invoices:[],i=(0,T.G1)(n,"Trainline"),o=a?a.currencyCode:void 0;return(0,T.$q)(i,o)}})),Y=(0,n.P1)(W,h.J4,O,((e,r,t)=>{var a;return e&&t&&(null===(a=r[t])||void 0===a||null===(a=a.meta)||void 0===a?void 0:a.appliedExperiments)||[]}));const K=(e,r)=>e.ofType(f.Ms,y.Ms).pipe((0,c.h)((()=>j(r.getState(),(0,R.FD)(r.getState()))&&!W(r.getState(),(0,R.FD)(r.getState()))&&!G(r.getState(),(0,R.FD)(r.getState())))),(0,d.w)((()=>(e=>{var{getState:r}=e,t=(0,R.FD)(r()),n=r(),{searchId:o,outwardAlternativeId:s,inwardAlternativeId:l}=N(n,t),c=O(n,t),d=(0,_.xk)(n,t),p=(0,I.Q$)(n),m=(0,I.fE)(n,t);if(p===u.Experiences.EU_TRAIN&&m){var g=(0,P.Qv)(n,t);return c&&g.searchId&&!d?k((0,a.Z)({},g),c):(0,i.of)({type:"noop"})}var{outwardAlternativeIds:v,inwardAlternativeIds:h}=(0,S.Dt)(s,l);return c&&o&&!d?k({inventory:(0,I.GE)(n),searchId:o,outwardAlternativeIds:v,inwardAlternativeIds:h},c):(0,i.of)({type:"noop"})})(r))))},58186:(e,r,t)=>{"use strict";t.d(r,{Cz:()=>G,DI:()=>J,bn:()=>W,yu:()=>j,r8:()=>O,p1:()=>w,uo:()=>Z,Px:()=>B,NY:()=>q});var a=t(84025),n=t.n(a),i=t(82768),o=t(32034),s=t(51282),l=t(60654),c=t(71695),d=t(23374),u=t(94018),p=t(85536),m=t(67903),g=t(24087),v=t(72847),h=t(81153),y=t(29647),f=t(72428),E=t(10287),b=t(29433),S=t(7256),T=t(61229),C=t(51059),A=t(7173),I=t(50693),_=t(82758),P=t(19408),R=t(33695),k=(0,o.P1)(C.JU,(e=>{var{children:r}=e;return Boolean(1===Object.values(e).reduce(((e,r)=>e+r),0)&&!r)})),N=(0,o.P1)(S.EI,(e=>e!==c.OI.CHF)),O=(0,o.P1)(b.uX,m.cd,((e,r)=>Boolean(e&&r===m.KX.HomeEU))),L=(0,o.P1)(b.gP,m.cd,((e,r)=>Boolean(e&&r===m.KX.HomeEU))),x=(0,o.P1)(s.gH,N,((e,r)=>{var{from:t,to:a,euFlowPassengers:n,passengers:i,ukFlowCardTypes:o}=e,s=(e=>e.filter((e=>e.selected)))(n),l=((e,r)=>!e.connections||!r.connections||e.connections.includes(I.yk)&&r.connections.includes(I.yk))(t,a),c=((e,r,t,a)=>!e&&r?Boolean(r&&!r.some((e=>e.discountCards.some((e=>e.enabled))))):!!t&&Boolean((0,_.V6)(t).adults)&&(!a||0===(null==a?void 0:a.length)))(l,s,i,o)&&((e,r,t)=>!!(!e&&r&&r.length>0)||!!(t&&t.length>0)&&t.length<3)(l,s,i);return Boolean(c&&r)})),D=(0,o.P1)(s.gH,(e=>{var{viaAvoidStation:r,outbound:t,from:a,to:n}=e;return(!r||""===(null==r?void 0:r.name))&&t&&""!==a.id&&""!==n.id})),w=(0,o.P1)(b.uX,s.gH,x,D,((e,r,t,a)=>{var{inbound:n}=r,i=a&&(!n||""===(null==n?void 0:n.date));return Boolean(e&&i&&t)})),Z=(0,o.P1)(L,x,D,P.FD,((e,r,t,a)=>{var n,i="$1"===(null===(n=a[R.zA.ENABLE_RETURN_MONTHLY_PRICE_CALENDAR])||void 0===n?void 0:n.value);return Boolean(e&&t&&r&&i)})),F=(0,o.P1)(C.$b,b.d2,C.vX,C.oy,C.QM,k,T.FV,C.um,N,b.mc,((e,r,t,a,n,i,o,s,c,d)=>Boolean(!(0,p.tq)()&&Boolean(e?d:r&&t!==l.TransitDefinitionDateType.ARRIVE_BEFORE&&!a)&&n&&i&&!o&&!Boolean(s&&s.length)&&c))),B=(0,o.P1)(u.vR,F,C.O3,((e,r,t)=>Boolean(!t&&e===g.ZP.TRAIN&&r))),M=((0,o.P1)(C.SR,(e=>e&&(0,y.Og)(e).start)),(0,o.P1)(h.mx,(e=>e[0]&&e[0].rows[0]&&e[0].rows[0].departAt))),U=(0,o.P1)(h.mx,(e=>{if(e.length&&e.slice(-1)[0].rows.length)return e.slice(-1)[0].rows.slice(-1)[0].departAt})),j=(0,o.P1)(M,U,((e,r)=>{var t=n()(e),a=n()(r);return e&&r&&t.isValid()&&a.isValid()?{firstTime:t.valueOf(),lastTime:a.valueOf()}:{}})),H=(0,o.P1)(j,f.nv,((e,r)=>{var{firstTime:t,lastTime:a}=e;if(t&&a){var i,o=(0,E.sc)(r,t);return(null==o||null===(i=o.journeys)||void 0===i?void 0:i.some((e=>n()(e.departAt).isBetween(t,a,void 0,"[]"))))||!1}return!1})),W=(0,o.P1)(j,f.nv,v.YJ,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,{firstTime:a,lastTime:n}=e;if(!(0,i.xbD)(e)&&a&&n){var o=(0,E.sc)(r,a),s=(0,E.sc)(r,n),l=(e,r,t)=>Boolean(e&&e.journeys&&e.journeys.some((e=>!!e.departAt&&(t?new Date(e.departAt).getTime()<r:new Date(e.departAt).getTime()>r)))),c=l(o,a,!0),d=l(s,n,!1);return{earlier:c&&o&&o.price&&(!t||o.price.amount&&o.price.amount<t)?o.price:void 0,later:d&&s&&s.price&&(!t||s.price.amount&&s.price.amount<t)?s.price:void 0}}return{}})),G=(0,o.P1)(A.yX,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!(e.length&&e.some((e=>{var r,t;return(null===(r=e.standard)||void 0===r?void 0:r.isEnabled)||(null===(t=e.first)||void 0===t?void 0:t.isEnabled)})))})),V=(0,o.P1)(T.j6,T.ZO,G,((e,r,t)=>e?d.Wb.TICKET_ALERT:r||t?d.Wb.SOLD_OUT:d.Wb.NEXT_CHEAPEST_PRICE)),Y=(0,o.P1)(h.mx,(e=>{var r=[];return e.forEach((e=>e.rows.forEach((e=>{var t,a,n,i,{standardAlternativeContainer:o,firstAlternativeContainer:s}=e;null!=o&&null!==(t=o.price)&&void 0!==t&&t.amount&&null!=o&&null!==(a=o.price)&&void 0!==a&&a.currencyCode&&r.push(o.price),null!=s&&null!==(n=s.price)&&void 0!==n&&n.amount&&null!=s&&null!==(i=s.price)&&void 0!==i&&i.currencyCode&&r.push(s.price)})))),r.reduce(((e,r)=>r.amount<e.amount?r:e),{amount:Math.min()}).amount||0})),K=(0,o.P1)(h.mx,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return!1;var r=e[0],t=e[e.length-1];return!(r.journeyDay===t.journeyDay)})),z=(0,o.P1)(C.$b,v.YJ,Y,K,((e,r,t,a)=>!e&&a?t:r)),J=(0,o.P1)(f.nv,C.SR,H,V,z,((e,r,t,a,i)=>{if(t){if(a===d.Wb.TICKET_ALERT)return{isValid:!1,messageId:a};if(e&&r){var o=n()(r).format("DD-MM-YYYY"),s=e.find((e=>n()(e.start).format("DD-MM-YYYY")===o)),l=s&&s.price,c=(null==l?void 0:l.amount)&&(null==l?void 0:l.currencyCode);if((a===d.Wb.SOLD_OUT||!i)&&c)return{isValid:!1,messageId:d.Wb.SOLD_OUT,cheapestPrices:{cached:l}};if(a===d.Wb.NEXT_CHEAPEST_PRICE&&i&&c)return l.amount<i&&c?{isValid:!1,cheapestPrices:{cached:l,available:{amount:i,currencyCode:l.currencyCode}},messageId:a}:{isValid:!0}}}})),q=(e,r,t)=>Boolean(e&&r&&t&&(e=>{var r,t,a,n,{messageId:i,cheapestPrices:o,isValid:s=!0}=e,l=(null==o||null===(r=o.cached)||void 0===r?void 0:r.amount)&&(null==o||null===(t=o.cached)||void 0===t?void 0:t.currencyCode);return!s&&(i===d.Wb.TICKET_ALERT||Boolean(i===d.Wb.SOLD_OUT&&l)||Boolean(i===d.Wb.NEXT_CHEAPEST_PRICE&&l&&(null==o||null===(a=o.available)||void 0===a?void 0:a.amount)&&(null==o||null===(n=o.available)||void 0===n?void 0:n.currencyCode)))})(t))},67147:(e,r,t)=>{"use strict";t.d(r,{Y:()=>i});var a=t(32034),n=t(67909),i=(0,a.P1)(n.Jc,(e=>e&&e.description))},56398:(e,r,t)=>{"use strict";t.d(r,{FD:()=>n,Y:()=>i});var a=t(32034),n=(e,r)=>r.location,i=((0,a.P1)(n,(e=>e?e.pathname:void 0)),(0,a.P1)(n,(e=>e&&e.query)))},70604:(e,r,t)=>{"use strict";t.d(r,{IY:()=>i,iB:()=>n});var a=t(94957),n=function(e,r){var t=arguments.length>3?arguments[3]:void 0;(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).forEach((n=>{Object.keys(r).forEach((i=>{r[i].seatPreferencesGroups&&r[i].seatPreferencesGroups.forEach((r=>{if(r.id===n){var i=t.split("."),o=i[i.length-1];a.C.indexOf(o)>-1&&(r[o]=e)}}))}))}))},i=e=>e.reduce(((e,r)=>{if(r.requestedSeats){var t=r.requestedSeats.map(((e,t)=>{var a;return{seatPreferenceGroup:r.seatPreferenceGroup,passengers:null!==(a=r.passengers)&&void 0!==a&&a.length&&r.passengers[t]?[r.passengers[t]]:[],requestedSeat:{id:e}}}));return[...e,...t]}return[...e,r]}),[])},21192:(e,r,t)=>{"use strict";t.d(r,{Jc:()=>C,ZP:()=>N,ZT:()=>P,Zy:()=>_,mX:()=>T});var a=t(55265),n=t(32034),i=t(68480),o=t(29562),s=t(31875),l=t(7185),c=t(94431),d=t(57243),u=t(4710),p=t(2438),m=t(29719),g=t(53638),v=t(42769),h=t(72750),y=t(93643),f=t(45294),E=t(13164),b=t(89034),S=t(83504),T=(0,n.P1)(S.kS,(e=>e===v.L1.results())),C=(0,n.P1)(S.kS,(e=>[v.L1.home(),v.L1.es(),v.L1.it(),v.L1.fr(),v.L1.de(),v.L1.da(),v.L1.nl(),v.L1.zh(),v.L1.ja(),v.L1.nb(),v.L1.pl(),v.L1.ru(),v.L1["pt-br"](),v.L1.sv(),v.L1["en-us"](),v.L1["de-ch"](),v.L1["fr-ch"](),v.L1["it-ch"](),v.L1.pt(),v.L1["de-at"]()].includes(e))),A=(0,n.P1)(S.kS,(e=>e===v.L1.deliveryOptions())),I=(0,n.P1)(S.kS,(e=>e===v.L1.travelOptions())),_=(0,n.P1)(S.kS,(e=>e===v.L1.checkout())),P=(0,n.P1)(S.kS,(e=>e===v.L1.ticketOptions())),R=(0,n.P1)(S.kS,(e=>e===v.L1.bookingInformationOptions())),k=e=>{var r="/";return"string"==typeof e?r=e:e&&(r=e.pathname,r+=e.query?"?"+g.Z.stringifyQuery(e.query):""),r};const N=(0,a.l)(((e,r)=>{var{getState:t}=r;return e.ofType(y.YA).pipe((0,s.q)(1),(0,l.w)((()=>(0,i.F)(1e4))),(0,c.h)((()=>{var e=t();return!(0,y.eJ)(e)||!(0,y.O7)(e)})),(0,d.U)((()=>(0,y.bV)())))}),((e,r)=>{var{getState:t}=r;return e.ofType(y.Vd).pipe((0,c.h)((()=>!(0,m.O)(t()))),(0,c.h)((()=>{var e=t(),r=(0,y.rc)(e),a=(0,y.eJ)(e),n=(0,y.O7)(e),i=(0,y.Yo)(e),o=A(e)||I(e)||P(e)||_(e)||T(e)||R(e);return!r&&!a&&!n&&o&&i})),(0,d.U)((()=>(0,y.$h)())))}),(e=>e.ofType(y.YA).pipe((0,l.w)((()=>(0,o.H)(0))),(0,d.U)((()=>(0,y.bV)())))),((e,r)=>{var{getState:t}=r;return e.ofType(y.Vd).pipe((0,c.h)((()=>{var e=t(),r=(0,y.O7)(e),a=(0,y.Qw)(e);return!r&&a})),(0,d.U)((()=>(0,y.QG)())),(0,u.b)((()=>(0,f.OW)())))}),(e=>e.ofType(y._1).pipe((0,u.b)((e=>{var{payload:r}=e;return window.location.replace(k(r))})),(0,p.l)())),(e=>e.ofType(y.zi).pipe((0,u.b)((e=>{var{payload:r}=e;return window.location.href=k(r)})),(0,p.l)())),((e,r)=>{var{getState:t}=r;return e.ofType(y.Vd).pipe((0,c.h)((()=>!(0,m.O)(t()))),(0,c.h)((()=>T(t()))),(0,c.h)((()=>{var e=t(),r=(0,y.eJ)(e),a=(0,y.Cd)(e);return!r&&a})),(0,d.U)((()=>(0,y.EN)())))}),(e=>e.ofType(h.EC,h.T7,h.Mr,E.EM).pipe((0,d.U)((()=>(0,y.xJ)())))),(e=>e.ofType(b.jw).pipe((0,c.h)((e=>{var{payload:r}=e;return"journeySummary"===r.type})),(0,d.U)((()=>(0,y.xJ)())))),((e,r)=>{var{getState:t}=r;return e.ofType(y.Vd).pipe((0,c.h)((()=>{var e=t(),r=(0,y.Eo)(e),a=(0,y.f9)(e);return!r&&a})),(0,d.U)((()=>(0,y.dU)())),(0,u.b)((()=>(0,f.OW)())))}))},53666:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>h,qj:()=>m});var a=t(31616),n=t(23198),i=t(82768),o=t(53066),s=t(18406),l=t(87582),c=t(57243),d=t(56415),u=["fieldMap","address"],p="SET_ADDRESS",m=(0,o.Z)(p),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return((e,r)=>[1,2,3,4,5].reduce(((r,t)=>{var a="Line".concat(t),n="Line".concat(t+1),i=r[a];if(i.length>e){var o=i.lastIndexOf(" ",e),s={[a]:i.substring(0,o)};return t<5&&(s[n]="".concat(i.substring(o).trim(),", ").concat(r[n])),Object.assign({},r,s)}return r}),r))(30,{Line1:e.Line1||e.addressLine1||"",Line2:e.Line2||e.addressLine2||"",Line3:e.Line3||e.addressLine3||"",Line4:e.Line4||e.addressLine4||"",Line5:e.Line5||e.addressLine5||"",PostCode:e.PostCode||e.postCode||"",CountryCode:e.CountryCode||e.country||""})},v=(e,r)=>r?"".concat(r,".").concat(e):e;const h=e=>e.ofType(p).pipe((0,c.U)((e=>{var{payload:r}=e;return r})),(0,c.U)((e=>{var r,{fieldMap:t,address:i}=e,o=(0,a.Z)(e,u);return(0,n.Z)((0,n.Z)({},o),{},{fieldMap:(r=t,(0,n.Z)({Line1:"addressLine1",Line2:"addressLine2",Line3:"addressLine3",Line4:"addressLine4",Line5:"addressLine5",PostCode:"postcode",CountryCode:"country"},r)),address:g(i)})})),(0,d.zg)((e=>{var{fieldPrefix:r,formName:t,untouched:a,address:n,fieldMap:o}=e;return(0,l.of)(...((e,r,t,a)=>Object.keys(e).map((n=>(0,s.m)(r,v(e[n],a),t[n]))))(o,t,n,r),((e,r,t,a)=>t(r,...(0,i.VO0)(e).map((e=>v(e,a)))))(o,t,a?s.OP:s.Fq,r))})))},31063:(e,r,t)=>{"use strict";t.d(r,{OE:()=>L,ST:()=>O});var a=t(23198),n=t(37719),i=t(94431),o=t(7185),s=t(97646),l=t(60654),c=t(21168),d=t(83504),u=t(85536),p=t(53638),m=t(24087),g=t(14238),v=t(42769),h=t(65441),y=t(16134),f=t(8129),E=t(72750),b=t(71162),S=t(94018),T=t(97866),C=t(61229),A=t(88005),I=t(51059),_=t(51807),P=t(97819),R=t(89034),k=t(29433),N=t(43288),O=e=>{var r=(0,_.PE)(e,(0,d.FD)(e)),t=r&&r.error&&(0,P.UX)(r.error),a=t&&s.Z[t[0]]&&t[0];return a||"ItinerarySearch.FareSearch.Atoc.JourneysNotFound.Refine"},L=(e,r)=>{var{getState:t}=r;return e.ofType(E.ri,E.ui,y.ui,y.ri,f.ui,f.ri,b.wL).pipe((0,i.h)((()=>{var e=t(),r=(0,I.iK)(e),n=(0,S.vR)(e),i=(0,I.Wc)(e),o=r?(0,_.PE)(e,{query:(0,a.Z)((0,a.Z)({},i),{},{transportModes:n===m.ZP.COACH?[l.AvailableTransportModes.COACH]:[l.AvailableTransportModes.MIXED]})}):(0,_.PE)(e,{query:i});return!o||!o.error||!(0,P.UX)(o.error).some((e=>["ItinerarySearch.SearchController.NotSupported","ItinerarySearch.Request.NotSupported"].includes(e)))})),(0,o.w)((()=>{var e,r,i,o=t(),s=(0,d.FD)(o),f=(0,S.vR)(o),E=(0,I.fE)(o,s),P=(0,I.iK)(o),L=(0,T.c1)(o),x=P?{query:(0,a.Z)((0,a.Z)({},s.query),{},{transportModes:[l.AvailableTransportModes.MIXED]})}:s,D=(0,_.Zb)(o,x),w=(0,_.Zb)(o,{query:(0,a.Z)((0,a.Z)({},s.query),{},{transportModes:[l.AvailableTransportModes.COACH]})}),Z=P?w:(0,g.dC)(o),F=(0,h.Wj)(o),B=(0,g.Pj)(o),M=P&&!(0,C.JQ)(o,x)&&!(0,C.JQ)(o,{query:(0,a.Z)((0,a.Z)({},s.query),{},{transportModes:[l.AvailableTransportModes.COACH]})}),U=(0,b.lB)(o),j=U&&(f===m.ZP.COACH&&Z===l.LoadStatus.ERROR||f!==m.ZP.COACH),H=M&&j||!P,W=(0,_.e_)(o,x),G=(0,_.xw)(o,x),V=(0,k.Jp)(o),Y=JSON.parse((null===(e=s.query)||void 0===e?void 0:e.directSearch)||"false"),K=[],z=(0,_.PE)(o,(0,d.FD)(o)),J=!z||z.status!==l.LoadStatus.ERROR||(null==z||null===(r=z.error)||void 0===r?void 0:r.code)&&403!==(null==z||null===(i=z.error)||void 0===i?void 0:i.code);if(s.pathname!==v.L1.results()||E)L&&D===l.LoadStatus.ERROR&&H&&J&&K.push((0,n.VF)(v.L1.genericSearchError((0,a.Z)({},s.query))));else if(D===l.LoadStatus.ERROR&&Z===l.LoadStatus.ERROR&&H||G){var q=O(o);if(K.push((0,S.eb)(m.ZP.TRAIN)),L&&J&&K.push((0,n.VF)(v.L1.genericSearchError((0,a.Z)({},s.query)))),(0,u.QA)()&&!L){var Q=W&&W.length?W:G&&G.length?G:void 0;K.push((0,R.OB)({params:{source:A.fi,errorCodes:Q&&Q.length?void 0:[q],warnings:Q,redirectLink:v.L1.home()},type:c.e.CHANGE_JOURNEY_SEARCH_MODAL}))}}else if(H||!P||(f!==m.ZP.TRAIN||D!==l.LoadStatus.ERROR)&&(f!==m.ZP.COACH||Z!==l.LoadStatus.ERROR&&U))if(D===l.LoadStatus.ERROR&&Z!==l.LoadStatus.ERROR&&!Y&&!P||P&&D===l.LoadStatus.ERROR&&Z!==l.LoadStatus.ERROR&&Z!==l.LoadStatus.PENDING&&f===m.ZP.TRAIN&&H&&!Y){if(D===l.LoadStatus.ERROR&&L&&J)K.push((0,n.VF)(v.L1.genericSearchError((0,a.Z)({},s.query))));else if(J){var{pathname:X,query:$}=s;V&&K.push((0,N.uv)({prevQuery:$,nextQuery:(0,a.Z)((0,a.Z)({},$),{},{transportModes:[l.AvailableTransportModes.COACH],selectedTab:m.ZP.COACH})})),K.push((0,S.eb)(m.ZP.COACH),(0,n.gx)({pathname:X,search:p.Z.stringifyQuery((0,a.Z)((0,a.Z)({},$),{},{transportModes:[l.AvailableTransportModes.COACH],selectedTab:m.ZP.COACH}))}))}}else Z===l.LoadStatus.ERROR&&D!==l.LoadStatus.ERROR&&f===m.ZP.COACH&&H?F===y.ir.EARLIER_LATER?L?J&&K.push((0,n.VF)(v.L1.genericSearchError((0,a.Z)({},s.query)))):K.push((0,R.OB)({params:{source:A.fi,errorCodes:W&&W.length?void 0:["ItinerarySearch.FareSearch.Atoc.JourneysNotFound.Refine"],warnings:W,redirectLink:v.L1.home()},type:c.e.CHANGE_JOURNEY_SEARCH_MODAL})):F===y.ir.STANDARD&&K.push((0,S.eb)(m.ZP.TRAIN)):!B&&f===m.ZP.COACH&&H?K.push((0,S.eb)(m.ZP.TRAIN)):L&&D===l.LoadStatus.ERROR&&J&&K.push((0,n.VF)(v.L1.genericSearchError((0,a.Z)({},s.query))));else L&&J&&K.push((0,n.VF)(v.L1.genericSearchError((0,a.Z)({},s.query)))),(0,u.QA)()&&!L&&K.push((0,R.OB)({params:{source:A.fi,errorCodes:W&&W.length?void 0:["ItinerarySearch.FareSearch.Atoc.JourneysNotFound.Refine"],warnings:W,redirectLink:v.L1.home()},type:c.e.CHANGE_JOURNEY_SEARCH_MODAL}));return K})))}},89918:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(88543),n=t(29433),i=t(51059),o=t(51282),s=t(78307);const l=()=>{var e=(0,a.useSelector)(n.ly),r=(0,a.useSelector)(i.In),{journeySearchType:t}=(0,a.useSelector)(o.gH),l=t===s.ki.SINGLE;return e&&r&&l}},35300:(e,r,t)=>{"use strict";t.d(r,{DY:()=>m,KF:()=>d,il:()=>c,k3:()=>u,lN:()=>p,mQ:()=>s});var a=t(57243),n=t(37719),i=t(37544),o=t(32034),s="cjsHeader",l=e=>e.uiState.components[s],c=(0,o.P1)(l,(e=>e&&e.isLoading)),d=(0,o.P1)(l,(e=>e&&e.isDesktopWidth)),u=e=>(0,i.ET)({id:s,state:{isLoading:e}}),p=e=>(0,i.ET)({id:s,state:{isDesktopWidth:e}}),m=e=>e.ofType(n.nk).pipe((0,a.U)((()=>u(!1))))},52925:(e,r,t)=>{"use strict";t.d(r,{Gn:()=>l,Ps:()=>s,ZP:()=>c,mf:()=>o});var a=t(36592),n=e=>"cjs/".concat(e),i=n("SUBMIT"),o=n("PREPARE_FETCH_EU_INWARD_JOURNEYS"),s=(0,a.ul)(i),l=(0,a.RW)(o);const c=i},25561:(e,r,t)=>{"use strict";t.d(r,{Dj:()=>_e,Jm:()=>xe,Ku:()=>Re,P3:()=>Ie,Vc:()=>ke,ZP:()=>Be,bu:()=>we,gQ:()=>Pe,kJ:()=>Fe,nN:()=>Ne,pO:()=>De});var a=t(23198),n=t(37719),i=t(82768),o=t(55265),s=t(42756),l=t(87582),c=t(8947),d=t(54466),u=t(94431),p=t(57243),m=t(56415),g=t(76706),v=t(426),h=t(7185),y=t(7715),f=t(26041),E=t(86003),b=t(17038),S=t(57110),T=t(42769),C=t(68760),A=t(85207),I=t(96594),_=t(35300),P=t(52925),R=t(37544),k=t(51282),N=t(7739),O=t(47312),L=t(59838),x=t(26560),D=t(50989),w=t(66763),Z=t(72750),F=t(99462),B=t(70932),M=t(6159),U=t(80336),j=t(20066),H=t(20786),W=t(76376),G=t(99461),V=t(60054),Y=t(2321),K=t(34832),z=t(22962),J=t(83504),q=t(92254),Q=t(26532),X=t(2353),$=t(10548),ee=t(36592),re=t(62830),{CAW:te,MTICKET:ae,KIOSK:ne,ETICKET:ie,SECOND_CLASS_POST:oe,SPECIAL_DELIVERY:se,INTERNATIONAL_POST:le,SNCF_ETICKET:ce,NATIONAL_EXPRESS_E_TICKET:de,EU_GENERIC:ue,BENERAIL_PRINT_YOUR_OWN:pe,BENERAIL_ETICKET:me,DB_ETICKET:ge,RENFE_ETICKET:ve,TRENITALIA_ETICKET:he,TRENITALIA_TICKETLESS:ye,ILSA_ETICKET:fe,NTV_TICKETLESS:Ee,SMART_COLLECT_AT_STATION:be,SMART_ECEB_COLLECT_AT_STATION:Se,SMART_COLLECT_ON_SMARTPHONE:Te}=b.Ne,Ce={[ne]:A.zz,[te]:A.zz,[ae]:A.LE,[ie]:A.ic,[oe]:A.Mo,[se]:A.JR,[le]:A.nw,[ce]:I.WX,[ue]:I.WX,[pe]:I.WX,[me]:I.WX,[ge]:I.WX,[ve]:I.WX,[he]:I.WX,[ye]:I.WX,[fe]:I.WX,[Ee]:I.WX,[de]:A.Qg,[be]:A.CQ,[Se]:A.CQ,[Te]:A.D6},Ae="TRANSITION_FROM_DELIVERY_OPTIONS",Ie=(0,ee.RW)(Ae),_e=(e,r)=>{var t=(0,V.wy)(e);if(!r&&!t)throw new Error("If this is undefined that means that either:\n      1. a delivery option that was not specified as available was rendered,\n      2. a delivery option that was not rendered was selected\n    Neither scenario should be possible, but this is nonetheless a theoretically possible code path.");var a=r&&r.code?{code:r.code}:void 0,n=!a&&t?ue:r.method,o=Ce[n];if(o)return(0,i.TSy)(a||{},o(e));throw new Error("Not implemented")},Pe=e=>[ce,ue].includes(e),Re=e=>[b.Gl.AtocUkSecondClassPost,b.Gl.AtocUkSpecialDelivery,b.Gl.AtocUkInternationalPost,b.Gl.InternationalPost].includes(e),ke=e=>[b.Gl.AtocItsoSmartActionList,b.Gl.AtocItsoSmartEcebsActionList,b.Gl.AtocItsoSmartActionListCollectOnSmartphone].includes(e),Ne=(e,r)=>{var t=e.getState(),a=(0,A.RL)(t),n=(0,A.z8)(t),i=(0,M.I5)(t),o=(0,M.lf)(t),l=(0,A.iC)(t),c=o&&o.find((e=>e.Isrn===n)),d=i&&i.some((e=>{var r;return(null===(r=e.Alias)||void 0===r?void 0:r.toLowerCase())===(null==l?void 0:l.toLowerCase())})),u=!!(0,A.GE)(t);if(i&&i.some((e=>e.Isrn===n)))return(0,s._)(new N.XF("Smartcard already exists",{status:409,statusText:"Smartcard already exists"},{errorMessage:O.Dg.SMART_DUPLICATED_SMART_CARD}));if(d)return(0,s._)(new N.XF("Alias name must be unique.",{status:409,statusText:"Alias name must be unique."},{errorMessage:O.Dg.SMART_DUPLICATED_SMART_CARD_ALIAS}));if((a===b.Gl.AtocItsoSmartActionList||a===b.Gl.AtocItsoSmartEcebsActionList)&&!1===u)return(0,s._)(new N.XF("Please select a smart ticket collection station",{status:409,statusText:"Please select a smart ticket collection station"},{errorMessage:O.Dg.SMARTCARD_TICKET_STATION_EMPTY}));if(c){var p={Id:c.id,Alias:l,IsDefault:c.IsDefault};return S.J_(p)}var m=null!=r?r:(0,C.c4)(t),g=(0,C.OK)(t),v=(0,A.Tn)(t),h=function(e){var r=arguments.length>3?arguments[3]:void 0,t=arguments.length>4?arguments[4]:void 0;return{Alias:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",IsDefault:arguments.length>2?arguments[2]:void 0,Isrn:e,Status:"Active",UserID:r||0,IsGuestUser:null==t||t}}(n,l,v,m,g);return S.lA(h)},Oe="PREFILL_ACCOUNT_HOLDER_DETAILS",{[Oe]:Le}=D.Wd,xe=(e,r,t)=>{var n=e.getState(),i=(0,W.cF)(n);if(!i)throw new Error("No delivery options");var o=(0,C.c4)(n),s=i.options.find((e=>e.method===r)),l=_e(n,s);return S.yz[r](Re(r)?(0,a.Z)((0,a.Z)({},l),{},{customerId:o}):ke(r)&&t?(0,a.Z)((0,a.Z)({},l),{},{smartcardGuid:t}):l)},De=e=>[e.passengers,{leadSave:e.leadSave,leadPhone:e.leadPhone,leadTitle:e.leadTitle,leadPassenger:e.leadPassenger,leadPhoneNumber:e.leadPhoneNumber,leadPhonePrefix:e.leadPhonePrefix}],we=(e,r)=>{var t=e.getState(),a=(0,W.cF)(t);if(!a)throw new Error("No delivery options");var o,u,p=a.options.find((e=>(null==e?void 0:e.method)===r));if(Boolean(Pe(r))){var g=_e(t,p);o=g.passengers,u={leadTitle:g.leadTitle,leadPhone:g.leadPhone,leadPhonePrefix:g.leadPhonePrefix,leadPhoneNumber:g.leadPhoneNumber,leadSave:g.leadSave,leadPassenger:g.leadPassenger}}var v=(0,X.hc)(t),h=(0,y.e)(t),b=(0,A.NC)(t);return(0,l.of)(b).pipe((0,m.zg)((e=>S.fZ({group:e,passengers:o,leadPassengerDetails:u,euVoucher:v}).pipe((0,m.zg)((e=>!e||(0,i.xbD)(e)||(0,i.xbD)(e.data)?(0,s._)({data:[{code:E.yQ.GENERIC_BASKET_MERGE_FAILED}]}):(0,d.z)((0,z.p)(e),((e,r,t,a)=>{if(!(a&&r&&t.auth&&t.auth.state&&t.auth.state===q.z.GUEST))return(0,l.of)({type:"NOOP"});var n=(0,k.nH)(e),i=a.reduce(((e,r)=>{if(!r.railCards)return e;var t=n.findIndex((e=>e.id===r.id)),a=n[t];if(!a)return e;var i=r.railCards.map((e=>{var r=a.discountCards.find((r=>r.uuid===e.id));if(r)return r&&e.number!==r.accountNumber&&e.number&&e.number?{userIndex:t,cardTypeId:e.cardType.id,newCardNumber:e.number}:void 0})).filter(L.v);return[...e,...i]}),[]);return(0,c.D)(i).pipe((0,m.zg)((e=>{var{userIndex:r,cardTypeId:t,newCardNumber:a}=e;return(0,l.of)((0,Q.vc)({userIndex:r,cardTypeId:t,attributes:{number:a}}))})))})(t,Pe(r),e,o),(0,l.of)((0,w.S0)()),h?(0,l.of)((0,f.u)({path:h})):(0,d.z)((0,l.of)((0,n.VF)(T.L1.checkout())),(0,j.oW)(e)))))))))},Ze=(e,r)=>{var t=e.getState(),o=(0,A.RL)(t),s=(0,W.cF)(t).options.find((e=>e.method===o)),c=_e(t,s),u=Boolean(Pe(o))?c.passengers:void 0,p=(0,U.c3)(t),h=(0,H.eU)(t).length>1,y=(0,x.I)(t),f=(0,F.S)(t),E=!!(0,A.z8)(t),S=!!(0,A.GE)(t),C=ke(o)&&(0,A.C5)(t);return(e=>{var{firstName:r,lastName:t}=e;r&&t?(0,D.WM)(Oe,Le.FIRST_AND_LAST_NAME_AMENDED):r?(0,D.WM)(Oe,Le.FIRST_NAME_AMENDED):t&&(0,D.WM)(Oe,Le.LAST_NAME_AMENDED)})(y),o!==b.Gl.AtocItsoSmartActionList&&o!==b.Gl.AtocItsoSmartEcebsActionList||S||C?ke(o)&&!E?(0,l.of)((0,O.iE)(!E,O.Dg.SMARTCARD_NUMBER_EMPTY)):((e,r,t,o,s,c,u,p)=>(0,l.of)((0,_.k3)(!0)).pipe((0,g.T)(xe(e,r,t).pipe((0,m.zg)((t=>{var{data:m}=t;return(0,d.z)(m&&m.auth?(0,j.oW)(m):(0,l.of)({type:"NOOP"}),s&&s.password?(0,K.dy)((0,a.Z)({email:o.email,password:s.password},c&&c[0]&&{firstName:c[0].firstName,lastName:c[0].lastName})):(0,K.K4)(m?m.auth:void 0),(0,re.Ay)(e.getState())?(0,l.of)((0,n.VF)(T.L1.bookingInformationOptions())):we(e,r)).pipe((0,v.K)((r=>(0,G.YN)(r,(0,B.nR)(e.getState()),u,void 0,!!p&&!(0,i.xbD)(p)))))})),(0,v.K)((e=>(0,G.YN)(e)))))))(e,o,r,c,p,u,h,f):(0,l.of)((0,O.iE)(!S,O.Dg.SMARTCARD_TICKET_STATION_EMPTY))},Fe=e=>{var r=!0,t=O.Dg.SMART_SERVICE_ERROR;return 400===e.response.status&&(r=!1,t=O.Dg.SMARTCARD_NUMBER_INVALID),409===e.response.status&&(r=!0,t=e.data.errorMessage),(0,l.of)((0,O.iE)(r,t),(0,_.k3)(!1),(0,D.Ep)(e))};const Be=(0,o.l)(((e,r)=>e.ofType(P.ZP).pipe((0,u.h)((()=>(0,J.kS)(r.getState()).startsWith(T.L1.deliveryOptions()))),(0,p.U)((()=>{var e=r.getState();return(0,$.Z)()(e).includes(I.ed)?I.Ps:A.Ps})))),((e,r)=>e.ofType("@@redux-form/SET_SUBMIT_SUCCEEDED").pipe((0,u.h)((e=>{var{meta:r}=e;return r.form===A.gY||r.form===I.ed})),(0,u.h)((()=>!(0,J.kS)(r.getState()).startsWith(T.L1.options()))),(0,m.zg)((()=>{var e=r.getState(),t=(0,A.RL)(e),a=ke(t)&&(0,A.C5)(e);return(0,d.z)(a?(0,l.of)((0,_.k3)(!0)).pipe((0,g.T)(Ne(r).pipe((0,m.zg)((e=>(0,d.z)((0,l.of)((0,Y.nL)(e)),Ze(r,e)))),(0,v.K)((e=>Fe(e)))))):Ze(r),(0,l.of)((0,R.k5)({id:Z.yZ}))).pipe((0,v.K)((e=>(0,G.YN)(e))))})))),((e,r)=>e.ofType(Ae).pipe((0,h.w)((()=>Ze(r))))))},14846:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>J,f9:()=>Y});var a=t(82768),n=t(22822),i=t(10548),o=t(62418),s=t(4411),l=t(55265),c=t(8947),d=t(87582),u=t(54466),p=t(94431),m=t(4710),g=t(2438),v=t(57243),h=t(56415),y=t(426),f=t(7185),E=t(31875),b=t(57110),S=t(7348),T=t(85536),C=t(50989),A=t(36592),I=t(17038),_=t(42769),P=t(68760),R=t(94032),k=t(85207),N=t(10326),O=t(96594),L=t(69032),x=t(20786),D=t(99461),w=t(60054),Z=t(2321),F=t(31521),B=t(35300),M=t(52925),U=t(25561),j=t(45408),H=t(83504),W=t(34038),G="@@redux-form/SET_SUBMIT_SUCCEEDED",V="CONTINUE_TRANSIT_FROM_OPTIONS",Y=(0,A.ul)(V),K="MERGED_BOOKING_OPTIONS_PAGE",{[K]:z}=C.Wd;const J=(0,l.l)(((e,r)=>e.ofType(M.ZP).pipe((0,p.h)((()=>(0,H.kS)(r.getState()).startsWith(_.L1.options()))),(0,v.U)((()=>{var e=r.getState(),t=(0,i.Z)()(e);return[...t.includes(L.Th)?[L.Ps]:[],...t.includes(N.Th)?[N.Ps]:[],...t.includes(k.gY)?[k.Ps]:[],...t.includes(O.ed)?[O.Ps]:[],...t.includes(S.Th)?[S.Ps]:[]]})),(0,h.zg)((e=>(0,c.D)(e))))),((e,r)=>e.ofType(M.ZP).pipe((0,p.h)((()=>(0,H.kS)(r.getState()).startsWith(_.L1.options()))),(0,f.w)((()=>e.ofType(G).pipe((0,p.h)((e=>{var{meta:r}=e;return r.form===L.Th||r.form===N.Th||r.form===k.gY||r.form===O.ed||r.form===S.Th})),(0,p.h)((()=>(0,H.kS)(r.getState()).startsWith(_.L1.options()))),(0,p.h)((()=>{return e=r.getState(),t=[L.Th,N.Th,k.gY,O.ed,S.Th],a=(0,i.Z)()(e),t.filter((e=>a.includes(e))).every((r=>(0,o.Z)(r)(e)));var e,t,a})),(0,E.q)(1),(0,h.zg)((()=>{var e=r.getState(),t=(0,i.Z)()(e);return t.includes(L.Th)||t.includes(N.Th)?(0,j.WO)(r,!0):[(0,d.of)((0,B.k3)(!0)),(0,d.of)((0,j.L3)())]}))))))),((e,r)=>e.ofType(V).pipe((0,h.zg)((e=>{var{payload:{method:t}}=e;return(t===I.Gl.AtocKiosk||t===I.Gl.AtocETicket||t===I.Gl.NationalExpressETicket?(0,U.Jm)(r,t):(0,d.of)({type:"noop"})).pipe((0,h.zg)((()=>(0,U.bu)(r,t))),(0,y.K)((e=>(0,D.YN)(e))))})))),((e,r)=>e.ofType(G).pipe((0,p.h)((e=>{var{meta:r}=e;return r.form===k.gY||r.form===O.ed})),(0,m.b)((()=>(e=>{if((0,w.wy)(e))if((0,R.kX)(e))(0,C.WM)(K,z.SEATING_AND_EXTRAS_NOT_DISPLAYED);else{var r=(0,F.qK)(e);for(var t of r){var a=(0,N.J1)(e,t),n=(0,R.gM)(e,t);if(a||n)return void(0,C.WM)(K,z.SEATING_AND_EXTRAS_SELECTED)}}})(r.getState()))),(0,g.l)())),((e,r)=>e.ofType("@@redux-form/SET_SUBMIT_FAILED").pipe((0,p.h)((e=>{var{meta:r}=e;return r.form===k.gY||r.form===O.ed})),(0,v.U)((e=>{var{meta:t}=e,a=r.getState(),i=(0,n.Z)(S.Th)(a);if((0,T.tq)()&&"undefined"!=typeof window&&t.fields.includes("mTicketTravellerName")&&!i){var o=document.getElementById("mTicketTravellerName");o&&o.scrollIntoView({behavior:"smooth"})}})),(0,g.l)())),(function(e,r){return e.ofType(j.u5).pipe((0,f.w)((()=>function(e){var r=e.getState(),t=(0,w.wy)(r),a=(0,P.tC)(r),n=(0,s.Z)(S.Th)(r),i=!!n&&n.email;return!t&&a&&i?(0,b.Lx)(i):(0,d.of)({type:"noop"})}(r))),(0,f.w)((e=>{var t,n=r.getState();if(!(0,a.xbD)(e)){var{auth:i}=e;t=null==i?void 0:i.customerId}var o=(0,k.RL)(n),s=(0,U.Vc)(o)&&(0,k.C5)(n);return(0,u.z)((0,W.oT)(r),s?(0,U.nN)(r,t).pipe((0,h.zg)((e=>(0,u.z)((0,d.of)((0,Z.nL)(e)),(0,d.of)((0,U.P3)())))),(0,y.K)((e=>(0,U.kJ)(e)))):(0,d.of)((0,U.P3)())).pipe((0,y.K)((e=>{var r=(0,x.eU)(n).length>1;return(0,D.YN)(e,!1,r)})))})))}))},54285:(e,r,t)=>{"use strict";t.d(r,{$:()=>l,x:()=>c});var a=t(37719),n=t(53066),i=t(57243),o=t(42769),s="fromPayment/".concat("TRANSIT_TO_CONFIRMATION"),l=(0,n.Z)(s),c=e=>e.ofType(s).pipe((0,i.U)((e=>(0,a.VF)(o.L1.confirmation()))))},54074:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>m,g8:()=>p});var a=t(37719),n=t(57243),i=t(47967),o=t(20777),s=t(83504),l=t(42769),c=t(36592),d=t(52925),u="UK_ALTERNATIVE_SELECTION_MOBILE",p=(0,c.PH)(u);const m=(e,r)=>{var{getState:t}=r;return e.ofType(u).pipe((0,n.U)((()=>({state:t()}))),(0,n.U)((e=>{var{state:r}=e,t=(0,s.FD)(r);return(0,o.zH)(r,t)?{type:"NOOP"}:(0,i.jP)(r).length<=1?{type:d.ZP}:(0,a.VF)(l.L1.ticketOptions((0,s.xM)(r)))})))}},45408:(e,r,t)=>{"use strict";t.d(r,{C3:()=>z,L3:()=>Y,Lo:()=>U,V2:()=>q,WO:()=>X,ZP:()=>$,u5:()=>W,wm:()=>K});var a=t(23198),n=t(82768),i=t(55265),o=t(32034),s=t(87582),l=t(54466),c=t(42756),d=t(8947),u=t(94431),p=t(7185),m=t(4710),g=t(2438),v=t(426),h=t(64169),y=t(50989),f=t(10517),E=t(57110),b=t(42769),S=t(68760),T=t(99462),C=t(77264),A=t(94032),I=t(10326),_=t(69032),P=t(20066),R=t(99461),k=t(60054),N=t(31521),O=t(35300),L=t(52925),x=t(84745),D=t(83504),w=t(97068),Z=t(36592),F=t(74598),B=t(67487),M=t(7968),U="@@redux-form/SET_SUBMIT_SUCCEEDED",j="SET-PLUSBUS-PRODUCTS",H="SET_RESERVATION_OFFERS",W="DELIVERY_OPTIONS_FROM_OPTIONS",G=(0,Z.ul)(j),V=(0,Z.ul)(H),Y=(0,Z.PH)(W),K="seatPreferences",z=(0,o.P1)(T.Zo,T.rN,((e,r)=>e.concat(r))),J=(0,o.P1)(T.KZ,T.OH,((e,r)=>r.every((e=>void 0!==e))?[...e,...r]:[...e])),q=e=>E.vl(e).pipe((0,p.w)((e=>(0,P.oW)(e)))),Q=e=>{var r=(0,k.s9)(e)||{},t=(0,S.yW)(e);if(((0,S.EM)(e)||t)&&!r.inwardJourney){var i,o,s,l,c=(0,A.z)(e),d=h.I_.getItem(K)||{},u=(0,a.Z)({},d),p=function(){if(m.toLowerCase()!==f.X.SNCF)return"continue";if(c[m].length>1)return"continue";var r=c[m][0],t=function(t){var a=[];if(!r[t])return"continue";if(d[t]){if(d[t].includes(r[t]))return"continue";var n=(0,A.ZT)(e,{mergeSeatPreferencesGroups:!1});if(n){var i=n.find((e=>e[t].map((e=>e.id)).includes(r[t])));i&&(a=i[t].map((e=>e.id)).filter((e=>e!==r[t])))}}d[t]=(d[t]?[...d[t],r[t]]:[r[t]]).filter((e=>!a.includes(e)))};for(var a of["position","direction","seatType"])t(a)};for(var m in c)p();o=d,s=(l=i=u).direction&&l.direction.length||l.position&&l.position.length||l.seatType&&l.seatType.length?(0,n.fS0)(i,o)?y.Wd.SEAT_PREFERENCES_STORAGE.SEAT_PREFERENCES_STORAGE_CONSUMED:y.Wd.SEAT_PREFERENCES_STORAGE.SEAT_PREFERENCES_STORAGE_AMENDED:y.Wd.SEAT_PREFERENCES_STORAGE.SEAT_PREFERENCES_STORAGE_CREATED,(0,y.WM)("SEAT_PREFERENCES_STORAGE",s),Object.keys(d).length&&h.I_.setItem(K,d)}};var X=(e,r)=>{var t=e.getState(),a=(0,M.Vf)(t).filter((e=>{var{localAreaId:r,alternativeId:t}=e;return r&&t}));return(0,d.D)([(0,O.k3)(!0),a.length>0?G({plusbusProducts:a,skipRedirect:r}):V({skipRedirect:r})])};const $=(0,i.l)(((e,r)=>e.ofType(L.ZP).pipe((0,u.h)((()=>(0,D.kS)(r.getState()).startsWith(b.L1.travelOptions()))),(0,p.w)((()=>(0,s.of)((0,k.wy)(r.getState())?I.Ps:_.Ps))))),((e,r)=>e.ofType(U).pipe((0,u.h)((e=>{var{meta:r}=e;return r.form===_.Th||r.form===I.Th})),(0,u.h)((()=>!(0,D.kS)(r.getState()).startsWith(b.L1.options()))),(0,p.w)((()=>X(r,!1))))),((e,r)=>e.ofType(U).pipe((0,u.h)((e=>{var{meta:r}=e;return r.form===I.Th})),(0,m.b)((()=>Q(r.getState()))),(0,g.l)())),((e,r)=>e.ofType(j).pipe((0,p.w)((e=>{var t,a,{payload:{plusbusProducts:n,skipRedirect:i=!1}}=e,o=r.getState(),c=(0,N.SY)(o),{searchId:d,selectedAlternatives:u}=(null==c?void 0:c.originatingSearchData)||{},m={inventory:w.O.ATOC,searchId:d,outwardAlternativeIds:u,localAreaOptions:n.map((e=>({localAreaId:e.localAreaId,alternativeId:e.alternativeId})))};return(0,l.z)((t=m,a=null==c?void 0:c.id,E.ln(t).pipe((0,p.w)((e=>(0,l.z)((0,P.oW)(e),(0,s.of)(a&&(0,F.zt)({ecommerceAction:B.PurpleEcommerceAction.Add,productIds:[a]}))))))),(0,s.of)(V({skipRedirect:i}))).pipe((0,v.K)((e=>(0,R.YN)(e))))})))),((e,r)=>e.ofType(H).pipe((0,p.w)((e=>{var{payload:{skipRedirect:t}}=e,n=r.getState();return(0,l.z)(function(e){try{var r=(0,N.qK)(e).reduce(((r,t)=>{var n={reservations:J(e,t.id),seatPreferences:(0,k.wy)(e)?(0,A.jV)(e,t):(0,C.DI)(e,t),extras:(0,k.wy)(e)?(0,I.xg)(e,t):(0,_.Tw)(e,t)};return 0===n.reservations.length&&void 0===n.seatPreferences&&0===n.extras.length?r:(0,a.Z)((0,a.Z)({},r),{},{[t.id]:n})}),{});return Object.keys(r).length>0?q(r):(0,s.of)({type:"NOOP"})}catch(e){return(0,c._)(e)}}(n),t?(0,s.of)(Y()):(0,s.of)((0,x.Z)(r))).pipe((0,v.K)((e=>(0,R.YN)(e))))})))))},84745:(e,r,t)=>{"use strict";t.d(r,{Z:()=>g});var a=t(37719),n=t(7715),i=t(79909),o=t(42769),s=t(68760),l=t(99462),c=t(70932),d=t(96594),u=t(60054),p=t(84175),m=t(41152);const g=e=>{var r=e.getState(),t=(0,u.s9)(r),g=(0,s.JS)(r),v=(0,p.h_)(r,t),h=(0,l.BS)(r),y=(0,l.gk)(r),f=(0,i.gX)(r);if(g&&v&&h&&!y&&!f){var E=(0,m.MF)(r),b=E.some((e=>(0,d.Bd)(r)[e.id])),S=(0,l.nR)(r,E);if(!b&&S)return(0,c.JH)()}var T=(0,n.ye)(r);return v||g&&!T?(0,a.VF)(o.L1.deliveryOptions()):(0,a.VF)(o.L1.login({plan:"",showRadioButtons:!0}))}},37599:(e,r,t)=>{"use strict";t.d(r,{Gp:()=>c,NG:()=>p,Q9:()=>u,XB:()=>g,_x:()=>s,dT:()=>v,ll:()=>d});var a=t(37719),n=t(37544),i=t(32034),o=t(57243),s="insurance",l=e=>e.uiState.components[s],c=(0,i.P1)((e=>e),((e,r)=>r||{}),((e,r)=>{var t=r.travelProductId,a=l(e);return a&&a[t]&&a[t].isLoading})),d=(0,i.P1)((e=>e),((e,r)=>r||{}),((e,r)=>{var t=r.travelProductId,a=l(e);return a&&a[t]&&a[t].hasError})),u=(e,r)=>(0,n.ET)({id:s,state:{[r]:{isLoading:e}}}),p=(e,r)=>(0,n.ET)({id:s,state:{[r]:{hasError:e}}}),m=()=>(0,n.ET)({id:s,state:{}}),g=e=>e.ofType(a.nk).pipe((0,o.U)((()=>m()))),v=e=>e.ofType(a.nk).pipe((0,o.U)((()=>m())))},26041:(e,r,t)=>{"use strict";t.d(r,{_:()=>n,u:()=>i});var a=t(36592),n="redirect/INTERNAL_REDIRECT_TO",i=(0,a.ul)(n)},81482:(e,r,t)=>{"use strict";t.d(r,{D$:()=>n,EF:()=>c,Sq:()=>s,XW:()=>l,aj:()=>o,xF:()=>i});var a=t(36592),n="quickBuy/START",i="quickBuy/CONTINUE",o="addAnotherJourney/START",s=(0,a.ul)(n),l=(0,a.ul)(o),c=(0,a.ul)(i)},83504:(e,r,t)=>{"use strict";t.d(r,{FD:()=>n,TJ:()=>s,gZ:()=>l,kS:()=>i,w0:()=>c,xM:()=>o});var a=t(42769),n=e=>e.router.location,i=e=>e.router.location.pathname||"",o=e=>e.router.location.query||{},s=e=>e.router.location.state||{},l=e=>{var r=i(e);return!!r&&r.startsWith(a.L1.results())},c=e=>{var r=i(e),t=!!r&&r.endsWith(a.L1.checkout()),{railcard:n}=o(e);return"true"===n&&t}},73680:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>b,rR:()=>E});var a=t(53066),n=t(54466),i=t(87582),o=t(56590),s=t(7185),l=t(56415),c=t(42769),d=t(66763),u=t(99462),p=t(4794),m=t(96586),g=t(1747),v=t(7968),h=t(84182),y=t(97866),f="TRAVEL_OPTIONS_PAGE_MOUNTED",E=(0,a.Z)(f);const b=(e,r)=>e.ofType(f,g.E).pipe((0,s.w)((()=>(0,m.OU)(e,r).pipe((0,l.zg)((()=>{var e,t,a,s=r.getState(),l=(0,p.Tk)(s),m=(0,d.Rs)(s),g=(t=(e=l)===c.L1.results(),a=e===c.L1.ticketOptions(),!(t||a)),f=null==m?void 0:m.id,E=Boolean(null==m?void 0:m.items.length),{enablePlusbus:b}=(0,y.Gg)(s),S=(0,v.gM)(s),T=b&&S.length>0;return(0,n.z)(f&&E&&g?(0,i.of)((0,u.e9)({temporaryBasketId:f})):(0,o.c)(),T?(0,i.of)((0,d.tE)({itemIds:S.map((e=>e.id)),basketType:h.I.TEMP})):(0,o.c)())}))))))},53178:(e,r,t)=>{"use strict";t.d(r,{W:()=>i,i:()=>o});var a=t(97866),n=t(29433),i=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,a.Br)(e)&&r&&!t},o=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,n.YQ)(e),o=i(e,r);return a&&o&&!t}},98864:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(26625);const n=()=>{var{sendTracking:e}=(0,a.rS)();return{pricePredictionImpression:r=>{e((0,a.k1)({category:"price prediction",action:"price prediction impression",label:"price rises in ".concat(r,"d"),coreProperties:{}}))},pricePredictionFeedbackTracking:r=>{var t=r?"price prediction thumbs down clicked":"price prediction thumbs up clicked";e((0,a.k1)({coreProperties:{siteSection:"web flow",siteSubSection:"introducing price prediction modal"},category:"price prediction",action:t,label:"price prediction feedback"}))},pricePredictionInfoModalImpression:()=>{e((0,a.k1)({category:"price prediction",action:"price prediction info modal impression",label:"price prediction info modal impression",coreProperties:{}}))},onClickIconEventHandler:r=>{e((0,a.k1)({category:"price prediction",action:"price prediction clicked",label:"price rises in ".concat(r," days"),coreProperties:{}}))},onCloseEventHandler:()=>{e((0,a.k1)({category:"price prediction",action:"price prediction closed",label:"price prediction closed",coreProperties:{}}))},onTabChangeEventHandler:r=>{e((0,a.k1)({category:"price prediction",action:"price prediction class selector clicked",label:r?"first class":"standard",coreProperties:{}}))},onPricePredictionMountEventHandler:()=>{e((0,a.k1)({category:"price prediction",action:"price prediction overlay impression",label:"price prediction overlay impression",coreProperties:{}}))},onBuyNowButtonClickedEventHandler:()=>{e((0,a.k1)({category:"price prediction",action:"Buy Now clicked",label:"Buy Now button clicked",coreProperties:{}}))}}}},22962:(e,r,t)=>{"use strict";t.d(r,{_:()=>i,p:()=>o});var a=t(37544),n=t(87582),i=(e,r)=>(0,a.ET)({id:"checkout",state:{hasReservationPriceChanged:e,hasNotAbleToMakeReservation:r}}),o=e=>{var r=e.meta&&e.meta.warnings&&Array.isArray(e.meta.warnings)&&e.meta.warnings.map((e=>e.code))||[];return(0,n.of)(i(r.includes("travelProtocol.reservationPriceChanged"),r.includes("travelProtocol.couldnt_make_reservation")))}},10287:(e,r,t)=>{"use strict";t.d(r,{A2:()=>u,D:()=>c,Dt:()=>m,HN:()=>n,Rl:()=>i,Vn:()=>p,po:()=>g,sc:()=>v,u$:()=>d,w6:()=>o});t(84025);var a=t(29647),n=(t(56398),/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+([a-z]+|\d|-|\.{0,1}|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])?([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i),i=/^[\w \- \. \' ]{1,61}$/,o=/^[-'a-zA-Z---\s]+$/,s=/^\d+$/,l=/^\w+$/,c=e=>e.trim().replace(/ +/g," "),d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;return e.length<=r&&t.test(e)},u=e=>e.length<19&&s.test(e),p=e=>e.length<19&&l.test(e),m=(e,r)=>({outwardAlternativeIds:Array.isArray(e)?e:"string"==typeof e?[e]:[],inwardAlternativeIds:Array.isArray(r)?r:"string"==typeof r?[r]:void 0}),g=e=>{for(var r=[],t=0;t<a.Pj;t++)r.push({origin:void 0,destination:void 0,date:(0,a.mN)(e,t,"add"),price:void 0,journeysDepartureTimes:[]});return r},v=(e,r)=>e&&e.find((function(e){if(!e.start||!e.end)return!1;var t=new Date(e.start).getTime(),a=new Date(e.end).getTime();return t<r&&r<a}))},43437:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>Ln,mb:()=>Nn});var a=t(55265),n=t(42959),i=t(87582),o=t(42756),s=t(54466),l=t(57243),c=t(56415),d=t(426),u=t(23198),p=t(64169),m=t(57110),g=t(61866),v=t(20066),h=t(69188),y=t(50989),f=t(73009),E=t(84182),b=t(89034),S=t(20786),T=t(53230),C=(e,r)=>e.ofType(g.Xl).pipe((0,c.zg)((()=>{var e,t=r.getState(),a=(0,S.vV)(t),n=(0,T.KX)(t),o=(0,u.Z)((0,u.Z)((0,u.Z)({feature:"promoCodes",fn:"removePromoCodeEpic",language:(0,h.Ax)()},null!=n&&n.id?{promoCodeId:n.id}:{}),null!=n&&n.productType?{productType:n.productType}:{}),null!=n&&null!==(e=n.promoDiscount)&&void 0!==e&&e.currencyCode?{currency:n.promoDiscount.currencyCode}:{});return p.pR.removeItem(f.CS),(0,y.Kh)((0,u.Z)((0,u.Z)({},o),{},{stage:"pre-remove"}),"promoCodes"),null!=a&&a.length&&null!=n&&n.id?m.EN([n.id],E.I.ACTIVE).pipe((0,c.zg)((e=>((0,y.Kh)((0,u.Z)((0,u.Z)({},o),{},{stage:"removed"}),"promoCodes"),(0,s.z)((0,i.of)((0,b.GZ)({shouldDismiss:!1})),(0,v.oW)(e),(0,i.of)((0,g.WB)(n)))))),(0,d.K)((e=>((0,y.Ep)(e,(0,u.Z)({},o)),[(0,g.Ki)()])))):((0,y.Kh)((0,u.Z)((0,u.Z)({},o),{},{stage:"autoremoved"}),"promoCodes"),(0,i.of)((0,g.WB)({})))}))),A=t(58167),I=t(7674),_=t(73584),P=t(33745),R=t(63718);Object.defineProperty(R.y.prototype,"ofType",{value:function(){return this.pipe((0,P.l)(...arguments))}});var k=e=>{var r=null,t=()=>r;return(a,n)=>(n.subscribe((e=>{r=e})),e(a,{getState:t}))},N=t(37087),O=t(46206),L=t(84025),x=t.n(L),D=t(9187),w=t(66763),Z=(t(16362),t(10526),t(29011)),F=t(57165),B=t(39404),M=t(46110),U=t(97550),j=t(51001),H=t(61229),W=t(32143),G=(t(41152),t(83504)),V=t(42769),Y=(t(72471),t(4237),t(63532)),K=t(67487);const z=(e,r)=>{var{getState:t}=r;return e.ofType(w.N5).pipe((0,l.U)((e=>{var{payload:{basketItemIds:r}}=e,a=t(),n=(0,S.s)(a);if(!r.some((e=>!n.find((r=>r.id===e))))){var o=(0,B.xW)(a,{}),s=(0,U.k)(a,{}).filter((e=>r.includes(e.tripProductId))),l=s.map((e=>(0,u.Z)((0,u.Z)({},e),{},{ecommerceAction:"sfl basket"}))),c={bookingFlowProperties:{bookingFee:(0,M.F3)(a),cardFee:(0,M.xd)(a)},coreProperties:(0,Z.zc)(a),deliveryProducts:(0,F.G)(a,{}),event:"checkout event",eventProperties:{eventAction:"ticket saved for later",eventCategory:"save for later",eventLabel:"ticket saved for later"},insuranceProducts:o.length>0?o:void 0,ticketProducts:l,addOnProducts:(0,Y.F)(a,s.map((e=>{var{tripProductId:r}=e;return r})),K.PurpleEcommerceAction.SflBasket)};return(0,D.$)({eventType:"SAVE_FOR_LATER_ADDITION",analyticsEventType:O.EventTypes.CHECKOUT_EVENT,analyticsEventPayload:c})}return(0,i.of)({type:"noop"})})))};var J=t(24404),q=t(61750);var Q=t(94431),X=t(85207),$=t(32034),ee=t(73402),re=t(55794),te=t(53537),ae=t(70025),ne=(0,$.P1)(j.Ux,(e=>e&&e.amount?e.amount:0)),ie=(e,r,t)=>({bookingFlowProperties:{bookingFee:ne(e),fareCurrencyDisplayedIsConverted:(0,ee.O)(e)},coreProperties:(0,Z.zc)(e),deliveryProducts:(0,re.N)(e,t),event:"delivery options event",eventProperties:(0,te.y)("delivery options",r.eventAction,r.eventLabel),ticketProducts:(0,ae.s)(e,t)}),oe=t(47303),se=t(37719),le=t(42292),ce=t(79257),de=t(59838),ue=t(53638),pe=t(29826),me=t(72750),ge=t(51059);const ve=(e,r)=>{var{getState:t}=r;return e.ofType(me.yG).pipe((0,c.zg)((()=>{var e=t(),r=(0,ge.fV)(e),a=(0,ce.U)(e,{query:r}),n=(0,le.rq)(e,{query:r}),i=(0,u.Z)((0,u.Z)({},r),(0,le.fE)(n));if(!a||!a.alternativeHash||0===a.alternativeHash.filter(de.v).length||0===(0,le.pz)(n).filter(de.v).length)return[];var o=JSON.stringify((0,le.Pn)(e,{query:r}).comfortLegs),s=(0,le.KY)(e,{query:i}).find((e=>{var{comfortLegs:r}=e;return JSON.stringify(r)===o})),l=s?(0,le.kH)(e,{query:i,alternative:s}):void 0,c=(0,u.Z)((0,u.Z)({},i),l&&(0,le.fE)(l)),d=(0,se.gx)({pathname:(0,ge.m7)(e),search:ue.Z.stringifyQuery(c)}),p=(0,pe.yp)((0,pe.wc)(e,c));return l?[d,p,(0,me.HE)(l,{})]:[d,p]})))};var he=t(35710),ye=t(31276),fe=t(33132),Ee=t(37008),be=t(72003),Se=t(7007),Te=t(983),Ce=t(48629),Ae=t(37195),Ie=t(97215),_e=t(83047),Pe=t(65441),Re=t(14594),ke=t(28642),Ne={later:"later",earlier:"earlier",previous:"earlier",next:"later"},Oe=t(60654),Le=t(94018),xe=t(24087),De=t(70755),we=t(70630),Ze={[xe.ZP.TRAIN]:Oe.AvailableTransportModes.MIXED,[xe.ZP.COACH]:Oe.AvailableTransportModes.COACH},Fe=t(44282),Be=t(14238),Me=t(16134),Ue=t(8129),je=t(43288),He=t(62129),We=(e,r,t)=>({coreProperties:(0,Z.zc)(e),event:"null results",eventProperties:(0,te.y)("results",t.eventAction,t.eventLabel),searchProperties:(0,He.EN)(e,r)}),Ge=(e,r)=>({query:r,searchRequest:(0,De.hn)(e,r)}),Ve=(e,r,t)=>(0,D.$)({eventType:"NULL_RESULTS",analyticsEventType:O.EventTypes.NULL_RESULTS,analyticsEventPayload:We(e,Ge(e,r.query),t)}),Ye=e=>r=>({eventLabel:e,eventAction:r===e?"no results available":"no results inactive"});const Ke=(0,a.l)(((e,r)=>{var{getState:t}=r;return e.ofType(Ue.ui,Ue.ri).pipe((0,l.U)((e=>{var{payload:r,type:a}=e,n=t();return{state:n,params:{query:(0,ge.Wc)(n)},payload:r,type:a}})),(0,Q.h)((e=>{var{type:r,payload:t}=e;return!((e,r)=>!(e!==Ue.ri||!r||!("coachJourneySearch"in r))&&Object.keys(r.coachJourneySearch.journeys).length>0)(r,t)})),(0,l.U)((e=>{var{params:r,state:t}=e,a=(0,Pe.G$)(t);return Ve(t,r,Ye("coach tab")(a))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(Me.ui,Me.ri).pipe((0,l.U)((e=>{var{payload:r,type:a}=e,n=t();return{state:n,params:{query:(0,ge.Wc)(n)},payload:r,type:a}})),(0,Q.h)((e=>{var{type:r,payload:t}=e;return!((e,r)=>!(e!==Me.ri||!r||!("data"in r))&&r.data.isAvailable)(r,t)})),(0,l.U)((e=>{var{params:r,state:t}=e,a=(0,Pe.G$)(t);return Ve(t,r,Ye("coach tab")(a))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(je.Ij).pipe((0,l.U)((e=>{var{type:r}=e,a=t();return{state:a,params:{query:(0,ge.Wc)(a)},type:r}})),(0,l.U)((e=>{var{params:r,state:t}=e,a=(0,Pe.G$)(t);return Ve(t,r,Ye("coach tab")(a))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(je.g).pipe((0,l.U)((()=>{var e=t();return{state:e,params:{query:(0,ge.Wc)(e)}}})),(0,Q.h)((e=>{var{state:r}=e;return!(0,ge.$b)(r)&&!(0,Be.Pj)(r)})),(0,l.U)((e=>{var{params:r,state:t}=e,a=(0,Pe.G$)(t);return Ve(t,r,Ye("coach tab")(a))})))}));var ze=t(7185),Je=(e,r)=>!(e!==me.ri||!r||!("data"in r))&&Object.keys(r.data.journeySearch.journeys).length>0;const qe=(0,a.l)(((e,r)=>{var{getState:t}=r;return e.ofType(me.ui,me.ri).pipe((0,l.U)((e=>{var{payload:r,type:a}=e,n=t();return{state:n,params:{query:(0,ge.Wc)(n)},payload:r,type:a}})),(0,Q.h)((e=>{var{state:r,type:t,payload:a}=e;return!(0,ge.$b)(r)&&!Je(t,a)})),(0,l.U)((e=>{var{params:r,state:t}=e,a=(0,Pe.G$)(t);return Ve(t,r,Ye("train tab")(a))})))}),((e,r)=>{var{getState:t}=r;return e.ofType(me.ou).pipe((0,Q.h)((e=>{var{payload:r}=e;return(e=>{if(e&&"searchParams"in e&&"transportModes"in e.searchParams){var r=e.searchParams.transportModes;return(r&&r[0]||"")===Oe.AvailableTransportModes.MIXED}return!1})(r)})),(0,ze.w)((r=>{var{payload:{hash:a}}=r;return e.ofType(me.ri,me.ui).pipe((0,Q.h)((e=>{var{payload:{hash:r}}=e;return r===a})),(0,l.U)((e=>{var{payload:r,type:a}=e,n=t();return{state:n,params:{query:(0,ge.Wc)(n)},payload:r,type:a}})),(0,Q.h)((e=>{var{type:r,payload:t}=e;return!Je(r,t)})),(0,l.U)((e=>{var{params:r,state:t}=e,a=(0,Pe.G$)(t);return Ve(t,r,Ye("train tab")(a))})))})))}));var Qe=t(76634),Xe=t(17385),$e=t(3896),er=t(64383),rr=t(98094);const tr=(0,a.l)(((e,r)=>e.ofType(me.XY,Re.$r,me.gp,me.vf).pipe((0,l.U)((e=>{var{payload:t}=e,a=r.getState(),n=(0,Pe.G$)(a),{temporalDirection:i,paginationPriceDisplayed:o}=t,s=(0,ke._)(a,{eventCategory:"results",eventAction:"".concat(Ne[i]," clicked"),eventLabel:n}),l=o?(0,u.Z)((0,u.Z)({},s),{},{coreProperties:(0,u.Z)((0,u.Z)({},s.coreProperties),{},{genericValue1:"price displayed"})}):s;return(0,D.$)({eventType:"CHANGE_PAGINATION",analyticsEventType:O.EventTypes.GENERIC_EVENT,analyticsEventPayload:l})})))),((e,r)=>{var{getState:t}=r;return e.ofType($e.Y$).pipe((0,l.U)((()=>({state:t()}))),(0,l.U)((e=>{var{state:r}=e,t=(0,Le.vR)(r),a=(0,ge.iK)(r);return(0,D.$)({eventType:er.B$,analyticsEventType:O.EventTypes.GENERIC_EVENT,analyticsEventPayload:(0,ke._)(r,{eventCategory:"results",eventAction:"tab changed to ".concat(t),eventLabel:a?"eu":"uk"})})})))}),$e.jY,Qe.W8,Ke,qe,((e,r)=>{var{getState:t}=r;return e.ofType(me.ri).pipe((0,l.U)((e=>{var{payload:r}=e,a=t(),[n]=Object.values(r.data&&r.data.transportModes||{}).map((e=>{var{name:r}=e;return r&&r.toLowerCase()}));if(!(0,ge.iK)(a)||!n||(0,Le.vR)(a)===n)return{type:"NOOP"};var i=(0,u.Z)((0,u.Z)({},(0,ge.Wc)(a)),{},{transportModes:[Ze[n]]}),o={query:i,searchRequest:(0,De.hn)(a,i)};return(0,D.$)({eventType:"NON_ACTIVE_RESULTS_EVENT",analyticsEventType:O.EventTypes.RESULTS_EVENT,analyticsEventPayload:(0,we.T)(a,o,"coach"===n?"coach tab":"train tab")})})))}),Fe.Z,Xe.yY,rr.ZP);var ar=t(74598);const nr=(0,a.l)(_e.ZP,be.o4,be.uH,tr,ye.ZP,N.Tv,ar.nS,((e,r)=>{var{getState:t}=r;return e.ofType("@@redux-form/CHANGE","DELIVERY_OPTION_INITIAL_STATE").pipe((0,Q.h)((e=>e.meta.form===X.gY&&"option"===e.meta.field&&!!e.payload)),(0,l.U)((e=>{var r=!e.meta.touch,a=t(),n={eventAction:r?"delivery option auto-selected":"delivery option selected",eventLabel:e.payload.toLowerCase()};return(0,D.$)({eventType:"DELIVERY_OPTION_SELECTED",analyticsEventType:O.EventTypes.DELIVERY_OPTIONS_EVENT,analyticsEventPayload:ie(a,n,{deliveryMethodName:e.payload,ecommerceAction:r?"auto selected":"selected"})})})))}),he.kN,Ie.DV,Se.ZP,Se.ZP,Te.G2,oe.aT,Ee.ZP,z,ve,fe.ZP,Ae.ZP,Ce.ZP,((e,r)=>{var{getState:t}=r;return e.ofType(D.U).pipe((0,c.zg)((e=>{var{payload:r}=e,a=t().env.clientConfiguration.cookieConsentEnabled;return r&&(a?(0,J.runWithConsent)((()=>(0,q.j)(r))):(0,q.j)(r)),(0,i.of)({type:"noop"})})))}));var ir=t(45294),or=t(96586),sr=t(93754),lr=t(50431),cr=t(43912),dr=t(29744),ur=t(73606),pr=t(75123),mr=t(4710),gr=t(93153),vr=e=>(0,ur.T)(e.ofType(me.yX),e.ofType(dr.ZP.CHANGE).pipe((0,l.U)((e=>{var{meta:r}=e;return r})),(0,Q.h)((e=>{var{form:r,field:t}=e;return r===X.gY&&"option"===t})))).pipe((0,Q.h)((()=>!0)),(0,pr.g)(gr.x),(0,mr.b)((()=>"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("cjsReposition")))),(0,Q.h)((()=>!1))),hr=t(32363),yr=t(7256),fr=t(59962),Er=t(31521),br=t(26041),Sr=(e,r)=>e.ofType(fr.Tk).pipe((0,c.zg)((e=>{var{payload:{productId:t,catalogueItemId:a}}=e,n=(0,Er.ER)(r.getState(),t);return m.EN([t],n).pipe((0,l.U)((()=>(0,br.u)({path:"/railcards/cardholder-details?productTypeId=".concat(a)}))))}))),Tr=t(26532),Cr=t(99461),Ar=t(56373),Ir=t(54579),_r=t(4794),Pr=e=>e.ofType(se.nk).pipe((0,Q.h)((()=>!0)),(0,Q.h)((e=>{var{payload:r}=e;return"object"==typeof r})),(0,l.U)((e=>{var{payload:r}=e;return(0,_r.fv)(r)}))),Rr=t(85066);const kr=e=>e.ofType(Rr.a3).pipe((0,l.U)((e=>{var{payload:r}=e;if(!r.noRefresh){var t=p.nP.getItem("SEARCH_QUERY");if(!t)return(0,se.VF)({pathname:V.L1.home()});var a=(0,u.Z)((0,u.Z)({},t),{},{refetchSearch:"true"});return(0,se.VF)(V.L1.results(a))}})));var Nr=t(88005),Or=t(44689),Lr=t(99289),xr=t(48500),Dr=t(52925),wr=t(81482),Zr=t(97819),Fr=t(13164),Br=t(43650),Mr=t(54107),Ur=t(96723),jr=t(21224),Hr=(0,a.l)(((e,r)=>{var{getState:t}=r;return e.ofType(Mr.ZJ).pipe((0,l.U)((e=>{var{payload:r}=e;return{isQuickBuy:r.isQuickBuy,submitPayload:{isCheapestReturnOption:!(0,Br.se)(t(),(0,Zr.aj)())}}})),(0,l.U)((e=>{var{isQuickBuy:r,submitPayload:t}=e;return r?(0,wr.Sq)(t):(0,Dr.Ps)(t)})))}),(e=>e.ofType(me.EC,me.T7).pipe((0,l.U)(jr.Km))),((e,r)=>{var{getState:t}=r;return e.ofType(je.W4,Lr.l).pipe((0,l.U)((()=>({state:t(),selectorParams:(0,Zr.aj)()}))),(0,Q.h)((e=>{var{state:r,selectorParams:t}=e;return t.query&&"return"===t.query.journeySearchType&&(0,ge.In)(r)&&(0,Ur.cb)(r,t)})),(0,ze.w)((()=>[(0,jr.ZU)()])))}),(e=>e.ofType(Mr.Rx).pipe((0,ze.w)((()=>[(0,jr.aq)()])))),((e,r)=>{var{getState:t}=r;return e.ofType(Mr.t7).pipe((0,l.U)((e=>{var{payload:r}=e;return{state:t(),selectorParams:(0,Zr.aj)(),scrollTarget:r}})),(0,l.U)((e=>{var{state:r,selectorParams:t,scrollTarget:a}=e;return{alts:(0,Br.sL)(r,t),scrollTarget:a}})),(0,l.U)((e=>{var{alts:r,scrollTarget:t}=e;return{inwardHash:r&&(0,xr.Py)(r.inward),outwardHash:r&&(0,xr.Py)(r.outward),correlationToken:r&&r.outward&&r.outward.correlationToken,scrollTarget:t}})),(0,ze.w)((e=>{var{inwardHash:r,outwardHash:t,correlationToken:a,scrollTarget:n}=e;return[(0,Fr.yb)({outwardHash:t,inwardHash:r}),(0,jr.aq)(),(0,Mr.L8)({correlationToken:a,scrollTarget:n})]})))}),(e=>e.ofType(Mr.oy).pipe((0,pr.g)(500),(0,mr.b)((e=>{var r,{payload:t}=e;return r=t.scrollTarget,Or.scroller.scrollTo(r,{smooth:"easeInOutQuart",duration:1100,offset:-32,delay:100})})),(0,l.U)((e=>{var{payload:r}=e;return(0,jr.Bs)(r.correlationToken)})))),(e=>e.ofType(Mr.EX).pipe((0,l.U)(jr.n0)))),Wr=t(42321),Gr=t(13174),Vr=t(66547),Yr=t(10798),Kr=t(85536),zr=t(97068),Jr=t(31534),qr=t(79399),Qr=t(10287),Xr=t(89253),$r=t(83570),et=t(37544),rt=t(8947),tt=t(56590),at=t(76706),nt=t(80064),it=t(60054),ot=t(7715),st=t(10030),lt=t(21192),ct=t(82768);const dt=(0,ct.qCK)(ct.ffD,ct.xbD,(0,ct.hXT)((e=>e&&["mandatory","optional"].includes(e.reservationType))),ct.VO0);var ut=t(70196),pt=t(86252),mt=t(29728),gt=t(99462),vt=t(94032),ht=t(70932),yt=t(14891),ft=t(51807),Et=t(20777),bt=t(2321),St=t(35300),Tt=t(45408),Ct=t(84745),At=t(97866),It=(e,r)=>(0,i.of)((0,St.k3)(!0)).pipe((0,at.T)(m.ln(e).pipe((0,c.zg)((e=>(0,v.oW)(e))),(0,nt.z)([{type:w.z_},{type:gt.P7}]),(0,d.K)((e=>r?(0,s.z)((0,i.of)((0,St.k3)(!1)),(0,i.of)((0,Le.N1)(Et.uJ))):(0,Cr.YN)(e))))));const _t=(0,a.l)(((e,r)=>e.ofType(Dr.ZP).pipe((0,Q.h)((()=>{var e=(0,G.kS)(r.getState());return[V.L1.results(),V.L1.ticketOptions()].some((r=>e.startsWith(r)))&&!(0,ge.$b)(r.getState())})),(0,ze.w)((()=>{var e=r.getState(),t=(0,G.FD)(e),a=(0,ge.GE)(e),{searchId:n,outwardAlternativeId:o,inwardAlternativeId:s}=(0,$r.rd)(e,t);if(a!==zr.O.NATIONAL_EXPRESS_COACH&&!n)return(0,tt.c)();if((0,Et.t0)(e,t))return(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectTicket"));if((0,Et.MH)(e,t))return(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectOutward"));if((0,Et.zH)(e,t))return(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectInward"));if(!n)return(0,tt.c)();var{outwardAlternativeIds:l,inwardAlternativeIds:c}=(0,Qr.Dt)(o,s);return It({inventory:a,searchId:n,outwardAlternativeIds:l,inwardAlternativeIds:c},(0,Le.vR)(e)===xe.ZP.COACH)})))),((e,r)=>e.ofType(Dr.ZP).pipe((0,Q.h)((()=>{var e=(0,G.kS)(r.getState());return[V.L1.results(),V.L1.ticketOptions()].some((r=>e.startsWith(r)))&&(0,ge.$b)(r.getState())})),(0,ze.w)((()=>(0,Et.dE)(r.getState(),(0,Zr.aj)())?(0,ge.Yq)(r.getState())?(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectTicket")):(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectInward")):It((0,ft.Qv)(r.getState(),(0,Zr.aj)())))))),((e,r)=>e.ofType(bt.h8).pipe((0,Q.h)((()=>{var e=(0,G.kS)(r.getState());return[V.L1.results(),V.L1.ticketOptions()].some((r=>e.startsWith(r)))})),(0,Q.h)((()=>!(0,ht.nR)(r.getState()))),(0,c.zg)((()=>{var e=r.getState(),t=(0,gt.HK)(e),a=(0,pt.yg)(e),n=(0,Kr.tq)(),o=!(0,it.wy)(e)&&n,l=(0,vt.bO)(e),c=(0,mt.Ez)(e),u=t&&Object.values(t).map((e=>e&&dt(e))).filter(Boolean).length,p=(0,ft.p7)(e),m=(0,At.cd)(e);if(o)return(0,ot.ye)(e)?(0,i.of)((0,se.VF)(V.L1.login({plan:"",showRadioButtons:!0,fromMobileTicketOptions:!0}))):(0,i.of)((0,se.VF)(V.L1.options()));var g=(0,G.FD)(e),v=(0,ft.Rx)(e,g);return a||!(u&&l||c||m)||v||p?u?(0,s.z)((0,Tt.V2)({reservations:(0,Tt.C3)(e)}),(0,i.of)((0,Ct.Z)(r))).pipe((0,d.K)((e=>(0,Cr.YN)(e)))):(0,i.of)((0,Ct.Z)(r)):(0,i.of)((0,se.VF)(V.L1.travelOptions()))})))),((e,r)=>e.ofType(Dr.mf).pipe((0,Q.h)((()=>{var e=(0,G.kS)(r.getState());return[V.L1.results(),V.L1.ticketOptions()].some((r=>e.startsWith(r)))})),(0,c.zg)((()=>{var e=r.getState(),t=(0,lt.ZT)(e);if((0,Et.bb)(e,(0,Zr.aj)()))return(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectOutward"));var a=(0,ge.fV)(e);if(!a.selectedOutward)throw new Error("No selected outward option");var n=[(0,et.ET)({id:me.yZ,state:{isInward:!0}}),(0,yt.fn)((0,ut.I)(r.getState(),{query:a})),(0,se.VF)(V.L1.results((0,u.Z)((0,u.Z)({},a),{},{searchId:void 0,temporalDirection:void 0,transitDefinitionDirection:void 0})),{forceReload:!0})];if(t){var o={query:a,searchRequest:(0,De.hn)(e,a)},s={bookingFlowProperties:{},coreProperties:(0,Z.zc)(e),event:"ticket event",eventProperties:{eventAction:"ticket option confirmed",eventCategory:"ticket options",eventLabel:"train tab"},ticketProducts:(0,st.A)(e,o)},l=(0,D.$)({eventType:Ee.Kv,analyticsEventType:O.EventTypes.TICKET_EVENT,analyticsEventPayload:s});n.unshift(l)}return(0,rt.D)(n)})))));var Pt=t(34570),Rt=function(e){return e.INCREASE="increase",e.DECREASE="decrease",e}(Rt||{}),kt=(e,r)=>(0,i.of)((0,qr.RX)({hash:e,error:r})),Nt=(e,r,t)=>(0,s.z)([...t],It({inventory:zr.O.EU,searchId:e,outwardAlternativeIds:r})),Ot=(e,r,t,a)=>{var{headers:n,data:o}=t,{newJourneySearch:l}=o;return l?(0,s.z)([(0,me.UZ)({hash:(0,ge.yR)(e,r),headers:n,data:l}),...a,...(0,Xr.OI)(l,e)]):(0,i.of)({})};const Lt=(0,a.l)(((e,r)=>{var{getState:t}=r;return e.ofType(qr.jV).pipe((0,l.U)((e=>{var{payload:{hash:r}}=e,a=t(),n=(0,Zr.aj)(),{searchId:i,outwardAlternativeId:o,inwardAlternativeId:s}=(0,$r.rd)(a,n),{outwardAlternativeIds:l,inwardAlternativeIds:c}=(0,Qr.Dt)(o,s),d=(0,ge.fE)(a,n),u=d?c:l,p=(0,le.HK)(a,n).find(Boolean),m=(0,le.p$)(a,n),g=d?(0,le.g6)(a,n):(0,le.Yg)(a,n),v=(0,le.u$)(a,n);return{searchId:i,journeyId:p,alternativeIds:u,hash:r,state:a,selectorParams:n,oldPrice:m,flexibility:g,comfort:(0,Jr.D)(a,n),travelClass:v}})),(0,ze.w)((e=>{var{searchId:r,journeyId:t,alternativeIds:a,hash:n,state:s,selectorParams:l,oldPrice:c,flexibility:p,comfort:g,travelClass:v}=e;return r&&a&&t?(0,m.Zq)({searchId:r,journeyId:t,alternativeIds:a}).pipe((0,ze.w)((e=>{var{body:{data:r},headers:t}=e;return(0,i.of)((0,qr.ke)({hash:n,headers:t,data:(0,u.Z)((0,u.Z)({},r),{},{departAt:(0,W.XD)(s,l),oldPrice:c,flexibility:p,comfort:g,travelClass:v})}))})),(0,d.K)((e=>kt(n,e)))):(0,o._)({hash:n,error:new Error("Missing searchId or alternativeIds on journeySearchRevalidationEpic")})})),(0,d.K)((e=>{var{error:r,hash:t}=e;return kt(t,r)})))}),((e,r)=>{var{getState:t}=r;return e.ofType(qr.sg).pipe((0,l.U)((e=>{var{payload:r}=e;return{state:t(),selectorParams:(0,Zr.aj)(),payload:r}})),(0,ze.w)((e=>{var{state:r,selectorParams:t,payload:a}=e,{data:n,hash:i}=a,{searchId:o,alternativeIds:s,reasonCode:l}=n,c=[(0,qr.c3)({showWarning:!0,hash:i})];switch(l){case void 0:return Nt(o,s,[]);case qr.qV.JOURNEY_NOT_FOUND:case qr.qV.SOLD_OUT:return Ot(r,t,a,c);case qr.qV.ALTERNATIVE_NOT_FOUND:var{closestAlternative:d,journey:p,journeyRevalidationForUIStateHash:m,variation:g}=((e,r)=>{var{data:t,hash:a}=r,{newJourneySearch:n,journeyId:i}=t,o=(0,qr.fN)(e)[a],s=(0,Jr.V)(t,o);return{closestAlternative:s,journey:i&&n&&n.journeySearch.journeys?(0,Yr.U)(n.journeySearch.journeys,i):void 0,journeyRevalidationForUIStateHash:o,variation:s&&s.price&&o.oldPrice?s.price.amount>o.oldPrice.amount?Rt.INCREASE:Rt.DECREASE:void 0}})(r,a),v=Boolean(d&&p&&m.travelClass);if(v){if(g===Rt.DECREASE){var h=[(0,qr.c3)({showWarning:!1,hasClosestAlternative:v,hash:i}),(0,se.gx)({pathname:(0,ge.m7)(r),search:ue.Z.stringifyQuery((0,u.Z)((0,u.Z)({},(0,ge.fV)(r)),{},{selectedOutward:(0,le.Jn)({journeyHash:p.hash,travelClass:m.travelClass,alternativeHash:[d.hash]})}))})];return Nt(o,[d.id],h)}if(g===Rt.INCREASE){var y=[(0,qr.c3)({showWarning:!0,hasClosestAlternative:v,hash:i}),(0,me.HE)({selectedOutward:{journeyHash:p.hash,travelClass:m.travelClass,alternativeHash:[d.hash]}},{ignoreCache:!0,selectedByRevalidation:!0})];return Ot(r,t,a,y)}}return Ot(r,t,a,c);default:return Ot(r,t,a,c)}})))}),((e,r)=>{var{getState:t}=r;return e.ofType(qr.K$).pipe((0,l.U)((()=>({state:t(),selectorParams:(0,Zr.aj)()}))),(0,ze.w)((e=>{var{state:r,selectorParams:t}=e;return(0,s.z)([(0,me.M8)({hash:(0,ge.yR)(r,t),searchParams:(0,De.hn)(r,(0,u.Z)((0,u.Z)({},t.query),{},{transportModes:[Oe.AvailableTransportModes.MIXED],noCachedResults:!0})),query:t.query}),(0,se.gx)(V.L1.results(t.query))])})))}),((e,r)=>{var{getState:t}=r;return e.ofType(me.W2,se.nk,me.ui).pipe((0,Q.h)((e=>{var r=(0,Pt.JX)(t()),a=r&&r.showWarning,n=Boolean((null==r?void 0:r.showWarning)&&(null==r?void 0:r.hasClosestAlternative));return!!a&&((0,Kr.QA)()?((e,r)=>{switch(e.type){case me.W2:return!e.meta.selectedByRevalidation;case se.nk:return e.payload.pathname!==V.L1.results()||!r;default:return!0}})(e,n):((e,r)=>{switch(e.type){case me.W2:return!e.meta.selectedByRevalidation;case se.nk:return e.payload.pathname===V.L1.ticketOptions()?!r:e.payload.pathname!==V.L1.results()||r;default:return!0}})(e,n))})),(0,Vr.h)((0,qr.c3)({showWarning:!1,hasClosestAlternative:void 0,hash:void 0})))}));var xt=t(67905),Dt=t(53066),wt=t(71695),Zt=t(4695),Ft=t(40939),Bt="SET_LOCALISATION_AND_CURRENCY",Mt=((0,Dt.Z)(Bt),(0,Dt.Z)("SET_UI_LOCALISATION_AND_CURRENCY"),(e,r)=>{var{getState:t}=r;return e.ofType(Bt).pipe((0,Q.h)((()=>!0)),(0,c.zg)((e=>{var{payload:r}=e;return(0,ur.T)((0,i.of)(r).pipe((0,Q.h)((e=>{var{currencyCode:r}=e;return r!==(0,yr.EI)(t())})),(0,mr.b)((e=>{var{currencyCode:r}=e;return(0,yr.l7)(r)}))),(0,i.of)(r).pipe((0,Q.h)((e=>{var{localisationCode:r}=e;return(0,Zt.DM)(r)!==(0,Zt.DM)((0,Ft.dX)(t()))}))))})),(0,mr.b)((e=>((e,r)=>{var{query:t}=r,{pathname:a}=r,n=(0,Zt.DM)(e.localisationCode);t.lang=n,(0,Zt.T1)(a)&&(a=n===wt.Vd.ENGLISH?"/":"/".concat(n)),window.location.assign("".concat(window.location.protocol,"//").concat(window.location.host).concat(a)+(0,xt.stringify)(t,{addQueryPrefix:Object.keys(t).length>0}))})(e,(0,G.FD)(t())))),(0,Q.h)((()=>!1)))}),Ut=t(90973),jt=t(52767),Ht=t(79423),Wt=t(50693),Gt=t(12521),Vt=/\s*-\s*/,Yt=e=>(e=>e.filter(Boolean).map((e=>e.toLowerCase())))(e).join("-"),Kt=t(79978),zt=t(62635),Jt=e=>Array.from(new Set(e?e.split(Vt):[])),qt=function(e){return{searchTerm:e,locale:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.ZW,connections:Jt(arguments.length>2?arguments[2]:void 0),limit:30}},Qt=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.ZW,t=Jt(arguments.length>2?arguments[2]:void 0),[a,n]=r.split("-");return{searchTerm:e,lang:a,connections:t,size:30,country:n||a,locationType:[zt.f.STATION,zt.f.STATION_GROUP,zt.f.CITY]}},Xt=e=>e.searchLocations.filter(Boolean).map((e=>(0,u.Z)((0,u.Z)({},e),{},{id:e.code}))),$t=e=>[].concat(e.requestedCountry).concat(e.restOfWorld).filter(Boolean),ea=(e,r)=>{var{path:t}=Kt.CLIENT_FOREIGN_APIS[r?"referenceDataSearchV2":"referenceDataSearch"];return(0,Gt.buildQueryString)(t,e,{indices:!1})},ra=function(e){return e.NO_RESULTS="NoResults",e}({}),ta=t(56122),aa=t(63495),na=t(50877),ia=(e,r,t)=>[(0,aa.uH)({stationField:e,result:r}),...t?[(0,Ht.ZH)(e,t)]:[]],oa=(e,r)=>{var{}=r;return e.ofType(ta.gl).pipe((0,c.zg)((e=>{var{payload:{request:r,result:t,shouldUseRDSv2:a,createdAt:n=-1}}=e;return 0===t.length&&((e,r,t,a)=>{(0,y.Kh)((0,u.Z)({createdAt:t,requestedPath:ea(r,a)},Object.entries(r).map((e=>{var[r,t]=e;return[r,Array.isArray(t)?t.join(", "):t]})).reduce(((e,r)=>{var[t,a]=r;return(0,u.Z)((0,u.Z)({},e),{},{[t]:a})}),{})),"".concat("ReferenceDataSearch","_").concat(e))})(ra.NO_RESULTS,r,n,a),((e,r,t)=>{(0,y.WM)(y.Wd.RECEIVED_SEARCHABLE_LOCATIONS,r),(0,y.WM)(y.Wd.SERVICE_URL_KEY(Kt.CLIENT_FOREIGN_APIS.referenceDataSearchV2.serviceName),ea(e,t))})(r,n,a),[{type:"NOOP"}]})))},sa=e=>e.trim().toLowerCase(),la=(e,r)=>(0,ur.T)(e.ofType(Ht.p3).pipe((0,Q.h)((e=>"from"===e.payload.stationField)),(0,jt.b)(250)),e.ofType(Ht.p3).pipe((0,Q.h)((e=>"to"===e.payload.stationField)),(0,jt.b)(250)),e.ofType(Ht.p3).pipe((0,Q.h)((e=>"viaAvoidStation"===e.payload.stationField)),(0,jt.b)(250))).pipe((0,c.zg)((t=>{var{payload:a}=t,{stationField:n,query:i}=a,o=sa(i),s=r.getState(),l=(0,Ft.fN)(s),u=(0,na.yX)(s),p=(0,At.qB)(s);if(o.length>0){var g=(0,ta.NP)(r.getState(),o);return g?((e,r,t)=>[(0,aa.GL)({stationField:e,stored:r}),...t?[(0,Ht.ZH)(e,t)]:[]])(n,g,a.formName):(e=>function(r,t,a,n){var{stationField:i,query:o}=r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Wt.GH,l=sa(o);if(n){var u=qt(l,t,Yt(s));return(0,m.qu)(u).pipe((0,c.zg)((e=>{var r=Xt(e),t=(new Date).getTime();return[...ia(i,r,a),(0,ta.Kz)({query:l,shouldUseRDSv2:n,result:r}),(0,ta.Sg)({request:u,shouldUseRDSv2:n,result:r,createdAt:t})]})),(0,Ut.R)(e.ofType(Ht.p3).pipe((0,Q.h)((e=>{var{payload:r}=e;return r.stationField===i})))),(0,d.K)((()=>(0,rt.D)(ia(i,[],a)))))}var p=Qt(l,t,Yt(s));return(0,m.F4)(p).pipe((0,c.zg)((e=>{var r=$t(e);return[...ia(i,r,a),(0,ta.Kz)({query:l,shouldUseRDSv2:n,result:r}),(0,ta.Sg)({request:p,shouldUseRDSv2:n,result:r,createdAt:e.createdAt||(new Date).getTime()})]})))})(e)(a,l,a.formName,p,u)}return ia(n,[],a.formName)}))),ca=t(18478),da=t(2438),ua=t(54638),pa=t(50969),ma=t(88589),ga=e=>(e?[e]:[]).concat([(0,b.fn)()]),va=(e,r)=>{var{getState:t}=r;return e.ofType(b.TZ).pipe((0,c.zg)((e=>{var{payload:r}=e,a=(0,ct.Z$Q)((0,ma.JQ)(t()));if(a&&(0,pa.i)(a)){var n=a.params,i=n.errorCodes&&n.errorCodes.length>0,o=n.warnings&&n.warnings.length>0;if(r.shouldDismiss&&(i||o))return 1===(0,_r.JW)(t())?(0,rt.D)(ga((0,se.gx)(V.L1.home()))):(0,rt.D)(ga((0,se.Hm)()))}return(0,rt.D)(ga())})))},ha=(e,r)=>{var{}=r;return e.ofType(b.jw).pipe((0,mr.b)((()=>(0,ua.oF)(window))),(0,da.l)())},ya=t(63651);const fa=(0,a.l)((e=>e.ofType(ya.EC).pipe((0,ze.w)((e=>{var{payload:r}=e;return"true"!==p.pR.getItem(r.type)?(0,i.of)((0,ya.Iq)(r)):(0,i.of)({type:"noop"})})))),(e=>e.ofType(ya.Dq).pipe((0,l.U)((e=>{var{payload:r}=e;return p.pR.setItem(r.type,"true"),(0,ya.hD)(r)})))));var Ea=t(84175),ba=t(84589),Sa=t(93476),Ta=t(36592),Ca=t(43864),Aa="fromCheckout/".concat("TRANSIT_TO_MATRIX"),Ia=(0,Ta.ul)(Aa),_a=(e,r,t)=>t?(0,m.qu)(qt(e,r)).pipe((0,l.U)((e=>Xt(e)))):(0,m.F4)(Qt(e,r)).pipe((0,l.U)((e=>$t(e)))),Pa=(e,r)=>e.ofType(Aa).pipe((0,c.zg)((e=>{var{payload:{itinerary:t}}=e,a=r.getState();if(!t)return[(0,se.VF)(V.L1.home())];var n=t.outwardJourney.legs[0].origin,i=t.outwardJourney.legs[t.outwardJourney.legs.length-1].destination;if(!i||!n)return[(0,se.VF)(V.L1.home())];var o=(0,At.qB)(a),s=(0,Ft.fN)(a);return(0,ba.D)([_a(n.name,s,o),_a(i.name,s,o)]).pipe((0,l.U)((e=>{var[[r],[n]]=e;if(!r||!n)return[(0,se.VF)(V.L1.home())];var i=(0,Ea.WH)(a,t,r,n);return[(0,Ca.BA)({query:i}),(0,se.VF)(V.L1.results(i))]})),(0,Sa.b)((e=>(0,rt.D)(e))))}))),Ra=(e,r)=>e.ofType(fr.Jn).pipe((0,c.zg)((e=>{var{payload:t={}}=e;if(t.itinerary){var a=(0,Ea.yX)(r.getState(),t.itinerary),n=a&&a.find(Boolean),o=n&&(0,Er.ER)(r.getState(),n)||E.I.ACTIVE;return(0,s.z)((0,i.of)((0,w.tE)({itemIds:a,basketType:o})),(0,i.of)(Ia({itinerary:t.itinerary})))}return(0,i.of)(Ia({}))}))),ka=t(5202),Na=t(85905),Oa=(e,r)=>{var{getState:t}=r,a=t(),n=a.intl.locale,i=(0,na.yX)(a),o=(0,At.c7)(a),s=(0,At.qB)(a);return e.ofType(Na.W).pipe((0,Q.h)((()=>!0)),(0,Q.h)((()=>o===Oe.Portal.TRAINLINE)),(0,ze.w)((()=>(0,m.UV)(n,i,s))),(0,d.K)((()=>[{searchLocations:[]}])),(0,l.U)((e=>(0,ka.Qp)(e))))},La=t(94762),xa=(e,r)=>{var{getState:t}=r,a=t(),n=a.intl.locale,o=(0,At.c7)(a);return e.ofType(Na.W).pipe((0,Q.h)((()=>!0)),(0,Q.h)((()=>o!==Oe.Portal.TRAINLINE)),(0,Q.h)((()=>o!==Oe.Portal.TH)),(0,ze.w)((()=>(0,m.HT)(n))),(0,d.K)((()=>[{searchLocations:[]}])),(0,c.zg)((e=>{var{searchLocations:r}=e,t=null==r?void 0:r.map((e=>e.code)).filter(de.v);return(0,m.sb)(t).pipe((0,Q.h)((e=>Boolean(Array.isArray(e)&&e.length))),(0,c.zg)((e=>(null==r||r.forEach((r=>{var t;return r.id=null===(t=e.find((e=>e.code===r.code)))||void 0===t?void 0:t.id})),(0,i.of)((0,La.hq)({searchLocations:r}))))))})))},Da=t(12592),wa=(e,r)=>{var{getState:t}=r,a=t(),n={"urn:trainline:generic:loc:5974":"Brussels","urn:trainline:generic:loc:8483":"Milan","urn:trainline:generic:loc:8433":"Florence","urn:trainline:generic:loc:6617":"Barcelona"},i=Object.keys(n),o=(0,At.c7)(a);return e.ofType(Na.W).pipe((0,Q.h)((()=>!0)),(0,Q.h)((()=>o===Oe.Portal.TRAINLINE)),(0,ze.w)((()=>(0,m.in)(i))),(0,l.U)((e=>(0,u.Z)((0,u.Z)({},e),{},{requestedCountry:e.requestedCountry&&e.requestedCountry.map((e=>(0,u.Z)((0,u.Z)({},e),{},{city:e.code&&(e.city||n[e.code])})))}))),(0,d.K)((()=>[{requestedCountry:[]}])),(0,l.U)((e=>{var{requestedCountry:r}=e;return(0,Da.Dq)({requestedCountry:r})})))},Za=t(47374),Fa=e=>e.ofType(Za.zs).pipe((0,ze.w)((e=>{var r=(0,Za.aX)(e.payload);return(0,s.z)((0,i.of)((0,Za.M8)({hash:r,searchParams:e.payload})),(0,m.$d)(e.payload.postcode,e.payload.filter).pipe((0,l.U)((e=>(0,Za.UZ)({hash:r,data:e.data}))),(0,d.K)((e=>(0,i.of)((0,Za.v0)({hash:r,error:e}))))))}))),Ba=t(83447),Ma=t(71001),Ua=t(18406),ja=t(51282),Ha=t(67292),Wa=t(29647),Ga=t(24813),Va=t(72428),Ya=t(11635),Ka=(e,r,t)=>{if(e.length){var a=e.map((e=>x().utc((0,Ha.Qb)(e)))).filter((e=>e.isValid())),n=x()(t).local(),i=x()(r).local();if(a.length&&n.isValid()&&i.isValid()){var o=x().utc({year:n.year(),month:n.month(),date:n.date(),hours:i.hours(),minutes:i.minutes()}).local();return(1===a.length?a[0]:a.reduce(((e,r)=>((e,r,t)=>{var a=Math.abs(r.diff(t)),n=Math.abs(e.diff(t));return a===n?r.isBefore(e)?r:e:a<n?r:e})(e,r,o)))).hours()}}};const za=(0,a.l)(((e,r)=>{var{getState:t}=r;return e.ofType(Va.DS).pipe((0,l.U)((()=>(0,ja.gH)(t()))),(0,c.zg)((e=>[(0,Ht.ng)(e),(0,Ya.q3)(!0)])))}),(e=>e.ofType(Va.Eo).pipe((0,l.U)((e=>{var{payload:{searchParams:r,hash:t}}=e,{start:a,end:n}=(0,Wa.Og)(r.start,r.end);return{searchParams:(0,u.Z)((0,u.Z)({},r),{},{start:a,end:n,timePeriod:"byDay"}),hash:t}})),(0,c.zg)((e=>{var{searchParams:r,hash:t}=e;return(0,m.hm)(r).pipe((0,l.U)((e=>{var{body:r,headers:a}=e;return(0,Va.Vj)({hash:t,headers:a,data:r})})),(0,d.K)((e=>(0,i.of)((0,Va.Tl)({message:"Unable to fetch route pricing data",error:e}),(0,Va.ug)()))))})))),((e,r)=>{var{getState:t}=r;return e.ofType(Va.Jd).pipe((0,l.U)((e=>{var{payload:{selectedDate:r,journeysDepartureTimes:a}}=e,n=t();return{selectorDate:(0,ge.SR)(n),selectedDate:r,journeysDepartureTimes:a,journeyUtcOffset:(0,H.h7)(n,(0,G.FD)(n))}})),(0,ze.w)((e=>{var r,t,{selectorDate:a,selectedDate:n,journeysDepartureTimes:i,journeyUtcOffset:o}=e;if(a){var s=x()().utc();if(x()(n).utc().isSame(s.format("YYYY-MM-DD"),"day")&&!i.length){var l=((e,r)=>{if(e&&x()(e).isValid()){var t=e.utc(),a=(0,Ga.X)(t);return r&&x()(a).isValid()?a.utcOffset(r):a}})(s,o);r=null==l?void 0:l.hours(),t=null==l?void 0:l.minutes()}else r=Ka(i,a,n),t=0}return(0,rt.D)([(0,Ua.m)("form/JOURNEY_SEARCH_FORM","outbound.date",n),..."number"==typeof r?[(0,Ua.m)("form/JOURNEY_SEARCH_FORM","outbound.hours",r),(0,Ua.m)("form/JOURNEY_SEARCH_FORM","outbound.minutes",t)]:[],(0,Va.Xg)()])})))}));var Ja=t(21298),qa=t(26706),Qa=(e,r)=>{var{getState:t}=r;return e.ofType(Ja.EC).pipe((0,l.U)((e=>{var{payload:r}=e;return((e,r)=>{var{service:t,date:a}=e,n=(0,Ja.iQ)(t,a),i=(0,qa.d1)(r)[n],o=i&&i.loadDetails.status===Oe.LoadStatus.PENDING;return n in(0,Ja.UC)(r)||o?(0,Ja.Tk)((0,u.Z)((0,u.Z)({},e),{},{hash:n})):(0,Ja.M8)((0,u.Z)((0,u.Z)({},e),{},{hash:n}))})(r,t())})))},Xa=e=>e.ofType(Ja.Eo).pipe((0,c.zg)((e=>{var{payload:r}=e;return(e=>{var{searchId:r,journeyId:t,legId:a,hash:n}=e;return(0,m.rJ)(r,t,a).pipe((0,l.U)((e=>(0,Ja.UZ)({data:e,hash:n}))),(0,d.K)((e=>(0,i.of)((0,Ja.v0)({error:e,hash:n})))))})(r)}))),$a=((0,a.l)(Qa,Xa),t(53666)),en=t(31063),rn=t(47312),tn=t(54074),an=t(80510),nn=t(86003),on=t(47996),sn=t(62490),ln=t(76376),cn=t(25561),dn=t(96594);const un=(0,a.l)(((e,r)=>e.ofType(Dr.ZP).pipe((0,Q.h)((()=>(0,G.kS)(r.getState()).startsWith(V.L1.bookingInformationOptions()))),(0,c.zg)((()=>(0,s.z)((0,i.of)((0,St.k3)(!0)),(0,i.of)(an.Ps)))))),((e,r)=>e.ofType(Tt.Lo).pipe((0,Q.h)((e=>{var{meta:r}=e;return r.form===an.Bt})),(0,Q.h)((()=>(0,G.kS)(r.getState()).includes(V.L1.bookingInformationOptions()))),(0,ze.w)((()=>{var e=(0,sn.Mn)(r.getState()),t=(0,an.UJ)(r.getState());return(0,on.J5)(t,e)})),(0,ze.w)((e=>{var t,a,n=[];if(!!(null!==(t=e.v2_saveCustomFields)&&void 0!==t&&t.errors&&e.v2_saveCustomFields.errors.length>0))return n=(null===(a=e.v2_saveCustomFields.errors)||void 0===a?void 0:a.map((e=>(null==e?void 0:e.description)||"Generic error")))||["Generic Error"],(0,s.z)((0,i.of)({type:"customFields/SET_CUSTOM_FIELDS_ERROR",payload:{hasError:!!n.length}}),(0,i.of)((0,St.k3)(!1)));var l,d,u=r.getState(),p=(0,X.RL)(u),g=Boolean((0,cn.gQ)(p));if(g){var h,y=(0,ln.cF)(u),f=null==y||null===(h=y.options)||void 0===h?void 0:h.find((e=>(null==e?void 0:e.method)===p)),E=(0,cn.Dj)(u,f),[b,S]=(0,cn.pO)(E);l=b,d=S}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m.fZ({passengers:e,leadPassengerDetails:r}).pipe((0,c.zg)((e=>!e||(0,ct.xbD)(e)||(0,ct.xbD)(e.data)?(0,o._)({data:[{code:nn.yQ.GENERIC_BASKET_MERGE_FAILED}]}):(0,s.z)((0,i.of)((0,w.S0)()),(0,i.of)((0,se.VF)(V.L1.checkout())),(0,v.oW)(e),(0,i.of)((0,St.k3)(!1)),t?(0,i.of)((0,Ua.ob)(dn.ed)):tt.E))))}(l,d,g)})),(0,d.K)((e=>(0,Cr.YN)(e))))));var pn=t(14846),mn=t(54285),gn=t(37599);const vn=(0,a.l)((e=>e.ofType(br._).pipe((0,c.zg)((e=>{var{payload:r}=e;return setTimeout((()=>{window.location.assign("".concat(window.location.origin).concat(r.path))}),0),(0,s.z)((0,or.Iw)(),(0,i.of)((0,se.gx)({pathname:V.L1.checkout()})))})))));var hn=t(518),yn=t(68760),fn=t(77264),En=t(62830),bn=(e,r,t)=>{var a=null;switch(e){case"needDeliveryOptionInput":a=(0,se.gx)(V.L1.deliveryOptions());break;case"needBookingInformationOptionsInput":a=(0,se.gx)(V.L1.bookingInformationOptions());break;default:a=r?(0,se.gx)(V.L1.results(r)):(0,se.gx)(V.L1.checkout()),t&&(a=(0,br.u)({path:t}))}return a};const Sn=(0,a.l)(((e,r)=>e.ofType(wr.D$,wr.aj).pipe((0,l.U)((e=>{var t,a,n=r.getState(),o=(0,it.wy)(n),s=(0,At.AW)(n);if(e.type===wr.D$){var l=(0,G.FD)(n),c=(0,ge.i2)(n),d=(0,H.Cu)(n,l),u=(0,ge.GE)(n),p=(0,hn.Zx)(n,l),m=(0,hn.Li)(n,l),g=p?p.alternativeId:void 0,v=m?m.alternativeId:void 0;if(!d)return tt.E;if(!g)return(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectOutward"));if(c&&!v)return(0,i.of)((0,Le.N1)("customerJourneySummary.error.selectInward"));t={inventory:u,searchId:d.id,outwardAlternativeIds:[g],inwardAlternativeIds:v?[v]:void 0,isEUFlow:o,isCustomFieldsEnabled:s}}else t={reservations:(0,Tt.C3)(n),seatPreferences:(0,fn.DD)(n),isEUFlow:o,isCustomFieldsEnabled:s},a=e.payload.addAnotherJourneyQuery;var h=(0,yn.JS)(n);if(e.type===wr.aj)return(0,se.VF)(V.L1.results(a));var y=(0,ot.ye)(n);return(!h||y)&&e.type===wr.D$?(0,se.VF)(V.L1.login({plan:"",showRadioButtons:!0,quickBuy:e.type===wr.D$}),{quickBuyPayload:t}):(0,wr.EF)({quickBuyPayload:t,addAnotherJourneyQuery:a})})))),((e,r)=>{var{getState:t}=r;return e.ofType(wr.xF).pipe((0,l.U)((e=>{var{payload:r}=e;return r})),(0,ze.w)((e=>{var{quickBuyPayload:r,addAnotherJourneyQuery:a}=e;return(0,i.of)((0,St.k3)(!0)).pipe((0,at.T)(m.Lc(!a,(0,u.Z)((0,u.Z)((0,u.Z)({},r),{isCustomFieldsEnabled:(0,En.Ay)(t())}),{},{group:(0,X.Xw)(t())===X.A2.COMBINED_COLLECTION})).pipe((0,c.zg)((e=>{var{data:r,status:n}=e,o=(0,ot.e)(t());return(0,s.z)((0,v.oW)(r),(0,i.of)({type:w.z_}),(0,rt.D)([bn(n,a,o),(0,yn.x_)()]))})),(0,d.K)((e=>(0,Cr.YN)(e))))))})))})),Tn=(0,a.l)(Tt.ZP,cn.ZP,un,pn.ZP,_t,Pa,mn.x,Sn,vn,St.DY,gn.XB,gn.dT,rn.JY,tn.ZP);var Cn=t(72206);const An=(e,r)=>e.ofType(Cn.H2).pipe((0,ze.w)((e=>{var{payload:{id:t}}=e,a=(0,Cn.V8)(r.getState(),t);return a?(0,i.of)((0,Cn.Iy)(a)):(0,m.cH)(t).pipe((0,l.U)((e=>(0,Cn.Iy)(e))),(0,d.K)((e=>(0,i.of)((0,Cn.Sj)((0,u.Z)((0,u.Z)({},e),{},{id:t}))))))})));var In,_n=t(23723),Pn=t(51730),Rn=()=>[Nr.VF,Gr.ZP,Et.VF,or.ZP,ir.ZP,ca.ZP,Tn,Fa,Qa,Xa,Wr.ex,Wr.BD,Cr.qr,Pr,fa,lt.ZP,sr.VF,$a.ZP,la,oa,Ca.ZP,cr.ZP,Ca.Kt,Ca.tG,vr,hr.VF,yr.PP,Tr.VF,_.ZP,va,_n.j6,Pn.FE,_n.yI,ha,C,Mt,en.OE,Ra,Sr,Hr,Tr.fy,Ir.XA,lr.fs,An,za,Ma.ZP,Lt,Oa,xa,wa,I.ZP,nr,Ar.FE,A.lQ,kr,Ba.VF],kn=Rn(),Nn=e=>{Array.isArray(e)||(e=[e]),e.forEach((r=>{(e=>kn.includes(e))(r)||In&&(kn.push(e),In.next(r))}))},On=(e,r)=>e.pipe((0,d.K)((t=>{console.error("Caught an error in epic error boundary!\n",t),(0,y.Ep)(t,{isEpicErrorCatchAll:!0}),(0,y.$1)(t);var a=(0,i.of)((0,Cr.m7)(!0,t));return e instanceof o._?a:(0,s.z)(a,On(e,r))})));const Ln=((e,r)=>(t,a,n)=>{var i;try{i=e(t,a,n)}catch(e){return r((0,o._)(e),a)}return r(i,a)})(((e,r)=>(In=new n.X((0,a.l)(...kn))).pipe((0,l.U)(k),(0,c.zg)((t=>t(e,r))))),k(((e,r)=>On(e,r))))},70755:(e,r,t)=>{"use strict";t.d(r,{OS:()=>P,k0:()=>x,W$:()=>R,hn:()=>_,Y6:()=>k,uX:()=>N});var a=t(23198),n=t(97866),i=t(60654),o=function(e){return e.UK="UK",e.EU="EU",e}({}),s=(e,r)=>{var t=r?[i.CompositionTypes.THROUGH,i.CompositionTypes.MULTIFARE]:[i.CompositionTypes.THROUGH];switch(e){case o.UK:return[...t,i.CompositionTypes.INTERCHANGE_SPLIT,i.CompositionTypes.DIRECT_SPLIT];case o.EU:return[i.CompositionTypes.THROUGH,i.CompositionTypes.INTERCHANGE_SPLIT];default:return t}},l=t(82768),c=(t(7739),(e,r)=>!e.accountNumber||e.accountNumber.includes("*")||!r.prefix||e.accountNumber.startsWith(r.prefix)&&e.accountNumber.length>r.prefix.length?e.accountNumber:"".concat(r.prefix).concat(e.accountNumber));var d=t(59199),u=t(82758),p=t(23583),m=t(81659),g=t(33695),v=t(82073),h=t(29171),y=t(57425),f=t(54422),E=t(47256),b=t(19408),S=t(92490),T=t(26532),C=t(51059),A=t(53178),I=t(29433),_=(e,r)=>{var t,{passengers:l,passengerDiscountCards:d,origin:v,destination:f,outwardDate:_,outwardDateType:P,inwardDate:R,inwardDateType:k,journeySearchType:N,via:O,avoid:L,dpiCookieId:x,filterByConnection:D,transportModes:w,euVoucher:Z,ukVoucherInput:F,noCachedResults:B,directSearch:M,prm:U,selectedCarrierFilterTab:j,splitSave:H="false",organizationCode:W,searchId:G}=r,V=(0,n.c7)(e),Y=(0,S.Yu)(e),K=(0,h.Gg)(v,f,Y),z=(0,h.Uw)(v,f,Y),J=(0,y.s7)(K,"mobile"===(null===(t=e.devicePlatform)||void 0===t||null===(t=t.deviceInfo)||void 0===t?void 0:t.type)),q=F||(0,C.GK)(e),Q=(0,n.Y$)(e),X=K?void 0:(0,u.C8)(l),$=O&&O.map((e=>({location:e}))),ee=L&&L.map((e=>({location:e}))),re=[{direction:"outward",origin:v||"",destination:f||"",journeyDate:{type:P||i.TransitDefinitionDateType.DEPART_AFTER,time:_||""},via:$,avoid:ee}];"return"===N&&re.push({direction:"inward",origin:f||"",destination:v||"",journeyDate:{type:k||null,time:R||""},via:$,avoid:ee});var{euPassengers:te,euCards:ae}=K&&l&&((e,r,t)=>r&&r.reduce(((r,n)=>{var{id:i}=n,o=t&&i?(0,m.AS)(t.prm,i):void 0;return r.euPassengers.push((0,a.Z)((0,a.Z)((0,a.Z)({},i?{id:i}:{}),o?{disabilityInformation:o}:{}),{},{dateOfBirth:n.dob,cardIds:n.id?(0,E.jY)(e,n.id).reduce(((t,a)=>{var n=(0,T.ap)(e,a.id);if(n){var i=a.uuid;r.euCards.push({id:i,cardTypeId:a.id,number:c(a,n),uuid:i}),t.push(i)}return t}),[]):[]})),r}),{euCards:[],euPassengers:[]}))(e,l.map((r=>{var t=(0,b.eB)(e,g.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH);return(0,u.TC)(r,U,t)})),r)||{euCards:void 0,euPassengers:void 0},ne=(0,n.th)(e),ie="openReturn"===N,oe=z&&!ie&&(0,I.Cs)(e),se="true"===H&&z&&!ie;(0,A.i)(e,z);var le,ce=K&&V===i.Portal.TRAINLINE;se?le=o.UK:ce&&(le=o.EU);var de={passengers:X&&X.map((e=>({dateOfBirth:e})))||te||[],isEurope:K,cards:K?ae||[]:d&&d.map((e=>({cardTypeId:e})))||[],transitDefinitions:re,type:N||"single",maximumJourneys:J,includeRealtime:!0,dpiCookieId:x,filterByConnection:D&&D.toLowerCase(),transportModes:w||(K&&[i.AvailableTransportModes.MIXED]||void 0),euVoucher:Z,ukVoucher:q?{voucherCode:q.replace(/(^\s+|\s+$)/g,"")}:void 0,noCachedResults:B,allowedCarriers:j===i.CarrierTabType.OUR_TRAINS?[ne]:void 0,applyFareDiscounts:K?void 0:(0,p.uP)(e),directSearch:(null==w||!w.includes(i.AvailableTransportModes.COACH))&&"true"===M,composition:s(le,oe)};return Q&&Object.keys(Q).length&&(de.journeySelectionModes=Q),W&&(de.corporateFareCodes=[{value:W,type:"CorporateFares",vendor:"urn:trainline:ntv:vendor:ntv"}]),G&&(de.searchId=G),de},P=e=>{var{queryParams:r,inwardState:t,removeKeys:n}=e;return(0,d.j)((0,l.CEd)(["selectedTab","selectedOutward","selectedInward","reservationErrors","showMatrix","lang","partnershipType","partnershipSelection"].concat(n||[]),(0,a.Z)((0,a.Z)({},r),t)))},R=(e,r)=>(0,a.Z)({originalSearchParams:_(e,r),selectedOutward:r.selectedOutward},(0,C.J1)(e)),k=(e,r,t)=>(0,a.Z)({originalSearchParams:_(e,r)},(0,C.fp)(e)&&!t?(0,C.J1)(e):(e=>{var{searchId:r,temporalDirection:t,transitDefinitionDirection:a}=e;return{searchId:r,temporalDirection:t,transitDefinitionDirection:a}})(r)),N=function(e,r){var t={selectedTab:void 0,selectedOutward:void 0,selectedInward:void 0,lang:void 0},n={searchId:void 0,temporalDirection:void 0,transitDefinitionDirection:void 0,reservationErrors:void 0},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]?{transportModes:void 0}:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(0,a.Z)((0,a.Z)((0,a.Z)({},t),n),i):t;return(0,l.fS0)((0,a.Z)((0,a.Z)({},e),o),(0,a.Z)((0,a.Z)({},r),o))},O={departAfter:v.E.DEPART_AFTER,arriveBy:v.E.ARRIVE_BEFORE},L=e=>e&&O[e]||v.E.DEPART_AFTER,x=(e,r)=>{var t=(e.passengers?e.passengers:(0,f._A)(r).map((e=>e.dob.toString()))).map(((e,r)=>({id:"PASSENGER-".concat(r),dateOfBirth:e}))),n={localDateTime:e.outwardDate||"",searchMethod:L(e.outwardDateType)},i={origin:e.origin||"",destination:e.destination||"",outwardDefinition:n,passengerBirthDates:t,maximumNumberOfJourneys:4,discountCards:[]};if("return"===e.journeySearchType){var o={localDateTime:e.inwardDate,searchMethod:L(e.inwardDateType)};return(0,a.Z)((0,a.Z)({},i),{},{returnDefinition:o})}return i}},58563:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>g});var a=t(97430),n=t(39874),i=t(52510),o=t(2679),s=t(4695),l=t(29868),c=t.n(l);const d=()=>{var e=c()();return"dweb-".concat(e)};const u=e=>r=>{var t=JSON.parse(r.fetchOpts.body),a=r.operation.name;return"string"==typeof t.query&&t.query.length?r.fetchOpts.body=JSON.stringify({operationName:a,query:t.query,variables:t.variables}):r.fetchOpts.body=JSON.stringify({operationName:a,doc_id:t.id||t.doc_id,variables:t.variables}),e(r)};var p=e=>403!==e&&(e<200||e>=300),m=["JourneySearchQuery","JourneySearchPaginationQuery","JourneySearchInwardQuery","UseSmartExperienceQuery","SmartExperienceContextProviderV1SmartExperienceQuery"];const g=new i.Environment({network:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/graphql";return new n.ew([(0,n.sC)({url:e}),(0,n.wZ)({fetchTimeout:35e3,statusCodes:p,retryDelays:e=>e<1&&1e3*(e+1),beforeRetry:e=>{var{req:r,abort:t}=e;m.includes(r.operation.name)&&t()}}),e=>function(){var r=(0,a.Z)((function*(r){var t,a,n,i;return r.fetchOpts.headers.Accept="application/json",r.fetchOpts.headers["Accept-Language"]=(null===(t=window.__INITIAL_INTL_STATE__)||void 0===t?void 0:t.locale)||s.ZW,r.fetchOpts.headers.conversationid=d(),r.fetchOpts.headers["x-client-name"]=(null===(a=window.__CLIENT_CONFIGURATION__)||void 0===a?void 0:a.graphQLGatewayClientName)||"UnknownTrainlineDesktopClient",r.fetchOpts.headers["x-platform-type"]="web",r.fetchOpts.headers["x-api-managedgroupname"]=(null===(n=window.__CLIENT_CONFIGURATION__)||void 0===n?void 0:n.managedGroupName)||"UnknownManagedGroupName",r.fetchOpts.headers["x-app-version"]=window.__VERSION__||"UnknownVersion",r.fetchOpts.headers["x-api-currencycode"]=(null===(i=window.__INITIAL_STATIC_STATE__)||void 0===i?void 0:i.currentCurrency)||o.EJ,e(r)}));return function(e){return r.apply(this,arguments)}}(),u])}(),store:new i.Store(new i.RecordSource("undefined"!=typeof window?window.__RELAY_CACHE__:void 0))})},60538:(e,r,t)=>{"use strict";t.d(r,{g:()=>n});var a=t(93643),n=(e,r)=>()=>{r&&r(),e((0,a.xJ)())}},42769:(e,r,t)=>{"use strict";t.d(r,{L1:()=>l,PA:()=>u,US:()=>c,dC:()=>s,fo:()=>m,k5:()=>g,ws:()=>d});var a=t(67905),n=t(71695),i=(e,r,t)=>"".concat(t?"":"/").concat(e.join("/")).concat((e=>e?"?".concat((0,a.stringify)(e)):"")(r)),o=e=>r=>i(e,r),s={segmentName:"",children:{book:{segmentName:"book",children:{results:{segmentName:"results"},travelOptions:{segmentName:"travel-options"},ticketOptions:{segmentName:"ticket-options"},deliveryOptions:{segmentName:"delivery-options"},informationOptions:{segmentName:"information-options"},options:{segmentName:"options"},checkout:{segmentName:"checkout"},confirmation:{segmentName:"confirmation"},login:{segmentName:"login"},logout:{segmentName:"logout"}}},es:{segmentName:"es"},de:{segmentName:"de"},fr:{segmentName:"fr"},it:{segmentName:"it"},da:{segmentName:"da"},nl:{segmentName:"nl"},zh:{segmentName:"zh"},ja:{segmentName:"ja"},nb:{segmentName:"nb"},pl:{segmentName:"pl"},ru:{segmentName:"ru"},"pt-br":{segmentName:"pt-br"},sv:{segmentName:"sv"},"en-us":{segmentName:"en-us"},"de-ch":{segmentName:"de-ch"},"fr-ch":{segmentName:"fr-ch"},"it-ch":{segmentName:"it-ch"},pt:{segmentName:"pt"},"de-at":{segmentName:"de-at"},register:{segmentName:"register"},discountCards:{segmentName:"discount-cards"},genericSearchError:{segmentName:"generic-search-error"}}},l={home:o([]),es:o([s.children.es.segmentName]),it:o([s.children.it.segmentName]),fr:o([s.children.fr.segmentName]),de:o([s.children.de.segmentName]),da:o([s.children.da.segmentName]),nl:o([s.children.nl.segmentName]),zh:o([s.children.zh.segmentName]),ja:o([s.children.ja.segmentName]),nb:o([s.children.nb.segmentName]),pl:o([s.children.pl.segmentName]),ru:o([s.children.ru.segmentName]),"pt-br":o([s.children["pt-br"].segmentName]),sv:o([s.children.sv.segmentName]),"en-us":o([s.children["en-us"].segmentName]),"de-ch":o([s.children["de-ch"].segmentName]),"fr-ch":o([s.children["fr-ch"].segmentName]),"it-ch":o([s.children["it-ch"].segmentName]),pt:o([s.children.pt.segmentName]),"de-at":o([s.children["de-at"].segmentName]),results:o([s.children.book.segmentName,s.children.book.children.results.segmentName]),ticketOptions:o([s.children.book.segmentName,s.children.book.children.ticketOptions.segmentName]),travelOptions:o([s.children.book.segmentName,s.children.book.children.travelOptions.segmentName]),deliveryOptions:o([s.children.book.segmentName,s.children.book.children.deliveryOptions.segmentName]),bookingInformationOptions:o([s.children.book.segmentName,s.children.book.children.informationOptions.segmentName]),options:o([s.children.book.segmentName,s.children.book.children.options.segmentName]),checkout:o([s.children.book.segmentName,s.children.book.children.checkout.segmentName]),confirmation:o([s.children.book.segmentName,s.children.book.children.confirmation.segmentName]),login:o([s.children.book.segmentName,s.children.book.children.login.segmentName]),logout:o([s.children.book.segmentName,s.children.book.children.logout.segmentName]),register:o([s.children.register.segmentName]),discountCards:o([s.children.discountCards.segmentName]),genericSearchError:o([s.children.genericSearchError.segmentName])},c=e=>e?i(["railcards","cardholder-details"],{productTypeId:e},!1):void 0,d=[l.checkout(),l.confirmation()],u=[l.home(),l.es(),l.it(),l.de(),l.fr(),l.da(),l.nl(),l.zh(),l.ja(),l.nb(),l.pl(),l.ru(),l["pt-br"](),l.sv(),l["en-us"](),l["de-ch"](),l["fr-ch"](),l["it-ch"](),l.pt(),l["de-at"]()],p=[l.ticketOptions(),l.travelOptions(),l.deliveryOptions(),l.bookingInformationOptions(),l.options(),l.checkout(),l.confirmation(),l.login(),l.logout(),l.register(),l.discountCards(),l.genericSearchError()],m=e=>!p.includes(e),g=(e,r)=>{var t="";if(Boolean(r)){var a=n.P4[e],i=n.Uj[e],o="/business-dashboard"===r,s=[n.PG.FRENCH,n.PG.ITALIAN,n.PG.SWISSFRENCH,n.PG.SWISSITALIAN].includes(a)?"".concat(r,"/").concat(a,"/business"):"".concat(r,"/business"),l=i===n.Vd.ENGLISH?r:"/".concat(i).concat(r);t=o?l:s}return t}},94578:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(29901),n=t(88543),i=t(93643);const o=e=>{var r=(0,n.useDispatch)();a.useEffect((()=>{e&&e(),r((0,i.xJ)())}),[])}},53939:(e,r,t)=>{"use strict";t.d(r,{k:()=>a});var a=()=>{"undefined"!=typeof window&&window.scrollTo(0,0)}},81659:(e,r,t)=>{"use strict";t.d(r,{AS:()=>s,mW:()=>i});var a=t(23198),n=e=>{if(!e)return[];var{wheelchairUser:r,cardLevel:t}=e;return[{disabilityPassenger:!0,model:"sncf",disabilityCardLevel:t,wheelchairUser:r}]},i=e=>e.reduce(((e,r)=>(0,a.Z)((0,a.Z)({},e),void 0!==r.disability?{[r.id]:n(r.disability)}:{})),{}),o=e=>Object.entries(e).reduce(((e,r)=>{var[t,a]=r;return e[t]="true"===a||"false"!==a&&a,e}),{}),s=(e,r)=>{var t=null==e?void 0:e[r];return t?t.map(o):null}},91939:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});const a=t(56915).Z},56915:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(29901),n=t(50093);const i=n.StyleSheet.create({srOnly:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1,textTransform:"none",userSelect:"none"}});const o=e=>{var{children:r}=e;return a.createElement("span",{className:(0,n.css)(i.srOnly),tabIndex:-1},r)}},65441:(e,r,t)=>{"use strict";t.d(r,{G$:()=>s,Wj:()=>l,kH:()=>c});var a=t(32034),n=t(24087),i=t(26260),o=t(94018),s=(0,a.P1)(o.vR,(e=>e===n.ZP.TRAIN?"train tab":"coach tab")),l=(0,a.P1)(i.sy,(e=>e&&e.currentCoachJourneyAvailability&&e.currentCoachJourneyAvailability.searchType)),c=e=>{var r=e.getBoundingClientRect();return r.width>0&&r.height>0&&r.top<=window.innerHeight}},61750:(e,r,t)=>{"use strict";t.d(r,{j:()=>d});var a=t(23198),n=t(46206),i=t(9478),o=t(64169),s=t(60654),l=()=>!0===o.nP.getItem("debugAnalytics"),c={BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.PORTAL===s.Portal.TRAINLINE||{BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.PORTAL===s.Portal.BBT,d=e=>{var{eventType:r,analyticsEventType:t,analyticsEventPayload:o}=e;"undefined"!=typeof window&&window.requestIdleCallback((()=>{var e,s,d=(0,a.Z)({},o);o.coreProperties&&(d.coreProperties=c?(0,i.zl)(o.coreProperties):o.coreProperties),e="".concat(t,".").concat(r),s=d,l()&&console.log("%c".concat(e),"color: blueviolet; font-weight: bold;",s),(0,n.sendToAnalytics)(t,d,l())}))}},69188:(e,r,t)=>{"use strict";t.d(r,{Ax:()=>u,G3:()=>p,Mp:()=>g,NT:()=>m,e2:()=>s,lY:()=>v,pF:()=>f,z4:()=>d,zd:()=>h});var a=t(71695),n=t(64169),i=t(73009),o=t(4695),s={[a.vi.ENGLISH]:t(87491),[a.vi.GERMAN]:t(7525),[a.vi.SPANISH]:t(94721),[a.vi.ITALIAN]:t(88251),[a.vi.FRENCH]:t(38661),[a.vi.DANISH]:t(82431),[a.vi.DUTCH]:t(38202),[a.vi.NORWEGIAN]:t(75381),[a.vi.BRAZILIANPORTUGUESE]:t(66836),[a.vi.SWEDISH]:t(74383),[a.vi.AMERICANENGLISH]:t(87491),[a.vi.SWISSGERMAN]:t(7525),[a.vi.SWISSITALIAN]:t(88251),[a.vi.SWISSFRENCH]:t(38661),[a.vi.PORTUGUESE]:t(66836),[a.vi.AUSTRIANGERMAN]:t(7525)},l="https://www.thetrainline.com/content/WEB/images/country-flags",c={[a.vi.ENGLISH]:{code:a.Vd.ENGLISH,name:a.tK.ENGLISH,countryFlagLink:"".concat(l,"/gb.svg"),displayName:a.bs.ENGLISH,isoCountryCode:a.Qd.BRITAIN},[a.vi.GERMAN]:{code:a.Vd.GERMAN,name:a.tK.GERMAN,countryFlagLink:"".concat(l,"/de.svg"),displayName:a.bs.GERMAN,isoCountryCode:a.Qd.GERMANY},[a.vi.SPANISH]:{code:a.Vd.SPANISH,name:a.tK.SPANISH,countryFlagLink:"".concat(l,"/es.svg"),displayName:a.bs.SPANISH,isoCountryCode:a.Qd.SPAIN},[a.vi.ITALIAN]:{code:a.Vd.ITALIAN,name:a.tK.ITALIAN,countryFlagLink:"".concat(l,"/it.svg"),displayName:a.bs.ITALIAN,isoCountryCode:a.Qd.ITALY},[a.vi.FRENCH]:{code:a.Vd.FRENCH,name:a.tK.FRENCH,countryFlagLink:"".concat(l,"/fr.svg"),displayName:a.bs.FRENCH,isoCountryCode:a.Qd.FRANCE},[a.vi.DANISH]:{code:a.Vd.DANISH,name:a.tK.DANISH,countryFlagLink:"".concat(l,"/dk.svg"),displayName:a.bs.DANISH,isoCountryCode:a.Qd.DENMARK},[a.vi.DUTCH]:{code:a.Vd.DUTCH,name:a.tK.DUTCH,countryFlagLink:"".concat(l,"/nl.svg"),displayName:a.bs.DUTCH,isoCountryCode:a.Qd.NETHERLANDS},[a.vi.NORWEGIAN]:{code:a.Vd.NORWEGIAN,name:a.tK.NORWEGIAN,countryFlagLink:"".concat(l,"/no.svg"),displayName:a.bs.NORWEGIAN,isoCountryCode:a.Qd.NORWAY},[a.vi.BRAZILIANPORTUGUESE]:{code:a.Vd.BRAZILIANPORTUGUESE,name:a.tK.BRAZILIANPORTUGUESE,countryFlagLink:"".concat(l,"/br.svg"),displayName:a.bs.BRAZILIANPORTUGUESE,isoCountryCode:a.Qd.BRAZIL},[a.vi.SWEDISH]:{code:a.Vd.SWEDISH,name:a.tK.SWEDISH,countryFlagLink:"".concat(l,"/se.svg"),displayName:a.bs.SWEDISH,isoCountryCode:a.Qd.SWEDEN},[a.vi.AMERICANENGLISH]:{code:a.Vd.AMERICANENGLISH,name:a.tK.AMERICANENGLISH,countryFlagLink:"".concat(l,"/us.svg"),displayName:a.bs.AMERICANENGLISH,isoCountryCode:a.Qd.USA},[a.vi.SWISSGERMAN]:{code:a.Vd.SWISSGERMAN,name:a.tK.SWISSGERMAN,countryFlagLink:"".concat(l,"/ch.svg"),displayName:a.bs.SWISSGERMAN,isoCountryCode:a.Qd.SWITZERLAND},[a.vi.SWISSFRENCH]:{code:a.Vd.SWISSFRENCH,name:a.tK.SWISSFRENCH,countryFlagLink:"".concat(l,"/ch.svg"),displayName:a.bs.SWISSFRENCH,isoCountryCode:a.Qd.SWITZERLAND},[a.vi.SWISSITALIAN]:{code:a.Vd.SWISSITALIAN,name:a.tK.SWISSITALIAN,countryFlagLink:"".concat(l,"/ch.svg"),displayName:a.bs.SWISSITALIAN,isoCountryCode:a.Qd.SWITZERLAND},[a.vi.PORTUGUESE]:{code:a.Vd.PORTUGUESE,name:a.tK.PORTUGUESE,countryFlagLink:"".concat(l,"/pt.svg"),displayName:a.bs.PORTUGUESE,isoCountryCode:a.Qd.PORTUGAL},[a.vi.AUSTRIANGERMAN]:{code:a.Vd.AUSTRIANGERMAN,name:a.tK.AUSTRIANGERMAN,countryFlagLink:"".concat(l,"/at.svg"),displayName:a.bs.AUSTRIANGERMAN,isoCountryCode:a.Qd.AUSTRIA}},d=c[o.ZW],u=()=>(0,o.f6)({[i.Ct]:n.Dr.getItem(i.Ct)})||o.ZW,p=()=>a.Uj[u()],m=e=>{var r=(0,o.DM)(e);return r===a.Vd.ENGLISH?"/":"/".concat(r)},g=()=>{return e=u(),c[e]||d;var e},v=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return Object.keys(r).filter((r=>!e.includes(r))).map((e=>r[e]))},h=[a.vi.ENGLISH],y={[a.vi.ENGLISH]:61,[a.vi.FRENCH]:32,[a.vi.ITALIAN]:23},f=e=>y[e]||0},70252:(e,r,t)=>{"use strict";t.d(r,{c:()=>n});var a=t(97866),n=e=>!(0,a.zE)(e)},29181:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,wH:()=>s});var a=t(84025),n=t.n(a),i=t(64169),o=t(73009),s=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Dr,t=arguments.length>2?arguments[2]:void 0;return r.setItem(e,"true",t||n()().add(2,"years").toDate())},l=()=>function(){return"true"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Dr).getItem(o.i1)}()&&!function(){return"true"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Dr).getItem(o.EL)}()&&!function(){return"true"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Dr).getItem(o.eV)}()},57743:(e,r,t)=>{"use strict";t.d(r,{D:()=>a});var a=function(e,r){var t;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];var o=this;clearTimeout(t),t=setTimeout((()=>e.apply(o,n)),r)}}},21666:(e,r,t)=>{"use strict";t.d(r,{p:()=>o,y:()=>i});var a=t(84025),n=t.n(a),i=(e,r)=>{if(null==r||!r.length)return e;var t=[...e];return t.sort(((e,t)=>-1===r.indexOf(e.code)?1:-1===r.indexOf(t.code)?-1:r.indexOf(e.code)-r.indexOf(t.code))),t},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=Number(n().utc(e).format("H"))>0?"".concat(n().utc(e).format("H")," hours"):"",t=Number(n().utc(e).format("m"))>0?"".concat(n().utc(e).format("m")," minutes"):"";return"".concat(r," ").concat(t).trim()}},253:(e,r,t)=>{"use strict";t.d(r,{Bi:()=>b,D4:()=>E,L3:()=>v,Pp:()=>f,VT:()=>y,eQ:()=>g,wB:()=>S});var a=t(23198),n=t(47140),i=t.n(n),o=t(24955),s=t(60654),l=t(85540),c=t(82758),d=t(52103),u=t(59838),p=t(89357),m=t(16256),g=e=>(0,d.n)(l.RJ[e],"operator",(0,d.d)("name")),v=()=>(0,d.n)({[l.d.NTV]:0,[l.d.TRENITALIA]:1},"operator",(0,d.d)("name")),h=p.Sg[m.Up.NUMBER],y={luhn:(e,r)=>{if(e.hasNumber&&"luhn"===e.validationAlgorithm&&(t=r,!i()(t)))return h.CARD_NUMBER_INCORRECT;var t},pattern:(e,r)=>{if(e.hasNumber&&"string"==typeof e.validationRegex&&(t=r,a=e.validationRegex,!new RegExp(a).test(t)))return h.CARD_NUMBER_INCORRECT;var t,a},age:(e,r)=>{if(e.ageRange&&!((e,r)=>!r.ageRange||void 0!==r.ageRange.lowerBound&&void 0!==r.ageRange.upperBound&&e>=r.ageRange.lowerBound&&e<=r.ageRange.upperBound)(r,e)){var t=300===e.ageRange.upperBound?h.AGE_UNCAPPED:h.AGE;return(0,a.Z)((0,a.Z)({},t),{},{meta:{minAge:e.ageRange.lowerBound,maxAge:e.ageRange.upperBound}})}}},f=e=>!e.numberRequiredStage||e.numberRequiredStage===s.NumberRequiredStage.SEARCH||e.numberRequiredStage===s.NumberRequiredStage.ISSUE,E=e=>{var r,{accountNumber:t,card:a,cardTypes:n,isEditing:i,isSavedPassenger:s=!1,euPassenger:l,railCards:d}=e;if(!a)return[p.Sg[m.Up.NUMBER].CARD_NOT_SELECTED];var g=(0,m.qo)(s,a),{NUMBER:v}=m.Up,E=null!==(r=null==t?void 0:t.length)&&void 0!==r&&r,b="Italo Pi"===(null==a?void 0:a.name),S=!1;t&&(S=!a.prefix||t.replace(a.prefix,"").length>0);var T=[];(a.hasNumber&&g.required.includes(v)&&f(a)&&!S&&T.push(h.CARD_NUMBER_REQUIRED),a.group&&!i)&&(n&&(null==d?void 0:d.some((e=>!!n[e.id]&&n[e.id].group===a.group)))&&T.push(h.OVERLAPPING_GROUP));if(t&&g.displayed.includes(v)&&(f(a)||S)&&T.push(y.pattern(a,t)),t&&g.required.includes(v)&&(f(a)||S)&&T.push(y.luhn(a,t)),a.hasNumber&&t&&(f(a)||S)&&(g.required.includes(v)||S)&&!((e,r)=>!r.length||e.length===r.length)(t,a)&&T.push(h.CARD_NUMBER_INCORRECT),l){var C=(0,c.CY)((0,o.RE)({age:l.age||null,type:l.type}));T.push(y.age(a,C))}return b&&(E<7||E>9)&&T.splice(0,0,h.CARD_NUMBER_LENGTH_INCORRECT),T.filter(u.v)};function b(e){var r,t=E(e);e.isEditing||(null===(r=e.railCards)||void 0===r?void 0:r.some((r=>{var t;return r.cardType.id===(null===(t=e.card)||void 0===t?void 0:t.id)})))&&t.push(h.OVERLAPPING_GROUP);return t}var S=e=>{var r={lowerBound:26,upperBound:60};if(e){if(e.age)return{lowerBound:e.age,upperBound:e.age};switch(e.type){case s.PassengerType.ADULT:return r;case s.PassengerType.SENIOR:return{lowerBound:61,upperBound:300};default:return r}}return r}},63530:(e,r,t)=>{"use strict";t.d(r,{N:()=>n});var a=t(7739),n={[a.nN]:"search.error.defaultCardError",[a.dF]:"search.error.defaultCardError",[a.CP]:"search.error.defaultCardError",[a.KH]:"page.europe.results.prm.warning.prmGuideTooYoung",[a.x2]:"page.europe.results.prm.warning.tooManyPrm"}},63410:(e,r,t)=>{"use strict";t.d(r,{$E:()=>E,BP:()=>S,Dd:()=>m,EK:()=>p,TU:()=>v,Yn:()=>C,by:()=>I,eU:()=>y,fw:()=>h,he:()=>b,pG:()=>g,rC:()=>A,x0:()=>f,z5:()=>T});var a=t(50549),n=t(57839),i=t(25792),o=t(44481),s=t(48500),l=e=>e.isEnabled,c=e=>!e.isPartial,d=e=>e.direction===o.t.OUTWARD,u=e=>e.direction===o.t.INWARD,p=e=>{var r;return(null==e||null===(r=e.availability)||void 0===r?void 0:r.status)===n.A.LIMITED},m=e=>(e||[]).filter(d),g=e=>(e||[]).filter(u),v=(e,r)=>r===o.t.OUTWARD?m(e):g(e),h=e=>e.filter((e=>{var{hasRailReplacementService:r}=e;return r})),y=e=>e.filter((e=>{var{hasRailReplacementService:r,transportWarning:t}=e;return!r&&t&&i.p.includes(t)})),f=e=>(e||[]).filter(l),E=e=>(e||[]).filter(c),b=e=>e&&d(e[0]),S=e=>e&&u(e[0]),T=e=>e.filter((e=>{var r=s.EQ(e);return(null==r?void 0:r.travelClass)===a.U9.FIRST&&!(null!=r&&r.isSplitSaveJourney)})),C=e=>e.filter((e=>{var r=s.EQ(e);return(null==r?void 0:r.travelClass)===a.U9.STANDARD&&!(null!=r&&r.isSplitSaveJourney)})),A=(e,r)=>e.filter((e=>s.i$(e)<r)),I=(e,r,t)=>e.filter((e=>e.some((e=>e.direction===o.t.OUTWARD&&e.journeyId===r))&&e.some((e=>e.direction===o.t.INWARD&&e.journeyId===t))))},48500:(e,r,t)=>{"use strict";t.d(r,{$p:()=>U,AY:()=>Z,CS:()=>N,Cq:()=>z,EQ:()=>L,Gu:()=>_,N5:()=>x,NG:()=>Y,Py:()=>f,SO:()=>C,SQ:()=>I,Xi:()=>W,_0:()=>T,aG:()=>A,aS:()=>D,aj:()=>M,an:()=>B,bA:()=>q,ey:()=>$,fV:()=>R,gj:()=>E,i$:()=>w,j2:()=>k,q1:()=>J,qx:()=>j,r7:()=>X,rv:()=>S,uw:()=>b,uy:()=>H,vo:()=>G,xJ:()=>F,yV:()=>O});var a=t(23198),n=t(84025),i=t.n(n),o=t(82768),s=t(32034),l=t(60654),c=t(67292),d=t(79389),u=t(25792),p=(t(10011),t(50549)),m=t(52718),g=(t(44481),t(63410)),v=t(89277),h=t(36493),y=e=>e.isReservable,f=(0,s.P1)((e=>e),(e=>e&&(0,m.oH)({journeyHash:e.journeyHash,alternativeHash:e.alternativeHash}))),E=e=>(0,c.Xn)(e.departAt),b=(e,r)=>e.find((e=>e.alternativeId===r)),S=e=>0===g.x0(e).length,T=e=>(0,o.mNm)((e=>[e.departureStation,e.arrivalStation].join("|")),e).length>1,C=function(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]].some(T)},A=(e,r)=>1===e.length&&1===r.length,I=(e,r)=>e.every(y)&&r.every(y),_=(0,s.P1)((e=>e),(e=>e.every(((e,r,t)=>Boolean((e&&e.correlationToken)===(t[0]&&t[0].correlationToken)))))),P=(e,r)=>{switch(!0){case!e||!e.price:return r;case!r||!r.price:case e.price.amount<=r.price.amount:return e;default:return r}},R=(e,r)=>e.filter((e=>i()(e.departAt).isSame(r))).reduce(P,void 0),k=(e,r,t)=>e.filter((e=>i()(e.departAt).isSame(r)&&i()(e.arriveAt).isSame(t))).reduce(P,void 0),N=e=>e.sort(v.oc).reduce(P,void 0),O=(e,r)=>r?Object.values(e).find((e=>!!e&&f(e)===r)):void 0,L=e=>e[0],x=e=>{var r=g.Dd(e);return L(r)},D=(0,s.P1)(x,(e=>e.price)),w=(0,s.P1)(D,(e=>e.amount)),Z=(0,s.P1)(x,(e=>e.fareTypeName)),F=(0,s.P1)(x,(e=>e.fareTypeIsTravelcard)),B=(0,s.P1)(x,(e=>e.fareTypeId)),M=(0,s.P1)(x,(e=>e.routeRestrictionId)),U=(0,s.P1)(x,(e=>e.conditionsSummary)),j=e=>e.length?e.reduce(((e,r)=>w(e)<=w(r)?e:r)):[],H=(0,s.P1)(j,(e=>e.length?w(e):1/0)),W=(0,s.P1)(L,(e=>e.correlationToken)),G=(e,r,t)=>{var a=((e,r,t)=>{var a=g.x0(e),n=i().utc((0,c.Qb)(r));return t===l.TransitDefinitionDateType.DEPART_AFTER?a[0]:a.reduce(((e,r)=>{var t=i().utc(r.arriveAtNormalized);return!t.isSameOrBefore(n)||e&&!t.isAfter(i().utc(e.arriveAtNormalized))?e:r}),void 0)||a[0]})(e,r,t);return a&&f(a)},V=(e,r)=>{var t,a,n;if(e&&r)return{amount:((null==r||null===(t=r.price)||void 0===t?void 0:t.amount)||0)-((null==e||null===(a=e.price)||void 0===a?void 0:a.amount)||0),currencyCode:(null===(n=r.price)||void 0===n?void 0:n.currencyCode)||""}},Y=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.sort(v.d$),n=t.filter((e=>e.returnValidityDurationCode&&h.I.includes(e.returnValidityDurationCode))),i=r?n:t,o=i.find((e=>e.travelClass===p.U9.STANDARD&&!e.isSplitSaveJourney)),s=i.find((e=>e.travelClass===p.U9.FIRST&&!e.isSplitSaveJourney)),l=i.find((e=>e.travelClass===p.U9.STANDARD)),c=i.find((e=>e.travelClass===p.U9.FIRST)),d=V(l,o),u=V(c,s);return{standard:l?(0,a.Z)((0,a.Z)({},l),{},{savings:d}):l,first:c?(0,a.Z)((0,a.Z)({},c),{},{savings:u}):c}},K=(0,s.P1)((e=>e),(e=>{var{standard:r,first:t}=e;switch(!0){case!r&&!t:return 1/0;case!r:return t.price.amount;case!t:return r.price.amount;default:return r.price.amount<t.price.amount?r.price.amount:t.price.amount}})),z=e=>{if(e)return e.reduce(((e,r)=>{var t=r&&(r.standard||r.first);return null==t?e:(0,a.Z)((0,a.Z)({},e),{},{[t.journeyId]:r})}),{})},J=e=>e.length>0?e.reduce(((e,r)=>e<K(r)?e:K(r)),K(e[0])):1/0,q=e=>e.length&&e.every((e=>e.hasRailReplacementService))?d.E.ALL:e.some((e=>e.hasRailReplacementService))?d.E.SOME:d.E.NONE,Q=e=>{var{journeyWarningType:r}=e;return Boolean(r&&u.p.includes(r))},X=e=>e.length&&e.every(Q)?d.E.ALL:e.some(Q)?d.E.SOME:d.E.NONE,$=e=>e[0]&&e[0].returnValidityDurationCode},89277:(e,r,t)=>{"use strict";t.d(r,{LH:()=>p,XG:()=>u,d$:()=>d,oc:()=>c,rO:()=>m});var a=t(84025),n=t.n(a),i=t(82768),o=t(32034),s=t(10011),l=t(48500),c=(e,r)=>{switch(!0){case e.departAt===r.departAt:return 0;case n().utc(e.departAt).isAfter(n().utc(r.departAt)):return 1;case n().utc(e.departAt).isBefore(n().utc(r.departAt)):return-1;default:return 0}},d=(e,r)=>{if(!e)return-1;if(!r)return 1;var{price:t}=e,{price:a}=r;if(!t)return-1;if(!a)return 1;if(t.amount<a.amount)return-1;if(t.amount>a.amount)return 1;var{alternativeId:n}=e,{alternativeId:i}=r;return n===i?0:n<i?-1:1},u=(e,r)=>c(e[0],r[0]),p=e=>{var r=(0,i.vMG)(l.gj,e);return Object.keys(r).sort(s.$O).reduce(((e,t)=>(e.set(t,r[t]),e)),new Map)},m=(0,o.P1)((e=>e),(e=>(e||[]).sort(((e,r)=>d((0,l.N5)(e),(0,l.N5)(r))))))},13972:(e,r,t)=>{"use strict";t.d(r,{$:()=>m});var a=t(59199),n=t(51486),i=t(61229),o=t(32554),s=t(44481),l=t(23198),c=e=>{var r,t,a=e.reduce(((e,r)=>r.disruptions&&r.disruptions.length>0?e.some((e=>{var{firstDisruption:r}=e;return!!r}))?[...e,r]:[...e,(0,l.Z)((0,l.Z)({},r),{},{firstDisruption:!0})]:[...e,r]),[]),n=null===(r=a[0])||void 0===r?void 0:r.firstDisruption,i=null===(t=a[0])||void 0===t?void 0:t.disruptions,o=n?((e,r)=>r.reduce(((e,r)=>e.every((e=>{var{disruptions:t}=e;return!(null==t||!t.some((e=>e.id===r.id)))}))?e.map(((e,t)=>(0,l.Z)((0,l.Z)({},e),{},{disruptions:e.disruptions.filter((e=>e.id!==r.id||0===t))}))):e),e))(a,i):a;return o},d=t(16362),u=t(93601),p=(e,r,t)=>{var a=(0,i.ER)(e),{disruptions:s}=e.entities,l=r.legs.reduce(((r,i)=>{var l=a[i];if(!l)return r;var c=((e,r)=>{var t,a=null===(t=e.realTime)||void 0===t?void 0:t.disruptions;return((null==a?void 0:a.map((e=>r[e])))||[]).filter(Boolean)})(l,s),p=(0,n.y9)(e,l.id),m=t?(0,n.U)(e,l.id):(0,n.z2)(e,l.id),g=m&&(0,d.xs)(e,m),{name:v,code:h}=l.brand&&(0,u.aN)(e,l.brand)||{},y=t&&v||m;return r.concat({id:l.timetableId||l.id,localArriveAt:l.arriveAt,localDepartAt:l.departAt,disruptions:c,origin:(0,o.CM)(e,l.departureLocation),destination:(0,o.CM)(e,l.arrivalLocation),items:[{productId:"",legId:l.id}],carrierName:m,carrierUrn:g,carrierLogo:{name:y,mode:p},brandCode:h,brandName:v,transportModeName:p,vendorQuotaIdentifier:l.vendorQuotaIdentifier,timetableId:l.timetableId})}),[]);return l},m=function(e,r){var t,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,i.Ug)(e)[r];if(o){var l=p(e,o,n),d=c(l),u=null===(t=d[0].items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.legId,m=o.direction||s.t.OUTWARD,g="".concat(m,"Journey");return{id:(0,a.j)([r]),[g]:{id:(0,a.j)([r,u||m]),co2EmissionInGrams:o.co2EmissionInGrams,co2EmissionComparison:o.co2EmissionComparison,distanceInKm:o.distanceInKm,legs:d}}}}},87974:(e,r,t)=>{"use strict";t.d(r,{GL:()=>i,oT:()=>l,zE:()=>s});var a=["train","bus","ferry","coach"],n=["train"];function i(e,r){var t=r?n:a;return e.filter((e=>{var{transportModeName:r}=e;return t.includes(r)}))}var o=["urn:trainline:trenitalia:carrier:thello","urn:trainline:trenitalia:carrier:trenitalia","urn:trainline:trenitalia:carrier:trenord","urn:trainline:sncf:carrier:thello","urn:trainline:sncf:carrier:trenitalia","urn:trainline:sncf:carrier:sncf","urn:trainline:sncf:carrier:tgv_lyria","urn:trainline:ntv:carrier:ntv","urn:trainline:renfe:carrier:renfe","urn:trainline:ouigo:carrier:ouigo_spain","urn:trainline:ouigo:carrier:ouigo","urn:trainline:ilsa:carrier:ilsa"];function s(e){return!!e&&((null==e?void 0:e.startsWith("urn:trainline:atoc:carrier:"))||o.includes(e))}var l=(e,r)=>{var t=[];return void 0===e||i(e.legs,r).filter((e=>{var{carrierUrn:r}=e;return s(r)})).forEach((e=>{var{id:r,timetableId:a,destination:n,origin:i,carrierName:o,localDepartAt:s}=e;r&&n&&i&&o&&t.push({departAt:s,timetableId:a||r,arrivalLocation:n.code,departureLocation:i.code,carrier:o})})),t}},54638:(e,r,t)=>{"use strict";t.d(r,{oF:()=>c,tI:()=>l});var a=t(23198),n=t(68760),i=t(50989),o=t(92254),s=()=>t.e(51096).then(t.bind(t,84977)).then((e=>(0,a.Z)((0,a.Z)({},e),{},{w:window,d:document}))),l=e=>{var{analyticsHandler:r,googleOneTapLoggedInStatus:t}=e;return window.requestIdleCallback((()=>{s().then((e=>{var{initGoogleOneTapAuth:a,completeGoogleOneTapAuth:s,w:l,d:c}=e;switch(t){case n.bm[o.z.ANONYMOUS]:a({w:l,d:c,redirectUrl:l.location.origin,autoSignIn:!1,analyticsHandler:r,errorHandler:i.Ep,metricsHandler:i.Kh});break;case n.bm[o.z.LOGGED_IN]:s({analyticsHandler:r,errorHandler:i.Ep,metricsHandler:i.Kh});break;default:return!0}return!0})).catch((e=>{console.error(e),(0,i.Ep)(e,{fn:"initGoogleOneTap"})}))}))},c=e=>{try{e.google.accounts.id.cancel()}catch(e){console.info("Attempted Google One Tap unload")}}},32912:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>u});var a=t(71695),n=t(10301),i=t(10552),o=t(94575),s=[a.Qd.CANADA,a.Qd.AUSTRALIA,a.Qd.NEWZEALAND],l=[a.Qd.BRITAIN,a.Qd.GERMANY,a.Qd.SPAIN,a.Qd.ITALY,a.Qd.FRANCE,a.Qd.DENMARK,a.Qd.NETHERLANDS,a.Qd.NORWAY,a.Qd.SWEDEN,a.Qd.BELGIUM,a.Qd.SWITZERLAND,a.Qd.PORTUGAL,a.Qd.AUSTRIA],c=function(e){return e.INBOUND_USER="Inbound User",e.US_INBOUND_USER="US Inbound User",e.NATIVE_ENGLISH_INBOUND_USER="Native English Speaking Inbound User",e.NOT_NATIVE_ENGLISH_INBOUND_USER="Not Native English Speaking Inbound",e}({}),d=e=>{var{country:r,locale:t}=e,n=(e=>{var{country:r,locale:t}=e,n=r===a.Qd.USA,i=t===a.vi.AMERICANENGLISH;return n||i})({country:r,locale:t});if(n)return c.US_INBOUND_USER;var i=(e=>{var{country:r}=e;return s.includes(r)})({country:r});if(i)return c.NATIVE_ENGLISH_INBOUND_USER;var o=(e=>{var{country:r}=e;return![a.Qd.USA,...l,...s].includes(r)})({country:r});return o?c.NOT_NATIVE_ENGLISH_INBOUND_USER:null};const u=()=>{var{locale:e}=(0,o.YB)(),{userLocationCountry:r,homeCountry:t,isAnInboundUser:a}=(0,i.d)(),{enableNewInboundUser:s,enableGASS:l}=(0,n.QE)(),u=l&&s,p=u?t:r,m=d({country:null==p?void 0:p.toUpperCase(),locale:e});return{userCountry:p,isInboundUser:u?a:!!m,isUsInboundUser:m===c.US_INBOUND_USER,isNativeEnglishInboundUser:m===c.NATIVE_ENGLISH_INBOUND_USER,isNotNativeEnglishInboundUser:m===c.NOT_NATIVE_ENGLISH_INBOUND_USER}}},89082:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(29901);const n=e=>{var r=a.useRef();return a.useEffect((()=>{r.current=e})),r.current}},51918:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(88543),n=function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return(0,a.useSelector)((r=>e(r,...t)))}},91800:(e,r,t)=>{"use strict";t.d(r,{C:()=>a});var a=t(88543).useSelector},7809:(e,r,t)=>{"use strict";t.d(r,{Ak:()=>v,CK:()=>N,Gs:()=>E,Io:()=>O,Kv:()=>T,_R:()=>b,cM:()=>f,q4:()=>P,sR:()=>h});var a=t(23198),n=t(85924),i=t(42756),o=t(4710),s=t(426),l=t(57243),c=t(60654),d=t(7739),u=t(12521),p=t(47663),m=t(97626),g=t(69188);class v extends d.iC{static of(e){return new v(e.response.status,e.data,e.response)}constructor(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;super(e+""),(0,n.Z)(this,"code",void 0),(0,n.Z)(this,"data",void 0),(0,n.Z)(this,"response",void 0),(0,n.Z)(this,"responseUrl",void 0),(0,d.fD)(this,v),this.name="BFFError",this.code=e,this.data=r,this.response=t,this.responseUrl=t&&t.url||""}}class h extends d.iC{constructor(e,r,t){super(e),(0,n.Z)(this,"message",void 0),(0,n.Z)(this,"responseData",void 0),(0,n.Z)(this,"rawResponse",void 0),(0,d.fD)(this,h),this.name="RelayError",this.message=e,this.responseData=r,this.rawResponse=t}}var y="",f=e=>({status:c.LoadStatus.PENDING,message:e}),E=()=>({status:c.LoadStatus.SUCCESS}),b=e=>({status:c.LoadStatus.ERROR,error:e});function S(e){return!!e&&void 0!==e.includeHeadersInResponse}var T=()=>y,C=e=>{y=e||y},A=e=>{var r=e.headers&&e.headers["x-conversationid"];r&&C(Array.isArray(r)?r[0]:r)},I=e=>e.body,_=e=>{if(!e.response)throw e;399===e.response.status&&window.location.reload(),C(e.response.headers.get("x-conversationid"))},P="undefined"!=typeof window&&window.__VERSION__||"",R=e=>(_(e),(0,i._)(v.of(e))),k=e=>{throw _(e),v.of(e)};function N(e,r){var t={"x-version":P},n={"Accept-Language":(0,g.Ax)()},i=r?(0,a.Z)((0,a.Z)({},r),{},{includeHeadersInResponse:!0,headers:(0,a.Z)((0,a.Z)((0,a.Z)({},r.headers),t),n)}):{method:"GET",includeHeadersInResponse:!0,headers:(0,a.Z)((0,a.Z)({},t),n)};return S(r)?(0,p.fetchJSON$)("".concat(m.Z.path).concat(e),(0,a.Z)((0,a.Z)({},r),{},{headers:(0,a.Z)((0,a.Z)((0,a.Z)({},r.headers),t),n)})).pipe((0,o.b)(A),(0,s.K)(R)):(0,p.fetchJSON$)("".concat(m.Z.path).concat(e),i).pipe((0,o.b)(A),(0,l.U)(I),(0,s.K)(R))}function O(e,r){var t={"x-version":P},n={"Accept-Language":(0,g.Ax)()},i=r?(0,a.Z)((0,a.Z)({},r),{},{includeHeadersInResponse:!0,headers:(0,a.Z)((0,a.Z)((0,a.Z)({},r.headers),t),n)}):{method:"GET",includeHeadersInResponse:!0,headers:(0,a.Z)((0,a.Z)({},t),n)};return S(r)?(0,u.fetchJSON)("".concat(m.Z.path).concat(e),(0,a.Z)((0,a.Z)({},r),{},{headers:(0,a.Z)((0,a.Z)((0,a.Z)({},r.headers),t),n)})).then((e=>(A(e),e))).catch(k):(0,u.fetchJSON)("".concat(m.Z.path).concat(e),i).then((e=>(A(e),I(e)))).catch(k)}},31534:(e,r,t)=>{"use strict";t.d(r,{D:()=>c,V:()=>d});var a=t(32034),n=t(10798),i=t(63062),o=t(42292),s=t(79399),l=t(79257),c=(0,a.P1)(l.U,o.KY,o.Eb,i.tN,((e,r,t,a)=>{if(e){var i=JSON.stringify(e.alternativeHash||[]),o=r.find((e=>JSON.stringify(e.alternativeHash)===i));if(o&&a){var s=(0,n.U)(o.comfortLegs,a.legs[0].id),l=t.find((e=>e.comfort.id===s));return l?l.comfort:void 0}}})),d=(e,r)=>{var{newJourneySearch:t,journeyId:a,reasonCode:i}=e;if(t&&a&&r&&i===s.qV.ALTERNATIVE_NOT_FOUND){var{legs:o}=(0,n.U)(t.journeySearch.journeys,a),l=Object.values(t.journeySearch.fares).filter((e=>e&&e.fareLegs.map((e=>e.legId)).includes(o[0]))),c=l.map((e=>e&&e.id));return Object.values(t.journeySearch.alternatives).filter((e=>e&&e.fares.find((e=>c.includes(e))))).filter((e=>e&&e.flexibility&&r.flexibility&&e.flexibility.code===r.flexibility.code)).find((e=>{if(!e)return!1;var t=e.fares[0],a=l.find((e=>!!e&&e.id===t));if(a){var n=a.fareLegs[0];if(n.comfort&&n.travelClass&&r.comfort&&r.travelClass)return n.travelClass.name.toLowerCase()===r.travelClass.toLowerCase()&&n.comfort.code===r.comfort.code}return!1}))}}},52718:(e,r,t)=>{"use strict";t.d(r,{A1:()=>m,DQ:()=>C,Dr:()=>S,Fx:()=>h,e$:()=>g,jr:()=>l,lG:()=>E,oG:()=>T,oH:()=>d,s7:()=>p,t7:()=>y,tX:()=>b,tb:()=>c,zc:()=>v});var a=t(23198),n=t(84025),i=t.n(n),o=t(60654),s=(t(82758),t(44481)),l=e=>e?s.t.OUTWARD:s.t.INWARD,c=e=>{var[r,t]=e.split(":");return{journeyHash:r,alternativeHash:t.split(",")}},d=e=>{var{journeyHash:r,alternativeHash:t}=e;return r&&t?[r,[].concat(t).join(",")].join(":"):""},u=e=>e<new Date,p=(e,r)=>{var t=e.outwardDateType===o.TransitDefinitionDateType.DEPART_AFTER?i()():i()().add(r,"milliseconds");return"return"===e.journeySearchType&&u(new Date(e.inwardDate))?(0,a.Z)((0,a.Z)({},e),{},{outwardDate:t.utc().format(),inwardDate:t.add(i()(e.inwardDate).diff(e.outwardDate)).utc().format()}):e.outwardDate&&u(new Date(e.outwardDate))?(0,a.Z)((0,a.Z)({},e),{},{outwardDate:t.utc().format()}):e},m=e=>e&&e.aliases&&e.aliases[0],g=(e,r)=>e.reduce(((e,t)=>{var a=((e,r)=>e.deliveryOptions.filter((e=>r[e])).map((e=>r[e].fulfillmentDelay)).reduce(((e,r)=>Math.min(e,r)),1/0))(t,r);return Math.min(e,a)}),1/0),v=(e,r,t,a)=>e.filter((e=>{var n=e?r[e]:void 0,i=n&&t[n.legs[0]],o=n&&t[n.legs[n.legs.length-1]];return i&&o&&a[i.departureLocation]&&a[o.arrivalLocation]})).map((e=>{var n,i=r[e],o=null===(n=r[e])||void 0===n?void 0:n.carrierCombinationType,s=a[t[i.legs[0]].departureLocation],l=a[t[i.legs[i.legs.length-1]].arrivalLocation];return{startName:s.name,startCode:s.shortName,endName:l.name,endCode:l.shortName,carrierCombinationType:o}})).filter(((e,r,t)=>{var{startCode:a,endCode:n}=e;return t.findIndex((e=>"".concat(e.startCode,":").concat(e.endCode)==="".concat(a,":").concat(n)))===r})).sort(((e,r)=>"".concat(e.startCode,":").concat(e.endCode).localeCompare("".concat(r.startCode,":").concat(r.endCode)))),h=e=>e.isAvailable&&e.price&&e.price.amount>=0,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return e.isAvailable&&e.price&&e.price.amount===r},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return e.price&&e.price.amount===r},E=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.isAvailable&&(null===(e=r.price)||void 0===e?void 0:e.amount)},b=(e,r)=>{var t=[];return e.forEach(((e,a)=>{var n;t[a]=!(!e||"TARGETED_CARRIER"!==(null===(n=r[e])||void 0===n?void 0:n.carrierCombinationType))})),t},S=e=>e&&e.price&&0!==e.price.amount?e.price.amount||e.fullPrice&&e.fullPrice.amount:e&&e.price&&0==e.price.amount?e.price.amount:void 0,T=(e,r,t)=>{var a=[S(e),S(r),S(t)].filter((e=>"number"==typeof e)).map((e=>Number(e)));return a.length>0?Math.min(...a):-12},C=e=>{var r;return null===(r=e.find((e=>{var r,t,a=T(e.standardAlternativeContainer,e.firstAlternativeContainer),n=f(e.standardAlternativeContainer,a),i=f(e.firstAlternativeContainer,a);return n&&(null===(r=e.standardAlternativeContainer)||void 0===r?void 0:r.isSmartPrice)||i&&(null===(t=e.firstAlternativeContainer)||void 0===t?void 0:t.isSmartPrice)})))||void 0===r?void 0:r.journeyId}},44481:(e,r,t)=>{"use strict";t.d(r,{t:()=>a});var a=function(e){return e.OUTWARD="outward",e.INWARD="inward",e}({})},12720:(e,r,t)=>{"use strict";t.d(r,{PA:()=>d,Rz:()=>l,dx:()=>c});var a=t(67903),n=t(42769),i=t(78524),o={results:"SRP",ticketOptions:"Ticket Options",travelOptions:"Travel Options",deliveryOptions:"Delivery Options",options:"Options",checkout:"Checkout",confirmation:"Confirmation",login:"Login",logout:"Logout",register:"Register",discountCards:"Discount Cards",genericSearchError:"Generic Search Error",bookingInformationOptions:"Booking Information"},s=!1,l=()=>{window&&window.LUX&&window.LUX.init&&(s=!0,window.LUX.init(),window.localStorage&&window.localStorage.debugLux&&console.log("LUX DEBUG - Start Navigation"))},c=(e,r)=>{window&&window.LUX&&window.LUX.send&&s&&window.location&&window.location.pathname&&(s=!1,window.LUX.label=((e,r)=>{if(n.PA.includes(e)&&r)switch(r){case a.KX.HomeIntlEnUs:return"Homepage (IntlEnUS)";case a.KX.HomeUK:return"Homepage (UK)";case a.KX.HomeEU:return"Homepage (EU)";default:return"Homepage"}var t=Object.keys(o).find((r=>n.L1[r]()===e));return t?o[t]:"Desktop Web"})(window.location.pathname,r),window.LUX.send(),window.LUX.addData&&window.LUX.addData(e,1),window.localStorage&&window.localStorage.debugLux&&console.log('LUX DEBUG - End Navigation (identifier "'.concat(e,'", label "').concat(window.LUX.label,'") ')))},d=e=>{window&&window.LUX&&window.LUX.addData&&(window.LUX.addData(i.SO,e?1:0),window.localStorage&&window.localStorage.debugLux&&console.log("LUX DEBUG - Is EU = ".concat(e)))}},85536:(e,r,t)=>{"use strict";t.d(r,{H6:()=>s,QA:()=>i,tq:()=>o});var a=t(23394),n=e=>{if("undefined"==typeof window||void 0===window.matchMedia)return null;var r=e.substring(7);return window.matchMedia(r).matches},i=()=>!1!==n(a.cy.min.m),o=()=>n(a.cy.max.s),s=()=>n(a.cy.max.xs)},50989:(e,r,t)=>{"use strict";t.d(r,{$1:()=>l,Ep:()=>s,Kh:()=>i,WM:()=>o,Wd:()=>n,qV:()=>c});var a=t(69188),n={PAYER_AUTHENTICATION_AUTHORIZED:"Successfully Authorized Enrolment",PAYER_AUTHENTICATION_PARSING_EXCEPTION:"Exception parsing onPayerAuthenticationResponse",PAYER_AUTHENTICATION_TRIMMED_PARSING_EXCEPTION:"Exception parsing trimmed onPayerAuthenticationResponse",PAYER_AUTHENTICATION_DATA_NOT_VALID:"Exception onPayerAuthenticationResponse data not valid",SECURE_IFRAME_MOUNTED:"3ds iFrame mounted",RECEIVED_SEARCHABLE_LOCATIONS:"Received Searchable Locations",SERVICE_URL_KEY:e=>"".concat(e.toUpperCase(),"-URL"),MIGRATION:{CUSTOMER_MIGRATION:"CUSTOMER_MIGRATION",MODAL_SEEN:"MODAL_SEEN",SKIP_BUTTON_CLICKED:"SKIP_BUTTON_CLICKED",SIGN_IN_BUTTON_CLICKED:"SIGN_IN_BUTTON_CLICKED",RETURN_TO_VOUCHER_BUTTON_CLICKED:"RETURN_TO_VOUCHER_BUTTON_CLICKED",RETURN_TO_BUSINESS_BUTTON_CLICKED:"RETURN_TO_BUSINESS_BUTTON_CLICKED",REDIRECTED_FROM:e=>"REDIRECTED_FROM_".concat(e,"_TO_SGP"),USER_SEARCHED_JOURNEY_IN:e=>"USER_SEARCHED_JOURNEY_IN_".concat(e),USER_PURCHASED_IN:e=>"USER_PURCHASED_IN_".concat(e)},IFRAME_PAYMENT_FORM_ISSUE:"IFRAME_PAYMENT_FORM_ISSUE",PASSENGER_DETAILS_PROMPT_REGISTRATION:{REGISTRATION_PROMPT_SEEN:"REGISTRATION_PROMPT_SEEN",REGISTRATION_SUCCEDED:"REGISTRATION_SUCCEDED",REGISTRATION_FAILED:"REGISTRATION_FAILED"},PREFILL_ACCOUNT_HOLDER_DETAILS:{FIRST_AND_LAST_NAME_AMENDED:"FIRST_AND_LAST_NAME_AMENDED",FIRST_NAME_AMENDED:"FIRST_NAME_AMENDED",LAST_NAME_AMENDED:"LAST_NAME_AMENDED"},SAVE_RAILCARD_FROM_PASSENGER_PICKER:{ERROR:"SAVE_RAILCARD_FROM_PASSENGER_PICKER_ERROR"},MERGED_BOOKING_OPTIONS_PAGE:{SEATING_AND_EXTRAS_SELECTED:"SEATING_AND_EXTRAS_SELECTED",SEATING_AND_EXTRAS_NOT_DISPLAYED:"SEATING_AND_EXTRAS_NOT_DISPLAYED"},REUSE_JOURNEY_SEARCH:"REUSE_JOURNEY_SEARCH",SEAT_PREFERENCES_STORAGE:{SEAT_PREFERENCES_STORAGE_CREATED:"SEAT_PREFERENCES_STORAGE_CREATED",SEAT_PREFERENCES_STORAGE_CONSUMED:"SEAT_PREFERENCES_STORAGE_CONSUMED",SEAT_PREFERENCES_STORAGE_AMENDED:"SEAT_PREFERENCES_STORAGE_AMENDED"}},i=(e,r)=>{"undefined"!=typeof window&&window.newrelic&&window.newrelic.addPageAction(r,e)},o=(e,r)=>{"undefined"!=typeof window&&window.newrelic&&window.newrelic.interaction().setAttribute(e,r).save()},s=(e,r)=>{"undefined"!=typeof window&&window.newrelic&&window.newrelic.noticeError(e,r)},l=e=>{var r={language:(0,a.Ax)(),path:"undefined"!=typeof window&&window.location&&window.location.pathname||""};Object.entries(e).forEach((e=>{var[t,a]=e;r["error_".concat(t)]=a})),i(r,"something_went_wrong")},c=(e,r)=>{"undefined"!=typeof window&&window.newrelic&&window.newrelic.setCustomAttribute&&window.newrelic.setCustomAttribute(e,r)}},36592:(e,r,t)=>{"use strict";t.d(r,{PH:()=>n,RW:()=>s,jD:()=>o,ul:()=>i});var a=t(53066),n=e=>function(r){return r?{type:e,payload:r}:{type:e}},i=e=>r=>({type:e,payload:r}),o=e=>(r,t)=>({type:e,payload:r,meta:t}),s=e=>()=>({type:e});(0,a.Z)("NOOP")},29647:(e,r,t)=>{"use strict";t.d(r,{IS:()=>m,K5:()=>h,KC:()=>p,Og:()=>b,Pj:()=>c,Ri:()=>S,S6:()=>v,YE:()=>f,az:()=>u,g1:()=>g,mN:()=>y,oB:()=>T});var a=t(84025),n=t.n(a),i=t(24087),o=t(82758),s=t(82768),l=t(71695),c=7,d=e=>e.reduce(((e,r)=>{var{price:t}=r;return null!=t&&t.amount&&e.push(t.amount),e}),[]),u=e=>{var r,t=(e=>(0,s.HK3)((e=>"".concat(n()(null==e?void 0:e.start).format("YYYY-MM-DD"))),e))(e),a=(r=d(e),Math.min(...r)===Math.max(...r)),i=(e=>{var r=d(e);if(!(r.length<1))return Math.min(...r)})(e);return e=>{var r,n,o=t["".concat(null==e?void 0:e.format("YYYY-MM-DD"))];return{shouldShowCheapestLabel:Boolean(!a&&i&&i===(null==o||null===(r=o.price)||void 0===r?void 0:r.amount)),price:null!=o&&o.price&&null!=o&&null!==(n=o.price)&&void 0!==n&&n.amount?null==o?void 0:o.price:void 0}}},p=(e,r)=>n()(e).isSame(n()(r),"day"),m=e=>e.selectedTab===i.ZP.TRAIN||e.selectedTab===i.ZP.COACH?e.selectedTab:i.ZP.TRAIN,g=e=>"".concat(null==e?void 0:e.dateOfBirth).concat(null!=e&&e.id?"|".concat(e.id):""),v=(e,r,t)=>e?(0,o.Cx)(t):(0,o.V6)(t,r!==i.ZP.COACH),h=e=>{var{children:r}=e;return Boolean(1===Object.values(e).reduce(((e,r)=>e+r),0)&&!r)},y=(e,r,t)=>{var a="YYYY-MM-DD",i=e?n()(e,"YYYY-MM-DDTHH:mm:ss"):n()();return"add"===t?i.add(r,"days").format(a):"subtract"===t?i.subtract(r,"days").format(a):i.format(a)},f=e=>e?e.map((e=>null==e?void 0:e.departAt)).filter(Boolean):[],E=(e,r,t)=>"".concat(y(e,r,t),"T00:00:00Z"),b=(e,r)=>{if(e&&r)return{start:e,end:r};var t=n()().startOf("day"),a=n()(e).startOf("day").diff(t,"days"),i=Math.floor(c/2);return a>=i?{start:E(e,i,"subtract"),end:E(e,i,"add")}:{start:E(e,a,"subtract"),end:E(e,c-1-a,"add")}},S=e=>{var r=b(e).start;return new Array(c).fill(null).map(((e,t)=>y(r,t,"add")))},T=e=>({forceCurrencyTwoLines:[l.OI.AUD,l.OI.CAD,l.OI.CHF,l.OI.DKK,l.OI.JPY,l.OI.NOK,l.OI.SEK].includes(e),removeSpaceBeforeSymbolCurrency:[l.OI.EUR,l.OI.GBP,l.OI.USD].includes(e)})},16384:(e,r,t)=>{"use strict";t.d(r,{ck:()=>x,uP:()=>L,vD:()=>D});var a=t(84025),n=t.n(a),i=t(67905),o=t(77962),s=t(64169),l=t(60654),c=t(67292),d=t(82758),u=t(78307),p=["single","return","openReturn"],m=[l.TransitDefinitionDateType.DEPART_AFTER,l.TransitDefinitionDateType.ARRIVE_BEFORE],g=e=>{var{journeySearchType:r}=e;return!(!r||!p.includes(r))||(console.error("journeySearchType is invalid: ".concat(r)),!1)},v=e=>!!e&&"string"==typeof e&&e.length>0,h=e=>{var{origin:r}=e;return!(!r||!v(r))||(console.error("Origin location is not a valid string: ",r),!1)},y=e=>{var{destination:r}=e;return!(!r||!v(r))||(console.error("destination location is not a valid string: ",r),!1)},f=(e,r)=>{var{passengers:t,prm:a}=e;return t&&Array.isArray(t)?t.length<1?(console.error("Passengers Array is empty"),!1):t.every((e=>void 0===(0,d.TC)(e,a,r).dob||n()((0,d.TC)(e,a,r).dob,c.O1).isValid())):(console.error("Passengers is not of correct type, type: ".concat(typeof t," value: ").concat(t)),!1)},E=e=>!!e&&"string"==typeof e&&e.length>0,b=e=>m.some((r=>r===e)),S=e=>{var{journeySearchType:r,openReturnType:t}=e;return!!(r&&"openReturn"===r&&t&&Object.values(u.xj).includes(t))||(console.error("openReturnType is invalid: ".concat(t)),!1)};var T=(e,r)=>t=>r(t[e]),C=e=>E(e)&&!isNaN(Date.parse(e)),A=e=>Boolean(e&&Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e))),I=e=>{var{passengerDiscountCards:r}=e;return A(r)},_=e=>r=>A(r[e]),P=e=>!!e.hasOwnProperty("selectedCarrierFilterTab"),R=e=>!!(e.hasOwnProperty("euVoucher")&&e.euVoucher&&e.euVoucher.passengerId&&e.euVoucher.voucherCode),k=e=>{var r;if(e.hasOwnProperty("ukVoucherInput")&&(null!==(r=e.ukVoucherInput)&&void 0!==r&&r.length))return!0;return!1},N=e=>!(!e.hasOwnProperty("directSearch")||"true"!==e.directSearch),O=e=>!(!e.hasOwnProperty("prm")||!e.prm),L=e=>{var r,t=(e=>{return{origin:h,destination:y,outwardDate:T("outwardDate",C),outwardDateType:T("outwardDateType",b),journeySearchType:g,passengers:r=>{var{passengers:t}=r;return f({passengers:t},e)},passengerDiscountCards:I,inwardDate:T("inwardDate",C),inwardDateType:T("inwardDateType",b),via:_("via"),avoid:_("avoid"),dpiCookieId:(r="dpiCookieId",e=>!e.hasOwnProperty(r)||!!e[r]),euVoucher:R,ukVoucherInput:k,directSearch:N,prm:O,selectedCarrierFilterTab:P,openReturnType:S};var r})(e),a=Object.keys(t);if("undefined"!=typeof location){var n=(0,i.parse)(location.search,{ignoreQueryPrefix:!0});r=Object.keys(n).reduce(((e,r)=>(a.includes(r)&&t[r](n)&&(e[r]=n[r]),e)),{})}return r&&Object.keys(r).length||(r=s.nP.getItem("SEARCH_QUERY")),r},x=()=>s.nP.getItem("SEARCH_CARDS"),D=e=>{var r=e.outwardDate||n()(0).toISOString(),t="return"===e.journeySearchType?e.inwardDate||(0,o.uy)(!1,!1).format():void 0;return Object.assign({},e,{outwardDate:r,inwardDate:t})}},84297:(e,r,t)=>{"use strict";t.d(r,{O:()=>n});var a=t(82768),n=(e,r)=>{var t=e.map((e=>e.savings)).filter((e=>!!e)),n=(0,a.xHg)(t).filter((e=>e.price.amount>0&&e.price.currencyCode===r));return(0,a.qCK)(a.Smz,(0,a.UID)((e=>e||0)),(0,a.UID)((0,a.ETc)(["price","amount"])))(n)}},79257:(e,r,t)=>{"use strict";t.d(r,{B:()=>s,U:()=>l});var a=t(32034),n=t(50549),i=t(51059),o=[n.U9.FIRST,n.U9.STANDARD],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[r,t,a,n]=e.split(":");if(r&&o.includes(a))return{journeyHash:r,alternativeHash:t.split(","),travelClass:a,journeyId:n}},l=(0,a.P1)(i.fE,i.ED,i.r,((e,r,t)=>s(e?t:r)))},11493:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(98318),n=t(50093);const i=n.StyleSheet.create({loading:{backgroundColor:"".concat(a.dp_comp_skeleton_background_duller," !important"),color:"".concat(a.dp_comp_skeleton_background_duller," ! important"),userSelect:"none",animationName:[{"0%":{opacity:.8},"50%":{opacity:.4},"100%":{opacity:.8}}],animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:"linear"}})},24813:(e,r,t)=>{"use strict";t.d(r,{X:()=>i});var a=t(84025),n=t.n(a),i=e=>{if(e&&n()(e).isValid()){var r=e.minute()%15,t=0===r?15:30-r;return e.add(t,"minutes")}}},49248:(e,r,t)=>{"use strict";t.d(r,{E:()=>a,J:()=>n});var a="urn:trainline:atoc:allocty:BIKESTORAGE",n=e=>{var r;return(null==e||null===(r=e.allocationType)||void 0===r?void 0:r.code)===a}},82812:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(71695),n=t(32912),i=t(94575);const o=()=>{var{locale:e}=(0,i.YB)(),{userCountry:r}=(0,n.ZP)(),t=e===a.vi.AMERICANENGLISH;return r!==a.Qd.BRITAIN&&t}},74410:(e,r,t)=>{"use strict";t.d(r,{BS:()=>n,C1:()=>a,Ei:()=>i,Gu:()=>o});var a=e=>!!e||"number"==typeof e,n=e=>r=>r.length<=e,i=e=>r=>r.length>=e,o=e=>r=>e.every((e=>e(r)))},143:(e,r,t)=>{"use strict";t.d(r,{g:()=>i});var a=t(85924),n=t(29901);function i(e,r){return class extends n.Component{constructor(e){super(e),(0,a.Z)(this,"intersectionWrapperElement",void 0),(0,a.Z)(this,"observer",void 0),(0,a.Z)(this,"target",void 0),this.intersectionWrapperElement=n.createRef()}componentDidMount(){var{callback:e}=this.props,t=this.intersectionWrapperElement.current;IntersectionObserver&&e&&(this.observer=new IntersectionObserver(e,r)),t&&this.observer&&this.observer.observe(t)}componentWillUnmount(){var e=this.intersectionWrapperElement.current;e&&this.observer&&this.observer.unobserve(e)}render(){return n.createElement("div",{ref:this.intersectionWrapperElement},n.createElement(e,this.props))}}}},53108:(e,r,t)=>{"use strict";t.d(r,{i:()=>c,m:()=>l});var a=t(64321),n=t(29901),i=t(88543),o=t(56373),s=t(53178),l=()=>{var e=(0,i.useSelector)(o.XM);return{isSplitSaveEnabled:(0,i.useSelector)((r=>(0,s.i)(r,e)))}};function c(e){var r=r=>{var{isSplitSaveEnabled:t}=l();return n.createElement(e,(0,a.Z)({isSplitSaveEnabled:t},r))},t=e.displayName||e.name;return r.displayName="withSplitSave(".concat(t,")"),r}},64569:(e,r,t)=>{"use strict";t.d(r,{E:()=>o,x:()=>s});var a=t(29901),n=t(88543),i=t(83504),o=(0,a.createContext)({isTicketAlertBannerShown:!1,setIsTicketAlertBannerShown:()=>{}}),s=e=>r=>{var[t,s]=(0,a.useState)(!1),l=(0,n.useSelector)(i.FD);return(0,a.useEffect)((()=>{s(!1)}),[l]),a.createElement(o.Provider,{value:{isTicketAlertBannerShown:t,setIsTicketAlertBannerShown:s}},a.createElement(e,r))}},27380:(e,r,t)=>{"use strict";t.d(r,{$u:()=>g,B9:()=>c,J7:()=>l,Jn:()=>h,LL:()=>v,LV:()=>u,M7:()=>p,Yw:()=>m,ev:()=>a,iy:()=>n,pt:()=>s,qB:()=>o,sl:()=>d,uX:()=>i,yp:()=>y});var a="home-page-form",n="app-banner",i="reassurance-banner",o="travel-safe-banner",s="coach-banner",l="checkout-journey-summary",c="checkout-payment-details",d="checkout-feedback",u="confirmation-cashback-1",p="confirmation-cashback-2",m="confirmation-journey-summary",g="customer-service",v="merchandising-broadcast-banner",h="search-again",y=function(e){return e.ASSERTIVE="assertive",e.POLITE="polite",e.OFF="off",e}({})},97626:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});const a={path:"/api/",children:{journeySearch:{path:"journey-search/"},journeySearchRevalidation:{path:"journey-search-revalidation/"},journeySearchPagination:{path:"journey-search-pagination/"},journeySearchEUInward:{path:"journey-search-eu-inward/"},journeySearchLegCallingPoints:{path:"journey-search-leg-calling-points/"},travelService:{path:"travel-service-information/"},getTransportModeValidity:{path:"transport-modes/"},cardPaymentForm:{sessions:"card-payment-form/sessions"},travelCard:{path:"travelCard"},coaches:{availability:"coaches/availability",search:"coaches/search",searchPayloadWebhook:"webhooks/coaches/:searchID"},rebookPredictions:{path:"rebook-predictions/"},bestFares:{path:"best-fares"},trainTimesFares:{path:"fares/train-times-fares"},bestFareFinderSummary:{path:"best-fare-finder-summary"},locations:{path:"locations"},basket:{root:"basket",deliveryOptions:"basket/delivery-options",temp:"basket/temp",quickBuy:"basket/quick-buy",priceSearchSelection:"basket/price-search-selection",merge:"basket/merge",toggleProduct:"basket/toggle-product",items:"basket/items",toggleBusinessInsurance:"basket/insurance/business",toggleCoreInsurance:"basket/insurance/core",toggleEssentialInsurance:"basket/insurance/essential"},confirmation:{path:"confirmation"},product:{root:"product",setDeliveryMethodAtocKiosk:"product/set-delivery-method/AtocKiosk",setDeliveryMethodAtocMTicket:"product/set-delivery-method/AtocMTicket",setDeliveryMethodAtocETicket:"product/set-delivery-method/AtocETicket",setDeliveryMethodEuTicket:"product/set-delivery-method/EuTicket",setDeliveryMethodAtocItsoSmartActionList:"product/set-delivery-method/AtocItsoSmartActionList",setDeliveryMethodAtocItsoSmartEcebsActionList:"product/set-delivery-method/AtocItsoSmartEcebsActionList",setDeliveryMethodAtocItsoSmartActionListCollectOnSmartphone:"product/set-delivery-method/AtocItsoSmartActionListCollectOnSmartphone",setDeliveryMethodNationalExpressETicket:"product/set-delivery-method/NationalExpressETicket",setDeliveryMethodAtocPostalDelivery:"product/set-delivery-method/AtocPostalDelivery",DEPRECATED_setDeliveryMethodAtocUkSecondClassPost:"product/set-delivery-method/AtocUkSecondClassPost",DEPRECATED_setDeliveryMethodAtocUkSpecialDelivery:"product/set-delivery-method/AtocUkSpecialDelivery",DEPRECATED_setDeliveryMethodAtocUkInternationalPost:"product/set-delivery-method/AtocUkInternationalPost",getReservationOffers:"product/get-reservation-offers",setReservationOffers:"product/set-reservation-offers",setExtras:"product/set-extras"},smartcard:{getSmartCardCollectionLocation:"collectionLocation",registerSmartCard:"register-smartcard",reactivateSmartCard:"reactivate-smartcard"},payment:{newCardPrepareV2:"payment/card/new/prepare/v2",savedCardPrepare:"payment/card/saved/prepare",cardUpdate:"payment/card/update",cardEnrol:"payment/card/enrol",cardValidateAndConfirm:"payment/card/validate-and-confirm",cardConfirm:"payment/card/confirm",cardSaveV2:"payment/card/save/v2",paypal:"payment/paypal",applePay:{root:"payment/applepay",createSession:"payment/applepay/create-session"},googlePay:"payment/googlepay",paymentOffers:"payment/payment-offers",zeroCharge:"payment/zerocharge",sofort:"payment/sofort",satispay:"payment/satispay",ideal:"payment/ideal",onAccount:"payment/onaccount",businessCard:"payment/businesscard"},experiments:{path:"wasabi/experiments"},auth:{path:"auth/",children:{status:{path:"status/"},decodeTokens:{path:"decode-tokens/"},loginGuest:{path:"login-guest/"},logout:{path:"logout/"}}},checkout:{path:"checkout/"},addresses:{path:"addresses/"},customer:{path:"customer/",children:{quickRegister:{path:"quick-register/"},updateConsent:{path:"update-consent/"},setVendorMarketingPreferencesNationalExpress:{path:"set-vendor-marketing-preferences/NationalExpressConsent"},decryptDetailsToken:{path:"decrypt-details-token/"},search:{path:"search/"}}},discountCardProduct:{setVendorMarketingPreference:"discount-card-product/set-vendor-marketing-preference"},appSettings:{path:"app-settings"},discountCards:{path:"discount-cards"},insurance:{getPersons:"insurance/get-persons",setPersons:"insurance/set-persons"},routePricingData:{search:"route-pricing-data/search"},referenceDataSearch:{path:"referencedatasearch"},passengers:{path:"passengers/",children:{delete:{path:"delete"},railcards:{path:"railcards"},traveldocuments:{path:"traveldocuments"}}},promoCodeDetails:{path:"promo-code/"},getIsNewCustomerByClientId:{path:e=>{var{clientId:r}=e;return"customer-status/by-client-id/".concat(r,"/isNewCustomer")}},getIsNewCustomerByCustomerId:{path:e=>{var{customerId:r}=e;return"customer-status/by-customer-id/".concat(r,"/isNewCustomer")}},gtmPurchaseTracking:{path:"gtm-purchase-tracking"},contentEngine:{path:"content-engine"}}}},31722:(e,r,t)=>{"use strict";t.d(r,{W:()=>a});var a={assetPath:"dweb",portal:t(60654).Portal.TRAINLINE,homePageRedirectUrl:"RedirectUrl",graphQLGatewayClientName:"DesktopWeb",managedGroupName:"TRAINLINE",usabillaEnabled:!1,bookingFeeEnabled:!1,oopsPageAnimationEnabled:!0,feedbackVerbiageEnabled:!0,favIcon:"",portalHeroImage:"",portalStaticContent:"",seasonsLink:"",bestFaresUkHomepageEnabled:!0,digitalRailcardBannersEnabled:!0,coachBannerUkHomepageEnabled:!0,routeSuggestionsUkHomepageEnabled:!0,seoContentUkHomepageEnabled:!0,travelSafeBannerEnabled:!0,cookieConsentEnabled:!0,cookiebotConsentEnabled:!1,insuranceEnabled:!0,coachEnabled:!0,payPalEnabled:!0,applePayEnabled:!0,googlePayEnabled:!0,webPushEnabled:!0,groupSaveEnabled:!0,allowedPRMConnections:[],allowedPRMCountries:[],appBannerImage:"https://static.trainlinecontent.com/content/WEB/images/tocs/crosscountryweb/hero.jpeg",webLoyaltyEnabled:!0,adsEnabled:!0,topWebLoyaltyHash:"",bottomWebLoyaltyHash:"",singleCTREnabled:!0,heroCaveatEnabled:!1,cmsPromoBannerEnabled:!0,appLinkApple:"",appLinkGoogle:"",googlePayEnvironment:"PRODUCTION",bestFareFinderEnabled:!0,directSearchEnabled:!1,rdsv2Enabled:!1,travelExtrasInfoEnabled:!1,partnershipsSectionEnabled:!0,euFiltersEnabled:!0,confirmationPageEnhancedHeaderEnabled:!0,ticketAlertForUnconfirmedTimeTableJourneys:!0,ticketsComingSoonLinkEnabled:!0,smartContentBannerEnabled:!0,enableRecommendedJourneysHomepage:!0,seatReservationsV2Enabled:!1,allowedCarrier:"urn:trainline:atoc:carrier:LM",carrierFilterEnabled:!1,enableEuResultsTabView:!0,eticketIconSequence:[],mTicketIconSequence:[],enableSplitSaveTickets:!0,enableRailcardRecommendBannerForSRP:!0,enableDiscountCardBenefitsBanner:!0,enableNewCJS:!0,enableUKMultifare:!0,enableTripCardV2:!0,enableTripCardV3:!0,enableEuPassengerPageSocialLogin:!1,enableEuPassengerPageSignin:!1,enableEuPassengerPageChangeSearchButton:!1,enableEuPassengerPageInvoiceFormTrenitalia:!1,enableAddJourneyLink:!0,enableAtocPriceCalendar:!0,shouldFetchSmartCollectionLocations:!1,smartLoadOnAppEnabled:!1,enableViewInAppSectionFromDisruption:!0,shouldShowAppPromotion:!0,shouldShowEticketSummary:!0,enableCO2Emissions:!1,enableEticketHelp:!0,enableEuTicketAccordionAlert:!0,enableEuWheelchairLinkMessage:!0,enableItaloPiuCode:!1,redirectToMarketingSite:!1,showPasswordConfirmation:!0,defaultCurrency:"GBP",tocFormatSelectTicketIcon:!0,enableLoaderImageWithCarrierLogo:!1,redirectToGenericSearchErrorPageEnabled:!1,defaultCountry:"GB",enableReferralBanner:!0,useNewLogoPath:!1,quickSignUpSignInEnabled:!0,hasDefaultPassengerDob:!1,sncfDigipassEnabled:!0,firstClassWheelchairWarning:!1,disableNegativeFares:!0,kioskCollectionReferenceBannerEnabled:!1,kioskHelpIconSequence:[],recommendedLabelRequired:!1,enableNewTermsAndConditionsContainer:!1,smartCardOnlyTxtEnabled:!0,enableBikesOnTrains:!0,skipTravelOptions:!1,enableKioskDOmethod:!0,enableIconsInSearchComparision:!1,enableNoBookingFeeDesktopBanner:!0,enableSeatReservationInConfirmation:!1,enableCarrierPrivacyPolicy:!1,enableEmailPerPassengerTicket:!1,enableNoBookingFeeBanner:!0,enableEUReservationsErrors:!1,enableSNCFFlexibilityMessage:!0,enableMultiSchemaInvoice:!1,supressWarningCodes:[],alwaysDisplayTravelOptionsPage:!1,enableChangeMarketingOptPlacement:!1,hasTocHorizontalSearchFormEnabled:!0,disableMissingRequiredQueryString:!1,enablePriceBreakdownModal:!1,enableCarrierLogosReassuranceMessage:!0,enableMismatchStationAtLegLevel:!1,transferRules:{},journeySelectionModes:{},restrictedReferrer:[],enableOnAccountPaymentOffer:!1,enableHorizontalSearchUk:!0,enableStrikeSafeNoticeInSearchResults:!0,enableReassuranceContentSRP:!0,enableSalesContext:!1,enableEUAddPassengerButton:!0,enableStationPickerEnhancements:!0,enableFlexibilityMessageOnSearchResultsPage:!0,showETicketLogo:!0,showRFSAndTreePlantedSection:!0,isSmartExForEuHomepageMerchSlotsEnabled:!1,isSmartExForUkHomepageMerchSlotsEnabled:!1,redirectToMarketingPageIfNotLoggedIn:!1,marketingPageUrl:"RedirectUrl",isAtocItsoSmartEcebsActionListEnabled:!1,enableShowPriceCalendarByDefault:!0,enableCustomHelpButton:!1,disableCommerceForGuest:!1,enableSlowerTrainsConfirmModal:!1,enableFirstClassUpgrade:!1,enableUSLocalisation:!1,enableRailcardAgeRestrictionCategoryEU:!1,enableOpenReturnChangesForDWeb:!0,passengerAssistanceEnabled:!1,enableGoHomePageLinkInConfirmation:!1,enableOpenReturnChangesForMWeb:!0,enableShowHeaderRailcard:!0,enableRealtimeForEuJourneys:!1,enableRealtimeForEuJourneysMobile:!1,enableGASSCurrencyDefault:!1,disableBurgerMenu:!1,enableDisplayFirstClassUpsell:!1,enableSustainabilityDashboard:!1,enablePromoCodeInfoBanners:!1,enableAddPlaneIconToAirportStations:!1,enableFirstTimeMigratedUserModal:!1,enableDestinationImage:!1,enableUkHomepageMerchSlots:!1,enableUKPricePrediction:!0,enableCarriersComparison:!0,enableAirportAwarenessHomepageForUS:!1,enablePlusbus:!1,enableCustomFieldsOptions:!1,enableRBRInSearch:!1,enableRPRRInformation:!1,disableEticketforBikeReservations:!1,enableTicketAlertsUK:!0,enableDirectTrainFilter:!0,enablePriceFilter:!0,redirectToMarketingSiteWhenLoginRequired:!1,enableCuratedTrips:!1,enableNativeAdsViaSmartExp:!1,enableHomepageOptimisationInbound:!1,enableBookInAdvanceBanner:!1,enableWebAccessibilityChanges:!1,enableAggregationBannerUkSRP:!0,enableNewTCsOnResults:!0,enableInsuranceV2:!1,enableTlbAdminRegistrationModel:!1,enableNewTCsOnCheckout:!0,enableClassComparisonModalOnDesktop:!0,enableHomepageHardNavigation:!1,enableNonHomepageRoutes:!0,enableHomepageRoutes:!0,enableMobileClassComparisonModal:!0,enableDynamicConfirmationMessages:!1,enablePriceBreakdownModalCJS:!1,enableCarriersFilter:!0,enableSearchAgain:!1,enableRedirectBanner:!1,enableTravelJournal:!1,enableBusinessCardPaymentOffer:!1,enableExclusiveJourney:!0}},32198:(e,r,t)=>{"use strict";t.d(r,{Do:()=>n,b3:()=>a});var a="urn:trainline:ntv:card:ItaloPiu",n=[a,"urn:trainline:trenitalia:card:CartaFreccia"]},10301:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>h,QE:()=>m});var a=t(97430),n=t(29901),i=t(88543),o=t(57110),s=t(1312);const l=function(e,r){var t=(0,n.useRef)(e);(0,n.useEffect)((()=>{t.current=e}),[e]),(0,n.useEffect)((()=>{if(r){var e=setInterval((()=>t.current()),r);return()=>clearInterval(e)}}),[r])};var c=t(50989),d=t(41876),u=["enableLux","enableGraphQLExampleServerSide","enableFrequentSearches","enabledFrequentSearchesLocales","enableFullPageAppBanner","enableFrAppInstallBanner","enablePriceMatchBannerAllowedCountryCodes","enableGoogleOneTapSignup","enableEuRailcards","enableUKStrikeHomepage","enableUKXmasHomepage","enableAlternativeHomepage","enableEverydaySavingsHomepage","enableAutoMigration","enablePromoCodes","enableG30Vouchers","enableCachedResults","disableTrenitaliaPreferentialTreatment","enableRecommendedJourney","enableGraphQLJourneySearchFetchInContext","enableSmartPriceBookingFlowUIMobileOnly","enableSmartPriceBookingFlowUIDesktopOnly","enableAtocPriceCalendar","enableEuPriceCalendar","enableTripCardV3","enableNewSearchHeaderStylingMobile","enableInfinitaBistroFare","enableStrikeSafeNoticeInSearchResults","enableGraphQLJourneySearch","enableOnDemandCoachSearch","enableShareableSearchForm","smartDOEnabled","enableNewInboundUser","enableSeasonTicketsPromoBannerHomepage","enableGASS","enableReturnMonthlyPriceCalendar","enableBookingComPunchout","enableDirectSearchRequest","enableESHomepageHeroImagePlacement"],p=e=>Object.keys(e).filter((e=>u.includes(e))).reduce(((r,t)=>(r[t]=e[t],r)),{}),[m,g]=(0,d.k)("clientAppSettings"),v=e=>{var[r,t]=n.useState(p(e)),d=(0,i.useDispatch)();return l((0,a.Z)((function*(){try{var e=yield(0,o.hO)();d((0,s.Vj)(e));var a=((e,r)=>!!u.find((t=>"boolean"==typeof e[t]||"boolean"==typeof r[t]?e[t]!==r[t]:JSON.stringify(e[t])!==JSON.stringify(r[t]))))(r,e);a&&t(p(e))}catch(e){e.message="Error fetching new appSettings for client: ".concat(e.message),(0,c.Ep)(e,{onLine:navigator.onLine})}})),3e5),r};const h=e=>{var{value:r,children:t}=e,a=v(r);return n.createElement(g.Provider,{value:a},t)}},75853:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s,x:()=>i});var a=t(31722),n=t(41876),[i,o]=(0,n.k)("clientConfig",a.W);const s=o},33810:(e,r,t)=>{"use strict";t.d(r,{G:()=>n,b:()=>i});var a=t(53066),n="customerMigration/".concat("customerMigration/LOGIN_SUCCESS"),i=(0,a.Z)(n)},14627:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>s,jM:()=>o,sR:()=>n});var a=t(29901),n=function(e){return e.BUSINESS_MIGRATION_MODAL="BUSINESS_MIGRATION_MODAL",e.LEISURE_MIGRATION_MODAL="LEISURE_MIGRATION_MODAL",e.VOUCHER_MIGRATION_MODAL="VOUCHER_MIGRATION_MODAL",e}({}),i=a.createContext({}),o=()=>a.useContext(i);const s=e=>{var{value:r,children:t}=e,[n,o]=a.useState(r),[s,l]=a.useState(!1),c=a.useCallback((()=>{l(!0)}),[]);return a.createElement(i.Provider,{value:{customerMigration:n,promoCodeModalClosed:s,setCustomerMigration:o,onPromoCodeModalClosedFetchCustomerMigrationDetails:c}},t)}},18332:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>v,zM:()=>g});var a=t(23198),n=t(48977),i=t(29901),o=t(96172),s=t(33695),l=t(71893),c=t(41876),d={isCuratedTripsVariant:s.zA.ENABLE_CURATED_TRIPS,isMerchandiseBannerVariant:s.zA.RAILCARD_FULLSCREEN_BANNER,isGoogleOneTapAutoShowMobileVariant:s.zA.ENABLE_GOOGLE_ONE_TAP_AUTO_SHOW_MOBILE,isSmartContentRecommendedLabellingVariant:s.zA.ENABLE_SMART_CONTENT_RECOMMENDED_JOURNEY_RESULTS,isMinMaxAgeVariant:s.zA.ENABLE_MIN_MAX_AGE_IN_SEARCH,isSmartContentWithPropensityScoreVariant:s.zA.ENABLE_SMART_CONTENT_WITH_PROPENSITY_SCORE,isFirstClassRecommendationsWithoutStationListVariant:s.zA.ENABLE_FIRST_CLASS_RECOMMENDATIONS_WITHOUT_STATION_LISTS,isGraphQlJourneySearchVariant:s.zA.ENABLE_GRAPHQL_JOURNEY_SEARCH,isSeatmapAutoScrollToFirstAvailableCarriageVariant:s.zA.ENABLE_SEATMAP_AUTO_SCROLL_TO_FIRST_AVAILABLE_CARRIAGE,isNewSearchHeaderStylingMobileVariant:s.zA.ENABLE_NEW_SEARCH_HEADER_STYLING_MOBILE,enableDirectSearchRequest:s.zA.ENABLE_DIRECT_SEARCH_REQUEST,isFirstClassUpsellModalEuVariant:s.zA.ENABLE_FIRST_CLASS_UPSELL_MODAL_FOR_EU,isEnabledLoginEmailPassengerDetails:s.zA.ENABLE_LOGIN_EMAIL_PASSENGER_DETAILS,enableReturnMonthlyPriceCalendar:s.zA.ENABLE_RETURN_MONTHLY_PRICE_CALENDAR,isEnabledPassengerDetailsUplift:s.zA.ENABLE_PASSENGER_DETAILS_UPLIFT},[u,p]=(0,c.k)("Experiments"),m=new Map,g=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldTrackExperiments:!0},t=u(),{pathname:s}=(0,o.TH)(),c=i.useCallback((e=>{e.forEach((e=>{var r;"experimentsDict"===e||null!==(r=m.get(s))&&void 0!==r&&r.includes(e)||(m.set(s,[...m.get(s)||[],e]),l.Z.experienced(t.experimentsDict,d[e]),(0,n.QH)(t.experimentsDict,[d[e]]))}))}),[null==t?void 0:t.experimentsDict,s]);i.useEffect((()=>{r.shouldTrackExperiments&&c(e)}),[...e,r.shouldTrackExperiments,c]);var p=i.useMemo((()=>e.reduce(((e,r)=>(e[r]=null==t?void 0:t[r],e)),{})),[...e,t]);return(0,a.Z)((0,a.Z)({},p),{},{dispatchExperimentExperienced:c})};const v=e=>{var r,{value:t,children:a}=e,[n]=i.useState((r=t,Object.entries(d).reduce(((e,t)=>{var a,[n,i]=t;return e[n]="$1"===(null===(a=r[i])||void 0===a?void 0:a.value),e}),{experimentsDict:r})));return i.createElement(p.Provider,{value:n},a)}},68023:(e,r,t)=>{"use strict";t.d(r,{OS:()=>i,ZP:()=>o});var a=t(29901),n=a.createContext({}),i=()=>a.useContext(n);const o=e=>{var{value:r,children:t}=e;return a.createElement(n.Provider,{value:{graphqlEndpoint:r}},t)}},10552:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o,d:()=>n});var a=t(41876),[n,i]=(0,a.k)("initialStaticState");const o=i},94575:(e,r,t)=>{"use strict";t.d(r,{YB:()=>p,ZP:()=>y,yM:()=>v});var a=t(23198),n=t(85924),i=t(29901),o=t(98184),s=t(96172),l=t(50989),c=t(4695),d=t(41876),u=t(75853),[p,m]=(0,d.k)("Intl");class g extends i.Component{render(){return i.createElement(m.Provider,{value:this.context.intl},this.props.children)}}(0,n.Z)(g,"contextTypes",{intl:o.intlShape});var v=e=>(0,l.Kh)({error:e},"missingTranslation"),h=e=>{var{portal:r}=(0,u.x)(),{pathname:n}=(0,s.TH)(),[o,d]=(0,i.useState)(e.messages),p=e.locale||c.ZW;return(0,i.useEffect)((()=>{(0,c.T1)(n)&&window.requestIdleCallback((()=>{t(69850)("./".concat(r,"/locales/").concat(p,"/asyncMessages.json")).then((e=>{d((r=>(0,a.Z)((0,a.Z)({},r),e.default)))})).catch((e=>{e.message="Failed to load ".concat(p," Intl strings: ").concat(e.message),(0,l.Ep)(e)}))}))}),[]),{locale:p,messages:o}};const y=e=>{var{value:r,children:t}=e,{locale:a,messages:n}=h(r);return i.createElement(o.IntlProvider,{locale:a,messages:n,onError:v},i.createElement(g,null,t))}},31795:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>P,Kl:()=>E});var a=t(29901),n=t(10301),i=t(18332),o=t(23198),s=t(88543),l=t(43755),c=t(96172),d=t(29171),u=t(68760),p=t(62331),m=t(92490),g=t(36762),v=t(42769),h=t(41876),y=t(10552),f=t(41344),[E,b]=(0,h.k)("JourneySearchVariables");const S=e=>{var{children:r}=e,t=(0,l.useRelayEnvironment)(),[h,E]=(0,a.useState)(void 0),{dpi:S,connections:T}=(0,y.d)(),{enableG30Vouchers:C,enableCachedResults:A,enableInfinitaBistroFare:I}=(0,n.QE)(),{isMinMaxAgeVariant:_}=(0,i.zM)(["isMinMaxAgeVariant"]),{mobile:P}=(0,f.zw)(),R=(0,s.useSelector)(m.Yu),k=(0,s.useSelector)(p.ic),N=(0,s.useSelector)(u.OK),{pathname:O,query:L}=(0,c.TH)(),x=a.useCallback((e=>{var r=e||L;if(void 0!==r){var a=r.searchId&&r.temporalDirection,n={isEurope:(0,d.Gg)(null==r?void 0:r.origin,null==r?void 0:r.destination,R),cardTypes:k,isGuest:N,dpi:S,enableG30Vouchers:C,isMinMaxAgeVariant:_},i=(0,g.Z)(t,r,n,{enableCachedResults:A,connections:T,isMobile:P,locationsCodeMapper:e=>{var r;return null===(r=R[e])||void 0===r?void 0:r.code},enableInfinitaBistroFare:I});if(!i)return console.error("getJourneySearchRelayParams failed");var{variables:s}=i;E({relayVariables:s.requestBody,searchParamExtras:(0,o.Z)({originId:r.origin,destinationId:r.destination},a&&{pagination:{searchId:r.searchId,temporalDirection:r.temporalDirection,transitDefinitionDirection:r.transitDefinitionDirection}})})}}),[t,L,A,C,_,S,R,k,N,T,P]),D=(0,o.Z)((0,o.Z)({},L),{},{selectedOutward:void 0,selectedInward:void 0,selectedTab:void 0}),w=O===v.L1.results()||O===v.L1.ticketOptions();return a.useEffect((()=>{w&&x()}),[w,JSON.stringify(D),x]),a.createElement(b.Provider,{value:{journeySearchVariables:h,updateJourneySearchVariables:x}},r)};var T=t(28300);const C=t(56113).Z;var[A,I]=(0,h.k)("JourneySearchRelay");const _=e=>{var r,{children:t}=e,{journeySearchVariables:n}=E(),{journeySearchQueryRef:i,loadJourneySearchQuery:o,paginationQueryRef:s,loadPaginationQuery:c}=(()=>{var[e,r]=(0,l.useQueryLoader)(T.Z),[t,a]=(0,l.useQueryLoader)(C);return{journeySearchQueryRef:e,loadJourneySearchQuery:r,paginationQueryRef:t,loadPaginationQuery:a}})(),d=a.useCallback((e=>{if(e.searchParamExtras){var{pagination:r}=e.searchParamExtras;if(r&&r.searchId&&r.temporalDirection&&r.transitDefinitionDirection){var t="inward"===r.transitDefinitionDirection?"INWARD":"OUTWARD",a="next"===r.temporalDirection?"NEXT":"PREVIOUS";return c({searchId:r.searchId,searchPaginationJourneyDirection:t,searchPaginationPageDirection:a},{fetchPolicy:"store-or-network"})}}o({requestBody:e.relayVariables},{fetchPolicy:"store-or-network"})}),[o,c]);return a.useEffect((()=>{n&&d(n)}),[n,d]),a.createElement(I.Provider,{value:{queryReference:null!=n&&null!==(r=n.searchParamExtras)&&void 0!==r&&null!==(r=r.pagination)&&void 0!==r&&r.temporalDirection?s:i,requestNewJourneySearch:d}},t)};const P=e=>{var{children:r}=e,{enableGraphQLJourneySearch:t,enableGraphQLJourneySearchFetchInContext:o}=(0,n.QE)(),{isGraphQlJourneySearchVariant:s}=(0,i.zM)(["isGraphQlJourneySearchVariant"]);return t&&s&&o?a.createElement(S,null,a.createElement(_,null,r)):a.createElement(S,null,r)}},44456:(e,r,t)=>{"use strict";t.d(r,{Z:()=>E});var a,n,i,o,s,l,c,d,u,p,m,g,v,h,y={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"locationIdsOrCodes"}],kind:"Fragment",metadata:null,name:"PrefetchLocationsQuery",selections:h=[{alias:null,args:[{kind:"Variable",name:"ids",variableName:"locationIdsOrCodes"}],concreteType:"v1_RDALocation",kind:"LinkedField",name:"v1_bulkLocations",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"aliases",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"connections",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"countryCode",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"locationType",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"v1_RDALocation",kind:"LinkedField",name:"parents",plural:!0,selections:[n,i,o,s,l,c,d,u,p,m,g={alias:null,args:null,kind:"ScalarField",name:"shortName",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null}],storageKey:null},g,v],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PrefetchLocationsQuery",selections:h},params:{id:"3db2acd0902079f0a3d9263a879009af",metadata:{},name:"PrefetchLocationsQuery",operationKind:"query",text:null}};y.hash="17cf9d0c3bf885772ca5bcd07e1bc4f7";const f=y;t(43755);const E=f},12273:(e,r,t)=>{"use strict";t.d(r,{B6:()=>y,y0:()=>g,pH:()=>f});var a=t(23198),n=t(64169),i=t(30272),o="frequentSearches",s=t(84025),l=t.n(s),c=e=>Object.values(e).reduce(((e,r)=>(null!=r&&r.code&&(e[r.code]=r),e)),{}),d=()=>{var e=n.I_.getItem(i.Fb),r=null==e?void 0:e[i.Px];return r?{from:c(r.from),to:c(r.to)}:void 0},u=e=>{var{timestamp:r,count:t}=e;return t>1&&0===l()().diff(l()(r),"year")},p=e=>{var{timestamp:r}=e;return 0===l()().diff(l()(r),"year")},m=(e,r)=>r.count-e.count||l()(r.timestamp).diff(l()(e.timestamp)),g=()=>{var e,r=(null===(e=n.I_.getItem(o))||void 0===e?void 0:e.filter(u))||[];return(null==r?void 0:r.length)>1?r:void 0},v=e=>e?Object.keys((0,a.Z)((0,a.Z)({},e.to),e.from)):[],h=e=>(null==e?void 0:e.reduce(((e,r)=>[...e,r.from,r.to]),[]))||[],y=()=>{var e=d(),r=g();return{recentLocations:e,locationIndexes:Array.from(new Set([...v(e),...h(r)]))}},f=(e,r)=>{var t,a=(null===(t=n.I_.getItem(o))||void 0===t?void 0:t.filter(p).sort(m))||[],i=a.findIndex((t=>{var{from:a,to:n}=t;return a===e&&n===r})),s={from:e,to:r,count:-1===i?1:a[i].count+1,timestamp:l()().toISOString()};-1===i&&(i=a.length>9?9:a.length),n.I_.setItem(o,[...a.slice(0,i),s,...a.slice(i+1)].sort(m))}},92937:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(29901),n=t(43755),i=t(12273),o=t(44456);const s=()=>{var[e,r]=(0,n.useQueryLoader)(o.Z);return a.useEffect((()=>{var{locationIndexes:e}=(0,i.B6)();e.length&&r({locationIdsOrCodes:e})}),[]),e||void 0}},48783:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p,k:()=>u});var a=t(29901),n=t(88543),i=t(64169),o=t(29433),s=t(53230),l=t(73009),c=t(1160),d=a.createContext({}),u=()=>a.useContext(d);const p=e=>{var{value:r,children:t}=e,[u,p]=(0,a.useState)(r||{isFetching:!1}),[m,g]=(0,a.useState)(""),v=(0,n.useSelector)(o.Zx),h=(0,n.useSelector)(s.C6);return(0,a.useEffect)((()=>{var e=(0,c.Bx)();v&&(i.pR.removeItem(l.x9),g(e))}),[v]),(0,a.useEffect)((()=>{h&&p(h)}),[h]),a.createElement(d.Provider,{value:{promoCodeState:u,promoCodeToValidate:m,promoCodesEnabled:v}},t)}},81652:(e,r,t)=>{"use strict";t.d(r,{B:()=>o,ZP:()=>l,vY:()=>i});var a=t(29901),n=t(41876),i="OPTI-2151",[o,s]=(0,n.k)("Request");const l=e=>{var{value:r,children:t}=e;return a.createElement(s.Provider,{value:r},t)}},63364:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>l,nH:()=>i});var a=t(29901),n=t(41876),[i,o]=(0,n.k)("ScrollIntoView"),s=()=>{var[e,r]=a.useState(!1);return[e,()=>{e||r(!0)}]};const l=e=>{var{children:r}=e,t=s();return a.createElement(o.Provider,{value:t},r)}},69138:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(23198),n=t(60654),i=t(10552);const o=()=>{var{env:e}=(0,i.d)();return(0,a.Z)((0,a.Z)({},e),{},{isProd:(null==e?void 0:e.ttlEnvironmentType)===n.TtlEnvironmentType.PROD})}},9679:(e,r,t)=>{"use strict";t.d(r,{F:()=>a});var a=function(e){return e.TRUE="true",e.FALSE="false",e}({})},73009:(e,r,t)=>{"use strict";t.d(r,{CS:()=>N,Ct:()=>l,EL:()=>E,F6:()=>A,Fu:()=>o,Jf:()=>d,Ko:()=>i,O$:()=>_,O_:()=>y,Q2:()=>k,Rb:()=>P,SJ:()=>L,W7:()=>T,Yi:()=>v,a4:()=>C,dD:()=>p,eV:()=>S,e_:()=>c,fQ:()=>I,i1:()=>b,ih:()=>R,jF:()=>D,jR:()=>x,kh:()=>s,o0:()=>g,pf:()=>m,rz:()=>f,tv:()=>u,wl:()=>h,x9:()=>O,y$:()=>n});var a=t(33695),n="context_id",i="context_alias_id",o="currency_code",s="platform",l="pref_lang",c="AffiliateCode",d="acid",u="cxtrad-id",p="p_optOut",m="dm_tl_debug",g="tl_smartex_objective",v="tl_smartex_debug",h="".concat(a.mr.TANGO,"-1989"),y="".concat(a.mr.TANGO,"-2871"),f=("".concat(a.mr.ANCIL,"-1003"),"eu_plat_user"),E="eu_migrated",b="eu_migration_prompted",S="login_to_migration",T="".concat(a.mr.TANGO,"-6611"),C="".concat(a.mr.EUCRO,"-36"),A="".concat(a.mr.EUCRO,"-288"),I="mwAppBannerClosed",_="mwAppBannerDismissCount",P="enableGoogleOneTapSignup",R="enableNewRegisterSignInForm",k="enablePromoCodes",N="promoCodeValidated",O="promoCodeRedirect",L="disableTrustPilot",x="tlbUserSuccessfullyRegistered",D="tlbUserSuccessfullyOnboarded"},1160:(e,r,t)=>{"use strict";t.d(r,{BI:()=>g,CM:()=>T,gG:()=>C,HI:()=>I,BD:()=>f,MU:()=>y,QB:()=>E,q3:()=>x,V2:()=>b,cy:()=>N,pu:()=>v,Q1:()=>u,o4:()=>h,OY:()=>k,at:()=>p,_z:()=>D,Wp:()=>m,rc:()=>R,RP:()=>A,_T:()=>L,o1:()=>_,Bx:()=>P,gJ:()=>S,sY:()=>O});var a=t(28580),n=t(84025),i=t.n(n),o=(t(71695),t(64169)),s=t(16558),l=t(73009),c=t(9679),d=function(e){return e.IOS="ios",e.ANDROID="android",e}({}),u=()=>"1"===o.Dr.getItem(l.W7),p=["true","1"].includes(o.Dr.getItem(l.rz)),m="1"===o.Dr.getItem(l.O_),g="1"===o.Dr.getItem(l.a4),v=()=>"1"===o.Dr.getItem(l.F6),h=()=>"true"===o.Dr.getItem(l.pf),y=()=>o.Dr.getItem(l.Ko),f=()=>o.Dr.getItem(l.Jf),E=()=>o.Dr.getItem(l.tv),b=()=>o.Dr.getItem(l.fQ)===c.F.TRUE;var S=e=>{var r=(Number.parseInt(o.Dr.getItem(l.O$),10)||0)+1;o.Dr.setItem(l.fQ,e,function(e){var r=Math.pow(2,e);return i()().add(r,"weeks").toDate()}(r)),o.Dr.setItem(l.O$,r.toString(),i()().add(1,"year").toDate())},T=()=>o.Dr.getItem(l.Rb),C=()=>o.Dr.getItem(l.ih),A=()=>o.Dr.getItem(a.GOOGLE_ONE_TAP_LOGGED_IN_COOKIE),I=()=>o.Dr.getItem(l.Q2),_=()=>o.pR.getItem(l.CS),P=()=>o.Dr.getItem(l.x9),R=()=>"true"===o.Dr.getItem(l.SJ),k=()=>"1"===o.Dr.getItem("ENABLE_EU_PRICE_CALENDAR"),N=()=>{var e=o.Dr.getItem(l.kh);return e===d.IOS||e===d.ANDROID},O=()=>"true"===o.Dr.getItem(l.dD),L=()=>!!O()&&(o.nP.removeItem(s.ZW),!0),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.o0;return o.Dr.getItem(e)},D=()=>"true"===o.Dr.getItem(l.Yi)},77378:(e,r,t)=>{"use strict";t.r(r),t.d(r,{CHECKOUT_PAY_NOW:()=>S,CHECKOUT_READY:()=>a,CONFIRMATION_READY:()=>f,DATA_IS_EUROPE:()=>N,DELIVERY_OPTIONS_CLICK_CONTINUED:()=>y,DELIVERY_OPTIONS_READY:()=>i,HOME_PAGE_CLICK_SEARCH:()=>s,HOME_READY:()=>o,LOGIN_CLICK_SIGN_IN:()=>b,LOGIN_READY:()=>E,OPTIONS_READY:()=>n,PAGE_CHECKOUT:()=>T,PAGE_CONFIRMATION:()=>R,PAGE_DELIVERY_OPTIONS:()=>C,PAGE_HOME:()=>I,PAGE_LOGIN:()=>k,PAGE_OPTIONS:()=>A,PAGE_RESULTS:()=>_,PAGE_TRAVEL_OPTIONS:()=>P,RESULT_PAGE_HSF_CLICK_SEARCH:()=>l,RESULT_PAGE_JOURNEYS_SELECTED:()=>c,RESULT_PAGE_JOURNEY_AUTO_CLICKED:()=>u,RESULT_PAGE_JOURNEY_CLICKED:()=>d,SEARCH_RESULTS_ERROR:()=>v,SEARCH_RESULTS_READY:()=>g,SPA_LOADED:()=>h,TRAVEL_OPTIONS_CLICK_CONTINUE:()=>m,TRAVEL_OPTIONS_READY:()=>p});var a="CheckoutReady",n="OptionsReady",i="DeliveryOptionsReady",o="HomeReady",s="HomePageClickSearch",l="ResultPageHsfClickSearch",c="ResultPageJourneySelected",d="ResultPageJourneyClicked",u="ResultPageJourneyAutoClicked",p="TravelOptionsReady",m="TravelOptionsClickContinue",g="SearchResultsReady",v="SearchResultsError",h="SpaLoaded",y="DeliveryOptionsClickContinue",f="ConfirmationReady",E="LoginReady",b="LoginClickSignIn",S="CheckoutPayNow",T="page.checkout",C="page.delivery-options",A="page.options",I="page.home",_="page.results",P="page.travel-options",R="page.confirmation",k="page.login",N="data.is-europe"},78524:(e,r,t)=>{"use strict";t.d(r,{Ai:()=>a.PAGE_DELIVERY_OPTIONS,Bp:()=>a.SPA_LOADED,Cf:()=>a.SEARCH_RESULTS_ERROR,EU:()=>a.CHECKOUT_READY,Fg:()=>a.RESULT_PAGE_HSF_CLICK_SEARCH,J6:()=>a.RESULT_PAGE_JOURNEY_CLICKED,NI:()=>a.OPTIONS_READY,OZ:()=>a.CHECKOUT_PAY_NOW,R3:()=>a.PAGE_CONFIRMATION,SO:()=>a.DATA_IS_EUROPE,Tu:()=>n,Tw:()=>a.LOGIN_CLICK_SIGN_IN,W5:()=>a.SEARCH_RESULTS_READY,Xo:()=>i,YJ:()=>a.HOME_PAGE_CLICK_SEARCH,ZM:()=>a.RESULT_PAGE_JOURNEY_AUTO_CLICKED,_t:()=>a.LOGIN_READY,aN:()=>a.PAGE_LOGIN,aQ:()=>a.TRAVEL_OPTIONS_READY,bP:()=>a.PAGE_RESULTS,bn:()=>a.RESULT_PAGE_JOURNEYS_SELECTED,cN:()=>a.DELIVERY_OPTIONS_CLICK_CONTINUED,fi:()=>a.DELIVERY_OPTIONS_READY,he:()=>a.HOME_READY,js:()=>a.PAGE_OPTIONS,n:()=>a.PAGE_HOME,p1:()=>a.TRAVEL_OPTIONS_CLICK_CONTINUE,qO:()=>a.CONFIRMATION_READY,r3:()=>a.PAGE_TRAVEL_OPTIONS,zS:()=>a.PAGE_CHECKOUT});var a=t(77378),n=new Set([void 0,...Object.values(a)]),i=new Set([a.HOME_PAGE_CLICK_SEARCH,a.RESULT_PAGE_HSF_CLICK_SEARCH,a.RESULT_PAGE_JOURNEY_CLICKED])},10517:(e,r,t)=>{"use strict";t.d(r,{X:()=>a});var a=function(e){return e.EUROSTAR="eurostar",e.OUIGO="ouigo",e.TRENITALIA="trenitalia",e.ITALO="italo",e.SNCF="sncf",e.TRENORD="trenord",e.RENFE="renfe",e.DB="db",e.ILSA="ilsa",e}({})},97016:(e,r,t)=>{"use strict";t.d(r,{G:()=>a});var a=function(e){return e.CHANGE_SEARCH="CHANGE_SEARCH",e.ADD_RAILCARD="ADD_RAILCARD",e.ADD_RETURN="ADD_RETURN",e.REFINE_PASSENGERS="REFINE_PASSENGERS",e}({})},57833:(e,r,t)=>{"use strict";t.d(r,{h:()=>a});var a=function(e){return e.PENDING="pending",e.SKELETON="skeleton",e.LOADED="loaded",e}({})},11330:(e,r,t)=>{"use strict";t.d(r,{uT:()=>n});var a=function(e){return e.ISSUED="issued",e.ISSUING="issuing",e.LOCKED="locked",e.OPEN="open",e.RESERVED="reserved",e}({}),n=function(e){return e.ATOMIC_TRANSACTION="atomic-transaction",e.DELIVERY_GROUPING="delivery-grouping",e.OPTIONAL_TRANSACTION="optional-transaction",e}({}),i=[a.LOCKED,a.RESERVED],o=[a.ISSUED,a.ISSUING];i.concat(o)},79389:(e,r,t)=>{"use strict";t.d(r,{E:()=>a,Z:()=>n});var a=function(e){return e.NONE="none",e.SOME="some",e.ALL="all",e}({}),n=function(e){return e.BUS="bus",e.NONRAIL="nonRail",e}({})},43691:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var a=function(e){return e.NRE="NRE",e.Marketing="MKT",e.GoogleTravelTransport="GTT",e.CuratedTrips="CT",e}({})},80110:(e,r,t)=>{"use strict";t.d(r,{U:()=>a});var a=function(e){return e.NONE="none",e.RESERVED="reserved",e.ON_TICKET="onTicket",e.OVERBOOKED="overbooked",e.AFTER_PAYMENT="afterPayment",e.CORRIDOR="corridor",e.CHILD_ON_LAP="childOnLap",e}({})},24087:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>n});var a=function(e){return e.TRAIN="train",e.COACH="coach",e}(a||{});const n=a;Object.freeze(Object.values(a).filter((e=>"string"==typeof e)))},80609:(e,r,t)=>{"use strict";t.d(r,{He:()=>a,X4:()=>n,h9:()=>i});var a=function(e){return e.FERRY="ferry",e.BUS="bus",e.TAXI="taxi",e.TRAM="tram",e.TRAMLINK="tramlink",e.RAPID_TRANSIT="rapidTransit",e.METRO="metro",e.WALK="walk",e.TRANSFER="transfer",e.TRAIN="train",e.UNDERGROUND="underground",e}({}),n=[a.FERRY,a.BUS,a.TAXI,a.TRAM,a.TRAMLINK],i=(a.WALK,[a.RAPID_TRANSIT,a.METRO,a.UNDERGROUND])},25792:(e,r,t)=>{"use strict";t.d(r,{B:()=>a,p:()=>n});var a=function(e){return e.DISRUPTION="disruption",e.NONRAIL="nonRail",e.UNDERGROUND="underground",e.REPLACEMENT_BUS="replacementBusService",e.NONE="none",e}({}),n=[a.NONRAIL,a.UNDERGROUND]},78178:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a,q:()=>n});var a="basketBeingPaidForIsGone",n="invalidApplePayEmail"},33695:(e,r,t)=>{"use strict";t.d(r,{$L:()=>i,mr:()=>a,zA:()=>n});var a=function(e){return e.DWEB="DWEB",e.TANGO="TANGO",e.ANCIL="ANCIL",e.OPTI="OPTI",e.EUCRO="EUCRO",e.UC="UC",e.SDDM="SDDM",e.MARGIN="MARGIN",e.RMROCKET="RMROCKET",e.ANA="ANA",e.CXOMNIBUS="cxomnibus",e}({}),n=function(e){return e.DISABLE_RDSV2_LEISURE="OPTI-2011",e.PAYMENT_SWITCHBOARD_2023="OPTI-1971",e.ENABLE_CJS_REASSURANCE_MESSAGE="OPTI-1013",e.ENABLE_NEW_SIGN_IN_FORM_UK_USER="OPTI-1037",e.ENABLE_SESSION_STORE_MANAGER="OPTI-1029",e.ENABLE_TOP_PAGE_BANNER="OPTI-1039",e.ENABLE_GOOGLE_ONE_TAP_AUTO_SHOW_MOBILE="OPTI-1040",e.ENABLE_UK_FLEXIBLE_TICKET_VISIBILITY_CJS="OPTI-1066",e.ENABLE_NEW_UK_PASSENGER_PICKER="OPTI-1098",e.ENABLE_UK_UPSELL_RAILCARDS_BANNER="OPTI-1092",e.ENABLE_HORIZONTAL_SEARCH_WIDGET_FOR_TOCS="OPTI-1160",e.ENABLE_HORIZONTAL_SEARCH_WIDGET_ATOC_UK="OPTI-1542",e.ENABLE_EU_FILTERS="OPTI-1166",e.ENABLE_PARTNERSHIPS_PROMO="OPTI-1176",e.ENABLE_EU_RESERVATION_ERRORS="OPTI-1137",e.ENABLE_SMART_CONTENT_RECOMMENDED_JOURNEY_RESULTS="OPTI-1218",e.ENABLE_SMART_CONTENT_WITH_PROPENSITY_SCORE="OPTI-1228",e.ENABLE_FIRST_CLASS_RECOMMENDATIONS_WITHOUT_STATION_LISTS="OPTI-1296",e.ENABLE_MOBILE_FIRST_CLASS_UPSELL_PROMO_BANNER="OPTI-1297",e.ENABLE_MIN_MAX_AGE_IN_SEARCH="OPTI-4242",e.RAILCARD_FULLSCREEN_BANNER="OPTI-1226",e.ENABLE_JOURNEY_COMBINER="OPTI-1239",e.DISABLE_COMBINATION_BLACKLIST_CACHE="OPTI-1434",e.OPTIMISATIONS_ON_JOURNEY_COMBINER="OPTI-1497",e.ENABLE_GRAPHQL_JOURNEY_SEARCH="OPTI-1245",e.ENABLE_WHOLE_NUMBER_PRICES="OPTI-1287",e.EU_SELECT_EXACT="OPTI-1309",e.ENABLE_JOURNEY_DETAILS_LINK_BLUE_COLOR_SRP="OPTI-1349",e.NO_BOOKING_FEES_DESKTOP_BANNER="OPTI-1394",e.NO_BOOKING_FEES_MOBILE_BANNER="OPTI-1393",e.ENABLE_SEATMAP_AUTO_SCROLL_TO_FIRST_AVAILABLE_CARRIAGE="OPTI-1430",e.ENABLE_NEW_SEARCH_HEADER_STYLING_MOBILE="OPTI-1558",e.ENABLE_PRICE_CAP_BANNER="OPTI-1520",e.ENABLE_SIMPLE_SEARCH_RESULTS_PAGE="OPTI-1567",e.ENABLE_REASSURANCE_CONTENT_SEARCH_RESULTS_PAGE="OPTI-1573",e.ENABLE_GREEN_HIGHLIGHT_CHEAPEST_FIRST_CLASS="OPTI-1580",e.ENABLE_UK_DWEB_CONTINUE_TO_PAY_STICKY_FOOTER="OPTI-1587",e.ENABLE_STRIKESAFE_NOTICE_IN_UK_SEARCH_RESULTS="OPTI-1603",e.ENABLE_RAILCARD_AGE_RESTRICTION_CATEGORY_EU="OPTI-1607",e.ENABLE_DIRECT_SEARCH_REQUEST="OPTI-1742",e.ENABLE_SUMMER_SALES_BANNER_FR="OPTI-1634",e.ENABLE_RAIL_CARD_MENU_NAVIGATION_BAR="OPTI-1616",e.ENABLE_OPEN_RETURN_CHANGES_FOR_MWEB="OPTI-1681",e.ENABLE_US_INBOUND_FEE_TEST="OPTI-1846",e.BOOKING_FEES_FOR_DE_AND_ROE="OPTI-1852",e.ENABLE_DPI_ITALIAN_AGE_RANGE="OPTI-1806",e.ENABLE_PRICE_CALENDAR_ON_UK_SRP="OPTI-1817",e.ENABLE_EU_AUTO_SEATMAP="OPTI-1853",e.EXPERIMENT_SEARCH_EARLIER_ITALY="OPTI-1837",e.ENABLE_DOWNLOAD_APP_BANNER_IN_NEW_FRENCH_HOMEPAGE="OPTI-2025",e.ENABLE_REDIRECT_BANNER="OPTI-1843",e.ENABLE_NATIVE_ADS_USING_SMART_EXP="OPTI-1912",e.ENABLE_CURATED_TRIPS="OPTI-1910",e.ENABLE_DOWNLOAD_APP_BANNER_IN_WEB_HOMEPAGE="OPTI-1894",e.ENABLE_FIRST_CLASS_UPSELL_MODAL_FOR_EU="OPTI-1931",e.ENABLE_HOMEPAGE_OPTIMISATION_INBOUND="OPTI-1955",e.ENABLE_BOOK_IN_ADVANCE_BANNER_UK="OPTI-2029",e.ENABLE_RBR_BANNER="OPTI-1941",e.ENABLE_NEW_TERMS_AND_CONDITIONS_ON_RESULTS="OPTI-1966",e.ENABLE_NEW_TERMS_AND_CONDITIONS_ON_CHECKOUT="OPTI-1992",e.ENABLE_LOGIN_EMAIL_PASSENGER_DETAILS="OPTI-2001",e.ENABLE_SPLITSAVE_OPTIMISATION="OPTI-2017",e.ENABLE_RETURN_MONTHLY_PRICE_CALENDAR="OPTI-2046",e.ENABLE_CLASS_COMPARISON_MODAL_ON_DESKTOP="OPTI-2051",e.ENABLE_SUB_FOOTER_FOR_INBOUND_USERS="OPTI-1973",e.ENABLE_MOBILE_CLASS_COMPARISON_MODAL="OPTI-2095",e.ENABLE_PASSENGER_DETAILS_UPLIFT="OPTI-2105",e.ENABLE_FEE_ENGINE_FOR_UK_IP="OPTI-2037",e.DISABLE_OTD_FEE_FOR_UK_IP="OPTI-2106",e.ENABLE_NEW_IT_HOMEPAGE="OPTI-2167",e.ENABLE_HOMEPAGE_HARD_NAVIGATION_PRELOAD="OPTI-2039",e.ENABLE_ROUNDED_PRICES_SHAREABLE_MONTHLY_CALENDAR="OPTI-2019",e.ENABLE_SALE_TAG_SEARCH_RESULTS="OPTI-2109",e.ENABLE_DWEB_RECOMMENDED_FOR_YOU_OLD_DESIGN_EU_HOMEPAGE="OPTI-2080",e.ENABLE_DWEB_RECOMMENDED_FOR_YOU_NEW_DESIGN_EU_HOMEPAGE="OPTI-2081",e.ENABLE_MWEB_RECOMMENDED_FOR_YOU_OLD_DESIGN_EU_HOMEPAGE="OPTI-2083",e.ENABLE_MWEB_RECOMMENDED_FOR_YOU_NEW_DESIGN_EU_HOMEPAGE="OPTI-2084",e.DECLUTTER_BOOKING_CONFIRMATION_PAGE="OPTI-2088",e.ENABLE_LIMITED_TICKETS_MWEB="OPTI-2093",e.ENABLE_SEARCH_AGAIN="OPTI-2068",e.ENABLE_PRICE_BREAKDOWN_MODAL="OPTI-2110",e.ENABLE_CARRIERS_FILTER="OPTI-2126",e.ENABLE_INCREASE_LIMIT_TICKETS_LEFT="OPTI-2115",e.ENABLE_HWEB="OPTI-2151",e.ENABLE_SHAREABLE_SEARCH_LOGGED_IN="OPTI-2161",e.ENABLE_DYNAMIC_TRAVEL_JOURNAL_ARTICLES="OPTI-2137",e.ENABLE_AUTO_APPLY_PROMO_CODES="OPTI-2160",e.ENABLE_EXCLUSIVE_JOURNEY="OPTI-2154",e.ENABLE_CHECKOUT_INSURANCE_PRELOADING="OPTI-2155",e.ENABLE_NEW_ES_HOMEPAGE="OPTI-2163",e.ENABLE_TRENITALIA_EXTRAS_DESCRIPTION="OPTI-2157",e}({}),i=(n.ENABLE_SESSION_STORE_MANAGER,n.ENABLE_TOP_PAGE_BANNER,n.ENABLE_NEW_UK_PASSENGER_PICKER,n.RAILCARD_FULLSCREEN_BANNER,n.ENABLE_GRAPHQL_JOURNEY_SEARCH,n.ENABLE_DIRECT_SEARCH_REQUEST,n.ENABLE_CURATED_TRIPS,n.ENABLE_NEW_IT_HOMEPAGE,n.ENABLE_HOMEPAGE_HARD_NAVIGATION_PRELOAD,n.ENABLE_SEARCH_AGAIN,n.ENABLE_MWEB_RECOMMENDED_FOR_YOU_OLD_DESIGN_EU_HOMEPAGE,n.ENABLE_MWEB_RECOMMENDED_FOR_YOU_NEW_DESIGN_EU_HOMEPAGE,n.ENABLE_NEW_ES_HOMEPAGE,n.ENABLE_SHAREABLE_SEARCH_LOGGED_IN,[n.ENABLE_FEE_ENGINE_FOR_UK_IP,n.DISABLE_OTD_FEE_FOR_UK_IP]);[n.PAYMENT_SWITCHBOARD_2023,n.ENABLE_JOURNEY_COMBINER,n.DISABLE_COMBINATION_BLACKLIST_CACHE,n.OPTIMISATIONS_ON_JOURNEY_COMBINER,n.ENABLE_SPLITSAVE_OPTIMISATION,n.ENABLE_DOWNLOAD_APP_BANNER_IN_WEB_HOMEPAGE].concat(i)},28300:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var a=t(53544);t(43755);const n=a.Z},53544:(e,r,t)=>{"use strict";t.d(r,{Z:()=>We});var a,n,i,o,s,l,c,d,u,p,m,g,v,h,y,f,E,b,S,T,C,A,I,_,P,R,k,N,O,L,x,D,w,Z,F,B,M,U,j,H,W,G,V,Y,K,z,J,q,Q,X,$,ee,re,te,ae,ne,ie,oe,se,le,ce,de,ue,pe,me,ge,ve,he,ye,fe,Ee,be,Se,Te,Ce,Ae,Ie,_e,Pe,Re,ke,Ne,Oe,Le,xe,De,we,Ze,Fe,Be,Me,Ue,je,He={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"requestBody"}],kind:"Fragment",metadata:null,name:"JourneySearchQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"requestBody",variableName:"requestBody"}],concreteType:null,kind:"LinkedField",name:"v1_search",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_SearchError",kind:"LinkedField",name:"errors",plural:!0,selections:[o={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchErrorTarget",kind:"LinkedField",name:"targets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribute",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null}],type:"v1_SearchErrorResponse",abstractKey:null},{kind:"InlineFragment",selections:[h={alias:null,args:null,concreteType:"v1_SearchDisruption",kind:"LinkedField",name:"disruptions",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"lastUpdated",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"legIds",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},l,{alias:null,args:null,concreteType:"v1_SearchDisruptionSource",kind:"LinkedField",name:"source",plural:!1,selections:[c,g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trainlineUrl",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"expiresAt",storageKey:null},c,{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"inwardJourneys",plural:!0,selections:Be=[f={alias:null,args:null,kind:"ScalarField",name:"bikeRestrictionStatus",storageKey:null},b={alias:null,args:null,concreteType:"v1_SearchCarrier",kind:"LinkedField",name:"carriers",plural:!0,selections:E=[o,c,g],storageKey:null},C={alias:null,args:null,concreteType:"v1_SearchCo2EmissionComparison",kind:"LinkedField",name:"co2EmissionComparison",plural:!1,selections:[{alias:null,args:null,concreteType:"v1_SearchEmissionComparisonItem",kind:"LinkedField",name:"carDiesel",plural:!1,selections:T=[S={alias:null,args:null,kind:"ScalarField",name:"co2EmissionInGrams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"percentageSavedByUsingBase",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchEmissionComparisonItem",kind:"LinkedField",name:"carPetrol",plural:!1,selections:T,storageKey:null},{alias:null,args:null,concreteType:"v1_SearchEmissionComparisonItem",kind:"LinkedField",name:"plane",plural:!1,selections:T,storageKey:null}],storageKey:null},S,A={alias:null,args:null,kind:"ScalarField",name:"distanceInKm",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"durationInMinutes",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"hash",storageKey:null},c,W={alias:null,args:null,concreteType:"v1_SearchLeg",kind:"LinkedField",name:"legs",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchPlatformInformation",kind:"LinkedField",name:"arrivalPlatformInformation",plural:!1,selections:P=[{alias:null,args:null,kind:"ScalarField",name:"platform",storageKey:null},d],storageKey:null},F={alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"arrivalStation",plural:!1,selections:Z=[R={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"aliases",storageKey:null},o,N={alias:null,args:null,kind:"ScalarField",name:"countryCode",storageKey:null},c,O={alias:null,args:null,kind:"ScalarField",name:"inventoryCode",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"locationType",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},g,{alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"parents",plural:!0,selections:[R,k,o,N,c,O,L,x,D,g,{alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"parents",plural:!0,selections:[R,k,o,N,c,O,L,x,D,g,w={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null}],storageKey:null},w],storageKey:null},w],storageKey:null},f,{alias:null,args:null,concreteType:"v1_SearchBrand",kind:"LinkedField",name:"brand",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"v1_SearchCarrier",kind:"LinkedField",name:"carrier",plural:!1,selections:E,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"co2EmissionInGramsPerPassenger",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchPlatformInformation",kind:"LinkedField",name:"departurePlatformInformation",plural:!1,selections:P,storageKey:null},B={alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"departureStation",plural:!1,selections:Z,storageKey:null},A,I,{alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"finalDestinations",plural:!0,selections:[R,k,o,N,c,O,L,x,D,g],storageKey:null},_,c,{alias:null,args:null,kind:"ScalarField",name:"isReservable",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"localArriveAt",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"localDepartAt",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchRealtime",kind:"LinkedField",name:"realtime",plural:!1,selections:[{alias:null,args:null,concreteType:"v1_SearchStopInfo",kind:"LinkedField",name:"destination",plural:!1,selections:H=[{alias:null,args:null,concreteType:"v1_SearchArrivalDepartureInfo",kind:"LinkedField",name:"arrival",plural:!1,selections:j=[v,{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchArrivalDepartureInfo",kind:"LinkedField",name:"departure",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCancelled",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchStopInfo",kind:"LinkedField",name:"origin",plural:!1,selections:H,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchReplacementServiceInfo",kind:"LinkedField",name:"replacementServiceInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isReplacementService",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reservationIsMandatory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"retailTrainIdentifier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timetableId",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchTransport",kind:"LinkedField",name:"transport",plural:!1,selections:[o,c,{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vehicleAttributes",storageKey:null}],storageKey:null},M,U,G={alias:null,args:null,concreteType:"v1_SearchOvertakenInfo",kind:"LinkedField",name:"overtakenInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isOvertaken",storageKey:null}],storageKey:null},V={alias:null,args:null,concreteType:"v1_SearchJourneyRealtime",kind:"LinkedField",name:"realtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchAlternative",kind:"LinkedField",name:"alternatives",plural:!0,selections:[Y={alias:null,args:null,concreteType:"v1_SearchAffiliation",kind:"LinkedField",name:"affiliation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"href",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},J={alias:null,args:null,concreteType:"v1_SearchExtra",kind:"LinkedField",name:"availableExtras",plural:!0,selections:z=[{alias:null,args:null,kind:"ScalarField",name:"availableQuantity",storageKey:null},c,p,{alias:null,args:null,concreteType:"v1_SearchExtraType",kind:"LinkedField",name:"type",plural:!1,selections:[o,s,K={alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},c,g],storageKey:null}],storageKey:null},ee={alias:null,args:null,concreteType:"v1_SearchBillableUnit",kind:"LinkedField",name:"billableUnits",plural:!0,selections:[q={alias:null,args:null,kind:"ScalarField",name:"correlationToken",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fareLegIds",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"originalPrice",plural:!1,selections:$=[Q={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currencyConversionApplied",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"passengerIds",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"price",plural:!1,selections:$,storageKey:null}],storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"comfortClassCorrelationToken",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"composition",storageKey:null},q,{alias:null,args:null,concreteType:"v1_SearchFare",kind:"LinkedField",name:"fares",plural:!0,selections:[ae={alias:null,args:null,concreteType:"v1_SearchAppliedDiscount",kind:"LinkedField",name:"appliedDiscount",plural:!1,selections:[o,c,{alias:null,args:null,kind:"ScalarField",name:"industryCode",storageKey:null}],storageKey:null},ne={alias:null,args:null,concreteType:"v1_SearchDiscountCard",kind:"LinkedField",name:"appliedDiscountCards",plural:!0,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},c,g],storageKey:null},F,ie={alias:null,args:null,concreteType:"v1_SearchAvailability",kind:"LinkedField",name:"availability",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"remaining",storageKey:null},v],storageKey:null},oe={alias:null,args:null,concreteType:"v1_SearchFareCategory",kind:"LinkedField",name:"category",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"classification",storageKey:null},o,c,g],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchDeliveryMethod",kind:"LinkedField",name:"deliveryMethods",plural:!0,selections:[se={alias:null,args:null,kind:"ScalarField",name:"availableFrom",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"fulfilmentDelayInSeconds",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"isAvailable",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}],storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"deliveryOptions",storageKey:null},B,me={alias:null,args:null,concreteType:"v1_SearchFareLeg",kind:"LinkedField",name:"fareLegs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"boardBeforeGuaranteedInMilliseconds",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchComfortClass",kind:"LinkedField",name:"comfortClass",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allowsComfortChoice",storageKey:null},o,s,c,{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},g],storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"legId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reservationType",storageKey:null},pe={alias:null,args:null,concreteType:"v1_SearchTravelClass",kind:"LinkedField",name:"travelClass",plural:!1,selections:[o,c,d],storageKey:null}],storageKey:null},ve={alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"fullPrice",plural:!1,selections:ge=[Q,X],storageKey:null},_,c,he={alias:null,args:null,concreteType:"v1_SearchNonContractualTerm",kind:"LinkedField",name:"nonContractualTerms",plural:!0,selections:[o],storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"numberOfPassengers",storageKey:null},fe={alias:null,args:null,concreteType:"v1_SearchFarePassenger",kind:"LinkedField",name:"passengers",plural:!0,selections:[K,c],storageKey:null},Ee={alias:null,args:null,concreteType:"v1_SearchPassengerType",kind:"LinkedField",name:"passengerTypes",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchAgeRestriction",kind:"LinkedField",name:"ageRestriction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lowerBound",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"upperBound",storageKey:null}],storageKey:null},o,c,g],storageKey:null},be={alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"price",plural:!1,selections:ge,storageKey:null},Se={alias:null,args:null,concreteType:"v1_SearchRouteRestriction",kind:"LinkedField",name:"routeRestriction",plural:!1,selections:[o,s,c],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchFareType",kind:"LinkedField",name:"type",plural:!1,selections:[o,{alias:null,args:null,concreteType:"v1_SearchFareCondition",kind:"LinkedField",name:"conditions",plural:!0,selections:[s,Te={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},c,Ce={alias:null,args:null,kind:"ScalarField",name:"isSecondaryFare",storageKey:null},g,Ae={alias:null,args:null,kind:"ScalarField",name:"pricingCategory",storageKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"shortDescription",storageKey:null},pe,Pe={alias:null,args:null,concreteType:"v1_SearchResponseValidityPeriod",kind:"LinkedField",name:"validityPeriod",plural:!1,selections:_e=[{alias:null,args:null,kind:"ScalarField",name:"inward",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outward",storageKey:null}],storageKey:null}],storageKey:null},Re={alias:null,args:null,concreteType:"v1_SearchValidityPeriod",kind:"LinkedField",name:"validUntil",plural:!1,selections:_e,storageKey:null},ke={alias:null,args:null,concreteType:"v1_SearchVoucher",kind:"LinkedField",name:"vouchers",plural:!0,selections:[o,c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchFlexibility",kind:"LinkedField",name:"flexibility",plural:!1,selections:[o,g],storageKey:null},_,c,Ne={alias:null,args:null,kind:"ScalarField",name:"isPartial",storageKey:null},Oe={alias:null,args:null,concreteType:"v1_SearchPrice",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"amountToPay",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"fullAmount",plural:!1,selections:$,storageKey:null}],storageKey:null},Le={alias:null,args:null,kind:"ScalarField",name:"requiresTravelTogether",storageKey:null},xe={alias:null,args:null,concreteType:"v1_SearchExtra",kind:"LinkedField",name:"selectedExtras",plural:!0,selections:z,storageKey:null},De={alias:null,args:null,concreteType:"v1_SearchTravellingGroup",kind:"LinkedField",name:"travellingGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"farePassengerIds",storageKey:null}],storageKey:null},we={alias:null,args:null,concreteType:"v1_SearchVendorInformation",kind:"LinkedField",name:"vendorInformation",plural:!1,selections:[o,s,g],storageKey:null}],storageKey:null},c,Ze={alias:null,args:null,kind:"ScalarField",name:"mixedLegComforts",storageKey:null}],storageKey:null},Fe={alias:null,args:null,concreteType:"v1_SearchUnsellableReason",kind:"LinkedField",name:"unsellableReason",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"longDescription",storageKey:null},Ie],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"outwardJourneys",plural:!0,selections:Be,storageKey:null},Me={alias:null,args:null,kind:"ScalarField",name:"requiresInwardCall",storageKey:null},Ue={alias:null,args:null,concreteType:"v1_SearchWarning",kind:"LinkedField",name:"warnings",plural:!0,selections:[o,m,{alias:null,args:null,concreteType:"v1_SearchWarningTarget",kind:"LinkedField",name:"targets",plural:!0,selections:[c,d],storageKey:null},d],storageKey:null}],type:"v1_SearchResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"JourneySearchQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v1_search",plural:!1,selections:[i,u,{kind:"InlineFragment",selections:[h,y,c,{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"inwardJourneys",plural:!0,selections:je=[f,b,C,S,A,I,_,c,W,M,U,G,V,{alias:null,args:null,concreteType:"v1_SearchSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchAlternative",kind:"LinkedField",name:"alternatives",plural:!0,selections:[Y,J,ee,re,te,q,{alias:null,args:null,concreteType:"v1_SearchFare",kind:"LinkedField",name:"fares",plural:!0,selections:[ae,ne,F,ie,oe,{alias:null,args:null,concreteType:"v1_SearchDeliveryMethod",kind:"LinkedField",name:"deliveryMethods",plural:!0,selections:[se,le,ce,de,c],storageKey:null},ue,B,me,ve,_,c,he,ye,fe,Ee,be,Se,{alias:null,args:null,concreteType:"v1_SearchFareType",kind:"LinkedField",name:"type",plural:!1,selections:[o,{alias:null,args:null,concreteType:"v1_SearchFareCondition",kind:"LinkedField",name:"conditions",plural:!0,selections:[s,Te,c],storageKey:null},c,Ce,g,Ae,Ie,pe,Pe],storageKey:null},Re,ke],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchFlexibility",kind:"LinkedField",name:"flexibility",plural:!1,selections:[o,g,c],storageKey:null},_,c,Ne,Oe,Le,xe,De,we],storageKey:null},c,Ze],storageKey:null},Fe],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"outwardJourneys",plural:!0,selections:je,storageKey:null},Me,Ue],type:"v1_SearchResponse",abstractKey:null}],storageKey:null}]},params:{id:"231c6711a88b0afde821912e19c613e7",metadata:{},name:"JourneySearchQuery",operationKind:"query",text:null}};He.hash="e67725418cf849de24f26c051527a0f8";const We=He},18086:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});const a="GQL Search Vars -"},73228:(e,r,t)=>{"use strict";t.d(r,{Z:()=>f});var a=t(41925);const n=e=>{var r;if(null!=e&&null!==(r=e.passengers)&&void 0!==r&&r.length)return e.passengers.reduce(((e,r)=>{var t,n=r.id||(0,a.v4)(),i=(null===(t=r.cards)||void 0===t?void 0:t.map((e=>({id:e.type,code:e.type,accountNumber:e.number,uuid:e.uuid}))).filter((e=>!!e)))||[];return e.discountCards[n]=i,e.passengers.push("".concat(r.dob.toString(),"|").concat(n)),e}),{passengers:[],discountCards:{}})};var i=t(23198),o=(e,r)=>!e.accountNumber||e.accountNumber.includes("*")||!r.prefix||e.accountNumber.startsWith(r.prefix)&&e.accountNumber.length>r.prefix.length?e.accountNumber:"".concat(r.prefix).concat(e.accountNumber);const s=(e,r,t,a)=>{if(!Object.keys(e||{}).length)return{passengers:r};if(!a)return null!=t&&t.length?{passengers:r,discountCards:null==t?void 0:t.map((r=>{var t=Object.values(e).find((e=>(null==e?void 0:e.id)===r));if(t)return{code:t.code}})).filter((e=>!!e))}:{passengers:r};var n=[];return{passengers:r.map((r=>{var t=r.id&&a[r.id];if(t){var s=t.map((r=>{var t=e[r.id];return{code:null==t?void 0:t.code,id:r.uuid,number:t?o(r,t):r.accountNumber}})).filter((e=>e.code));return n.push(...s),(0,i.Z)((0,i.Z)({},r),{},{cardIds:s.map((e=>e.id))})}return r})),discountCards:n}};const l=(e,r,t,n)=>{if(!n||!t||null==r||!r.length)return{passengers:e};var o=[];return{passengers:e.map((e=>{var t=r.filter((r=>{var{passengerId:t}=r;return t===e.id})).map((e=>{var{voucherCode:r}=e;return{id:(0,a.v4)(),code:r}}));return o.push(...t),(0,i.Z)((0,i.Z)({},e),{},{voucherIds:t.map((e=>{var{id:r}=e;return r}))})})),vouchers:o}};var c=t(31616),d=t(82758),u=t(81659),p=t(59838),m=t(75046),g=["dateOfBirth"],v=(e,r,t,n)=>{return null!=e&&e.length?r?e.map((e=>{var{id:r,dob:a}=(0,d.TC)(e,n,t);if(r)return{id:r,dateOfBirth:a,disabilityInformation:r?(0,m.jy)((0,u.AS)(n,r)):void 0};console.error("Missing ID, EU passengers must have an ID already")})).filter(p.v):(null===(i=(0,d.C8)(e))||void 0===i?void 0:i.map((e=>({id:(0,a.v4)(),dateOfBirth:e}))))||[]:[];var i},h=(e,r)=>{var{ADULT_DOB:t}=(0,d.Q9)();if(r&&t){var n=(0,d._W)(e,t);return{id:(0,a.v4)(),ageRange:{ageMax:n.ageMax,ageMin:n.ageMin}}}return{id:(0,a.v4)(),dateOfBirth:t}};const y=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,n=v(e,r,t,arguments.length>4?arguments[4]:void 0);return n.length?!a&&r||!t?n:n.map((e=>{var{dateOfBirth:t}=e,a=(0,c.Z)(e,g);if(t){var n=(0,d._W)(r,t);return(0,i.Z)((0,i.Z)({},a),{},{ageRange:{ageMax:n.ageMax,ageMin:n.ageMin}})}return a})):[h(r,t)]};const f=e=>{var{cardTypes:r,reqPassengers:t,passengerDiscountCards:a,storedDiscountCards:i,passengersVouchers:o,vouchersEnabled:c,isEurope:d,isMinMaxAgeVariant:u,dpiData:p,prm:m,isGuest:g}=e,v=t,h=i,f=d||!!p;if(p){var E=n(p);E&&(v=E.passengers,h=E.discountCards)}var b=y(v,f,u,g,m),{passengers:S,discountCards:T}=s(r,b,a,h),{passengers:C,vouchers:A}=l(S,o,f,c);return{passengers:C,discountCards:T,vouchers:A}}},75046:(e,r,t)=>{"use strict";t.d(r,{GO:()=>c,Vz:()=>i,jy:()=>s,nD:()=>u,ow:()=>p,qr:()=>o,rm:()=>l,v5:()=>d});var a=t(60654),n=t(80110),i=e=>(null==e?void 0:e.toUpperCase())||"SINGLE",o=e=>e===a.TransitDefinitionDateType.ARRIVE_BEFORE?"ARRIVEBEFORE":"LEAVEAFTER",s=e=>{if(null!=e&&e.length)return e.map((e=>{var r,{disabilityPassenger:t,disabilityCardLevel:n,wheelchairUser:i}=e;return{disabilityCardLevel:(r=n||a.DisabilityCardLevel.NONE,r.toUpperCase()),disabilityPassenger:t,wheelchairUser:i}}))},l=e=>e.map((e=>e.toUpperCase())),c=function(e){return e.ATOCKIOSK="AtocKiosk",e.ATOCMTICKET="AtocMTicket",e.ATOCETICKET="AtocETicket",e.SNCFETICKET="SNCFETicket",e.ATOCUKFIRSTCLASSPOST="AtocUkFirstClassPost",e.ATOCUKSECONDCLASSPOST="AtocUkSecondClassPost",e.ATOCUKINTERNATIONALPOST="AtocUKInternationalPost",e.ATOCUKSPECIALDELIVERY="AtocUKSpecialDelivery",e.ATOCITSOSMARTACTIONLIST="AtocItsoSmartActionList",e.ATOCITSOSMARTECEBSACTIONLIST="AtocItsoSmartEcebsActionList",e.ATOCITSOSMARTACTIONLISTCOLLECTONSMARTPHONE="AtocItsoSmartActionListCollectOnSmartphone",e.ATOCITSOSMARTACTIONLISTCOLLECTONPAYPOINT="AtocItsoSmartActionListCollectOnPaypoint",e}({}),d=e=>c[e],u=e=>{switch(null==e?void 0:e.toLowerCase()){case"none":return n.U.NONE;case"reserved":return n.U.RESERVED;case"onTicket":return n.U.ON_TICKET;case"overbooked":return n.U.OVERBOOKED;case"afterPayment":return n.U.AFTER_PAYMENT;case"corridor":return n.U.CORRIDOR;default:return}},p=e=>({DISABLEDPERSON:a.DisabilityCardLevel.DISABLED_PERSON,LEGALLYBLIND:a.DisabilityCardLevel.LEGALLY_BLIND,NONE:a.DisabilityCardLevel.NONE,THIRDPARTYNEEDED:a.DisabilityCardLevel.THIRD_PARTY_NEEDED}[e])},56113:(e,r,t)=>{"use strict";t.d(r,{Z:()=>we});var a,n,i,o,s,l,c,d,u,p,m,g,v,h,y,f,E,b,S,T,C,A,I,_,P,R,k,N,O,L,x,D,w,Z,F,B,M,U,j,H,W,G,V,Y,K,z,J,q,Q,X,$,ee,re,te,ae,ne,ie,oe,se,le,ce,de,ue,pe,me,ge,ve,he,ye,fe,Ee,be,Se,Te,Ce,Ae,Ie,_e,Pe,Re,ke,Ne,Oe,Le,xe,De={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"searchId"},{defaultValue:null,kind:"LocalArgument",name:"searchPaginationJourneyDirection"},{defaultValue:null,kind:"LocalArgument",name:"searchPaginationPageDirection"}],kind:"Fragment",metadata:null,name:"JourneySearchPaginationQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"journeyDirection",variableName:"searchPaginationJourneyDirection"},{kind:"Variable",name:"pageDirection",variableName:"searchPaginationPageDirection"},{kind:"Variable",name:"searchId",variableName:"searchId"}],concreteType:null,kind:"LinkedField",name:"v1_searchPagination",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"v1_SearchError",kind:"LinkedField",name:"errors",plural:!0,selections:[o={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchErrorTarget",kind:"LinkedField",name:"targets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribute",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null}],type:"v1_SearchErrorResponse",abstractKey:null},{kind:"InlineFragment",selections:[v={alias:null,args:null,concreteType:"v1_SearchDisruption",kind:"LinkedField",name:"disruptions",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"lastUpdated",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"legIds",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},l,g={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trainlineUrl",storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"expiresAt",storageKey:null},c,{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"inwardJourneys",plural:!0,selections:Ne=[y={alias:null,args:null,kind:"ScalarField",name:"bikeRestrictionStatus",storageKey:null},b={alias:null,args:null,concreteType:"v1_SearchCarrier",kind:"LinkedField",name:"carriers",plural:!0,selections:E=[o,c,f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},C={alias:null,args:null,concreteType:"v1_SearchCo2EmissionComparison",kind:"LinkedField",name:"co2EmissionComparison",plural:!1,selections:[{alias:null,args:null,concreteType:"v1_SearchEmissionComparisonItem",kind:"LinkedField",name:"carDiesel",plural:!1,selections:T=[S={alias:null,args:null,kind:"ScalarField",name:"co2EmissionInGrams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"percentageSavedByUsingBase",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchEmissionComparisonItem",kind:"LinkedField",name:"carPetrol",plural:!1,selections:T,storageKey:null},{alias:null,args:null,concreteType:"v1_SearchEmissionComparisonItem",kind:"LinkedField",name:"plane",plural:!1,selections:T,storageKey:null}],storageKey:null},S,A={alias:null,args:null,kind:"ScalarField",name:"distanceInKm",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"durationInMinutes",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"hash",storageKey:null},c,W={alias:null,args:null,concreteType:"v1_SearchLeg",kind:"LinkedField",name:"legs",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchPlatformInformation",kind:"LinkedField",name:"arrivalPlatformInformation",plural:!1,selections:P=[{alias:null,args:null,kind:"ScalarField",name:"platform",storageKey:null},d],storageKey:null},F={alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"arrivalStation",plural:!1,selections:Z=[R={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"aliases",storageKey:null},o,N={alias:null,args:null,kind:"ScalarField",name:"countryCode",storageKey:null},c,O={alias:null,args:null,kind:"ScalarField",name:"inventoryCode",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"locationType",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},f,{alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"parents",plural:!0,selections:[R,k,o,N,c,O,L,x,D,f,{alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"parents",plural:!0,selections:[R,k,o,N,c,O,L,x,D,f,w={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null}],storageKey:null},w],storageKey:null},w],storageKey:null},y,{alias:null,args:null,concreteType:"v1_SearchBrand",kind:"LinkedField",name:"brand",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"v1_SearchCarrier",kind:"LinkedField",name:"carrier",plural:!1,selections:E,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"co2EmissionInGramsPerPassenger",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchPlatformInformation",kind:"LinkedField",name:"departurePlatformInformation",plural:!1,selections:P,storageKey:null},B={alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"departureStation",plural:!1,selections:Z,storageKey:null},A,I,{alias:null,args:null,concreteType:"v1_SearchStation",kind:"LinkedField",name:"finalDestinations",plural:!0,selections:[R,k,o,N,c,O,L,x,D,f],storageKey:null},_,c,{alias:null,args:null,kind:"ScalarField",name:"isReservable",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"localArriveAt",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"localDepartAt",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchRealtime",kind:"LinkedField",name:"realtime",plural:!1,selections:[{alias:null,args:null,concreteType:"v1_SearchStopInfo",kind:"LinkedField",name:"destination",plural:!1,selections:H=[{alias:null,args:null,concreteType:"v1_SearchArrivalDepartureInfo",kind:"LinkedField",name:"arrival",plural:!1,selections:j=[g,{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchArrivalDepartureInfo",kind:"LinkedField",name:"departure",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCancelled",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchStopInfo",kind:"LinkedField",name:"origin",plural:!1,selections:H,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchReplacementServiceInfo",kind:"LinkedField",name:"replacementServiceInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isReplacementService",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reservationIsMandatory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"retailTrainIdentifier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timetableId",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchTransport",kind:"LinkedField",name:"transport",plural:!1,selections:[o,c,{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},f],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vehicleAttributes",storageKey:null}],storageKey:null},M,U,G={alias:null,args:null,concreteType:"v1_SearchOvertakenInfo",kind:"LinkedField",name:"overtakenInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isOvertaken",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchAlternative",kind:"LinkedField",name:"alternatives",plural:!0,selections:[V={alias:null,args:null,concreteType:"v1_SearchAffiliation",kind:"LinkedField",name:"affiliation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"href",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},z={alias:null,args:null,concreteType:"v1_SearchExtra",kind:"LinkedField",name:"availableExtras",plural:!0,selections:[Y={alias:null,args:null,kind:"ScalarField",name:"availableQuantity",storageKey:null},c,p,{alias:null,args:null,concreteType:"v1_SearchExtraType",kind:"LinkedField",name:"type",plural:!1,selections:[o,s,K={alias:null,args:null,kind:"ScalarField",name:"group",storageKey:null},c,f],storageKey:null}],storageKey:null},Q={alias:null,args:null,concreteType:"v1_SearchBillableUnit",kind:"LinkedField",name:"billableUnits",plural:!0,selections:[J={alias:null,args:null,kind:"ScalarField",name:"correlationToken",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fareLegIds",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"originalPrice",plural:!1,selections:q=[{alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"currencyConversionApplied",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"passengerIds",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"price",plural:!1,selections:q,storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"comfortClassCorrelationToken",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"composition",storageKey:null},J,{alias:null,args:null,concreteType:"v1_SearchFare",kind:"LinkedField",name:"fares",plural:!0,selections:[ee={alias:null,args:null,concreteType:"v1_SearchAppliedDiscount",kind:"LinkedField",name:"appliedDiscount",plural:!1,selections:[o,c,{alias:null,args:null,kind:"ScalarField",name:"industryCode",storageKey:null}],storageKey:null},re={alias:null,args:null,concreteType:"v1_SearchDiscountCard",kind:"LinkedField",name:"appliedDiscountCards",plural:!0,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},c,f],storageKey:null},F,te={alias:null,args:null,concreteType:"v1_SearchAvailability",kind:"LinkedField",name:"availability",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"remaining",storageKey:null},g],storageKey:null},ae={alias:null,args:null,concreteType:"v1_SearchFareCategory",kind:"LinkedField",name:"category",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"classification",storageKey:null},o,c,f],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchDeliveryMethod",kind:"LinkedField",name:"deliveryMethods",plural:!0,selections:[ne={alias:null,args:null,kind:"ScalarField",name:"availableFrom",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"fulfilmentDelayInSeconds",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"isAvailable",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}],storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"deliveryOptions",storageKey:null},B,de={alias:null,args:null,concreteType:"v1_SearchFareLeg",kind:"LinkedField",name:"fareLegs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"boardBeforeGuaranteedInMilliseconds",storageKey:null},{alias:null,args:null,concreteType:"v1_SearchComfortClass",kind:"LinkedField",name:"comfortClass",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allowsComfortChoice",storageKey:null},o,s,c,{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},f],storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"legId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reservationType",storageKey:null},ce={alias:null,args:null,concreteType:"v1_SearchTravelClass",kind:"LinkedField",name:"travelClass",plural:!1,selections:[o,c,d],storageKey:null}],storageKey:null},c,ue={alias:null,args:null,concreteType:"v1_SearchNonContractualTerm",kind:"LinkedField",name:"nonContractualTerms",plural:!0,selections:[o],storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"numberOfPassengers",storageKey:null},me={alias:null,args:null,concreteType:"v1_SearchFarePassenger",kind:"LinkedField",name:"passengers",plural:!0,selections:[K,c],storageKey:null},ge={alias:null,args:null,concreteType:"v1_SearchPassengerType",kind:"LinkedField",name:"passengerTypes",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchAgeRestriction",kind:"LinkedField",name:"ageRestriction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lowerBound",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"upperBound",storageKey:null}],storageKey:null},o,c,f],storageKey:null},ve={alias:null,args:null,concreteType:"v1_SearchRouteRestriction",kind:"LinkedField",name:"routeRestriction",plural:!1,selections:[o,s,c],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchFareType",kind:"LinkedField",name:"type",plural:!1,selections:[o,{alias:null,args:null,concreteType:"v1_SearchFareCondition",kind:"LinkedField",name:"conditions",plural:!0,selections:[s,he={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},c,ye={alias:null,args:null,kind:"ScalarField",name:"isSecondaryFare",storageKey:null},f,fe={alias:null,args:null,kind:"ScalarField",name:"pricingCategory",storageKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"shortDescription",storageKey:null},ce,Se={alias:null,args:null,concreteType:"v1_SearchResponseValidityPeriod",kind:"LinkedField",name:"validityPeriod",plural:!1,selections:be=[{alias:null,args:null,kind:"ScalarField",name:"inward",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outward",storageKey:null}],storageKey:null}],storageKey:null},Te={alias:null,args:null,concreteType:"v1_SearchValidityPeriod",kind:"LinkedField",name:"validUntil",plural:!1,selections:be,storageKey:null},Ce={alias:null,args:null,concreteType:"v1_SearchVoucher",kind:"LinkedField",name:"vouchers",plural:!0,selections:[o,c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchFlexibility",kind:"LinkedField",name:"flexibility",plural:!1,selections:[o,f],storageKey:null},_,c,Ae={alias:null,args:null,kind:"ScalarField",name:"isPartial",storageKey:null},Ie={alias:null,args:null,concreteType:"v1_SearchPrice",kind:"LinkedField",name:"price",plural:!1,selections:[{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"amountToPay",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"v1_SearchMoney",kind:"LinkedField",name:"fullAmount",plural:!1,selections:q,storageKey:null}],storageKey:null},_e={alias:null,args:null,kind:"ScalarField",name:"requiresTravelTogether",storageKey:null},Pe={alias:null,args:null,concreteType:"v1_SearchExtra",kind:"LinkedField",name:"selectedExtras",plural:!0,selections:[Y,p,{alias:null,args:null,concreteType:"v1_SearchExtraType",kind:"LinkedField",name:"type",plural:!1,selections:[o,K,c,f],storageKey:null}],storageKey:null}],storageKey:null},c,Re={alias:null,args:null,kind:"ScalarField",name:"mixedLegComforts",storageKey:null}],storageKey:null},ke={alias:null,args:null,concreteType:"v1_SearchUnsellableReason",kind:"LinkedField",name:"unsellableReason",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"longDescription",storageKey:null},Ee],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"outwardJourneys",plural:!0,selections:Ne,storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"requiresInwardCall",storageKey:null},Le={alias:null,args:null,concreteType:"v1_SearchWarning",kind:"LinkedField",name:"warnings",plural:!0,selections:[o,m,{alias:null,args:null,concreteType:"v1_SearchWarningTarget",kind:"LinkedField",name:"targets",plural:!0,selections:[c,d],storageKey:null},d],storageKey:null}],type:"v1_SearchResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"JourneySearchPaginationQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v1_searchPagination",plural:!1,selections:[i,u,{kind:"InlineFragment",selections:[v,h,c,{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"inwardJourneys",plural:!0,selections:xe=[y,b,C,S,A,I,_,c,W,M,U,G,{alias:null,args:null,concreteType:"v1_SearchSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:null,args:null,concreteType:"v1_SearchAlternative",kind:"LinkedField",name:"alternatives",plural:!0,selections:[V,z,Q,X,$,J,{alias:null,args:null,concreteType:"v1_SearchFare",kind:"LinkedField",name:"fares",plural:!0,selections:[ee,re,F,te,ae,{alias:null,args:null,concreteType:"v1_SearchDeliveryMethod",kind:"LinkedField",name:"deliveryMethods",plural:!0,selections:[ne,ie,oe,se,c],storageKey:null},le,B,de,c,ue,pe,me,ge,ve,{alias:null,args:null,concreteType:"v1_SearchFareType",kind:"LinkedField",name:"type",plural:!1,selections:[o,{alias:null,args:null,concreteType:"v1_SearchFareCondition",kind:"LinkedField",name:"conditions",plural:!0,selections:[s,he,c],storageKey:null},c,ye,f,fe,Ee,ce,Se],storageKey:null},Te,Ce],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchFlexibility",kind:"LinkedField",name:"flexibility",plural:!1,selections:[o,f,c],storageKey:null},_,c,Ae,Ie,_e,Pe],storageKey:null},c,Re],storageKey:null},ke],storageKey:null},{alias:null,args:null,concreteType:"v1_SearchJourney",kind:"LinkedField",name:"outwardJourneys",plural:!0,selections:xe,storageKey:null},Oe,Le],type:"v1_SearchResponse",abstractKey:null}],storageKey:null}]},params:{id:"959dbd82c345bae29ceb68fc2fd253ed",metadata:{},name:"JourneySearchPaginationQuery",operationKind:"query",text:null}};De.hash="688d709337bcd89d0c482c6d8ff008b4";const we=De},82073:(e,r,t)=>{"use strict";t.d(r,{E:()=>a});var a=function(e){return e.DEPART_AFTER="DEPARTAFTER",e.ARRIVE_BEFORE="ARRIVEBEFORE",e}({})},86003:(e,r,t)=>{"use strict";t.d(r,{I7:()=>o,Nd:()=>n,Nz:()=>p,RH:()=>u,TG:()=>d,UI:()=>c,YZ:()=>h,ZT:()=>m,d8:()=>g,h6:()=>y,jP:()=>i,r0:()=>a,yI:()=>v,yQ:()=>s});var a=function(e){return e.DEFAULT_RESERVATION_FAILED="reservationFailed",e}({}),n=Object.values(a),i=function(e){return e.QUOTA_NOT_AVAILABLE="travelProtocol.product.reservationFailedQuotaNotAvailable",e.MANDATORY_RESERVATION_FAILED="travelProtocol.product.mandatoryReservationFailed",e.DELIVERY_METHOD_NOT_SUPPORTED="travelProtocol.product.deliveryMethodNotSupported",e.BIKE_NOT_AVAILABLE="travelProtocol.product.bikeReservationFailed",e}({}),o=Object.values(i),s=function(e){return e.QUOTA_NOT_AVAILABLE="travelProtocol.reservationFailedQuotaNotAvailable",e.FARE_NO_LONGER_AVAILABLE="travelProtocol.reservationFailedFareNoLongerAvailable",e.UNSUPPORTED_DELIVERY_METHOD="travelProtocol.unsupportedDeliveryMethod",e.INVALID_FORMAT="travelProtocol.invalidFormat",e.GENERIC_BASKET_MERGE_FAILED="genericbasketMergeFailed",e.INCONSISTENT_DOB="travelProtocol.ageAndDateOfBirthMismatch",e.CARD_INFORMATION_INVALID="travelProtocol.cardInformationInvalid",e.CARD_ORIGIN_QUOTA_REACHED="travelProtocol.cardOriginQuotaReached",e.CARD_QUOTA_REACHED="travelProtocol.cardQuotaReached",e.CHOICE_NO_LONGER_AVAILABLE="travelProtocol.choiceNoLongerAvailable",e.JOURNEY_LEADTIME_MISSED="travelProtocol.journeyLeadTimeMissed",e.DUPLICATE_PASSENGER_NAMES="travelProtocol.duplicatePassengerNames",e.INVALID_LOYALTY_CARD_NUMBER="travelProtocol.invalidLoyaltyCardNumber",e.CARD_NOT_VALID_FOR_TRIP_DATE="travelProtocol.cardNotValidForTripDate",e.CARDHOLDER_INFORMATION_MISMATCH="travelProtocol.cardholderInformationMismatch",e.INVALID_PHONE_NUMBER="travelProtocol.invalidPhoneNumber",e.SEARCH_EXPIRED="travelProtocol.searchExpired",e.UNDERLYING_SYSTEM_ERROR="travelProtocol.underlyingSystemError",e.UNDERLYING_CARRIER_SYSTEM_ERROR="travelProtocol.underlyingCarrierSystemError",e.INVALID_VALUE="travelProtocol.invalidValue",e.LEAD_PASSENGER_MUST_BE_AN_ADULT="travelProtocol.leadPassengerMustBeAnAdult",e.INVALID_INVOICE_FIELDS="travelProtocol.dataRequirementsNotMet",e.INVALID_EMAIL_ADDRESS="customerService.invalidEmailAddress",e.SMARTCARD_VALIDITY_PERIOD_TOO_SHORT="travelProtocol.smartcard.validityPeriodTooShort",e.DATA_REQUIREMENTS_NOT_MET_STDS_SRV="travelProtocol.product.dataRequirementsNotMetSTDSrv",e}({}),l=function(e){return e.PRM_TOO_MANY="ItinerarySearch.FareSearch.Pacon.TooManyPrm",e.PRM_GUIDE_TOO_YOUNG="ItinerarySearch.FareSearch.Pacon.PrmGuideTooYoung",e.INVALID_CORPORATE="ItinerarySearch.FareSearch.Pacon.InvalidCorporateCode",e.INVALID_CORPORATE_FARE="ItinerarySearch.FareSearch.Pacon.InvalidCorporateFareCode",e}({}),c=function(e){return e.PRM_NOT_SUPPORTED="ItinerarySearch.FareSearch.Pacon.PrmNotSupported",e.CARD_INFORMATION_INVALID="ItinerarySearch.FareSearch.Pacon.CardInformationInvalid",e}({}),d=function(e){return e.SMARTCARD_VALIDITY_PERIOD_TOO_SHORT="travelProtocol.smartcard.validityPeriodTooShort",e.SMARTCARD_NOT_ACTIVE="travelProtocol.smartcard.notActive",e}({}),u=function(e){return e.GENERIC_ERROR="insurance.genericError",e}({}),p=function(e){return e.EXPIRED_PRODUCT="travelProtocol.expired",e}({}),m="travelProtocol.invoiceRequestFailed",g=function(e){return e.INVALID_EMAIL_VALUE="travelProtocol.invalidEmailValue",e.DUPLICATE_PASSENGER_DOCUMENTS="travelProtocol.duplicatePassengerDocuments",e}({}),v=Object.values(s),h=Object.values(c),y=Object.values(l)},94957:(e,r,t)=>{"use strict";t.d(r,{C:()=>a,V:()=>n});var a=["position","facilities","direction","carriageType","seatType","deck","requestedSeat","seatSelection"],n=function(e){return e.ACTIVE="Active",e.DELETED="Deleted",e}({})},19536:(e,r,t)=>{"use strict";t.d(r,{A6:()=>l,BB:()=>n,ZB:()=>s,aN:()=>o,bh:()=>c,sW:()=>i});var a=t(7739),n=[a.zK,a.nN,a.dF,a.CP,a.On,a.I9,a.KH,a.x2],i=[a.jF,a.xd,a.YU,a.BN,a.Ae,a.jB,a.wr],o=[{code:a.Rl,regExp:a.K2},{code:a.vF,regExp:a.kX}],s=[a.Ai,a.gl,a.jl,a.tS,a.Qp,a.lU],l=[a.qy,a.tE,a.Ch,a.EJ,a.rZ,a.TL,a.wT,a.cK],c=[a.Hm,a.Xs,a.TQ,a.A]},92254:(e,r,t)=>{"use strict";t.d(r,{z:()=>a});var a=function(e){return e[e.ANONYMOUS=0]="ANONYMOUS",e[e.GUEST=1]="GUEST",e[e.RECOGNISED=2]="RECOGNISED",e[e.LOGGED_IN=3]="LOGGED_IN",e}({})},31067:(e,r,t)=>{"use strict";t.d(r,{$:()=>a});var a=function(e){return e.CAR_PETROL="carPetrol",e.CAR_DIESEL="carDiesel",e.PLANE="plane",e}({})},97068:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var a=function(e){return e.EU="eu",e.ATOC="atoc",e.NATIONAL_EXPRESS_COACH="nationalExpressCoach",e}({})},7383:(e,r,t)=>{"use strict";t.d(r,{q:()=>i});var a=["GB","IM","JE"],n=["FR","IT","ES","DE"],i={UK_COUNTRY_CODES:a,EU_COUNTRY_CODES:n,COMBINED_COUNTRY_CODES:[...a,...n]}},8267:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var a=function(e){return e.Trainline="Trainline",e.OUIGO="OUIGO",e}({})},84182:(e,r,t)=>{"use strict";t.d(r,{I:()=>n,R:()=>a});var a=function(e){return e.COMBINED="combined",e.THROUGH="through",e}({}),n=function(e){return e.ACTIVE="active",e.PASSIVE="passive",e.TEMP="temp",e}({})},26067:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var a=function(e){return e.OUTWARD="OUTWARD",e.INWARD="INWARD",e}({})},2679:(e,r,t)=>{"use strict";t.d(r,{EJ:()=>n});var a=t(71695),n="undefined"!=typeof window&&window.__CLIENT_CONFIGURATION__&&window.__CLIENT_CONFIGURATION__.defaultCurrency?window.__CLIENT_CONFIGURATION__.defaultCurrency:null!={BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.DEFAULT_CURRENCY?{BROWSER:"true",NODE_ENV:"production",IS_INTERNAL:!0,ANALYTICS_VALIDATION:!1,W2A_DISABLED_IMPRESSIONS:void 0,RAVELIN_API_KEY:void 0}.DEFAULT_CURRENCY:a.OI.GBP},17038:(e,r,t)=>{"use strict";t.d(r,{Gl:()=>a,Ne:()=>n,hC:()=>i});var a=function(e){return e.Email="Email",e.AtocKiosk="AtocKiosk",e.AtocMTicket="AtocMTicket",e.AtocETicket="AtocETicket",e.AtocItsoSmartActionList="AtocItsoSmartActionList",e.AtocItsoSmartEcebsActionList="AtocItsoSmartEcebsActionList",e.AtocItsoSmartActionListCollectOnSmartphone="AtocItsoSmartActionListCollectOnSmartphone",e.CollectAtWindow="caw",e.AtocUkSecondClassPost="AtocUkSecondClassPost",e.AtocUkSpecialDelivery="AtocUKSpecialDelivery",e.AtocUkInternationalPost="AtocUKInternationalPost",e.InternationalPost="AtocInternationalPost",e.NationalExpressETicket="NationalExpressETicket",e.SNCFETicket="SNCFETicket",e.EurostarDirectETicket="EurostarDirectETicket",e.SNCFPrintYourOwn="SNCFPrintYourOwn",e.EUGeneric="EUGeneric",e.BenerailPrintYourOwn="BenerailPrintYourOwn",e.BenerailETicket="BenerailETicket",e.DBETicket="DBETicket",e.RenfeETicket="RenfeETicket",e.TrenitaliaETicket="TrenitaliaETicket",e.TrenitaliaTicketless="TrenitaliaTicketless",e.ILSAEticket="ILSAEticket",e.NTVTicketless="NTVTicketless",e.OUIGOETicket="OUIGOETicket",e.OBBETicket="OBBETicket",e.OBBPrintYourOwn="OBBPrintYourOwn",e.OBBOnDemandETicket="OBBOnDemandETicket",e.OBBOnDemandPrintYourOwn="OBBOnDemandPrintYourOwn",e.CFFETicket="CFFETicket",e.BusbudPrintYourOwn="BusbudPrintYourOwn",e.BusbudETicket="BusbudETicket",e.WestbahnETicket="WestbahnETicket",e.DistribusionPrintYourOwn="DistribusionPrintYourOwn",e.AtocDigitalRailcard="atocdigitalrailcard",e.SNCFRailcardPdf="a4f7d0f58427a7d8ec81bf55f5db439efc2e542c",e.EurailPassPdf="c92a78a8bd14de2f709d465cc486755f725fc168",e}({}),n={EMAIL:a.Email,KIOSK:a.AtocKiosk,MTICKET:a.AtocMTicket,ETICKET:a.AtocETicket,CAW:a.CollectAtWindow,DB_ETICKET:a.DBETicket,SECOND_CLASS_POST:a.AtocUkSecondClassPost,SPECIAL_DELIVERY:a.AtocUkSpecialDelivery,INTERNATIONAL_POST:a.AtocUkInternationalPost,NATIONAL_EXPRESS_E_TICKET:a.NationalExpressETicket,SNCF_ETICKET:a.SNCFETicket,EUROSTAR_DIRECT_ETICKET:a.EurostarDirectETicket,SNCF_PRINT_YOUR_OWN:a.SNCFPrintYourOwn,EU_GENERIC:a.EUGeneric,BENERAIL_PRINT_YOUR_OWN:a.BenerailPrintYourOwn,BENERAIL_ETICKET:a.BenerailETicket,RENFE_ETICKET:a.RenfeETicket,TRENITALIA_ETICKET:a.TrenitaliaETicket,TRENITALIA_TICKETLESS:a.TrenitaliaTicketless,ILSA_ETICKET:a.ILSAEticket,NTV_TICKETLESS:a.NTVTicketless,OUIGO_ETICKET:a.OUIGOETicket,OBB_ETICKET:a.OBBETicket,OBB_PRINT_YOUR_OWN:a.OBBPrintYourOwn,OBB_ONDEMAND_ETICKET:a.OBBOnDemandETicket,OBB_ONDEMAND_PRINT_YOUR_OWN:a.OBBOnDemandPrintYourOwn,CFF_ETICKET:a.CFFETicket,BUSBUD_PRINT_YOUR_OWN:a.BusbudPrintYourOwn,BUSBUD_ETICKET:a.BusbudETicket,WESTBAHN_ETICKET:a.WestbahnETicket,DISTRIBUSION_PRINT_YOUR_OWN:a.DistribusionPrintYourOwn,ATOC_DIGITAL_RAILCARD:a.AtocDigitalRailcard,SNCF_RAILCARD_PDF:a.SNCFRailcardPdf,EURAIL_PASS_PDF:a.EurailPassPdf,SMART_COLLECT_AT_STATION:a.AtocItsoSmartActionList,SMART_ECEB_COLLECT_AT_STATION:a.AtocItsoSmartEcebsActionList,SMART_COLLECT_ON_SMARTPHONE:a.AtocItsoSmartActionListCollectOnSmartphone},i=function(e){return e.AtocKiosk="urn:trainline:atoc:delmtd:atockiosk",e.AtocMTicket="urn:trainline:atoc:delmtd:atocmticket",e.AtocETicket="urn:trainline:atoc:delmtd:atoceticket",e.AtocUKSpecialDelivery="urn:trainline:atoc:delmtd:atocukspecialdelivery",e.AtocUkSecondClassPost="urn:trainline:atoc:delmtd:atocuksecondclasspost",e.AtocUKInternationalPost="urn:trainline:atoc:delmtd:atocukinternationalpost",e.AtocDynamicETicket="urn:trainline:atoc:delmtd:atocdynamiceticket",e.AtocUkFirstClassPost="urn:trainline:atoc:delmtd:atocukfirstclasspost",e.AtocItsoSmartActionList="urn:trainline:atoc:delmtd:atocitsosmartactionlist",e.AtocItsoSmartEcebsActionList="urn:trainline:atoc:delmtd:atocitsosmartecebsactionlist",e.AtocItsoSmartActionListCollectOnSmartphone="urn:trainline:atoc:delmtd:atocitsosmartactionlistcollectonsmartphone",e.AtocItsoSmartcardPost="urn:trainline:atoc:delmtd:atocitsosmartcardpost",e.AtocDigitalRailcard="urn:trainline:atoc:delmtd:digitalrailcard",e}({})},88246:(e,r,t)=>{"use strict";t.d(r,{y:()=>a});var a=function(e){return e.DEFAULT="default",e.SALE="sale",e}({})},26524:(e,r,t)=>{"use strict";t.d(r,{d$:()=>a,rF:()=>i,uS:()=>n});var a=function(e){return e.PENDING="Pending",e.ISSUING="Issuing",e.COMPLETE="Complete",e.FAILED="Failed",e.VOIDED="Voided",e.UNKNOWN="Unknown",e}({}),n=e=>void 0!==e&&e!==a.PENDING&&e!==a.COMPLETE&&e!==a.ISSUING,i=e=>e===a.PENDING||e===a.ISSUING},72471:(e,r,t)=>{"use strict";t.d(r,{Cl:()=>n,OZ:()=>i,Qz:()=>a,Y5:()=>o});var a=function(e){return e.COMPANJON="companjon",e.ERV="erv",e}({}),n=function(e){return e.COMPANJON="urn:trainline:companjoninsurance:vendor:COMPANJON",e.ERV="urn:trainline:ervinsurance:vendor:ERV",e}({}),i=function(e){return e.BASIC="basic",e.BUSINESS="business",e.CORE="core",e.ESSENTIAL="essential",e}({}),o=function(e){return e.core="insurance:core",e.business="insurance:business",e.essential="insurance:essential",e}({})},80911:(e,r,t)=>{"use strict";t.d(r,{Dx:()=>a,TO:()=>n,fn:()=>o,nj:()=>i});var a=function(e){return e.NON_REFUNDABLE="urn:trainline:noncon:gbl:nonrefundable",e.REFUNDABLE_90="urn:trainline:noncon:gbl:90refundable",e.REFUNDABLE_80="urn:trainline:noncon:gbl:80refundable",e.REFUNDABLE_60="urn:trainline:noncon:gbl:60refundable",e.REFUNDABLE_90_24H="urn:trainline:noncon:gbl:90refundable24hours",e.REFUNDABLE_50_24H="urn:trainline:noncon:gbl:50refundable24hours",e.REFUNDABLE_100_2DAYS="urn:trainline:noncon:gbl:100refundable2days",e.REFUNDABLE_10_FEE_24H="urn:trainline:noncon:trenitalia:10feerefundable24hours",e.REFUNDABLE_90_3DAYS="urn:trainline:noncon:trenitalia:90refundable3days",e.REFUNDABLE_5_FEE="urn:trainline:noncon:trenitalia:5feerefundable",e}({}),n=function(e){return e.NON_EXCHANGEABLE="urn:trainline:noncon:gbl:nonexchangeable",e.EXCHANGEABLE_100="urn:trainline:noncon:gbl:100exchangeable",e.EXCHANGEABLE_80="urn:trainline:noncon:gbl:80exchangeable",e.EXCHANGEABLE_100_DEPART_TIME="urn:trainline:noncon:gbl:100exchangeabledeparturetime",e.EXCHANGEABLE_100_24H="urn:trainline:noncon:gbl:100exchangeable24hours",e.EXCHANGEABLE_100_2DAYS="urn:trainline:noncon:gbl:100exchangeable2days",e.EXCHANGEABLE_50_3DAYS="urn:trainline:noncon:italo:50exchangeable3days",e.EXCHANGEABLE_100_BASE="urn:trainline:noncon:trenitalia:100exchangeablebase",e.EXCHANGEABLE_100_STANDARD="urn:trainline:noncon:trenitalia:100exchangeablestandard",e}({}),i=function(e){return e.ANIMALS="animals",e.AT_SEAT_SERVICE="atSeatService",e.BICYCLE="bicycle",e.BOARDING="boarding",e.CAFE_BAR="cafeBar",e.COMPARTMENT="compartment",e.DEPARTURE_LOUNGE="departureLounge",e.DRINKS="drinks",e.DRINKS_AND_SNACKS="drinksAndSnacks",e.EASY_ACCESS_PRM_SEAT="easyAccessPRMSeat",e.ELECTRIC_SOCKET="electricSocket",e.EXTRA_LEG_ROOM="extraLegroom",e.EXTRA_SEAT="extraSeat",e.FIRST_CLASS_COMFORT="firstClassComfort",e.GIFT="gift",e.HAND_LUGGAGE="handLuggage",e.LARGE_SEAT="largeSeat",e.LEATHER_SEATS="leatherSeats",e.LOCAL_TRANSPORT="localTransport",e.LUGGAGE="luggage",e.MEAL="meal",e.MEETING_AREA="meetingArea",e.PERSONALIZED_SERVICE="personalizedService",e.PRAM="pram",e.READING="reading",e.RESTAURANT="restaurant",e.SEAT_RESERVATION="seatReservation",e.SEAT_SELECTION_FROM_SEAT_MAP="seatSelection",e.SEAT_SELECTION_NO_SEAT_MAP="seatSelectionNoSeatmap",e.SMS="sms",e.STATION_FACILITIES="stationFacilities",e.TOILET="toilet",e.WIFI="wifi",e.QUIET_ZONE="quietZone",e}({}),o=function(e){return e.SPLIT_SAVE="splitSaveSavingAgainstThroughFare",e.RAILCARD="railcardSaving",e.CARRIER_VOUCHER="carrierVoucher",e}({})},63085:(e,r,t)=>{"use strict";t.d(r,{j:()=>a});var a=function(e){return e.P1D="P1D",e.P3D="P3D",e.P4D="P4D",e.P1M="P1M",e.OTHER="OTHER",e}({})},57839:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var a=function(e){return e.AVAILABLE="available",e.LIMITED="limited",e}({})},98323:(e,r,t)=>{"use strict";t.d(r,{w:()=>a});var a=function(e){return e.PLUSBUS="urn:trainline:atoc:localarea:plusbus",e}({})},62635:(e,r,t)=>{"use strict";t.d(r,{f:()=>a});var a=function(e){return e.STATION="station",e.STATION_GROUP="stationGroup",e.CITY="city",e}({})},63479:(e,r,t)=>{"use strict";t.d(r,{C:()=>a});var a=function(e){return e.BasketValidation="BasketValidation",e.ProductLocking="ProductLocking",e.Invoicing="Invoicing",e.FraudChecking="FraudChecking",e.PaymentCreation="PaymentCreation",e.Created="Created",e.Payment="Payment",e.Fulfilment="Fulfilment",e.Complete="Complete",e.Failed="Failed",e.Cancelled="Cancelled",e.PaymentPending="PaymentPending",e}({})},38949:(e,r,t)=>{"use strict";t.d(r,{I:()=>n,K:()=>a});var a=function(e){return e.PAID="Paid",e.FAILED="Failed",e.PENDING="Pending",e.PENDING_AUTHORISATION="PendingAuthorisation",e}({}),n=e=>e&&(e===a.PENDING||e===a.PENDING_AUTHORISATION)},3731:(e,r,t)=>{"use strict";t.d(r,{G:()=>a});var a=function(e){return e.PaymentMethodNotAvailableForCurrency="PaymentMethodNotAvailableForCurrency",e.PaymentMethodNotAvailableForTotalAmount="PaymentMethodNotAvailableForTotalAmount",e.BankIdentificationNumberInvalid="BankIdentificationNumberInvalid",e.CardNotSupported="CardNotSupported",e.PaymentMethodNotSupportedForProduct="PaymentMethodNotSupportedForProduct",e}({})},4237:(e,r,t)=>{"use strict";t.d(r,{M:()=>a});var a=function(e){return e.ALLOWED="allowed",e.ALLOWED_WITH_RESERVATION="allowedWithReservation",e.NOT_ALLOWED="notAllowed",e}({})},59076:(e,r,t)=>{"use strict";t.d(r,{$f:()=>a});var a=function(e){return e.valid="valid",e.notFound="notFound",e.notFoundPossibleSNCFCode="notFound.possibleSNCFCode",e.notStarted="notStarted",e.expired="expired",e.minimumSpendNotMet="minimumSpendNotMet",e.redeemed="redeemed",e.currencyInvalid="currencyInvalid",e.technicalError="technicalError",e.excludedVendorUsed="excludedVendorUsed",e.unknownValidationIssue="unknownValidationIssue",e.notNewCustomer="notNewCustomer",e.unexpectedError="unexpectedError",e.redemptionTotalLimitReached="redemptionTotalLimitReached",e.appOnly="appOnly",e.firstAppPurchase="firstAppPurchase",e.PromocodeHaveNotStarted="PromocodeHaveNotStarted",e}({})},28593:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var a=function(e){return e.HARD="hard",e.SOFT="soft",e}({})},68117:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var a=function(e){return e.READY_TO_DISPLAY="READY_TO_DISPLAY",e.NO_FARE_DISCOUNTS="NO_FARE_DISCOUNTS",e.APPLY_FARE_DISCOUNTS="APPLY_FARE_DISCOUNTS",e}({})},65033:(e,r,t)=>{"use strict";t.d(r,{H:()=>a,U:()=>n});var a=function(e){return e.STANDARD="urn:trainline:trenitalia:comfort:trenitalia.standard",e.PREMIUM="urn:trainline:trenitalia:comfort:trenitalia.premium",e.BUSINESS="urn:trainline:trenitalia:comfort:trenitalia.business",e.WORKING_AREA="urn:trainline:trenitalia:comfort:trenitalia.working_area",e.BUSINESS_AREA_SILENZIO="urn:trainline:trenitalia:comfort:trenitalia.business_area_silenzio",e.EXECUTIVE="urn:trainline:trenitalia:comfort:trenitalia.executive",e.SECOND_CLASS="urn:trainline:trenitalia:comfort:trenitalia.economy",e.FIRST_CLASS="urn:trainline:trenitalia:comfort:trenitalia.first",e.SMART="urn:trainline:ntv:comfort:ntv.smart",e.COMFORT="urn:trainline:ntv:comfort:ntv.smart_xl",e.PRIMA="urn:trainline:ntv:comfort:ntv.prima",e.CLUB_EXECUTIVE="urn:trainline:ntv:comfort:ntv.club",e.LOUNGE="urn:trainline:ntv:comfort:ntv.salotto",e.SEAT_NIGHT_TRAIN="urn:trainline:trenitalia:comfort:trenitalia.seat_night_train",e.ONE_BED_CABIN="urn:trainline:trenitalia:comfort:trenitalia.bed1",e.TWO_BED_CABIN="urn:trainline:trenitalia:comfort:trenitalia.bed2",e.THREE_BED_CABIN="urn:trainline:trenitalia:comfort:trenitalia.bed3",e.BERTH_4="urn:trainline:trenitalia:comfort:trenitalia.berth4",e.MORE="MORE",e}({}),n={"urn:trainline:trenitalia:comfort:trenitalia.standard":a.STANDARD,"urn:trainline:trenitalia:comfort:trenitalia.premium":a.PREMIUM,"urn:trainline:trenitalia:comfort:trenitalia.business":a.BUSINESS,"urn:trainline:trenitalia:comfort:trenitalia.working_area":a.WORKING_AREA,"urn:trainline:trenitalia:comfort:trenitalia.business_area_silenzio":a.BUSINESS_AREA_SILENZIO,"urn:trainline:trenitalia:comfort:trenitalia.executive":a.EXECUTIVE,"urn:trainline:trenitalia:comfort:trenitalia.economy":a.SECOND_CLASS,"urn:trainline:trenitalia:comfort:trenitalia.first":a.FIRST_CLASS,"urn:trainline:ntv:comfort:ntv.smart":a.SMART,"urn:trainline:ntv:comfort:ntv.smart_xl":a.COMFORT,"urn:trainline:ntv:comfort:ntv.prima":a.PRIMA,"urn:trainline:ntv:comfort:ntv.club":a.CLUB_EXECUTIVE,"urn:trainline:ntv:comfort:ntv.salotto":a.LOUNGE,"urn:trainline:trenitalia:comfort:trenitalia.seat_night_train":a.SEAT_NIGHT_TRAIN,"urn:trainline:trenitalia:comfort:trenitalia.bed1":a.ONE_BED_CABIN,"urn:trainline:trenitalia:comfort:trenitalia.bed2":a.TWO_BED_CABIN,"urn:trainline:trenitalia:comfort:trenitalia.bed3":a.THREE_BED_CABIN,"urn:trainline:trenitalia:comfort:trenitalia.berth4":a.BERTH_4}},28935:(e,r,t)=>{"use strict";t.d(r,{h:()=>a,o:()=>n});var a=function(e){return e.NON_FLEXIBLE="urn:trainline:flex:nonflexi",e.SEMI_FLEXIBLE="urn:trainline:flex:semiflexi",e.FLEXIBLE="urn:trainline:flex:flexi",e}({}),n={[a.NON_FLEXIBLE]:0,[a.SEMI_FLEXIBLE]:1,[a.FLEXIBLE]:2}},71893:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(50989),n=t(23198),i=t(85924),o="<unknown-version>",s="<unknown-variant>";class l{constructor(){(0,i.Z)(this,"experiences",{})}experienced(e,r){var t=null==e?void 0:e[r];t&&(this.experiences[r]=t),this.report("experimentsExperienced",this.toString())}toString(){return Object.entries(this.experiences).map((e=>{var[r,{version:t,value:a}]=e;return"".concat(r,"-").concat(t||o).concat(a||s)})).join(",")}concat(e){return(0,n.Z)((0,n.Z)({},this.experiences),e.experiences)}report(e,r){}}var c=new class extends l{report(e,r){a.qV&&(0,a.qV)(e,r)}reset(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.experiences=e}};"undefined"!=typeof window&&window.__EXPERIMENTS_EXPERIENCED__&&c.reset(window.__EXPERIMENTS_EXPERIENCED__);const d=c},59838:(e,r,t)=>{"use strict";t.d(r,{v:()=>a});var a=Boolean},41876:(e,r,t)=>{"use strict";t.d(r,{k:()=>n});var a=t(29901);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=a.createContext(r);return t.displayName="".concat(e,"Context"),[function(){var{allowNull:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.useContext(t);if(void 0!==n)return n;if(r)return null;throw new Error("".concat(e," Context must be used within a provider value"))},t]}},7041:(e,r,t)=>{"use strict";t.d(r,{CD:()=>i,K7:()=>o,Vg:()=>s,rm:()=>l});var a=t(84025),n=t.n(a),i=e=>n().parseZone(e).startOf("day").format("YYYY-MM-DD"),o=(e,r)=>n()(r).diff(e),s=e=>{var r=n().duration(e);return{days:r.days(),hours:r.hours(),minutes:r.minutes()}},l=(e,r)=>{var t=n()(e),a=n()(r);return t.isBefore(a)?-1:t.isAfter(a)?1:0}},57425:(e,r,t)=>{"use strict";t.d(r,{HW:()=>a,Lv:()=>n,s7:()=>o,sE:()=>i});var a=4,n=10,i=5,o=(e,r)=>{var t=5;return e||(t=r?n:a),t}},25453:(e,r,t)=>{"use strict";t.d(r,{BX:()=>a});var a=e=>null!=e},41024:(e,r,t)=>{"use strict";t.d(r,{Bm:()=>i,M0:()=>s,PQ:()=>o});var a=t(23198),n=(t(47320),t(86003)),i=(e,r)=>e?r?"".concat(e," ").concat(r):"".concat(e):null,o=e=>{var{passengerIndex:r,cardTypeId:t,passengerDetails:a}=e;return a&&a[r]&&a[r].documents&&a[r].documents.findIndex((e=>e.cardType.id===t))},s=(e,r)=>r&&e&&r.length&&e.length?r.reduce(((r,t)=>{var i=e.find((e=>t.source&&t.source.reference.id&&t.source.reference.id===e.id));return i&&t.code===n.yQ.CARDHOLDER_INFORMATION_MISMATCH?(0,a.Z)((0,a.Z)({},r),{},{cardInfoMismatch:[...r.cardInfoMismatch,t]}):i&&t.code===n.yQ.CARD_NOT_VALID_FOR_TRIP_DATE?(0,a.Z)((0,a.Z)({},r),{},{cardNotValidForTripDate:[...r.cardNotValidForTripDate,t]}):i&&[n.yQ.INVALID_LOYALTY_CARD_NUMBER,n.yQ.CARD_INFORMATION_INVALID,n.yQ.CARD_NOT_VALID_FOR_TRIP_DATE].includes(t.code)?(0,a.Z)((0,a.Z)({},r),{},{invalidCardNumber:[...r.invalidCardNumber,t]}):(0,a.Z)((0,a.Z)({},r),{},{otherErrors:[...r.otherErrors,t]})}),{cardInfoMismatch:[],invalidCardNumber:[],cardNotValidForTripDate:[],otherErrors:[]}):{cardInfoMismatch:[],invalidCardNumber:[],cardNotValidForTripDate:[],otherErrors:r||[]}},33243:(e,r,t)=>{"use strict";t.d(r,{_:()=>a});var a=(e,r)=>e&&e.offers&&r&&Object.keys(e.offers).filter((t=>e.offers[t].cardToken===r)).map((r=>e.offers[r]))[0]||void 0},53638:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(23198),n=t(67905);const i={parseQueryString:e=>(0,n.parse)(e),stringifyQuery:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.stringify)(e,(0,a.Z)({arrayFormat:"brackets"},r))}}},4695:(e,r,t)=>{"use strict";t.d(r,{DM:()=>p,Qv:()=>u,R0:()=>v,Sl:()=>y,T1:()=>h,ZW:()=>o,c:()=>m,f6:()=>g,vK:()=>d});var a=t(71695),n=t(42769),i=t(73009),o=a.vi.ENGLISH,s=a.Uj[o],l=[a.Vd.FRENCH,a.Vd.SPANISH,a.Vd.ITALIAN,a.Vd.GERMAN,a.Vd.NORWEGIAN,a.Vd.SWEDISH,a.Vd.DANISH,a.Vd.DUTCH,a.Vd.BRAZILIANPORTUGUESE,a.Vd.SWISSGERMAN,a.Vd.SWISSFRENCH,a.Vd.SWISSITALIAN,a.Vd.PORTUGUESE,a.Vd.AUSTRIANGERMAN],c=(a.Vd.SPANISH,a.Vd.ITALIAN,a.Vd.ENGLISH,Object.values(a.Vd).filter((e=>e!==a.Vd.ENGLISH))),d=e=>l.includes(a.Uj[e]),u=e=>a.Vd.ENGLISH===a.Uj[e],p=e=>Object.values(a.Vd).includes(e)?e:a.Vd.ENGLISH,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.Vd.ENGLISH;return p(e)!==a.Vd.ENGLISH},g=e=>{return r=e&&e[i.Ct]||s,a.Tm[p(r)];var r},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return c.includes(e.replace(/\//g,""))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e===n.L1.home()||v(e)},y=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")===n.L1.login()}},10011:(e,r,t)=>{"use strict";t.d(r,{$O:()=>o,Ro:()=>s});var a=t(84025),n=t.n(a),i=e=>n()(e,"ddd MMM DD YYYY").valueOf(),o=(e,r)=>i(e)-i(r),s=e=>n()(e.replace("GMT","+0000"),"ddd, DD MMM YYYY HH:mm:ss Z")},40020:(e,r,t)=>{var a={"./da":30027,"./da.js":30027,"./de":22795,"./de.js":22795,"./en-gb":17987,"./en-gb.js":17987,"./es":84573,"./es.js":84573,"./fr":16946,"./fr.js":16946,"./gom-deva":49657,"./gom-deva.js":49657,"./it":36130,"./it.js":36130,"./nb":57895,"./nb.js":57895,"./nl":26826,"./nl.js":26826,"./pt-br":28655,"./pt-br.js":28655,"./sv":90639,"./sv.js":90639};function n(e){var r=i(e);return t(r)}function i(e){if(!t.o(a,e)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id=40020},79978:e=>{e.exports={CLIENT_FOREIGN_APIS:{referenceDataSearch:{swaggerSrc:"/swagger.json",contentType:"application/json",serviceName:"locations-search",serviceBasePath:"v1/search",masterUri:"/api/locations-search",path:"/v1/search"},referenceDataSearchV2:{swaggerSrc:"/swagger.json",contentType:"application/json",serviceName:"locations-search",serviceBasePath:"v2/search",masterUri:"/api/locations-search",path:"/v2/search"}}}},69850:(e,r,t)=>{var a={"./BrandedBusinessTravel/locales/da-DK/asyncMessages.json":[65530,70659],"./BrandedBusinessTravel/locales/de-AT/asyncMessages.json":[46817,72799],"./BrandedBusinessTravel/locales/de-CH/asyncMessages.json":[22871,18969],"./BrandedBusinessTravel/locales/de-DE/asyncMessages.json":[83884,25631],"./BrandedBusinessTravel/locales/en-GB/asyncMessages.json":[66197,559],"./BrandedBusinessTravel/locales/en-US/asyncMessages.json":[77635,54891],"./BrandedBusinessTravel/locales/es-ES/asyncMessages.json":[23590,69473],"./BrandedBusinessTravel/locales/fr-CH/asyncMessages.json":[87134,86530],"./BrandedBusinessTravel/locales/fr-FR/asyncMessages.json":[43470,84679],"./BrandedBusinessTravel/locales/it-CH/asyncMessages.json":[46193,80175],"./BrandedBusinessTravel/locales/it-IT/asyncMessages.json":[24643,89748],"./BrandedBusinessTravel/locales/nb-NO/asyncMessages.json":[94680,52249],"./BrandedBusinessTravel/locales/nl-NL/asyncMessages.json":[2088,95148],"./BrandedBusinessTravel/locales/pt-BR/asyncMessages.json":[37127,66576],"./BrandedBusinessTravel/locales/pt-PT/asyncMessages.json":[74286,56386],"./BrandedBusinessTravel/locales/sv-SE/asyncMessages.json":[27078,12459],"./CrossCountry/locales/en-GB/asyncMessages.json":[76635,40326],"./EastMidlandsRailway/locales/en-GB/asyncMessages.json":[82553,57579],"./GreaterAnglia/locales/en-GB/asyncMessages.json":[51525,58374],"./ItaloTravelAgency/locales/da-DK/asyncMessages.json":[5182,10130],"./ItaloTravelAgency/locales/de-AT/asyncMessages.json":[91007,91924],"./ItaloTravelAgency/locales/de-CH/asyncMessages.json":[27139,81541],"./ItaloTravelAgency/locales/de-DE/asyncMessages.json":[10712,91610],"./ItaloTravelAgency/locales/en-GB/asyncMessages.json":[88592,1834],"./ItaloTravelAgency/locales/en-US/asyncMessages.json":[21424,53640],"./ItaloTravelAgency/locales/es-ES/asyncMessages.json":[88230,7028],"./ItaloTravelAgency/locales/fr-CH/asyncMessages.json":[97395,42763],"./ItaloTravelAgency/locales/fr-FR/asyncMessages.json":[56860,96734],"./ItaloTravelAgency/locales/it-CH/asyncMessages.json":[89353,94447],"./ItaloTravelAgency/locales/it-IT/asyncMessages.json":[47342,49041],"./ItaloTravelAgency/locales/nb-NO/asyncMessages.json":[36118,69802],"./ItaloTravelAgency/locales/nl-NL/asyncMessages.json":[93943,97917],"./ItaloTravelAgency/locales/pt-BR/asyncMessages.json":[18905,80391],"./ItaloTravelAgency/locales/pt-PT/asyncMessages.json":[74688,22799],"./ItaloTravelAgency/locales/sv-SE/asyncMessages.json":[99608,76402],"./Italotreno/locales/da-DK/asyncMessages.json":[36980,59008],"./Italotreno/locales/de-AT/asyncMessages.json":[70523,13538],"./Italotreno/locales/de-CH/asyncMessages.json":[91958,45074],"./Italotreno/locales/de-DE/asyncMessages.json":[8630,65331],"./Italotreno/locales/en-GB/asyncMessages.json":[5262,74313],"./Italotreno/locales/en-US/asyncMessages.json":[18923,36815],"./Italotreno/locales/es-ES/asyncMessages.json":[34687,23748],"./Italotreno/locales/fr-CH/asyncMessages.json":[82301,644],"./Italotreno/locales/fr-FR/asyncMessages.json":[57820,65324],"./Italotreno/locales/it-CH/asyncMessages.json":[74455,99973],"./Italotreno/locales/it-IT/asyncMessages.json":[53837,64671],"./Italotreno/locales/nb-NO/asyncMessages.json":[90088,33460],"./Italotreno/locales/nl-NL/asyncMessages.json":[74221,57442],"./Italotreno/locales/pt-BR/asyncMessages.json":[32357,68323],"./Italotreno/locales/pt-PT/asyncMessages.json":[59062,36977],"./Italotreno/locales/sv-SE/asyncMessages.json":[70219,6602],"./Leisure/locales/da-DK/asyncMessages.json":[86653,70230],"./Leisure/locales/de-AT/asyncMessages.json":[43589,42503],"./Leisure/locales/de-CH/asyncMessages.json":[35505,70047],"./Leisure/locales/de-DE/asyncMessages.json":[15310,22014],"./Leisure/locales/en-GB/asyncMessages.json":[32566,71932],"./Leisure/locales/en-US/asyncMessages.json":[77958,92989],"./Leisure/locales/es-ES/asyncMessages.json":[88156,19175],"./Leisure/locales/fr-CH/asyncMessages.json":[42446,80493],"./Leisure/locales/fr-FR/asyncMessages.json":[6491,30699],"./Leisure/locales/it-CH/asyncMessages.json":[75908,25417],"./Leisure/locales/it-IT/asyncMessages.json":[33925,53488],"./Leisure/locales/nb-NO/asyncMessages.json":[23728,51369],"./Leisure/locales/nl-NL/asyncMessages.json":[68322,69614],"./Leisure/locales/pt-BR/asyncMessages.json":[80735,9556],"./Leisure/locales/pt-PT/asyncMessages.json":[23750,9854],"./Leisure/locales/sv-SE/asyncMessages.json":[39736,65908],"./LondonNorthwesternRailway/locales/en-GB/asyncMessages.json":[74132,79078],"./NorthernRailway/locales/en-GB/asyncMessages.json":[94455,68272],"./ScotRail/locales/en-GB/asyncMessages.json":[47819,38899],"./TrainHugger/locales/en-GB/asyncMessages.json":[618,56777],"./WestMidlandsRailway/locales/en-GB/asyncMessages.json":[8364,74999]};function n(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=a[e],n=r[0];return t.e(r[1]).then((()=>t.t(n,19)))}n.keys=()=>Object.keys(a),n.id=69850,e.exports=n},3321:()=>{},51509:()=>{},93452:()=>{},81236:()=>{},15818:()=>{},55611:e=>{"use strict";e.exports=JSON.parse('{"addressForm.selectCountry":"Select country","addressForm.usZipCodePlaceholder":"e.g. 90210","addressForm.caPostcodePlaceholder":"e.g. K1M 1M4","addressForm.ukPostcodePlaceholder":"e.g. EC1N 2TD","addressForm.zipCode":"ZIP code","addressForm.postCode":"Postcode","addressForm.optionalPostCode":"Postcode (optional)","addressForm.manualAddressForm.selectState":"Please select a state","addressForm.manualAddressForm.state":"State","addressForm.manualAddressForm.stateProvince":"State / Province","addressForm.manualAddressForm.townCity":"Town / City","addressForm.manualAddressForm.line1Placeholder":"Address line 1","addressForm.manualAddressForm.line2Placeholder":"Address line 2 (optional)","addressForm.manualAddressForm.line3Placeholder":"Address line 3 (optional)","addressForm.manualAddressForm.line4Placeholder":"Address line 4 (optional)","addressForm.manualAddressForm.line5Placeholder":"Address line 5 (optional)","addressForm.manualAddressForm.line2Placeholder.mandatory":"Address line 2","addressForm.postCodeSearchForm.optionalHouseNameOrNumber":"House name or number (optional)","addressForm.postCodeSearchForm.findAddress":"Find address","bike.link.quantity":"{availableQuantity, plural, one {1 bike space} other {# bike spaces}}","customerJourneySummary.authorisedRetailer":"We\'re an authorised retailer for hundreds of train and bus companies","customerJourneySummary.button.title.conjunctive":"Continue","customerJourneySummary.button.title.standalone":"Continue","customerJourneySummary.moreTicketTypes":"View more available ticket types","customerJourneySummary.heading":"Your selection","customerJourneySummary.quickBuy":"Quick buy ticket","customerJourneySummary.cjsQuickBuyCTA":"Quick buy","customerJourneySummary.cjsQuickBuyCTA.alternative1":"Buy now","customerJourneySummary.cjsQuickBuyCTA.alternative2":"Go to checkout","customerJourneySummary.callOut.title":"We\'ve selected a ticket based on price and your search time","customerJourneySummary.callOut.footer":"Feel free to pick a different one","customerJourneySummary.cheaperTicketCallOut.title":"Hey, there\'s a cheaper alternative for the same journey times.","customerJourneySummary.cheaperTicketCallOut.ticketInfo":"{b}{fareType}{_b} tickets are {price}.","customerJourneySummary.cheaperTicketCallOut.changeButton":"Great, change my ticket!","customerJourneySummary.cheaperTicketCallOut.dismissText":"No, thanks","customerJourneySummary.total":"Total","customerJourneySummary.ticketPrice":"Ticket Price","customerJourneySummary.deliveryMethod.ticketMachine":"Ticket machine","customerJourneySummary.deliveryMethod.mTicket":"Mobile barcode","customerJourneySummary.deliveryMethod.eTicket":"eticket","customerJourneySummary.deliveryMethod.collectAtWindow":"Collect at window","customerJourneySummary.deliveryMethod.secondClassPost":"Second class post","customerJourneySummary.deliveryMethod.specialDelivery":"Next day delivery","customerJourneySummary.deliveryMethod.internationalPost":"International post","customerJourneySummary.deliveryMethod.printYourOwn":"Print your own","customerJourneySummary.deliveryMethod.nationalExpressETicket":"NationalExpress eTicket","customerJourneySummary.openReturnSummary":"Any valid train","customerJourneySummary.openReturn":"Any valid train. Please check the ticket terms for validity","customerJourneySummary.journey":"Journey","customerJourneySummary.saving":"Saving","customerJourneySummary.selectedJourney.andReturn":" and {returnDepartTime}","customerJourneySummary.changes":"{num, plural, one {# change} other {# changes}}","customerJourneySummary.outward":"Out","customerJourneySummary.inward":"Return","customerJourneySummary.error.selectTicket":"Select a ticket","customerJourneySummary.error.selectOutward":"Select an out option","customerJourneySummary.error.selectOutBoundWithUnconfirmedTimeTable.title":"Select your outbound journey to continue","customerJourneySummary.error.selectOutBoundWithUnconfirmedTimeTable.body":"Search another date or sign up for ticket alert and be first to know when more return journeys are available.","customerJourneySummary.error.selectInward":"Select a return option","customerJourneySummary.error.selectInwardWithUnconfirmedTimeTable.title":"Select your return journey to continue","customerJourneySummary.error.selectInwardWithUnconfirmedTimeTable.body":"Please choose a return or continue booking your outbound ticket only.","customerJourneySummary.error.coach.product.fail":"Were sorry, we cant sell this combination of coaches at the moment. Please select another coach","customerJourneySummary.outbound":"Outbound","customerJourneySummary.inbound":"Inbound","customerJourneySummary.flexibilityConditions":"Flexibility and conditions","customerJourneySummary.noBookingFeeBanner":" No booking fee on your journey with Trainline.","customerJourneySummary.extras.other":"{otherExtrasCount, plural, one {# service available} other {# services available}}","stickySidebar.withBasketSummary.yourTrip":"Your trip","stickySidebar.withBasketSummary.continue":"Continue","stickySidebar.withBasketSummary.continueSubtitle":"to checkout","stickySidebar.withBasketSummary.continueToBookingInformationSubtitle":"to booking information","stickySidebar.withBasketSummary.total":"Total","stickySidebar.withBasketSummary.addReturn":"Add an inbound journey","stickySidebar.withBasketSummary.seatingReassuranceMessage.allNotNone":"Sit back and relax, we\'ll reserve seats for you","stickySidebar.withBasketSummary.seatingReassuranceMessage.someNone":"Sit back and relax, we\'ll reserve seats on all supported journey legs for you","stickySidebar.withBasketSummary.seatingReassuranceMessage.allNone":"You can sit in any available seat","reservationErrorsCriticalOverlay.title.default":"Somethings off track","reservationErrorsCriticalOverlay.title.expired":"You\'re too late","reservationErrorsCriticalOverlay.button.backToSearchResults":"Back to search results","reservationErrorsCriticalOverlay.button.backToHomePage":"Choose another journey","reservationErrorsCriticalOverlay.message.default":"Uh oh. The reservation was not successful and were unfortunately not sure why. Please try again. If youre booking a journey with several trains or if its a round trip, please try to reserve them separately.","reservationErrorsCriticalOverlay.message.invalidPhoneNumber":"Oops! Your phone number seems to be entered incorrectly, please check and try again.","reservationErrorsCriticalOverlay.message.invalidLoyaltyCardNumber":"One or more passengers have invalid passenger or loyalty/discount card info. Please update these details and search again.","reservationErrorsCriticalOverlay.message.deliveryMethodNotSupported":"Your ticket cannot be delivered by the departure time. Please search again.","stickySidebar.journeySummary.direction.OUTWARD":"Outbound","stickySidebar.journeySummary.direction.INWARD":"Inbound","stickySidebar.journeySummary.ticketConditions":"View ticket conditions","stickySidebar.journeySummary.extras":"Extras","stickySidebar.journeySummary.extras.seatReservation":"Seat reservation","stickySidebar.journeySummary.changes":"{changes, plural, one {# change} other {# changes}}","basketSummary.outward":"Out","basketSummary.inward":"Return","customerJourneySummary.passengers":"{adults, number} {adults, plural, one {adult} other {adults} }, {children, number} {children, plural, one {child} other {children} }","customerJourneySummary.passengers.ADULT":"{adults, number} {adults, plural, one {Adult} other {Adults} }","customerJourneySummary.passengers.YOUTH":"{youths, number} {youths, plural, one {Youth} other {Youths} }","customerJourneySummary.passengers.CHILD":"{children, number} {children, plural, one {Child} other {Children} }","customerJourneySummary.passengers.SENIOR":"{seniors, number} {seniors, plural, one {Senior} other {Seniors} }","customerJourneySummary.euPassengers.ADULT":"{adults, number} {adults, plural, one {Adult} other {Adults} }","customerJourneySummary.euPassengers.YOUTH":"{youths, number} {youths, plural, one {Youth} other {Youths} }","customerJourneySummary.euPassengers.SENIOR":"{seniors, number} {seniors, plural, one {Senior} other {Seniors} }","customerJourneySummary.railcard":"{railcard}","customerJourneySummary.bike":"{bikes, number} {bikes, plural, one {Bike} other {Bikes} } {styleReservation}{direction, select, return {(return only)} outbound {(outbound only)} other {}}{_styleReservation}","customerJourneySummary.passengers.ticket.adult":"{number, plural, one {Adult ticket} other {Adult tickets} }","customerJourneySummary.passengers.ticket.youth":"{number, plural, one {Youth ticket} other {Youth tickets} }","customerJourneySummary.passengers.ticket.senior":"{number, plural, one {Senior ticket} other {Senior tickets} }","customerJourneySummary.passengers.copyOnly.adult":"{adult, plural, one {Adult} other {Adults} }","customerJourneySummary.passengers.copyOnly.child":"{child, plural, one {Child} other {Children} }","customerJourneySummary.passengers.copyOnly.group":"{group, plural, one {Group} other {Groups} }","customerJourneySummary.passengers.copyOnly.infant":"{infant, plural, one {Infant} other {Infants} }","customerJourneySummary.passengers.copyOnly.youth":"{youth, plural, one {Youth} other {Youths} }","customerJourneySummary.passengers.copyOnly.senior":"{senior, plural, one {Senior} other {Seniors} }","customerJourneySummary.passengers.copyOnly.railcard":"{railcard, plural, one {railcard} other {railcards} }","customerJourneySummary.railcardApplied":"{icon} {railcardDescription} savings applied","customerJourneySummary.multipleRailcardsApplied":"{icon} Valid railcard savings applied","customerJourneySummary.limitedAvailability":"Limited availability","customerJourneySummary.map":"Map","customerJourneySummary.ticketDetails.specifiedTrainsOnly":"Specified train only. No refunds.","customerJourneySummary.ticketDetails.onlyValidServices.virgin":"Only valid on booked Virgin Trains services.","customerJourneySummary.bookingFee.noticeFull":"A booking fee of {fee} will apply to this transaction","customerJourneySummary.bookingFee.noticeShort":"Booking fee","customerJourneySummary.bookingFee.noticeShortNationalExpress":"National Express booking fee","customerJourneySummary.bookingFee.noticeShortTotal":"Total booking fee","customerJourneySummary.bookingFee.noticeUnknown":"A booking fee may apply to this transaction","customerJourneySummary.bookingFee.totalPrice":"Includes {amount} booking fee","customerJourneySummary.bookingFee.none":"No booking fee","customerJourneySummary.button.subtitle.travelOptions":"to {strong}delivery options{_strong}","customerJourneySummary.button.subtitle.deliveryOptions":"to {strong}check-out{_strong}","customerJourneySummary.button.subtitle.deliveryOptionsToBookingInformation":"to {strong}booking information{_strong}","customerJourneySummary.button.subtitle.fromBookingInformationToCheckout":"to {strong}check-out{_strong}","customerJourneySummary.button.subtitle.passangerDetails":"to {strong}passenger details{_strong}","customerJourneySummary.button.subtitle.nextStep":"to {strong}next step{_strong}","customerJourneySummary.connectionTime.inHoursAndMinutes":"{hours}h {minutes}m transfer time","customerJourneySummary.connectionTime.inMinutes":"{minutes}m transfer time","customerJourneySummary.connectionTimeWithStationChange.inHoursAndMinutes":"{hours}h {minutes}m to change stations","customerJourneySummary.connectionTimeWithStationChange.inMinutes":"{minutes}m to change stations","customerJourneySummary.connectionTime.inHoursAndMinutes.accessibility":"{hours} hours {minutes} minutes transfer time.","customerJourneySummary.connectionTime.inMinutes.accessibility":"{minutes} minutes transfer time.","customerJourneySummary.connectionTimeWithStationChange.inHoursAndMinutes.accessibility":"{hours} hours {minutes} minutes to change stations.","customerJourneySummary.connectionTimeWithStationChange.inMinutes.accessibility":"{minutes} minutes to change stations.","customerJourneySummary.autoSelectedJourney.openReturn":"Weve selected the {outTime}{returnTime}, but you can travel on any eligible train.","customerJourneySummary.autoSelectedJourney.return":"Weve selected the {outTime}{returnTime}, but you can travel on any eligible train.","customerJourneySummary.autoSelectedJourney.partiallyFlexibleReturn":"Weve selected the {outTime}{returnTime}, but you can travel on any eligible return train.","customerJourneySummary.autoSelectedJourney.inFlexibleReturn":"Weve selected the {outTime}{returnTime}, This fare is only valid for travel on the trains selected","customerJourneySummary.autoSelectedJourney.anytime":"Weve selected the {outTime}{returnTime}, but you can travel on any eligible train.","customerJourneySummary.autoSelectedJourney.offPeak":"Weve selected the {outTime}{returnTime}, but you can travel on any eligible off-peak train.","customerJourneySummary.autoSelectedJourney.superOffPeak":"Weve selected the {outTime}{returnTime}, but you can travel on any eligible super off-peak train.","customerJourneySummary.userSelectedJourney.openReturn":"Youve selected the {outTime}{returnTime}, but you can travel on any eligible train.","customerJourneySummary.userSelectedJourney.return":"Youve selected the {outTime}{returnTime}, but you can travel on any eligible train.","customerJourneySummary.userSelectedJourney.partiallyFlexibleReturn":"Youve selected the {outTime}{returnTime}, but you can travel on any eligible return train.","customerJourneySummary.userSelectedJourney.anytime":"Youve selected the {outTime}{returnTime}, but you can travel on any eligible train.","customerJourneySummary.userSelectedJourney.offPeak":"Youve selected the {outTime}{returnTime}, but you can travel on any eligible off-peak train.","customerJourneySummary.userSelectedJourney.superOffPeak":"Youve selected the {outTime}{returnTime}, but you can travel on any eligible super off-peak train.","customerJourneySummary.userSelectedJourney.inFlexibleReturn":"Youve selected the {outTime}{returnTime}, This fare is only valid for travel on the trains you select.","customerJourneySummary.selectedJourney.travellingGroup":"Passengers must travel together","customerJourneySummary.selectedJourney.fareRestrictions":"See fare validity","customerJourneySummary.selectedJourney.discountCardApplied":"Discount card savings applied","customerJourneySummary.selectedJourney.freeChildren":"Children under 5 travel free on UK rail without a ticket","customerJourneySummary.selectedJourney.fareGroup.link":"View stations","customerJourneySummary.selectedJourney.fareGroup.multipleOrigin":"Travel also permitted from stations near {originName}. {link}","customerJourneySummary.selectedJourney.fareGroup.multipleDestination":"Travel also permitted to stations near {destinationName}. {link}","customerJourneySummary.selectedJourney.fareGroup.multipleOriginDestination":"Travel also permitted from stations near {originName} and to stations near {destinationName}. {link}","customerJourneySummary.selectedJourney.fareGroup.calloutTravelFrom":"You can travel from","customerJourneySummary.selectedJourney.fareGroup.calloutTravelTo":"You can travel to","customerJourneySummary.selectTicketToContinue":"Select a ticket to continue","customerJourneySummary.europe.trip":"Trip","customerJourneySummary.europe.return":"Return","customerJourneySummary.europe.returnLabel":"Return: {price}","customerJourneySummary.europe.outbound.label.aria":"Outbound journey selected.","customerJourneySummary.europe.returnJourney.label.aria":"{direction, select, outbound {outbound} return {return}} journey cost: {price}.","customerJourneySummary.europe.inbound":"Inbound","customerJourneySummary.europe.outbound":"Outbound","customerJourneySummary.europe.outboundWithPrice":"Outbound: {price}","customerJourneySummary.europe.voucherApplied":"Voucher Applied","customerJourneySummary.europe.totalPrice":"Total: {price}","customerJourneySummary.europe.bannerInfo.infinitaBistro":"Want a boujee {b}First Class{_b} experience? Get a {b}gourmet meal{_b} with {b}Infinita Bistr{_b}","customerJourneySummary.europe.comfortOptionsBanner.title":"Want to take a look on board?","customerJourneySummary.europe.comfortOptionsBanner.description":"Get onboard previews here.","customerJourneySummary.europe.comfortOptions.route":"{origin} to {destination}","customerJourneySummary.europe.comfortOptions.price":"{sign}{price}","customerJourneySummary.europe.comfortOptions.price.aria":"Cost: an additional premium of {price}","customerJourneySummary.europe.comfortOptions.cost.aria":"Cost: {price}","customerJourneySummary.europe.comfortOptions.title":"Comfort options","customerJourneySummary.europe.flexibilityFilter.title":"Flexibility and ticket conditions","customerJourneySummary.europe.ticketConditions.title":"Ticket conditions","customerJourneySummary.europe.comfortOptions.moreClasses":"more ...","customerJourneySummary.europe.comfortOptions.descriptionWithTrain":"Available on {trainList}. {description}","customerJourneySummary.europe.comfortOptions.single.title":"Comfort","customerJourneySummary.europe.extras.title":"Extras","customerJourneySummary.europe.extras.free":"free","customerJourneySummary.button.europe.title":"Continue","customerJourneySummary.button.europe.subtitle":"to {title}","customerJourneySummary.button.europe.single.outbound.aria":"Continue to the next step with outbound journey selected","customerJourneySummary.button.europe.single.return.aria":"Continue to the next step with return journey selected","customerJourneySummary.button.europe.return.aria":"Continue to select a return with outbound journey selected","customerJourneySummary.button.europe.outward.subtitle.bold":"select a return","customerJourneySummary.button.europe.subtitle.bold":"next step","customerJourneySummary.button.europe.seatingPreferences":"Seating and options","customerJourneySummary.button.revalidating.singleCarrier":"Checking availability with {carrier}","customerJourneySummary.button.revalidating.multipleCarriers":"Checking availability with operators","customerJourneySummary.fareChange.updatedPrice":"Updated price","customerJourneySummary.fareChange.noTicketsRemaining":"The operator has no {price} tickets remaining, book now to secure this price.","customerJourneySummary.fareChange.noClosestAlternativeFound":"After checking live availability with the operator, we found that the {price} ticket for {time} train is no longer available. Please review your options.","customerJourneySummary.fareChange.button.title":"Continue","customerJourneySummary.fareChange.button.subtitle":"with {title}","customerJourneySummary.fareChange.button.subtitle.bold":"this price","customerJourneySummary.header.singleTrip":"Single trip","customerJourneySummary.header.returnTrip":"Return trip","customerJourneySummary.priceBreakdown.link":"Price breakdown","customerJourneySummary.priceBreakdown.costs":"Here\'s what it costs","customerJourneySummary.priceBreakdown.savings":"Your savings","customerJourneySummary.priceBreakdown.ticketPrice":"Ticket price","customerJourneySummary.priceBreakdown.aboutOurFees":"About our fees","customerJourneySummary.priceBreakdown.youPay":"You pay","dateTimeFormat.dayMonthYear":"{day} {month} {year}","errorbox.submitError.message":"Please double-check that these fields are correct and try again:","common.asterisk":"*","page.basket.tripCard.saveForLater.button.default":"Buy later","page.basket.tripCard.saveForLater.button.moveToBasket":"Buy now","page.basket.tripCard.header.journeyDirection.outbound":"Outbound","page.basket.tripCard.header.journeyDirection.inbound":"Inbound","page.basket.tripCard.header.seatReservations.any":"Sit in any seat","page.basket.tripCard.header.seatReservations.generic":"Seats reserved","page.basket.tripCard.header.seatReservations.requested":"Seats requested","page.basket.tripCard.header.seatReservations.specific":"Carriage {carriage}, Seat {position}","page.basket.tripCard.header.seatReservations.showDetails":"Show details","page.basket.tripCard.header.openReturn.inboundLeg":"Return journey valid until end of {b}{date}{_b}","page.basket.tripCard.header.sameDayReturn.inboundLeg":"Valid for one day","page.results.bookingIsForDate":"Careful! This journey is for {date}.","page.results.trenitaliaVoucherCodeTitle":"Your code is locked on Trenitalia journeys","page.results.trenitaliaVoucherCodeDescription":"Well check its valid and apply it at checkout.","page.results.checkTIDiscountCodeLater":"Your code is locked in. Well check its valid and apply it at checkout.","page.results.discountVoucherApplied":"Your voucher code has been applied!","page.results.applyTIDiscountNotPossible":"Sorry! We cant apply your code to return journeys. You can continue your purchase or search for a single journey instead.","page.results.bookingIsPartiallyNotFirstClass":"Some tickets are not in 1st class","page.results.noResultsOnThisDay":"No results on this day at your search time","page.results.overnightJourney":"This journey continues overnight.","page.results.bookingIsPartiallyByBus":"A part of this route is serviced by a bus.","page.results.bookingIsByBus":"This route is serviced by a bus.","page.results.bookingIsPartiallyNotSemiFlexible":"Some tickets are not semi-flexible","page.results.bookingIsPartiallyNotFullyFlexible":"Some tickets are not fully flexible","page.results.departureLocationDifferentFromRequested":"This train departs from {b}{journeyStationName}{_b}, which is {b}{distance}{_b} away from {b}{queryStationName}{_b}. We show you this to give you more choice","page.results.arrivalLocationDifferentFromRequested":"This train arrives at {b}{journeyStationName}{_b}, which is {b}{distance}{_b} away from {b}{queryStationName}{_b}. We show you this to give you more choice","page.results.originLocalAreaTransportExcluded":"This train departs from {b}{actualLocation}{_b}, which is {b}{distance}{_b} away from {b}{requestedLocation}{_b}. You will need to purchase a {b}{localTransportNetwork}{_b} ticket separately at the station to travel from {b}{requestedLocation}{_b} to {b}{actualLocation}{_b}.","page.results.originLocalAreaTransportIncluded":"This train departs from {b}{actualLocation}{_b}, which is {b}{distance}{_b} away from {b}{requestedLocation}{_b}. With this ticket, you can board any {b}{localTransportNetwork}{_b} train for free to travel from {b}{requestedLocation}{_b} to {b}{actualLocation}{_b}.","page.results.destinationLocalAreaTransportIncluded":"This train arrives at {b}{actualLocation}{_b}, which is {b}{distance}{_b} away from {b}{requestedLocation}{_b}. With this ticket, you can board any {b}{localTransportNetwork}{_b} train for free to travel from {b}{actualLocation}{_b} to {b}{requestedLocation}{_b}.","page.results.destinationLocalAreaTransportExcluded":"This train arrives at {b}{actualLocation}{_b}, which is {b}{distance}{_b} away from {b}{requestedLocation}{_b}. You will need to purchase a {b}{localTransportNetwork}{_b} ticket separately at the station to travel from {b}{actualLocation}{_b} to {b}{requestedLocation}{_b}.","page.results.cachedResults.journeyNotFound":"After checking live availability with the operator, we found that the {time} train is no longer running. Please review your options.","page.results.cachedResults.soldOut":"After checking live availability with the operator, we found that unfortunately the train is now sold out. Please review your options.","page.results.cachedResults.nextCheapestPrice":"Tickets for {cachedCheapestPrice} have sold out, so we\'ve found you the next cheapest ticket for {availableCheapestPrice}","page.results.cachedResults.updatedPrice":"Updated price","page.results.deepLinkInfo.viewAllResults":"View journeys from other companies","page.results.deepLinkInfo.backToFilteredResults":"Show me {carrier} journeys only","page.results.deepLinkInfo.sponsoredBy":"{carrier} sponsored results","page.results.deepLinkInfo.inward":"To view journeys from other companies, please start a new search.","page.results.dpiMetaSearch.searchPartnerResult":"You saw this journey on {searchPartner}","page.results.dpiMetaSearch.searchPartnerResult.userDeselected":"Selected on {searchPartner}","page.results.dpiMetaSearch.warn.priceChanged.title":"Fares updated just now","page.results.dpiMetaSearch.warn.priceChanged.increased":"Tickets are selling fast. Weve found you the best available fares.","page.results.dpiMetaSearch.warn.priceChanged.decreased":"We found your journey at a cheaper price.","page.results.dpiMetaSearch.warn.notAvailable.title":"Journeys updated just now","page.results.dpiMetaSearch.warn.notAvailable.soldOut":"Unfortunately, the journey you saw on {searchPartner} has sold out. Weve found you the next best option.","page.results.dpiMetaSearch.warn.notAvailable.cancelled":"Unfortunately, the journey you saw on {searchPartner} is no longer available. Weve found you the next best option.","page.results.warningMessage.bookingHorizon.tgvmax":"TGVmax bookings can be made up to 30 days in advance. Try searching earlier to find TGVmax fares.","page.results.filters.directOnly":"Direct only","page.results.filters.directOnlyLoading":"Direct only","page.results.filters.price.label":"Price","page.results.filters.price.label.withValue":"Up to {value}","page.results.filters.price.heading":"Price","page.results.filters.price.clearButton":"Clear","page.results.filters.price.doneButton":"Done","page.results.filters.price.menuTitle":"All prices","page.results.filters.carriers.label":"Carriers","page.results.filters.carriers.label.withValue":"Carriers ({value})","page.results.filters.carriers.allCarriers":"All Carriers","page.results.recommendRailcardForPassengersBanner.generic":"Get capped prices and more on eligible travel  buy a discount card","page.results.recommendRailcardForPassengersBanner.specificCard":"Get capped prices and more on eligible travel  buy a {b}{cardName}{_b}","page.results.exclusiveJourney.label":"New combination","page.results.exclusiveJourney.bubble.content":"Weve checked every carrier and put together a new journey that saves you time, money, or both. Were smart like that.","page.results.exclusiveJourneyBanner.cheapest":"You\'re saving {b}{price}{_b} by booking with Trainline.","page.results.exclusiveJourneyBanner.alternative":"You\'re travelling in style with this upgraded journey.","page.results.specificRouteLoading.title":"Give us a moment","page.results.specificRouteLoading.subtitle":"Were checking every option out there...","page.results.specificRouteLoading.mobile.imageLabel":"Standard class, image for reference only","page.results.cappedFare":"Never pay more than {b}{cappedFare}{_b} for this trip with TGV INOUI and INTERCITS. Book with an SNCF Carte Avantage.","page.results.searchFilterNoPrice.title":"No trains match your search","page.results.searchFilterNoPrice.message":"Please remove your filters or try a different date or time","page.results.searchFilterNoPrice.button":"Remove filters","page.results.splitSaveToolTip.ariaLabel":"More information on SplitSave savings","page.results.autoAppliedTitle":"We found you a promo ","page.results.autoAppliedDescription":"{reference} applied to eligible trips. See your total savings at checkout.","page.results.autoAppliedDescriptionWithSavings":"{reference} applied for {savings} off eligible trips. See your total savings at checkout.","page.checkout.title":"Payment","page.checkout.yourTrip":"Your trip to {destination}","page.checkout.yourBasket":"Your Basket","page.checkout.yourRailcard":"Your {b}{discountCardTypeName}{_b}","page.checkout.yourRailcards":"Your Railcards","page.checkout.secureCheckout":"Secure checkout","page.checkout.payForYourTrip":"Pay for your trip to {destination}","page.checkout.yourCoachTrip":"Your coach trip to {destination}","page.checkout.reviewYourJourneys":"Review your {count} journeys","page.checkout.payForYourJourneys":"Pay for your {count} journeys","page.checkout.basket":"Basket","page.checkout.basket.empty":"Your basket is empty. Move a saved trip from below to pay.","page.checkout.savedForLater":"Saved for later ({count})","page.checkout.savedForLater.empty":"Your trips will go here if you\'re not ready to pay yet. Just click \'Save for later\' on a trip above.","page.checkout.savedTrips":"Your saved trips will be stored here if youre not ready to pay yet","page.checkout.processingPayment":"Processing payment...","page.checkout.termsAndConditions":"By booking your ticket you accept {termsAndConditionsList}.","page.checkout.termsAndConditions.withRailcards":"By placing this order you accept {termsAndConditionsList}.","page.checkout.termsAndConditions.listItem.trainlineTerms":"Trainline\'s {a}T&Cs{_a}","page.checkout.termsAndConditions.listItem.nationalExpress":"National Express\' {a}Conditions of Carriage{_a}","page.checkout.termsAndConditions.listItem.nationalRail":"{a}National Rail Conditions of Travel{_a}","page.checkout.termsAndConditions.listItem.sncf":"{a}SNCF conditions of carriage{_a}","page.checkout.termsAndConditions.trainlinePrivacy":"{a}Privacy Policy{_a} applies.","page.checkout.termsAndConditions.nationalExpressPrivacyLinkLabel":"National Express {privacyPolicy} applies","page.checkout.termsAndConditions.nationalExpressPrivacyLinkLabel.link":"Privacy Notice","page.checkout.termsConditionsAndPrivacy":"{a:trainlineTerms}Trainline\'s T&Cs{_a:trainlineTerms}, the {a:carrierTerms}carrier\'s conditions{_a:carrierTerms} of carriage and {a:privacyPolicy}privacy policy{_a:privacyPolicy} apply to this booking.","page.checkout.termsConditionsAndPrivacyAtocOnly":"By booking your ticket you accept {a:trainlineTerms}Trainline\'s T&Cs{_a:trainlineTerms}, the {a:carrierTerms}carrier\'s conditions{_a:carrierTerms} of carriage and {a:privacyPolicy}privacy policy{_a:privacyPolicy}.","page.checkout.addJourneyLink":"Add another trip","page.checkout.duplicateBooking":"Duplicate trips in your basket","page.checkout.similarBooking":"Similar trips in your basket","page.checkout.similarRailcard":"Duplicate Railcards in your basket","page.checkout.similarRailcard.desc":"Please remove duplicate Railcards from your basket before making your purchase","page.checkout.bookingWarning":"Please double-check your bookings before you pay.","page.checkout.fareTypeModal.reservationPriceChanged":"We couldn\'t fulfil your original ticket choice. We have picked the next best option.","page.checkout.reservationPriceChanged":"Sorry! The reservation system could not provide one of the tickets you requested, so we chose the next best one. Please review the terms and price below before paying.","page.checkout.couldntMakeReservation":"{numberOfTrains, plural, one {Unfortunately a seat could not be reserved on this train as it is almost full. You are responsible for finding your own seat.} other {Unfortunately a seat could not be reserved on one of your trains as it is almost full. You are responsible for finding your own seat.}}","page.checkout.seatsAutoAllocated":"Sorry! 1 or more of your seating choice is no longer available. We have automatically assigned you the same number of available seats. Any associated fees will not be taken for the reallocated seats.","page.checkout.tripCard.saveForLater.button.default":"Save for later","page.checkout.tripCard.saveForLater.button.moveToBasket":"Move to basket","page.checkout.tripCard.saveForLater.button.searchAgain":"Search again","page.checkout.tripCard.saveForLater.label.default":"Price & seat locked in Basket until {b}{itineraryExpiryAt}{_b}","page.checkout.tripCard.saveForLater.label.underMCP":"Ticket & seats locked in Basket until {b}{itineraryExpiryAt}{_b}","page.checkout.tripCard.saveForLater.label.defaultToday":"Price & seat locked in Basket until {b}{itineraryExpiryAt} today{_b}","page.checkout.tripCard.saveForLater.label.underMCPToday":"Ticket & seats locked in Basket until {b}{itineraryExpiryAt} today{_b}","page.checkout.tripCard.saveForLater.label.expired":"This trip expired on {b}{itineraryExpiryAt}{_b}","page.checkout.tripCard.saveForLater.label.header":"Your organisation requires new booking information","page.checkout.tripCard.saveForLater.label.body":"Sorry, we cant book your ticket because your organisation requires additional information from you. Please search again or remove the journey.","page.checkout.tripCard.savings.amountLink":"You\'ll save {amount}","page.checkout.tripCard.savings.savings":"{amountLink} by booking in advance","page.checkout.tripCard.timeAndChanges.leg":"Journey leg","page.checkout.tripCard.timeAndChanges.outbound":"OUT","page.checkout.tripCard.timeAndChanges.inbound":"RTN","page.checkout.tripCard.timeAndChanges.date":"Journey date","page.checkout.tripCard.timeAndChanges.departureTime":"Departure time","page.checkout.tripCard.timeAndChanges.arrivalTime":"Arrival time","page.checkout.tripCard.timeAndChanges.duration":"Duration","page.checkout.tripCard.timeAndChanges.direct":"0 changes","page.checkout.tripCard.timeAndChanges.change":"change","page.checkout.tripCard.timeAndChanges.changes":"changes","page.checkout.tripCard.timeAndChanges.hours":"h","page.checkout.tripCard.timeAndChanges.minutes":"min","page.checkout.tripCard.timeAndChanges.price":"price","page.checkout.tripCard.timeAndChanges.bigSummerSaleTicket":"Big summer seat sale ticket","page.checkout.tripCard.timeAndChanges.limitedAvailability":"Limited availability","page.checkout.tripCard.timeAndChanges.boarding":"Boarding time","page.checkout.tripCard.timeAndChanges.boardingMinutes":"Check-in closes {boardingTime, plural, one {# min} other {# mins}} before departure","page.checkout.tripCard.trip.remove":"Remove","page.checkout.tripCard.trip.searchAgain":"Search again","page.checkout.tripCard.tripDetails.journeyAndSeats":"Journey and seats","page.checkout.tripCard.tripDetails.journeySummary":"Journey Summary","page.uk.checkout.tripCard.tripDetails.limitedTicketsLeft":"Limited tickets left","page.checkout.tripCard.tripHeader.remove":"Remove","page.checkout.tripCard.tripHeaderLabel.aReturnTrip":"A return trip","page.checkout.tripCard.tripHeaderLabel.aOneWayTrip":"A one way trip","page.checkout.tripCard.tripHeaderLabel.rtn":"RETURN","page.checkout.tripCard.tripHeaderLabel.sgl":"SINGLE","page.checkout.tripCard.tripSummaryJourney.viewExchangeAndRefundConditions":"View exchange and refund conditions","page.checkout.tripCard.tripSummaryJourney.discountedLabel":"Discounted","page.checkout.tripCard.tripSummaryPassengers.adult":"adult","page.checkout.tripCard.tripSummaryPassengers.adults":"adults","page.checkout.tripCard.tripSummaryPassengers.child":"{children, number} {children, plural, one {child} other {children} }","page.checkout.tripCard.tripSummaryPassengers.senior":"senior","page.checkout.tripCard.tripSummaryPassengers.seniors":"seniors","page.checkout.tripCard.tripSummaryBikes.bikesCount":"{bikesCount, plural, one {# Bike} other {# Bikes}}","page.checkout.tripCard.tripSummaryBikes.openReturn":"Check space availability before return journey.","page.checkout.tripCard.tripSummaryPassengers.euPassengers.child":"{children, number} {children, plural, one {youth} other {youths} }","page.checkout.tripCard.tripSummarySeats.anySeatStandard":"Sit in any vacant unreserved seat except first class","page.checkout.tripCard.tripSummarySeats.anySeatFirst":"Sit in any vacant unreserved seat including first class","page.checkout.tripCard.tripSummarySeats.specificSeat":"Coach {coach}, Seat {seat} ({preference})","page.checkout.tripCard.tripSummarySeats.specificSeat.typeAndPreference":"{type}, {preference}","page.checkout.tripCard.tripSummarySeats.specificSeat.coachAndSeat":"Coach {coach}, Seat {seat}","page.checkout.tripCard.tripSummarySeats.specificSeat.singleSeat":"Seat {seat}","page.checkout.tripCard.tripSummarySeats.generic":"Seats reserved","page.checkout.tripCard.tripSummarySeats.requested":"Seats requested","page.checkout.tripCard.tripSummarySeats.out":"Out: ","page.checkout.tripCard.tripSummarySeats.rtn":"Rtn: ","page.checkout.tripCard.tripSummarySeats.F":"female","page.checkout.tripCard.tripSummarySeats.M":"male","page.checkout.tripCard.tripSummarySeats.L":"lower berth","page.checkout.tripCard.tripSummarySeats.U":"upper berth","page.checkout.tripCard.tripSummarySeats.moreInfo":"more info","page.checkout.tripCard.tripSummarySeats.theTrainOperator":"the train operator","page.checkout.tripCard.tripSummarySeats.NO_SEATS_RESERVED":"reserved but no seats allocated","page.checkout.tripCard.tripSummarySeats.NO_SEATS_RESERVED_EU":"Seats not reserved","page.checkout.tripCard.tripSummarySeats.NO_SEATS_AVAILABLE":"all reservable seats on this train are fully booked","page.checkout.tripCard.tripSummarySeats.RESERVATIONS_NOT_AVAILABLE":"reservations not available","page.checkout.tripCard.tripSummarySeats.RESERVATION_NOT_POSSIBLE":"({provider} does not offer seat reservations on this train)","page.checkout.tripCard.tripSummarySeats.unableToReserveSeats":"Unable to reserve seats","page.checkout.tripCard.nsDirectServiceAddOn":"The Intercity train requires an IC Direct supplement, available for {amount} per person at any NS ticket machine or service counter.","page.checkout.tripCard.bookingFailed":"Unfortunately, this booking failed.","page.checkout.tripCard.bringYourID":"Dont forget to bring identification for internationaltravel","page.checkout.tripCard.priceMayChangeWarning":"The ticket price may increase or decrease in the future due to changes in exchange rates. {a}More info{_a}","page.checkout.tripCard.invoice":"You requested an invoice from the operator","page.checkout.tripCard.combinedTicket":"This journey consists of separate tickets. Heres our summary of your passenger rights.","page.checkout.tripCard.throughTicket":"Heres our summary of your passenger rights.","page.checkout.tripCard.combinedTicket.link":"Learn more","page.checkout.tripCard.tripBadge.bookingFailed":"Booking failed","page.checkout.tripCard.tripBadge.bookingPending":"Booking pending","page.checkout.tripCard.tripBadge.refundProcessed":"Refund processed","page.checkout.tripCard.tripBadge.preparingTickets":"Preparing tickets","page.checkout.tripCard.tripBadge.bookingSuccessful":"Booking successful","page.checkout.tripCard.tripBadge.discountcardSuccessful":"Card successful","page.checkout.tripCard.tripBadge.discountcardPreparing":"Preparing card","page.checkout.tripCard.passengersCard.passengersCount":"{numPassengers} {numPassengers, plural, one {passenger} other {passengers}}","page.checkout.tripCard.passengersCard.passengerLabel.child":"Youth {age} {age, plural, one {year} other {years}}","page.checkout.tripCard.passengersCard.passengerLabel.youth":"Youth {age} {age, plural, one {year} other {years}}","page.checkout.tripCard.passengersCard.passengerLabel.adult":"Adult","page.checkout.tripCard.passengersCard.passengerLabel.senior":"Senior","page.checkout.tripCard.passengersCard.toggleLabelShow":"Show passenger details","page.checkout.tripCard.passengersCard.toggleLabelHide":"Hide passenger details","page.checkout.digitalRailcardSummary.validityPeriod.monthPurchase":"{months, plural, one {# month} other {# month}} purchase","page.checkout.digitalRailcardSummary.validityPeriod.oneYearPurchase":"1 year purchase","page.checkout.digitalRailcardSummary.validityPeriod.threeYearPurchase":"3 year purchase","page.checkout.digitalRailcardSummary.validityPeriod.oneYearRenewal":"1 year renewal","page.checkout.digitalRailcardSummary.validityPeriod.threeYearRenewal":"3 year renewal","page.checkout.digitalRailcardSummary.validFrom":"VALID FROM","page.checkout.digitalRailcardSummary.validTo":"VALID TO","page.checkout.digitalRailcardSummary.termsAndConditions":"Card terms and conditions","page.checkout.digitalRailcardSummary.moreDetails":"More details","page.checkout.digitalRailcardSummary.digitalRailcardInAppTitle":"{railcard} in app","page.checkout.digitalRailcardSummary.period.day":"{count, plural, one {day} other {days}}","page.checkout.digitalRailcardSummary.period.month":"{count, plural, one {month} other {months}}","page.checkout.digitalRailcardSummary.validWithinPeriod":"{numberOfTravelDays} days within {travelValidityPeriod, plural, one {# {singlePeriodUnit}} other {# {pluralPeriodUnit}}}","page.checkout.digitalRailcardSummary.travelFor":"Travel for","page.checkout.digitalRailcardSummary.seeConditions":"See conditions","page.checkout.digitalRailcardSummary.deliveryMethodTitle.eu":"Discount card PDF will be sent to {b}{email}{_b}","page.checkout.digitalRailcardSummary.expiryAlert.button.rebook":"Re-enter details","page.checkout.digitalRailcardSummary.expiryAlert.message":"This card has expired","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.55c629dd-2ee8-4119-ac9e-a583afa887da":"Save up to  on adult fares and 60% on child fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.21513906-e7bc-4e81-a09a-0418078c0d55":"Save up to  on adult fares and 60% on child fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.6dd723a1-80fa-4aba-8148-8e98863da921":"Save up to  on adult fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.da43667a-01f0-4a19-82ea-1378786378c2":"Save up to  on adult fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.ebc46afe-4672-4e5f-9d82-089876c7ed8c":"Save up to  on adult fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.702c1ecb-20fd-4b69-b468-54bb5451b656":"Save up to  on adult fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.b4449ff4-fc51-4076-8a9b-2538335109a9":"Save up to  on adult fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.5fa2f1eb-b3ea-4509-9b5b-7a81d3544e93":"Save up to  on adult fares","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.3f2f1602-7013-4b73-ab07-b98598817089":"Save 50% on adult fares (excluding ScotRail services) and season tickets. Discounted season tickets are valid for 4 months after Railcard expiry","page.checkout.digitalRailcardSummary.digitalRailcardInAppDescription.a3d5089d-b3b8-4a11-89f0-8896a32484ab":"Save up to  on adult Anytime and Off-Peak fares and 60% on child Anytime and Off-Peak fares in the Network Railcard area","page.checkout.digitalRailcardSummary.digitalRailcardInAppLink":"View full Railcard conditions","page.checkout.digitalRailcardSummary.deviceInfoTitle":"Secure on all your devices","page.checkout.digitalRailcardSummary.deviceInfoDescription":"Digital Railcards are locked to your account, so they can be stored on any devices you use","page.checkout.digitalRailcardSummary.nonRefundableTitle":"Non-refundable","page.checkout.digitalRailcardSummary.nonRefundableDescription":"Once a Railcard has been issued, it cannot be refunded","page.checkout.digitalRailcardSummary.helpTitle":"Need some help?","page.checkout.digitalRailcardSummary.helpDescription":"For further information or assistance, see our {a}Railcard help page{_a}","page.checkout.digitalRailcardSummary.showDetails":"Show details","page.checkout.paymentForm.promoCodeInputField.placeholder":"Enter discount code","page.checkout.paymentForm.promoCodeInputField.apply":"Apply","page.checkout.paymentForm.promoCodeInputField.invalid.pattern":"Please enter a valid discount code","page.checkout.paymentForm.promoCodeInputField.invalid.multple":"Only one discount at a time!","page.checkout.paymentForm.promoCodeInputField.showPromoInputLink":"Add a discount code","page.checkout.paymentLanding.payWithCard":"Pay with card","page.checkout.paymentLanding.payOnAccount":"Pay on account","page.checkout.paymentLanding.payWithZeroCharge":"Book","page.checkout.paymentLanding.isVoucherApplied":"Paypal is unavailable with bookings made with vouchers","page.checkout.forms.payNow":"Pay now","page.checkout.savedCardForm.cardFee":"{cardType} incurs {fee} credit card fee. UK debit cards are FREE","page.checkout.savedCardForm.expiredCardNeedsLogin":"This card has expired. Please re-enter your password to update the card details or choose a different payment method.","page.checkout.savedCardForm.expiryDate":"Update card expiry date","page.checkout.savedCardForm.addCard":"Add new card","page.checkout.savedCardForm.paymentCardDetails":"Payment card details","page.checkout.savedCardForm.paymentCards":"Payment Cards","page.checkout.savedCardForm.unavailableError":"{cardType} is not supported for {vendor} products","page.checkout.paymentLanding.proceedWith":"Proceed with {provider}","page.checkout.paymentLanding.payWith":"Pay with","page.checkout.paymentLanding.payWithProvider":"Pay with {provider}","page.checkout.paymentLanding.waitingFor":"Waiting for {provider}","page.checkout.paymentLanding.temporarilyUnavailable":"{provider} temporarily unavailable","page.checkout.paymentLanding.paymentMethodNotAvailableForCurrency":"{provider} unavailable in {currencyCode}","page.checkout.paymentLanding.tryRefreshing":"(please try refreshing this page in your browser)","page.checkout.paymentLanding.separator":"or","page.checkout.paymentLanding.ouigoRestriction":"OUIGO only accepts Visa and Mastercard payments","page.checkout.paymentWrapper.basketTotal.thisIncludes":"This includes","page.checkout.paymentWrapper.basketTotal.andSeparator":" and","page.checkout.paymentWrapper.basketTotal.commaSeparator":",","page.checkout.paymentWrapper.basketTotal.periodSeparator":".","page.checkout.paymentWrapper.title":"Payment details","page.checkout.paymentWrapper.changePaymentMethodWrapper":"or {changeMethodLink}","page.checkout.paymentWrapper.changePaymentMethod":"Change payment method","page.checkout.paymentWrapper.basketTotal.totalToPay":"Total to pay {amount}","page.checkout.paymentWrapper.basketTotal.bookingFee":" {amount} booking fee","page.checkout.paymentWrapper.basketTotal.bookingFee.nationalExpress":" {amount} National Express booking fee","page.checkout.paymentWrapper.basketTotal.bookingFee.trainline":" {amount} Trainline booking fee","page.checkout.paymentWrapper.basketTotal.deliveryFee":" and {amount} delivery fee","page.checkout.paymentWrapper.basketTotal.cardFee":" {amount} corporate card fee","page.checkout.paymentWrapper.basketTotal.noBookingFee":"No booking fee","page.checkout.paymentWrapper.basketTotal.coverAmount":"This includes {amount} for Travel Insurance.","page.checkout.paymentWrapper.basketTotal.flexibleInsuranceAmount":"This includes {amount} for Flexcover.","page.checkout.paymentWrapper.basketTotal.promoDiscount":"Discount {amount}","page.checkout.paymentWrapper.basketTotal.promoDiscountBreakdownCta":"View breakdown","page.checkout.paymentWrapper.basketJourneySummary.noBookingFee":"No booking fee","page.checkout.paymentWrapper.basketJourneySummary.bookingFee":"Booking fee","page.checkout.paymentWrapper.basketJourneySummary.bookingFee.nationalExpress":"National Express booking fee","page.checkout.paymentWrapper.basketJourneySummary.bookingFee.trainline":"Trainline booking fee","page.checkout.paymentWrapper.basketJourneySummary.deliveryFee":"Delivery fee","page.checkout.paymentWrapper.basketJourneySummary.cardFee":"Corporate card fee","page.checkout.paymentWrapper.basketJourneySummary.coverFee":"Travel Insurance","page.checkout.paymentWrapper.basketJourneySummary.flexibleInsuranceFee":"Flexcover","page.checkout.paymentWrapper.basketJourneySummary.journeysCount":"{journeysCount, plural, =1 {Lets book your journey} other {Let\'s book your {journeysCount} journeys}}","page.checkout.paymentWrapper.basketJourneySummary.totalToPay":"Total to pay","page.checkout.paymentWrapper.confirmationEmailAfterPayment":"After payment, your confirmation will be sent to:","page.checkout.paymentWrapper.cardDetails":"Debit / Credit card details","page.checkout.paymentWrapper.recalculationMessage":"Good choice! Were just adding things up for you...","page.checkout.paymentWrapper.voucherApplied":" Discount applied!","page.checkout.paymentWrapper.voucherWarning":"Somethings off track and we couldnt apply your code. You can continue with your purchase or head back to try again.","page.checkout.paymentWrapper.multiSectionVoucherWarning":"Sorry! We cant apply your code to this journey. You can continue your purchase or search again.","page.checkout.messages.voucherNotFound":"We couldn\'t find that code. Please check it and try again.","page.checkout.messages.voucherInactive":"We couldn\'t find that code. Please check it and try again.","page.checkout.messages.voucherNotApplicableOnBooking":"We couldn\'t apply your code because there are no eligible items in your basket.","page.checkout.messages.voucherNotApplied":"Sorry! We couldn\'t apply your code. Please try again.","page.checkout.messages.voucherNotSufficientAmount":"The amount remaining on this code won\'t cover this transaction.","page.checkout.messages.voucherUnauthorized":"Sorry! You haven\'t met this code\'s terms and conditions.","page.checkout.messages.voucherUnauthorizedCustomer":"Sorry! You haven\'t met this code\'s terms and conditions.","page.checkout.messages.voucherUsed":"This code has already been used.","page.checkout.paymentForm.addressForm.billingAddress":"Billing address","page.checkout.paymentForm.addressForm.cantFind":"Can\'t find your address? ","page.checkout.paymentForm.addressForm.enterManually":"Enter address manually","page.checkout.paymentForm.addressForm.backToPostcodeSearch":"Back to UK postcode search","page.checkout.paymentForm.addressForm.incompleteAddress":"You need to provide a billing address in order to use your saved cards","page.checkout.paymentForm.addressForm.invalidAddress":"You need to provide a valid billing address in order to use your selected saved card","page.checkout.paymentForm.cardFee":"{amount} corporate card fee","page.checkout.paymentForm.showSavedCards":"Show saved cards","page.checkout.paymentForm.addNewAddress":"Add new address","page.checkout.paymentForm.showSavedAddresses":"Show saved addresses","page.checkout.paymentForm.selectExpirationMonth":"Select expiration month","page.checkout.paymentForm.selectExpirationYear":"Select expiration year","page.checkout.paymentForm.expiryDate":"Expiry date","page.checkout.paymentForm.selectCardType":"Please select a card type...","page.checkout.paymentForm.cardTypeOption.VisaCredit":"Visa Credit","page.checkout.paymentForm.cardTypeOption.VisaDebit":"Visa Debit","page.checkout.paymentForm.cardTypeOption.MasterCardCredit":"MasterCard Credit","page.checkout.paymentForm.cardTypeOption.MasterCardDebit":"MasterCard Debit","page.checkout.paymentForm.cardTypeOption.Maestro":"Maestro","page.checkout.paymentForm.cardTypeOption.AmericanExpress":"American Express","page.checkout.paymentForm.cardTypeOption.DinersClub":"Diners Club","page.checkout.paymentForm.cardTypeOption.InternationalVisaDebit":"International Visa Debit","page.checkout.paymentForm.cardTypeOption.InternationalMasterCardDebit":"International MasterCard Debit","page.checkout.paymentForm.cardType":"Card type","page.checkout.paymentForm.cardNumber":"Card number","page.checkout.paymentForm.cardName":"Name on card","page.checkout.paymentForm.securityCode":"Security code","page.checkout.paymentForm.cvvOptional":"CVV (optional)","page.checkout.paymentForm.sameAsDeliveryAddress":"Same as delivery address","page.checkout.paymentForm.sendLatestOffers":"Yes, I\'d like Trainline to keep me up-to-date with news and offers.","page.checkout.paymentForm.nationalExpressSendLatestOffers":"Receive emails about products & services, offers, and competitions from National Express?","page.checkout.paymentForm.discountCardMarketingOptIn":"Tick here if you would like to receive service messages about your Railcard directly from ATOC Limited.","page.checkout.paymentForm.saveCard":"Save card","page.checkout.paymentForm.cardNickName":"Card nickname (optional)","page.checkout.paymentForm.cardHint":"Hint: Try {cardType}","page.checkout.paymentForm.iframeLoadError":"Sorry, an error occurred. Please retry.","page.checkout.paymentForm.formExpiredWarning":"For your security, the payment form has been reset. Please select a payment method below to continue.","page.checkout.paymentForm.fieldError":"{fieldName} field error, {message}","page.checkout.paymentForm.submitError.expiryYear":"Expiry year","page.checkout.paymentForm.submitError.expiryMonth":"Expiry month","page.checkout.paymentForm.submitError.billingAddress":"Billing address","page.checkout.paymentForm.submitError.cardNickName":"Card nickname","page.checkout.paymentForm.submitError.confirmationEmails":"Confirmation emails","page.checkout.paymentForm.submitError.insuranceFormsInvalid":"Insurance Form(s) are invalid","page.checkout.paymentForm.submitError.insurancePassengerDetailsInvalid":"Please enter passenger details for Travel Insurance","page.checkout.paymentForm.submitError.flexcoverPassengerDetailsInvalid":"Please enter passenger details for Flexcover","page.checkout.paymentForm.serverErrors.somethingWentWrong":"\'We\'re sorry, something went wrong. Please remove the booking and try again.","page.checkout.paymentForm.serverErrors.paymentFailed":"Payment failed. Please try again.","page.checkout.paymentForm.serverErrors.alreadyPaid":"The card authorisation request has been declined as it has been identified as a duplicate purchase.","page.checkout.paymentForm.serverErrors.default":"We\'re unable to take payment. Please choose a different payment method or try again.","page.checkout.paymentForm.serverErrors.cardType":"Please check whether you\'ve selected the correct card type.","page.checkout.paymentForm.serverErrors.paypal":"We\'re unable to take payment right now from PayPal due to a payment system error. Please choose a different payment method or try again.","page.checkout.paymentForm.serverErrors.applePay":"We\'re unable to take payment right now with ApplePay due to a payment system error. Please choose a different payment method or try again.","page.checkout.paymentForm.serverErrors.dm3":"Your payment has not been authorised. Please try another card or pay with PayPal. If you still cannot pay, please contact our customer service team on 0333 202 2222 quoting reference code DM3 and we will help you out.","page.checkout.paymentForm.serverErrors.productIssuingFailed":"There was a problem with your booking. We will automatically refund the full amount back to your payment account within 48hrs. We apologise for any inconvenience. Our support team are available to help with your booking on 0333 202 2222 (open seven days a week between 8am and 10pm).","page.checkout.paymentForm.serverErrors.basketBeingPaidForIsGone":"Your basket has been updated to include all the items you added. Please check the total and select Pay again.","page.checkout.paymentForm.serverErrors.invalidApplePayFirstName":"There is a problem with your ApplePay first name. Please correct it or select another payment method.","page.checkout.paymentForm.serverErrors.invalidApplePayLastName":"There is a problem with your ApplePay last name. Please correct it or select another payment method.","page.checkout.paymentForm.serverErrors.invalidApplePayEmail":"There is a problem with your ApplePay email address. Please correct it or select another payment method.","page.checkout.paymentForm.serverErrors.invalidCardSecurityCode":"Payment failed. Please check your card security code and try again.","page.checkout.paymentForm.serverErrors.invalidCardExpiryDate":"Payment failed. Please check your card expiry date and try again.","page.checkout.paymentForm.ticketsChargedInAnotherCurrency":"* You will be charged {invoiceCurrencyValue} {invoiceCurrencyCode} for your {invoiceSeller} ticket. The above amount is an estimation only of your debited amount. Exchanges rates and associated fees may vary depending on your bank.","page.checkout.paymentForm.ticketsChargedInAnotherCurrency.withOtherTickets":"* You will be charged {invoiceCurrencyValue} {invoiceCurrencyCode} for your {invoiceSeller} ticket. The above amount is an estimation only of your debited amount. Exchanges rates and associated fees may vary depending on your bank. All other tickets will be charged {currencyValue} {currencyCode}.","page.checkout.paymentForm.needsLogin":"Re-enter your password","page.checkout.paymentForm.addressForm.invalidAddressNeedsLogin":"You need to provide a valid billing address in order to use your selected saved card. Please re-enter your password to update this card\'s billing address or choose a different payment method.","page.checkout.paymentPayPalForm.completePurchase":"Complete purchase","page.checkout.paymentPayPalForm.oneLastStep":"One last step to pay with {logo}","page.checkout.idealPaymentForm.payWithIdeal":"Paying with iDEAL","page.checkout.idealPaymentForm.payNow":"Pay now","page.checkout.paypalOverlay.relaunchWindow":"Don\'t see the secure PayPal browser? We\'ll help you re-launch the window to complete your purchase.","page.checkout.paypalOverlay.continue":"Continue","page.checkout.confirmationEmails.title":"Email address","page.checkout.confirmationEmails.title.eu":"Confirmation will be sent to","page.checkout.confirmationEmails.description.default":"We\'ll send the confirmation to...","page.checkout.confirmationEmails.description.eTicket":"We\'ll send the confirmation & eTickets to...","page.checkout.confirmationEmails.subtitle":"Also send confirmation to...","page.checkout.confirmationEmails.add":"Add email address","page.checkout.confirmationEmails.add.eu":"Add another email","page.checkout.confirmationEmails.remove":"Remove","page.checkout.confirmationEmails.placeholder":"Email address","page.checkout.quickSignUp.succeeded":"Account created! We\'ll send your confirmation email to:","page.checkout.quickSignUp.failed":"Sorry! We couldnt create your account. Please continue as a guest and register later.","page.checkout.missingUpsellRailcard":"You\'ve applied a Railcard you haven\'t bought yet  you need it to save  on your tickets. Please {a}complete your Railcard purchase{_a} before travelling.","page.checkout.emptyBasket.message.line1":"Your basket is empty.","page.checkout.emptyBasket.message.line2":"How can we help you?","page.checkout.emptyBasket.heading.line1":"Find cheap train tickets.","page.checkout.emptyBasket.heading.line2":"Buy in advance and save {saveFigure}%*","page.checkout.emptyBasket.disclaimer":"*Average savings on Advance fares vs Anytime fares purchased on day of travel. Subject to availability. Excludes coach.","page.checkout.emptyBasket.cta":"Get times & tickets","page.checkout.ticketDelivery.sencondClass.heading":"Second class post {price}","page.checkout.ticketDelivery.sencondClass.message":"Tickets will be sent within 24 hours, expect to receive within 5 working days.","page.checkout.ticketDelivery.PYO.heading":"Print your own","page.checkout.ticketDelivery.PYO.message":"Tickets will be emailed to you as a PDF, please print on A4 paper. {a}How?{_a}","page.checkout.ticketDelivery.OBBOnDemandPrintYourOwn.message":"Generate your tickets any time before you travel. Tickets are non-refundable once theyre generated. {a}How?{_a}","page.checkout.ticketDelivery.Ouigo.heading":"Print at home","page.checkout.ticketDelivery.Ouigo.message":"You will receive an email containing your tickets as an attachment, please print on A4 paper. {a}How?{_a}","page.checkout.ticketDelivery.Ouigo.eticket.heading":"Print at home & eticket","page.checkout.ticketDelivery.Ouigo.eticket.message":"Youll get an email containing your ticket. Alternatively, view your ticket in our app. {a}More info?{_a}","page.checkout.ticketDelivery.kiosk.step1":"Tap \'Collect Tickets\' at the ticket machine","page.checkout.ticketDelivery.kiosk.step2.notTrusted":"Insert the payment card used or if you pay with PayPal use any valid debit/credit card","page.checkout.ticketDelivery.kiosk.step2.trusted":"Insert any debit/credit card","page.checkout.ticketDelivery.kiosk.step3":"Type in your collection reference (shown after you have bought your tickets)","page.checkout.ticketDelivery.kiosk.step4":"Wait for your tickets to be printed","page.checkout.ticketDelivery.kiosk.default.header":"Collect from any station","page.checkout.ticketDelivery.kiosk.caw.header":"Collect at window or from any station","page.checkout.ticketDelivery.kiosk.AnyStation.header":"Collect from any station","page.checkout.ticketDelivery.kiosk.subHeader":"with a ticket machine.","page.checkout.ticketDelivery.kiosk.subHeaderWithWindow":"with a ticket machine or window.","page.checkout.ticketDelivery.kiosk.how":"How?","page.checkout.ticketDelivery.kiosk.noMachineAtStation":"Please note that your ticket cannot be collected via a ticket machine in {stationName}.\\n","page.checkout.ticketDelivery.kiosk.noCollectionFromStation":"Please note that your ticket cannot be collected from {stationName}.\\n","page.checkout.ticketDelivery.kiosk.goPaperless.title":"Go paperless with etickets","page.checkout.ticketDelivery.kiosk.goPaperless.body":"Heads up! Our paperless etickets are available on this route at no extra cost. Make the change now for fast, contactless travel.","page.checkout.ticketDelivery.AtocMTicket.step1":"Download our app (iOS 10.0 or Android 4.1 or greater). {a}Download the app here - or text me a link to the app for free!{_a}","page.checkout.ticketDelivery.AtocMTicket.step2":"View your confirmation email on your mobile phone. Then tap the big mint coloured button that says \'Download your mobile ticket in My Tickets\'","page.checkout.ticketDelivery.AtocMTicket.step3":"Simply open your app and tap to activate on the day of travel. You dont even need an internet connection, just make sure you have battery!","page.checkout.ticketDelivery.AtocMTicket.step4":"Scan the barcode at the gate or show your mobile barcode ticket to a member of staff at the barrier or on board","page.checkout.ticketDelivery.AtocMTicket.how":"How?","page.checkout.ticketDelivery.AtocMTicket.header":"Mobile barcode ticket","page.checkout.ticketDelivery.AtocMTicket.subHeader":"No need to print - view your ticket in the iPhone or Android app.","page.checkout.ticketDelivery.AtocETicket.header":"eticket","page.checkout.ticketDelivery.AtocETicket.subHeader":"Skip the ticket queue.","page.checkout.ticketDelivery.AtocETicket.how":"How?","page.checkout.ticketDelivery.ETicketHelp.download.header":"Tickets","page.checkout.ticketDelivery.ETicketHelp.subHeader":"Get ready to receive your etickets via email.","page.checkout.ticketDelivery.ETicketHelp.how":"How it works?","page.checkout.ticketDelivery.ETicketHelp.download.title":"Download to your phone","page.checkout.ticketDelivery.ETicketHelp.download.body":"We\'ll send the tickets to you via email ASAP. Zoom.","page.checkout.ticketDelivery.ETicketHelp.planet.title":"Better for the planet","page.checkout.ticketDelivery.ETicketHelp.planet.body":"No more bits of paper to lose. etickets have a low footprint!","page.checkout.ticketDelivery.ETicketHelp.QRcode.title":"Show your QR code","page.checkout.ticketDelivery.ETicketHelp.QRcode.body":"Show your tickets in the email or in our app.","page.checkout.ticketDelivery.ETicketHelp.subFooter":"Psst... If you really want old-fashioned paper, your tickets are printable.","page.checkout.ticketDelivery.AtocETicket.belowFoldTitle":"We\'ll email your tickets {b}immediately{_b} - you can {b}choose{_b} how you want to use them...","page.checkout.ticketDelivery.AtocETicket.step1.title":"Quick and easy","page.checkout.ticketDelivery.AtocETicket.step1.body":"If you have email on your phone, {b}simply open the PDF{_b} attachments and {b}show them{_b} when travelling","page.checkout.ticketDelivery.AtocETicket.step2.title":"Get some back up","page.checkout.ticketDelivery.AtocETicket.step2.body":"You can also {b}print the tickets{_b} if you want the reassurance of a paper copy as well as the electronic version","page.checkout.ticketDelivery.AtocETicket.step3.title":"Best experience","page.checkout.ticketDelivery.AtocETicket.step3.body":"Or {b}download your tickets on your app{_b} to keep them close at hand","page.checkout.ticketDelivery.OBBOnDemandETicket.header":"eticket","page.checkout.ticketDelivery.OBBOnDemandETicket.subHeader":"Generate your tickets any time before you travel. Tickets are non-refundable once theyre generated.","page.checkout.ticketDelivery.OBBOnDemandETicket.how":"How?","page.checkout.ticketDelivery.OBBOnDemandETicket.belowFoldTitle":"We\'ll email your tickets {b}immediately{_b} - you can {b}choose{_b} how you want to use them...","page.checkout.ticketDelivery.OBBOnDemandETicket.step1.title":"Quick and easy","page.checkout.ticketDelivery.OBBOnDemandETicket.step1.body":"If you have email on your phone, {b}simply open the PDF{_b} attachments and {b}show them{_b} when travelling","page.checkout.ticketDelivery.OBBOnDemandETicket.step2.title":"Get some back up","page.checkout.ticketDelivery.OBBOnDemandETicket.step2.body":"You can also {b}print the tickets{_b} if you want the reassurance of a paper copy as well as the electronic version","page.checkout.ticketDelivery.OBBOnDemandETicket.step3.title":"Best experience","page.checkout.ticketDelivery.OBBOnDemandETicket.step3.body":"Or {b}download your tickets on your app{_b} to keep them close at hand","page.checkout.ticketDelivery.NationalExpressETicket.header":"eticket","page.checkout.ticketDelivery.NationalExpressETicket.subHeader":"Instant download, show the ticket on your device or print it out.","page.checkout.ticketDelivery.NationalExpressETicket.how":"How?","page.checkout.ticketDelivery.NationalExpressETicket.belowFoldTitle":"We\'ll email your coach tickets {b}immediately{_b} - you can {b}choose{_b} how you want to use them...","page.checkout.ticketDelivery.NationalExpressETicket.step1.title":"Quick and easy","page.checkout.ticketDelivery.NationalExpressETicket.step1.body":"If you have email on your phone, {b}simply open the PDF{_b} attachments and {b}show them to the driver{_b} when boarding the coach","page.checkout.ticketDelivery.NationalExpressETicket.step2.title":"Get some back up","page.checkout.ticketDelivery.NationalExpressETicket.step2.body":"You can also {b}print the tickets{_b} if you want the reassurance of a paper copy as well as the electronic version","page.checkout.ticketDelivery.specialDelivery.header":"Royal Mail Special Delivery {price}","page.checkout.ticketDelivery.specialDelivery.subHeader":"Order before 3pm, expect your tickets the next working day. {link}","page.checkout.ticketDelivery.specialDelivery.link":"Expected delivery times.","page.checkout.ticketDelivery.internationalPost.header":"International post {price}","page.checkout.ticketDelivery.internationalPost.subHeader":"Tickets will be sent within 24 hours, expect to receive within 7 working days.","page.checkout.ticketDelivery.ticketless.header":"eticket in email","page.checkout.ticketDelivery.ticketless.subHeader":"Simply show your booking confirmation email.","page.checkout.expiredJourneysNotification.header":"{numExpired, plural, one {There is an expired journey.} other {There are expired journeys.}}","page.checkout.expiredJourneysNotification.message":"{numExpired, plural, one {Sorry, your ticket cannot be delivered by the departure time. Please search again or remove the expired journey.} other {Sorry, your tickets cannot be delivered by the departure time. Please search again or remove the expired journeys.}}","page.checkout.expiredJourneysNotification.header.version2":"{numExpired, plural, one {Expired trip} other {Expired trips}}","page.checkout.expiredJourneysNotification.message.version2":"{numExpired, plural, one {Sorry, you have an expired trip. To continue, either remove it or search again.} other {Sorry, you have expired trips. To continue, either remove them or search again.}}","page.checkout.expiredItemsNotification.header":"Discount card or trip expired","page.checkout.expiredItemsNotification.message":"Sorry! Your trip or discount cards have expired. Please check your details, remove the expired items or search again.","page.checkout.tooManyItemsInBasketNotification.header":"There are too many journeys.","page.checkout.tooManyItemsInBasketNotification.message":"You can only book up to {maxJourneyCount} journeys in your basket at a time. {numberOfJourneysThatNeedRemoving, plural, one {To proceed with your booking please remove a journey} other {To proceed with your booking please remove {numberOfJourneysThatNeedRemoving} journeys}}.","page.checkout.enrolment":"Enrolment","page.checkout.enrolment.bankSecurityPage":"Bank security page","page.checkout.enrolment.needBankApproval":"Before we can complete your purchase, we need your bank\'s approval","page.checkout.savedCard.expired":"Expired:","page.checkout.savedCard.expiredNoDate":"Expired","page.checkout.savedCard.expiresBeforeDeparture":"Expires before departure:","page.checkout.savedCard.expires":"Expires:","page.checkout.usabillaTitle":"Feedback","page.checkout.continueToPayButton":"Continue to pay","page.checkout.usabillaButton":"You\'re viewing our new payment page. Tell us what you think","page.checkout.usabillaButton.eu":"Tell us what you think of our payment page","page.checkout.basketPricingConversion.message":"You\'re using our {a}multi-currency booking{_a} feature.","page.checkout.basketPricingConversion.priceLock.title":"Prices are locked for {duration} {duration, plural, one {minute} other {minutes}}","page.checkout.basketPricingConversion.priceLock.title.extended":"Prices are locked for another {duration} {duration, plural, one {minute} other {minutes}}","page.checkout.basketPricingConversion.priceLock.body":"Countdown began when your ticket was added to your basket.","page.checkout.basketPricingConversion.priceLock.body.extended":"Countdown began when you extended your session.","page.checkout.loading":"Loading...","page.checkout.discountCode.alert.successMessage":"Your {carrierName} discount card saving is applied - {b}you save {totalCarrierSavingAcrossAllCards}{_b}","page.checkout.discountCode.alert.genericSuccessMessage":"Your {carrierName} discount card saving is applied","page.checkout.promoCode.alert.successMessage":"Discount applied {a}(-{discount}){_a}","page.checkout.promoCode.alert.successMessage.percent":"{discount} discount applied","page.checkout.promoCode.alert.successMessageRailcard":"Discount applied to your Railcard!","page.checkout.promoCode.alert.failureMessage":"Discount could not be applied","page.checkout.promoCode.alert.failureMessage.expired":"Youre a little late! {discount} has expired.","page.checkout.promoCode.alert.failureMessage.notFound":"We couldnt read your discount code. Please check it and try again.","page.checkout.promoCode.alert.failureMessage.notFound.possibleSNCFCode":"There\'s a problem with your discount. Using an SNCF discount code? Please start your search again and enter your code under card details.","page.checkout.promoCode.alert.failureMessage.technicalError":"Sorry! There was a problem at our end and we couldnt apply {discount}. Please try again.","page.checkout.promoCode.alert.failureMessage.redemptionTotalLimitReached":"We cant apply {discount} because it has already been used.","page.checkout.promoCode.alert.failureMessage.firstAppPurchase":"Discount is only valid on first app purchase","page.checkout.promoCode.alert.failureMessage.redeemed":"Only one discount can be applied at a time.","page.checkout.promoCode.alert.failureMessage.currencyInvalid":"We cant apply {discount} because youre using the wrong currency. Please change your currency to {currencyCode}.","page.checkout.promoCode.alert.failureMessage.appOnly":"Discount is only valid for use on app","page.checkout.promoCode.alert.removeCtaLabel":"Remove discount","page.checkout.promoCode.alert.learnMoreCtaLabel":"Learn more","page.checkout.promoCode.removeModal.removeCtaLabel":"Remove discount","page.checkout.promoCode.removeModal.cancelCtaLabel":"Cancel","page.checkout.promoCode.removeModal.title":"Don\'t want to use your discount?","page.checkout.promoCode.removeModal.text":"If you remove your discount now, youll need to use the link in your offer email or enter your discount code again if you change your mind. Remember to redeem your discount before it expires!","page.checkout.promoCode.removeModal.error":"We couldnt remove your discount. Please try again.","page.checkout.promoCode.priceSummaryModal.title":"Price breakdown","page.checkout.promoCode.priceSummaryModal.tableCaption":"Journeys in your basket with the discounts applied","page.checkout.promoCode.priceSummaryModal.promoApplied":"Discount applied","page.checkout.promoCode.priceSummaryModal.promoDiscount":"Discount","page.checkout.promoCode.priceSummaryModal.totalToPay":"Total to pay","page.checkout.promoCode.priceSummaryModal.totalBeforeDiscount":"Total before discount","page.checkout.promoCode.priceSummaryModal.termsText":"The promotional discount has been applied to this booking. {a}See full terms and conditions{_a}","page.checkout.promoCode.priceSummaryModal.fromTo":"{departureStation} to {arrivalStation}","page.checkout.promoCode.priceSummaryModal.deliveryFee":"Delivery Fee","page.checkout.promoCode.priceSummaryModal.bookingFee":"Booking Fee","page.checkout.promoCode.failureDetailsModal.title":"Your discount has gone off track","page.checkout.promoCode.failureDetailsModal.title.redemptionTotalLimitReached":"That discount has left the station","page.checkout.promoCode.failureDetailsModal.intro.minimumSpendNotMet":"We cant apply your discount because the items in your basket dont meet the {value} spend.","page.checkout.promoCode.failureDetailsModal.intro.currencyInvalid":"We cant apply your discount because youre using a currency other than the one specified in your offer email.","page.checkout.promoCode.failureDetailsModal.intro.expired":"We cant apply your discount because the expiry date of {value} has passed.","page.checkout.promoCode.failureDetailsModal.intro.notFound":"It looks like theres a problem with that discount. Please start your search again.","page.checkout.promoCode.failureDetailsModal.intro.redeemed":"Your discount has already been redeemed and cant be used.","page.checkout.promoCode.failureDetailsModal.intro.excludedVendorUsed":"We cant apply your discount because youre booking a journey that isnt included in your offer.","page.checkout.promoCode.failureDetailsModal.intro.firstAppPurchase":"1st app purchase only","page.checkout.promoCode.failureDetailsModal.intro.notNewCustomer":"We couldnt verify that youre a new user. Please start your search again. Your discount wont be applied.","page.checkout.promoCode.failureDetailsModal.intro.redemptionTotalLimitReached":"Sorry! All available discounts have now been claimed and we cant apply your discount.","page.checkout.promoCode.failureDetailsModal.conditions.intro":"Remember, you can only apply your discount under the following conditions:","page.checkout.promoCode.failureDetailsModal.conditions.minSpend":"Minimum spend of {minSpend} reached (excl. fees and charges)","page.checkout.promoCode.failureDetailsModal.conditions.currency":"Your transaction must be in the same currency as your discount","page.checkout.promoCode.failureDetailsModal.conditions.expiryDate":"Before the expiry date of {expiryDate}","page.checkout.promoCode.failureDetailsModal.conditions.notStarted":"Youve not used the discount before","page.checkout.promoCode.failureDetailsModal.conditions.newCustomersOnly":"Youve not used the discount before and youre a new Trainline customer","page.checkout.promoCode.failureDetailsModal.terms":"See the full {a}terms and conditions{_a}.","page.checkout.promoCode.failureDetailsModal.reference":"Your discount reference: {reference}","page.checkout.invoiceRequestFailed":"We were not able to request an invoice for this ticket because your company name does not match the one in Trenitalia\'s registry. You can either proceed to purchase without an invoice or contact Trenitalia at fatturazioneonline@trenitalia.it to update your billing information and then restart your search.","page.checkout.invalidCustomFieldsBasket.header":"There is a journey that needs to be reviewed.","page.checkout.customFieldsNotValidate.body":"Sorry, we cant book your ticket because your organisation requires additional information from you. Please search again or remove the journey.","page.confirmation.airportAwareness.title":"Flying in? Book your airport transfer now","page.confirmation.airportAwareness.paragraph":"Get tickets to central {city} here. Great value? Weve got that, too.","page.confirmation.airportAwareness.button":"Transfer from {airport}","page.confirmation.airportAwareness.container.title":"Where to next?","page.confirmation.airportAwareness.SuggestionDestination.title":"Hop over to {city}","page.confirmation.airportAwareness.SuggestionDestination.paragraph":"Our visitors to Europe booked a trip to {suggestedCity} after exploring {destinationCity}. Book in advance for stellar savings.","page.confirmation.airportAwareness.SuggestionDestination.button":"Tickets to {city}","page.confirmation.orderFailed.title.successfulDestinations":"Your tickets to {destinations} are on their way.","page.confirmation.orderFailed.title.failedDestinations":"We\'re sorry, we were unable to book your tickets to {destinations}.","page.confirmation.orderFailed.title.failedRailcard":"Sorry, there was an issue processing your Railcard.","page.confirmation.orderFailed.title.failedRailcards":"Sorry, there was an issue processing your Railcards.","page.confirmation.orderFailed.title.processedRefund":"We\'ve processed a refund for {refundAmount}","page.confirmation.orderFailed.title.railcardProcessedRefund":"We\'re processing a refund for {refundAmount}","page.confirmation.orderFailed.someProductFailed":"Sorry, not all of your orders were successful","page.confirmation.orderFailed.partialItineraryFailed":"Sorry, not all of your orders are confirmed, please check your email","page.confirmation.orderFailed.allProductFailed":"Sorry, your order failed","page.confirmation.orderFailed.asyncPaymentFailed.unableToBookTickets":"We\'re sorry, we were unable to book your tickets to {destinations}.","page.confirmation.orderFailed.asyncPaymentFailed.unableToBookRailcard.singleDiscountCardProduct.title":"We\'re sorry, we were unable to book your {singleRailcard}.","page.confirmation.orderFailed.asyncPaymentFailed.unableToBookRailcard.multipleDiscountCardProducts.title":"We\'re sorry, we were unable to book your {multipleRailcards}.","page.confirmation.orderFailed.asyncPaymentFailed.unableToBookTicketsOrRailcards.singleDiscountCardProduct.title":"We\'re sorry, we were unable to book your {singleRailcard} or your tickets to {destinations}.","page.confirmation.orderFailed.asyncPaymentFailed.unableToBookTicketsOrRailcards.multipleDiscountCardProducts.title":"We\'re sorry, we were unable to book your {multipleRailcards} or your tickets to {destinations}.","page.confirmation.orderFailed.asyncPaymentFailed.youHaveNotBeenCharged":"You have not been charged for this order","page.confirmation.orderFailed.asyncPaymentFailed.warning":"We were unable to complete your order due to an error with your payment method. \\nYou have not been charged.","page.confirmation.orderFailed.fulfilmentFailed.default.warning":"Your refund is being processed. It may take up to five days for refunds to show in your account.","page.confirmation.orderFailed.fulfilmentFailed.mixedBasket.warning":"Payment has been taken but we\'ll refund you the amount for unsuccessful order automatically, no need to do anything. The money refunded could take up to 5 days to arrive in your account.","page.confirmation.orderFailed.promoCodeAvailable":"Dont worry  your discount is still good to go. Well keep it in your basket until youre ready to check out.","page.confirmation.partialRefundEmail":"Check your inbox at {email} for emails containing confirmation of your order and refund","page.confirmation.refundEmail":"Check your inbox at {email} for an email containing confirmation of your refund","page.confirmation.destination.goingTo.gotSaleTicket":"Great! You got a sale ticket","page.confirmation.destination.goingTo.goingTo":"You\'re going to {destination}","page.confirmation.destination.goingTo.yourTicketsToAreOnTheirWay":"Your tickets to {destination} are on their way","page.confirmation.destination.goingTo.viewYourETicketsInOurApp":"View your etickets to {destination} in our app","page.confirmation.destination.goingTo.viewYourETickets":"View your etickets to {destination}","page.confirmation.singleDiscountCardProduct.title":"Your {singleRailcard} is confirmed.","page.confirmation.multipleDiscountCardProducts.title":"Your {multipleRailcards} are confirmed.","page.confirmation.deliveryMethod.sncfRailcardPdf":"We\'ll send your discount card PDF by email","page.confirmation.mixedBasket.eTicketOnly.singleDiscountCardProduct.title":"View your etickets to {destinationList} and your {singleRailcard} in our app.","page.confirmation.mixedBasket.eTicketOnly.multipleDiscountCardProducts.title":"View your etickets to {destinationList} and your {multipleRailcards} in our app.","page.confirmation.mixedBasket.singleDiscountCardProduct.title":"Your tickets to {destinationList} and your {singleRailcard} are confirmed.","page.confirmation.mixedBasket.multipleDiscountCardProducts.title":"Your tickets to {destinationList} and your {multipleRailcards} are confirmed.","page.confirmation.destination.emailConfirmation.and":"and","page.confirmation.destination.emailConfirmation.emailToSingleRecipient":"Check your inbox at {email} for an email containing confirmation of your order.","page.confirmation.destination.emailConfirmation.emailToMultipleRecipients":"We\'ll send a confirmation email shortly to {emails} containing confirmation of your order","page.confirmation.webLoyalty.title":"Cashback offer","page.confirmation.webLoyalty.continue":"Continue","page.confirmation.summary.order.title":"Order summary","page.confirmation.summary.journey.title":"Journey summary","page.confirmation.hotelBanner.title":"Book a hotel","page.confirmation.hotelBanner.widgetTitle":"Travel extras","page.confirmation.email.title":"Confirmation email address","page.confirmation.saveYourDetails.title":"Add a password to manage your order","page.confirmation.saveYourDetails.password.placeholder":"Must be at least 6 characters","page.confirmation.saveYourDetails.createAccountButton":"Create my account","page.confirmation.saveYourDetails.newTitle":"Add a password to manage your booking","page.confirmation.saveYourDetails.password.constraints":"Password must be 6 characters or more","page.confirmation.saveYourDetails.createAccount":"Create Trainline account","page.confirmation.saveYourDetails.enterPassword":"Enter password","page.confirmation.saveYourDetails.benefitOne":"Save payment details for faster orders","page.confirmation.saveYourDetails.benefitTwo":"Make, change and refund orders easily","page.confirmation.saveYourDetails.benefitThree":"All your tickets in one place","page.confirmation.saveYourDetails.accountCreationError":"We\'re sorry, we were unable to create your account","page.confirmation.delivery.reference.collectionReference":"Collection ref","page.confirmation.delivery.reference.collectionReference.yourReference":"View your ticket collection reference and more in our app","page.confirmation.delivery.reference.orderReference.yourReference":"Your order reference is","page.confirmation.delivery.reference.orderReference.bookingReference":"Trainline booking reference:","page.confirmation.delivery.deliverySummary.collectAtAny":"{collectYourTicket} from any station with a ticket machine. {how}","page.confirmation.delivery.deliverySummary.collectAtAnyWithWindow":"{collectYourTicket} from any station with a ticket machine or window. {how}","page.confirmation.delivery.deliverySummary.collectYourTicket":"Collect your ticket","page.confirmation.delivery.deliverySummary.howQuestion":"How?","page.confirmation.delivery.deliveryDetails.rememberText":"Remember to take {paymentCardText}{andYourRailcard}. {also} {ticketsReadyInfo}.","page.confirmation.delivery.deliveryDetails.ticketsReadyIn15Minutes":"Tickets will be ready for collection 15 minutes after order","page.confirmation.delivery.deliveryDetails.ticketsReadyShortly":"Tickets will be ready for collection shortly after order","page.confirmation.delivery.deliveryDetails.paymentCardGenericText":"any debit/credit card to collect your tickets","page.confirmation.delivery.deliveryDetails.paymentCardPaidText":"the debit/credit card you paid with to collect your tickets","page.confirmation.delivery.deliveryDetails.andYourRailcard":", and your {railcard}","page.confirmation.delivery.deliveryDetails.railcard":"railcard","page.confirmation.delivery.deliverySummary.downloadMTicket":"Tickets will be ready to download to your app in {minutes} mins.","page.confirmation.delivery.deliverySummary.downloadETicket":"Check your inbox at {emails} for {total, number} emails - one confirming your purchase and {total, plural,=2 {another with your eticket attached} other {the others with your etickets attached}}.","page.confirmation.delivery.deliverySummary.OUIGOETicket":"Your ticket will be ready 4 days before departure. Look out for an email from OUIGO or view it in our app.","page.confirmation.delivery.deliverySummary.downloadETicket.mixedBasket":"Check your inbox for {total, number} emails - {ukETicket, plural, one {one email with your UK rail eticket attached} other {# emails with your UK rail etickets attached}}, and another email with your other etickets attached.","page.confirmation.delivery.deliverySummary.downloadSNCFETicket":"Check your inbox for an email containing a confirmation of your purchase and your eticket(s) attached","page.confirmation.delivery.deliverySummary.OBBOnDemandETicket":"Generate your tickets any time before you travel. Tickets are non-refundable once theyre generated.","page.confirmation.delivery.deliverySummary.OBBOnDemandETicket.subHeader":"We\'ll send your etickets to {email}. Generate your tickets any time before you travel. Tickets are non-refundable once theyre generated.","page.confirmation.delivery.deliverySummary.downloadNationalExpressETicket":"Check your inbox for an email with your etickets attached","page.confirmation.delivery.deliverySummary.ticketless":"Check your inbox for an email containing a confirmation of your purchase.","page.confirmation.delivery.deliverySummary.rememberToActivate":"Remember to activate your tickets on the day of travel.","page.confirmation.delivery.deliveryDetails.noNeedToPrint":"No need to print - view your order ref in our app.","page.confirmation.delivery.deliveryDetails.rememberRailcards":"Also, remember to take your railcard with you.","page.confirmation.delivery.deliverySummary.caw":"Collect your ticket from the window at {origins}.","page.confirmation.delivery.deliverySummary.printYourPDF":"Please print your PDF ticket attached to your email.","page.confirmation.delivery.deliverySummary.willEmailYourTickets":"We\'ll email your tickets to {emails} for you to print","page.confirmation.delivery.deliverySummary.willSendByPost":"We\'ll send your tickets by Second class post.","page.confirmation.delivery.deliverySummary.willSendBySpecialDelivery":"We\'ll send your tickets by next day delivery.","page.confirmation.delivery.deliverySummary.willSendByInternationalPost":"We\'ll send your tickets by international post.","page.confirmation.delivery.deliverySummary.expectThemBy":"Expect them by {deliveryDate}.","page.confirmation.delivery.deliverySummary.willSendToAddress":"Tickets will be sent to {address}.","page.confirmation.delivery.deliverySummary.willSendToManyAddresses":"Tickets will be sent to the addresses provided.","page.confirmation.delivery.deliverySummary.eTicket":"We\'ll send your etickets to {email}","page.confirmation.delivery.deliveryDetails.alsoCaw":"You can also collect from a ticket machine.","page.confirmation.delivery.viewTicketInTheApp.headerText":"Viewing your ticket in the app","page.confirmation.delivery.viewTicketInTheApp.step1":"Download our app (iOS 10.0 or Android 4.1 or greater). {a}Download the app here - or text me a link to the app for free!{_a}","page.confirmation.delivery.viewTicketInTheApp.step2":"Download your mobile barcode ticket in \'My Tickets\' available 5 minutes after purchase","page.confirmation.delivery.viewTicketInTheApp.step3":"Open your app and tap to activate on the day of travel. You don\'t need an internet connection, just make sure you have battery!","page.confirmation.delivery.viewTicketInTheApp.step4":"Scan the barcode at the gate or show your mobile barcode ticket to a member of staff at the barrier or on board","page.confirmation.delivery.textAppLinkLabel":"Text me the link to the app","page.confirmation.emailConfText.sendEmailTo":"We\'ll send a confirmation email shortly to ","page.confirmation.getAppBanner.getOurAppNow":"Get our app now","page.confirmation.getAppBanner.getOurApp":"Get our app","page.confirmation.getAppBanner.valueProposition.beFirst":"Be first to get live journey updates and platform info","page.confirmation.getAppBanner.valueProposition.beFirst.desktop":"Want to be first to get live journey updates and platform info?","page.confirmation.getAppBanner.valueProposition.splitSave":"Find cheaper fares with SplitSave","page.confirmation.getAppBanner.valueProposition.splitSave.desktop":"Save more with SplitSave","page.confirmation.getAppBanner.valueProposition.noPaperDigital":"No paper, no fuss  just scan and go with digital tickets","page.confirmation.getAppBanner.valueProposition.noPaperDigital.desktop":"Apply digital Railcards instantly and save ","page.confirmation.getAppBanner.valueProposition.flexiTickets":"Unlock flexible travel with Flexi tickets","page.confirmation.getAppBanner.valueProposition.flexiTickets.desktop":"Unlock flexible travel with Flexi tickets","page.confirmation.getAppBanner.scanQrCode":"Scan the QR code with your phone or add your mobile number.","page.confirmation.journey.route":"{secondary}{origin} to{_secondary} {primary}{destination}{_primary}","page.confirmation.totalPaid":"Total paid:","page.confirmation.totalBeingRefunded":"Total being refunded:","page.confirmation.totalToPay":"Total to pay:","page.confirmation.total":"Total:","page.confirmation.secondClassPost.eta":"Expect them by ","page.confirmation.secondClassPost.sentTo":"Tickets will be sent to...","page.confirmation.secondClassPost.postText":"We\'ll send your tickets by Second class post.","page.confirmation.secondClassPost.multipleJourneys":"Tickets will be sent to the addresses provided","page.confirmation.tripCard.returnAbv":"RTN","page.confirmation.tripCard.singleAbv":"SGL","page.confirmation.tripCard.collectionRef":"Collection ref","page.confirmation.tripCard.your":"Your","page.confirmation.tripCard.collectionRefsBelow":"{count, plural, one {Your collection reference is provided below} other {{countWord} collection references are provided below.}}","page.confirmation.tripCard.collectionRefsByEmail":"We\'ll send your ticket collection reference by email shortly","page.confirmation.tripCard.orderRef":"Order ref","page.confirmation.tripCard.out":"OUT","page.confirmation.tripCard.orRestrictions":"Your return is valid for one calendar month","page.confirmation.tripCard.total":"Trip total","page.confirmation.tripCard.pnrCode":"PNR Code","page.confirmation.railcardExpiryBanner.title":"Go digital with your next Railcard","page.confirmation.railcardExpiryBanner.description":"Tell us when your current Railcard expires, and well help you to renew with a digital Railcard.","page.confirmation.railcardExpiryBanner.formTitle":"Railcard expiry date","page.confirmation.railcardExpiryBanner.formSubmitSuccess":"Successfully submitted. We\'ll be in touch before your Railcard expires.","page.confirmation.railcardExpiryBanner.formSubmitButton":"Submit","page.confirmation.railcardExpiryBanner.formValidationSubmitError":"Please enter your expiry date","page.confirmation.railcardExpiryBanner.formValidationSpecialCharacterSubmitError":"Cannot contain special characters","page.confirmation.railcardExpiryBanner.formGenericSubmitError":"Error submitting. Please try again.","page.confirmation.apppromotion.textMeLink":"Text me a link","page.confirmation.apppromotion.getALink":"Get a link","page.confirmation.apppromotion.signIn":"Sign in on our app as {email}","page.confirmation.apppromotion.register":"Register on our app as {email}","page.confirmation.apppromotion.allYourTickets":"Keep all your tickets in one place and manage your orders in an instant with our app.","page.confirmation.apppromotion.platformInfo":"Live times and platform info","page.confirmation.apppromotion.disruptionUpdates":"Disruption updates","page.confirmation.apppromotion.manageOrders":"Manage your orders","page.confirmation.mobileinstructions.viewingYourTicket":"Viewing your ticket in the app","page.confirmation.mobileinstructions.mobileHowStep1":"Download our app (iOS 10.0 or Android 4.1 or greater). {link}","page.confirmation.mobileinstructions.mobileHowStep1Link":"Download the app here - or text me a link to the app for free!","page.confirmation.mobileinstructions.mobileHowStep2HasAccount":"Download your mobile barcode ticket in \'My Tickets\' available 5 minutes after purchase","page.confirmation.mobileinstructions.mobileHowStep2":"View your confirmation email on your mobile phone. Then tap the big mint coloured button that says \'Download your mobile ticket in My Tickets\'","page.confirmation.mobileinstructions.mobileHowStep3":"Open your app and tap to activate on the day of travel. You dont need an internet connection, just make sure you have battery!","page.confirmation.mobileinstructions.mobileHowStep4":"Scan the barcode at the gate or show your mobile barcode ticket to a member of staff at the barrier or on board","page.confirmation.insurancecoveredby.title":"Youre covered by Insurance","page.confirmation.insurancecoveredby.summary":"You will receive an email with details of your cover","page.confirmation.payment.isAsync.progress":"Payment in progress.{br}We\'ll email confirmation of your {destinations} orders shortly","page.confirmation.payment.isAsync.progressTitle":"Payment in progress","page.confirmation.payment.isAsync.progressDestinations":"We\'ll email confirmation of your {destinations} orders shortly","page.confirmation.payment.isAsync.confirmation":"Check your inbox at {email} for an email containing confirmation of your order","page.confirmation.payment.isAsync.failed.emailTo":"Check your inbox at {email} for an email containing details of the failed order","page.confirmation.payment.isAsync.failed.detailsEmail":"Check your inbox at {email} for an email containing more details.","page.confirmation.payment.isAsync.checkOrders":"You can also check {a}your orders{_a} for updates","page.confirmation.transitionToApp.info":"To download Railcards youll need to log in to your account in the Trainline app. Please make sure you have the latest version installed.","page.confirmation.transitionToApp.faqLink":"{a}Need help finding your Railcard in the app?   {_a}","page.confirmation.transitionToApp.how":"{a}How?{_a}","page.confirmation.myorders.info":"For more information on your orders","page.confirmation.mybookings.info":"View and manage all your orders in one place","page.confirmation.myaccount.info":"For more information on your Railcard","page.confirmation.myorders.cta":"Go to My Orders","page.confirmation.mybookings.cta":"Go to My Bookings","page.confirmation.myaccount.cta":"Go to My Account","page.confirmation.insuranceFailure.title":"{strong}We couldnt add insurance to your order.{_strong}","page.confirmation.insuranceFailure.content":"Your order was successful, but there was an error in insuring your travel. We\'ll refund your insurance automatically. The money refunded will take up to 5 working days to arrive in your account.","page.confirmation.insuranceFailure.details":"Order transaction ID: {transactionId}","page.confirmation.transitionToApp.cta.singleRailcard":"Download Railcard in the app","page.confirmation.transitionToApp.cta.multipleRailcards":"Download Railcards in the app","page.confirmation.tickets.railcards.cta":"Continue in our app","page.confirmation.tickets.cta":"View your tickets in the app","page.confirmation.ticketsAndRailcard.cta":"View your tickets and Railcard in the app","page.confirmation.pushNotifications.title":"Keep me posted","page.confirmation.pushNotifications.content":"Send me notifications with travel info about my orders and other relevant alerts on this device and browser.","page.confirmation.PushNotifications.blockedWarning":"We cant send you travel alerts because youve blocked these notifications in your browser settings. Please update your settings and refresh the page.","page.confirmation.PushNotifications.failedToUpdate":"An error has occurred and your preference hasn\'t been saved.","page.confirmation.AppPromotionContainer.message":"Get live times and more on our app","page.confirmation.partnershipPromoSection.title":"How about a little extra?","page.confirmation.partnershipPromoSection.body":"Find ways to {a}make your trip special{_a} below.","page.confirmation.crossSell.duration.minutes":"m","page.confirmation.crossSell.duration.hours":"h","page.confirmation.crossSell.priceLabel":"From","page.confirmation.crossSell.title":"A short rail trip from {destination}","page.confirmation.crossSell.body":"Ready to get off the beaten track and explore nearby destinations? Of course you are. Let\'s roll.","page.confirmation.crossSell.tripCardsListTitle":"Popular destinations around {destination}","page.confirmation.crossSell.ctaText":"Explore more destinations","page.confirmation.webToApp.appStoreRatings.ios":"On App Store","page.confirmation.webToApp.appStoreRatings.android":"On Google Play","page.passengerDetails.title":"Passenger details","page.passengerDetails.info":"We need the following information to secure your booking.","page.passengerDetails.mobileInfo":"We need the below info to book your tickets. ","page.authorisationDisclamer":"Were an authorised retailer for 260+ train and bus companies","page.passengerDetails.usabillaButton":"Tell us what you think about our passenger details page","page.passengerDetails.changeSearchButton":"Change","page.passengerDetails.changeSearchButton.aria":"Make changes to passengers","page.passengerDetails.selectFromSavedPassengersBelow":"Enter new passenger details or select from your saved passengers below:","page.euOptions.usabillaButton":"Tell us what you think about our passenger details and options page","page.ukOptions.usabillaButton":"Tell us what you think about our seating and options page","page.ukOptions.seatingAndOptions":"Seating and options","page.ukOptions.howToGetYourTickets":"How to get your tickets","page.ukOptions.deliveryMethod.kiosk.mobile.collectAtStation.title":"Collect at station","page.ukOptions.deliveryMethod.kiosk.mobile.collectAtWindow.title":"Collect at window","page.ukOptions.deliveryMethod.kiosk.desktop.collectAtStation.title":"Collect from any station with a ticket machine","page.ukOptions.deliveryMethod.kiosk.desktop.collectAtWindow.title":"Collect at window from this station or from any station with a ticket machine","page.ukOptions.deliveryMethod.kiosk.collectAtWindow.description":"You will need the payment card used and your collection reference to collect your ticket from the station window or from a self-service ticket machine. Tickets will be ready for collection shortly after booking.","page.ukOptions.deliveryMethod.kiosk.collectAtWindow.trusted.description":"You will need your collection reference and any debit/credit card to collect your ticket from the station window or from a self-service ticket machine. Tickets will be ready for collection shortly after booking.","page.ukOptions.deliveryMethod.kiosk.collectAtStation.description":"You will need the payment card used and your collection reference.\\n Tickets will be ready for collection shortly after booking.","page.ukOptions.deliveryMethod.kiosk.collectAtStation.trusted.description":"You will need your collection reference and any debit/credit card.\\n Tickets will be ready for collection shortly after booking.","page.ukOptions.deliveryMethod.kiosk.viewMore":"View more","page.deliveryOptions.changeEmailButtonText":"Change email","page.deliveryOptions.title":"Select a delivery option","page.deliveryOptions.invalidSelection":"Please select a delivery option.","page.deliveryOptions.ticketMachine.note":"You can collect your ticket from {b}{stationName}{_b} or over {link}1500 stations{_link} listed, but you must collect your tickets before you start your journey.","page.deliveryOptions.ticketMachine.note.stations":"stations","page.deliveryOptions.ticketMachine.placeholder":"e.g. name@company.com","page.deliveryOptions.emailLabel":"Email collection ref to:","page.deliveryOptions.ctr.combined":"I would like {popout}one collection reference{_popout} to collect all tickets for my journeys at the same time","page.deliveryOptions.ctr.combined.popout.title":"One collection reference","page.deliveryOptions.ctr.combined.popout.message":"All Journeys booked in this transaction will have the same collection reference. This means you only have to visit the station ticket machine and enter your collection reference once, as all the tickets for all your journeys are printed in one go.","page.deliveryOptions.ctr.individual":"I would like {popout}{productCount} individual collection references{_popout} to collect tickets for each of my journeys individually","page.deliveryOptions.ctr.individual.popout.title":"Individual collection references","page.deliveryOptions.ctr.individual.popout.message":"Each journey booked in this transaction will have an individual collection reference. This means that you will have to visit the station ticket machine and enter each of your collection references individually, as all the tickets for each of your journeys will be printed one at a time.","page.deliveryOptions.mTicket.nameInvalid":"Please enter a passenger name","page.deliveryOptions.eu.cardLabel":"{cardName}","page.deliveryOptions.eu.cardLabelWithNumber":"{cardName}: {cardNumber}","page.deliveryOptions.eu.invalid.intro":"Please double check the following fields before continuing:","page.deliveryOptions.eu.invalid.firstName":"Cannot contain special characters","page.deliveryOptions.eu.invalid.minMaxFirstName":"Must be between {minLength} and {maxLength} characters","page.deliveryOptions.eu.invalid.surname":"Cannot contain special characters","page.deliveryOptions.eu.invalid.minMaxSurname":"Must be between {minLength} and {maxLength} characters","page.deliveryOptions.eu.invalid.duplicatedPassenger":"Please make sure you haven\'t entered the same passenger\'s details more than once","page.deliveryOptions.eu.invalid.invalidDateOfBirth":"Please enter a valid date of birth.","page.deliveryOptions.eu.invalid.invalidDateOfBirthForPassengerType":"Your date of birth is not valid for the selected passenger type.","page.deliveryOptions.eu.invalid.invalidGender":"Please provide your gender","page.deliveryOptions.eu.invalid.invalidTitle":"Please provide your title","page.deliveryOptions.eu.invalid.outOfBoundsDateOfBirth":"Cannot be before 1900 or after current date.","page.deliveryOptions.eu.invalid.phone":"Phone number should be 4-15 numbers long","page.deliveryOptions.eu.invalid.weak.password":"Weak password.","page.deliveryOptions.eu.invalid.long.password":"Password is too long, it must be less than 128 characters.","page.deliveryOptions.eu.emailCheck.acceptSuggestedEmail":"Yes","page.deliveryOptions.eu.emailCheck.ignoreSuggestedEmail":"No","page.deliveryOptions.eu.emailCheck.suggestedEmail":"Did you mean {suggestedEmail}?","page.deliveryOptions.eu.emailCheck.checkIsCorrect":"Please ensure your email is entered correctly in order to get your tickets.","page.deliveryOptions.eu.emailCheck.confirmEmailPlaceholder":"Confirm email address","page.deliveryOptions.eu.emailCheck.confirmEmailNotMatching":"Email addresses must match","page.deliveryOptions.eu.empty.field":"This field should not be empty","page.deliveryOptions.eu.empty.phone":"Please enter a phone number","page.deliveryOptions.eu.empty.documentType":"Please choose the document type","page.deliveryOptions.eu.empty.documentNumber":"Please enter a document number","page.deliveryOptions.eu.passengerID":"Passenger\'s ID","page.deliveryOptions.eu.invalid.documentNumber":"Must be between 4 and 100 characters long","page.deliveryOptions.eu.invalid.document":"Invalid document number","page.deliveryOptions.eu.saveDetails":"Save details","page.deliveryOptions.eu.saveForLater":"Save details for future bookings","page.deliveryOptions.eu.saveID":"Save ID","page.deliveryOptions.eu.savePhoneNumber":"Save phone number","page.deliveryOptions.eu.SNCFDigipass.empty":"Please enter your card number to continue.","page.deliveryOptions.eu.SNCFDigipass.tooShort":"The number is too short. Please enter {minLength} characters","page.deliveryOptions.eu.SNCFDigipass.tooLong":"The number is too long. Please reduce to {maxLength} characters","page.deliveryOptions.eu.SNCFDigipass.travelProtocol.invalidLoyaltyCardNumber":"Invalid card number. Please try again or remove the card.","page.deliveryOptions.eu.PIUCode.empty":"Please enter your card number to continue.","page.deliveryOptions.eu.PIUCode.tooShort":"The number is too short. Please enter {minLength} characters","page.deliveryOptions.eu.PIUCode.tooLong":"The number is too long. Please reduce to {maxLength} characters","page.deliveryOptions.eu.PIUCode.travelProtocol.invalidLoyaltyCardNumber":"Invalid card number. Please try again or remove the card.","page.deliveryOptions.nationalExpressETicket.nameInvalid":"Please provide a first name and last name","page.deliveryOptions.nationalExpressETicket.nameInvalidWithSpecialCharacters":"Your name must not include numbers or special characters","page.deliveryOptions.ticketMachine.emailInvalid":"Please enter a valid email address","page.deliveryOptions.ticketMachine.emailEmpty":"Please enter an email address","page.deliveryOptions.ticketMachine.title":"Collect from any station with a ticket machine","page.deliveryOptions.ticketMachine.description":"You will need the payment card used and your collection reference.\\n Tickets will be ready for collection shortly after booking.","page.deliveryOptions.ticketMachine.description.bike":"Collect your ticket and bike space voucher at the station window or from a self-service ticket machine using your collection reference and any debit or credit card.","page.deliveryOptions.ticketMachine.bikeTitle":"eticket","page.deliveryOptions.ticketMachine.bikeDescription":"Not available with bike reservations","page.deliveryOptions.ticketMachine.trusted.description":"You will need your collection reference and any debit/credit card to collect your ticket from the station window or from a self-service ticket machine.\\n Tickets will be ready for collection shortly after booking.","page.deliveryOptions.ticketMachine.alternativeStationNotSelected":"Please select a station","page.deliveryOptions.ticketMachine.collectTicketFromStationsList":"You will be able to collect your ticket(s) from any other {link}1500 stations{_link} listed.","page.deliveryOptions.collectAtWindow.title":"Collect at window from this station or from any station with a ticket machine","page.deliveryOptions.collectAtWindow.description":"You will need the payment card used and your collection reference.\\n Tickets will be ready for collection shortly after booking.","page.deliveryOptions.collectAtWindow.trusted.description":"You will need your collection reference and any debit/credit card to collect your ticket from the station window or from a self-service ticket machine.\\n Tickets will be ready for collection shortly after booking.","page.deliveryOptions.collectAtWindow.warning":"You can collect your tickets from the ticket office at {strong}{stationName}{_strong} during {link}Ticket Office Opening Times{_link}.\\n","page.deliveryOptions.unavailable.title":"Collect from any station with a ticket machine or window","page.deliveryOptions.unavailable.description":"You will need the payment card used and your collection reference.\\n Tickets will be ready for collection shortly after booking.","page.deliveryOptions.unavailable.trusted.description":"You will need your collection reference and any debit/credit card to collect your ticket from the station window or from a self-service ticket machine.\\n Tickets will be ready for collection shortly after booking.","page.deliveryOptions.unavailable.warning":"Your tickets cannot be collected from {stationName}.\\n","page.deliveryOptions.secondClassPost.title":"Second class post","page.deliveryOptions.secondClassPost.description":"We will dispatch your tickets within 24 hours and you will receive your tickets within 5 days.","page.deliveryOptions.specialDelivery.title":"Royal Mail Special Delivery Next Working Day","page.deliveryOptions.specialDelivery.description":"Guaranteed ticket delivery by 1pm the next working day for bookings made before 3pm. Check {expectedDeliveryTime} for bookings made after 3pm, at weekends, and to remote locations. All tickets insured for up to {price}. You will need to sign for your tickets on delivery.","page.deliveryOptions.specialDelivery.description.anchor":"Expected Delivery Times","page.deliveryOptions.internationalPost.title":"International post","page.deliveryOptions.internationalPost.description":"We will dispatch your tickets within 24 hours and you will receive your tickets within 7 working days.","page.deliveryOptions.postalDelivery.newAddress":"Enter a new address","page.deliveryOptions.postalDelivery.recipientLabel":"Passenger name","page.deliveryOptions.postalDelivery.passengerName":"Passenger name","page.deliveryOptions.postalDelivery.recipientPlaceholder":"Enter full name","page.deliveryOptions.postalDelivery.signIn":"{a}Sign in{_a} to change passenger name","page.deliveryOptions.postalDelivery.recipientEmpty":"Please enter name of recipient","page.deliveryOptions.postalDelivery.recipientInvalid":"Please enter name of recipient","page.deliveryOptions.postalDelivery.seeFullDetails":"See full details","page.deliveryOptions.postalDelivery.deliveryAddress":"Delivery address","page.deliveryOptions.postalDelivery.deliveryAddressNicknameLabel":"Use a saved address","page.deliveryOptions.postalDelivery.deliveryAddressNicknameDefaultOption":"Select an address...","page.deliveryOptions.postalDelivery.manageAddressesButton":"Manage addresses","page.deliveryOptions.deliveryAddress.addressLineLabel":"Address line {index}","page.deliveryOptions.deliveryAddress.addressLineLabel.optional":"Address line {index} (optional)","page.deliveryOptions.deliveryAddress.townCityLineLabel":"Town / City","page.deliveryOptions.deliveryAddress.townCityLineLabel.optional":"Town / City (optional)","page.deliveryOptions.deliveryAddress.stateLineLabel":"State","page.deliveryOptions.deliveryAddress.provinceLineLabel":"Province","page.deliveryOptions.deliveryAddress.provinceLineLabel.optional":"Province (optional)","page.deliveryOptions.postcodeSearch.stateListDefaultOption":"Choose a State...","page.deliveryOptions.postcodeSearch.provinceListDefaultOption":"Choose a Province...","page.deliveryOptions.deliveryAddress.addressLine1Empty":"Please enter an address","page.deliveryOptions.deliveryAddress.townCityEmpty":"Please enter a Town / City","page.deliveryOptions.deliveryAddress.stateEmpty":"Please select a State","page.deliveryOptions.deliveryAddress.provinceEmpty":"Please select a Province","page.deliveryOptions.postcodeSearch.countryLabel":"Country","page.deliveryOptions.postcodeSearch.countryListDefaultOption":"Choose a country...","page.deliveryOptions.postcodeSearch.countryNotSelected":"Please select a country","page.deliveryOptions.postcodeSearch.postcodeLabel":"Postcode","page.deliveryOptions.postcodeSearch.zipCodeLabel":"ZIP code","page.deliveryOptions.postcodeSearch.postcodeEmpty":"Please enter Postcode","page.deliveryOptions.postcodeSearch.zipCodeEmpty":"Please enter a ZIP code","page.deliveryOptions.postcodeSearch.postcodeInvalid":"Please enter a valid postcode","page.deliveryOptions.postcodeSearch.zipCodeInvalid":"Please enter a valid ZIP code","page.deliveryOptions.postcodeSearch.findAddressButton":"Find Address","page.deliveryOptions.deliveryOptionsUnavilable.message":"Sorry, there are no delivery options available for this journey. Please try a new search.","page.deliveryOptions.deliveryOptionsUnavilable.buttonText":"Choose another journey","page.deliveryOptions.invalidTravellerName":"Please enter a valid traveller name","page.deliveryOptions.emptyTravellerName":"Please enter a traveller name","page.deliveryOptions.cannotBeEmpty":"Cannot be empty","deliveryOptions.euTicket.invoice.vatNumber":"Vat number","deliveryOptions.euTicket.invoice.companyName":"Company name","deliveryOptions.euTicket.invoice.street":"Street and number","deliveryOptions.euTicket.invoice.city":"City","deliveryOptions.euTicket.invoice.postcode":"Postal code","deliveryOptions.euTicket.invoice.province":"Province","deliveryOptions.euTicket.invoice.socialSecurityNumber":"Fiscal number / Social security number","deliveryOptions.euTicket.invoice.requestInvoiceFrom":"Request invoice from {carrier}","deliveryOptions.euTicket.invoice.requestInvoice":"Request invoice","deliveryOptions.euTicket.invoice.billingDetails":"Billing details","deliveryOptions.euTicket.invoice.companyInvoice":"Company invoice (VAT number)","deliveryOptions.euTicket.invoice.personalInvoice":"Personal invoice","deliveryOptions.euTicket.invoice.firstName":"First name","deliveryOptions.euTicket.invoice.countryCode":"Country","deliveryOptions.euTicket.invoice.lastName":"Surname","deliveryOptions.euTicket.invoice.provinceDefaultOption":"Choose a province...","deliveryOptions.euTicket.invoice.detailedAddress.italianStreetType":"Street type","deliveryOptions.euTicket.invoice.detailedAddress.italianStreetType.placeholder":"Choose street type","deliveryOptions.euTicket.invoice.detailedAddress.streetName":"Street name","deliveryOptions.euTicket.invoice.detailedAddress.buildingNumber":"Number","deliveryOptions.euTicket.invoice.recipientInvoice.certifiedEmail":"Certified e-mail address (PEC)","deliveryOptions.euTicket.invoice.recipientInvoice.recipientCode":"Recipient code","deliveryOptions.euTicket.invoice.certifiedEmail":"Certified email","deliveryOptions.euTicket.invoice.recipientCode":"Recipient code","deliveryOptions.euTicket.invoice.select.placeholder":"Select","page.europe.deliveryOptions.seatPreferenceLabel":"Position","page.europe.deliveryOptions.seatPreferenceDefaultValue":"No preference","page.europe.deliveryOptions.seatPreferenceDefaultText":"No preference","page.europe.travelOptions.seatingAndExtras":"Seating and extras","page.europe.travelOptions.optional":"Optional","page.europe.travelOptions.seatReservation.showSeatPreferences":"Show seat preferences","page.europe.travelOptions.seatReservation.hideSeatPreferences":"Hide seat preferences","page.europe.travelOptions.seatReservation.notesNotFree":"Seating preferences cannot be guaranteed.","page.travelOptions.seatReservation.reservationNotGuaranteed":"We\'ll try to match your preferences, but the train operator can\'t guarantee them. We\'ll confirm your seats at checkout.","page.europe.travelOptions.prm.seatReservation.title":"Seat reservation included","page.europe.travelOptions.prm.seatReservation.subtitle":"Designated wheelchair space","page.informationOptions.title":"Booking information","page.informationOptions.formTitle":"Additional information required by your organisation","page.informationOptions.formSubTitle":"Your organisation needs this information to complete your booking.","page.informationOptions.formError":"Sorry, we couldn\'t save the changes. Please try again.","page.travelOptions.title":"Travel options","page.travelOptions.comfort.title":"Comfort options","page.travelOptions.seatReservation.titleReservation":"Seat reservation","page.travelOptions.seatReservation.with":"with","page.travelOptions.seatReservation.titlePreferences":"Seating preferences","page.travelOptions.seatReservation.aria":"Seat reservation","page.travelOptions.seatReservation.overNightMessage":"This journey continues overnight","page.travelOptions.seatReservation.byBusMessage":"One or more legs of your journey are by bus","page.travelOptions.seatReservation.mixedClassMessage":"Please note that First Class accommodation is not available on all legs of your journey","page.travelOptions.seatReservation.notes":"We will request seats with your selected preferences though they cannot always be guaranteed by the train operator. Seating information will be confirmed upon reaching the shopping basket.","page.travelOptions.seatReservation.byType.mandatory":"Seat Reservations are mandatory for your chosen ticket","page.travelOptions.seatReservation.byType.optional":"Would you like to reserve a seat?","page.travelOptions.seatReservation.byType.not-offered":"Seat Reservations are unavailable for this ticket","page.travelOptions.seatReservation.invalidOutwardReserve":"Please specify if you would like to reserve a seat for your outward journey.","page.travelOptions.seatReservation.invalidInwardReserve":"Please specify if you would like to reserve a seat for your inward journey.","page.travelOptions.seatReservation.preferences.direction":"Direction","page.travelOptions.seatReservation.preferences.position":"Position","page.travelOptions.seatReservation.preferences.carriageType":"Coach Type","page.travelOptions.seatReservation.preferences.seatType":"Seat Type","page.travelOptions.seatReservation.preferences.deck":"Deck","page.travelOptions.seatReservation.preferences.facilities":"Facilities","page.travelOptions.seatReservation.preferences.tableSeat":"Table Seat","page.travelOptions.seatReservation.preferences.powerSocket":"Power Socket","page.travelOptions.seatReservation.preferences.nearLuggageRack":"Near Luggage Rack","page.travelOptions.seatReservation.preferences.nearToilet":"Near Toilet","page.travelOptions.seatReservation.preferences.noSeatPreferencesAvailable":"No seat preferences available","page.travelOptions.seatReservation.preferences.sitInAnyAvailableSeat":"Sit in any available seat","page.travelOptions.seatReservation.preferences.seatReservationIncluded":"Seat reservation included","page.travelOptions.seatReservation.preferences.seating":"Seating","page.travelOptions.seatReservation.preferences.meal":"Meal","page.travelOptions.seatReservation.weAssignAnAvailableSeat":"Well assign you an available seat","page.travelOptions.seatReservation.weAssignAvailableSeats":"We\'ll assign you available seats","page.travelOptions.seatReservation.chooseSeat":"Choose a seat","page.travelOptions.seatReservation.chooseSeats":"Choose seats","page.travelOptions.seatReservation.chooseSeat.totalPrice.free":"Free","page.travelOptions.seatReservation.chooseSeat.selectedSeats":"Carriage {carriageName}, Seat {seatNumbers}","page.travelOptions.seatReservation.chooseSeat.from":"From","page.travelOptions.seatReservation.preferences.facingDirectionOfTravel":"Facing direction of travel","page.travelOptions.seatReservation.preferences.noSeatReservationAvailableForThisLeg":"No seat reservation available for this leg","page.travelOptions.seatReservation.preferences.noPreference":"No preference","page.travelOptions.seatReservation.preferences.any":"Any","page.travelOptions.seatReservation.preferences.edit":"Edit preferences","page.travelOptions.seatReservation.preferences.seatNear.label":"Sit near (enter details)","page.travelOptions.seatReservation.preferences.seatNear.title":"Sit near:","page.travelOptions.seatReservation.preferences.seatNear.carriage":"Carriage","page.travelOptions.seatReservation.preferences.seatNear.carriage.validation":"Please enter a valid carriage number","page.travelOptions.seatReservation.preferences.seatNear.seat":"Seat","page.travelOptions.seatReservation.preferences.seatNear.seat.validation":"Please enter a valid seat number","page.travelOptions.seatReservation.usabillaButton":"Tell us what you think about our seating page","page.travelOptions.seatReservation.freeExtra":"Free","page.travelOptions.seatReservation.extras.title":"Extras","page.travelOptions.seatReservation.extras.luggage":"Luggage","page.travelOptions.seatReservation.extras.seatType":"Seat Type","page.travelOptions.seatReservation.extras.seatReservation":"Seat reservation","page.travelOptions.seatReservation.extras.noSeatReservation":"No seat reservation","page.travelOptions.seatReservation.extras.automaticallyAssignedSeat":"Automatically assigned seat (free)","page.travelOptions.seatReservation.extras.add":"Add","page.travelOptions.seatReservation.extras.edit":"Edit","page.travelOptions.seatReservation.extras.freeLuggageAllowance.title":"Free luggage allowance","page.travelOptions.seatReservation.extras.freeLuggageAllowance.detailsLink":"View allowed dimensions","page.travelOptions.travelExtrasInfo.title":"","page.travelOptions.travelExtrasInfo.body":"","page.travelOptions.travelExtrasInfo.moreLink":"","page.travelOptions.travelOptionsFooter.backButton":"Back","page.travelOptions.travelOptionsFooter.addAnotherJourneyButton":"Add another journey","page.travelOptions.journey.outward":"Outward journey","page.travelOptions.journey.inward":"Return journey","page.travelOptions.bikeReservationCard.badge.noSpaceLeft":"Spaces fully booked","page.travelOptions.bikeReservationCard.badge.reservationNotRequired":"Reservation not required","page.travelOptions.bikeReservationCard.badge.reservationRequired":"Reservation required","page.travelOptions.bikeReservationCard.badge.noInformationAvailable":"No information available","page.travelOptions.bikeReservationCard.badge.notAvailable":"Not available","page.travelOptions.bikeReservationCard.openReturn.message":"Once you\'ve decided when to travel back, check space availability for your return journey with us.","page.travelOptions.bikeReservationCard.reservationRequiredInOneDirection.message":"Spaces are available on all journeys, but a reservation is required on the <b>{direction, select, outbound {outbound} other {return}} journey</b>. {availableQuantity, plural, one {There is currently <b>one space</b>} other {There are currently <b># spaces</b>}} available on this journey. Hit find out more to reserve your space. Other trains may not require reservations, and folding bikes don\'t need one.","page.travelOptions.bikeReservationCard.reservationRequiredInOneDirection.v1.message":"Spaces are available on all journeys, but a reservation is required on the <b>{direction, select, outbound {outbound} other {return}} journey</b>.","page.travelOptions.bikeReservationCard.availableOnlyInOneDirectionWithReservation.message":"You can bring a bike on the <b>{direction, select, outbound {outbound} other {return}} journey only</b>, and a reservation is required. {availableQuantity, plural, one {There is currently <b>one space</b>} other {There are currently <b># spaces</b>}} available on this journey. Hit find out more to reserve your space. Other trains may not require reservations, and folding bikes don\'t need one.","page.travelOptions.bikeReservationCard.availableOnlyInOneDirectionWithReservation.v1.message":"You can bring a bike on the <b>{direction, select, outbound {outbound} other {return}} journey only</b>, and a reservation is required.","page.travelOptions.bikeReservationCard.availableOnlyInOneDirection.message":"You can bring a bike on the <b>{direction, select, outbound {outbound} other {return}} journey only</b> - no reservation required. ","page.travelOptions.bikeReservationCard.badge.reservationRequiredOnOutbound":"Reservation required on outbound","page.travelOptions.bikeReservationCard.badge.reservationRequiredOnInbound":"Reservation required on return","page.travelOptions.bikeReservationCard.badge.availableOnlyOnOutboundWithReservation":"Available on outbound only","page.travelOptions.bikeReservationCard.badge.availableOnlyOnInboundWithReservation":"Available on return only","page.travelOptions.bikeReservationCard.badge.availableOnlyOnOutbound":"Available on outbound only","page.travelOptions.bikeReservationCard.badge.availableOnlyOnInbound":"Available on return only","page.travelOptions.bikeReservationCard.title":"Bike space reservation","page.travelOptions.bikeReservationCard.free":"(free)","page.travelOptions.bikeReservationCard.noSpaceLeft.message":"All bike spaces on this journey are full. Need to bring one along for the ride? Try searching for an earlier or later train - there might be some spaces left. There is always space for folding bikes.","page.travelOptions.bikeReservationCard.reservationNotRequired.message":"Bring your bike along for the ride - no reservation required.","page.travelOptions.bikeReservationCard.reservationNotRequired.mini":"Subject to space available during the journey.","page.travelOptions.bikeReservationCard.reservationRequired.message":"{availableQuantity, plural, one {There is currently <b>one space</b>} other {There are currently <b># spaces</b>}} available on this journey. Hit find out more to reserve your space. Other trains may not require reservations, and folding bikes don\'t need one","page.travelOptions.bikeReservationCard.reservationRequired.info":"Travel at peak times can get a little crowded. Please be careful when travelling with your bike, so we can all have a safe and pleasant journey.","page.travelOptions.bikeReservationCard.reservationRequired.findOutMore":"Find out more","page.travelOptions.bikeReservationCard.reservationRequired.description":"Call us on 0344 556 1356 to reserve a bike space with a ticket. For data protection, we can only talk to the lead booker.","page.travelOptions.bikeReservationCard.reservationRequired.mini":"Calls cost 2p per minute plus your phone company\'s access charges. Charges may be included as part of your phone package. Lines open every day between 08:00 and 22:00.","page.travelOptions.bikeReservationCard.reservationRequired.checkbox.label":"Reserve a space","page.travelOptions.bikeReservationCard.reservationRequired.stepper.label":"How many non-folding bikes will you bring?","page.travelOptions.bikeReservationCard.reservationRequired.maxQuantity":"There {availableQuantity, plural, =4 {are currently <b>at least 4 spaces</b>} one {is currently <b>1 space</b>} other {are currently <b># spaces</b>}} available on this journey. Other trains may not require reservations, and folding bikes don\'t need one. You can book one bike per passenger, up to 4 bikes per booking.","page.travelOptions.bikeReservationCard.notAvailable.message":"The train operator\'s regulations only allow folding bikes on this journey. Try searching for an earlier or later train instead.","page.travelOptions.bikeReservationCard.noInformationAvailable.message":"We don\'t have any information about bike spaces on this journey. Need to bring a bike along for the ride? Try searching for an earlier or later train. There is always space for folding bikes.","page.travelOptions.travelOptionsExtras.title":"Extras","page.matrix.alternativeSquare.limitedAvailability":"Limited availability","page.matrix.alternativeSquare.ticketLeft":"Only {amount} left","page.matrix.alternatives.title":"Tickets","page.matrix.back":"Back","page.matrix.bff.label":"Best fares for your journey:","page.matrix.bff.link":"+ / - 3 days","page.matrix.changeJourneyHeader.journeyTypes.single":"Single journey","page.matrix.changeJourneyHeader.journeyTypes.return":"Return journey","page.matrix.changeJourneyHeader.journeyTypes.openReturn":"Open return","page.matrix.changeJourneyHeader.passengerCount.adults":"{num, plural, one {# adult} other {# adults}}","page.matrix.changeJourneyHeader.passengerCount.children":"{num, plural, one {# child} other {# children}}","page.matrix.changeJourneyHeader.passengerCount.euPassengers.children":"{num, plural, one {# youth} other {# youths}}","page.matrix.changeJourneyHeader.passengerCount.seniors":"{num, plural, one {# senior} other {# seniors}}","page.matrix.changeJourneyHeader.passengerCount.separator":",","page.matrix.changeJourneyHeader.addRailcard":"Add a railcard","page.matrix.changeJourneyHeader.change":"Change","page.matrix.changeJourneyHeader.title":"Your search","page.matrix.changeJourneyHeader.fromTo":"Your search: {origin} to {destination}","page.matrix.changeJourneyHeader.via":"(via {viaName})","page.matrix.changeJourneyHeader.mobile.outbound":"Choose outbound","page.matrix.changeJourneyHeader.mobile.return":"Choose return","page.matrix.changeJourneyHeader.mobile.edit":"Edit search","page.matrix.cheapest":"Cheapest","page.matrix.recommended":"Recommended","page.matrix.cheapest.single.standard":"{prefix} Standard Single","page.matrix.cheapest.single.first":"{prefix} First Class Single","page.matrix.contextualInfo.limitedAvailability.title":"Limited Availability","page.matrix.contextualInfo.limitedAvailability.description":"When is this displayed?","page.matrix.contextualInfo.ticketsLeft.title":"Tickets Left","page.matrix.contextualInfo.ticketsLeft.description":"How we calculate number of tickets left","page.matrix.earlier":"Earlier","page.matrix.later":"Later","page.matrix.earlier.unavailable":"Earlier","page.matrix.later.unavailable":"Later","page.matrix.directionHeader.outward":"Out","page.matrix.directionHeader.inward":"Return","page.matrix.directionHeader.openReturn":"Open return","page.matrix.directionHeader.previous":"Earlier","page.matrix.directionHeader.next":"Later","page.matrix.directionHeader.route":"{from} to {to}","page.matrix.directionHeader.separator":"or","page.matrix.directionHeader.addReturn":"Add a return","page.matrix.directionHeader.title":"Journey summary","page.matrix.directionHeader.loading":"Loading...","page.matrix.directionHeader.unavailableEarlier":"Unable to find earlier times. Please update your search","page.matrix.directionHeader.unavailableLater":"Unable to find later times. Please update your search","page.matrix.firstReturns.expand":"View all First Class tickets","page.matrix.firstReturns.collapse":"Hide all First Class tickets","page.matrix.journeyHeader.changes":"{num, plural, one {# change} other {# changes}}","page.matrix.journeyHeader.message.nonRail":"This journey contains some non-rail legs","page.matrix.journeyHeader.message.underground":"Some legs of this journey are via tube","page.matrix.journeyHeader.message.moreInfo":"More info","page.matrix.journeyHeader.title":"Times and journey information","page.matrix.singles.expand":"View all single tickets","page.matrix.singles.collapse":"Hide all single tickets","page.matrix.slowertrains":"Results are based on end-to-end tickets for the fastest available trains. {anchor} to check if slower routes with cheaper tickets are available.","page.matrix.slowertrains.anchor":"Click here","page.matrix.smartContent.firstClass.title":"Get from A to B in style","page.matrix.smartContent.firstClass.body":"Based on your search, we think you\'ll love First Class.","page.matrix.smartContent.recommended.title":"Look out for our recommended journeys","page.matrix.results.journeyDetails.button.title":"View journey details","page.matrix.selectJourney":"Select journey","page.matrix.travelcard.description":"This symbol means that your ticket includes a One Day Travelcard","page.matrix.usabillaButton":"Tell us what you think about our train selection page","page.matrix.usabillaButtonMobile":"Tell us what you think about our mobile web experience","page.coach.usabillaButton":"Tell us what you think about our coach ticket selection page","page.matrix.warning.advanceTickets.available.body":"If you\'re booking in advance, remember train times may be revised until about 12 weeks before travel (because of engineering works) - check back closer to your time of travel for any changes.","page.matrix.warning.advanceTickets.available.title":"Booking in advance?","page.matrix.warning.advanceTickets.unavailable.anchor":"sign up to a Ticket Alert Email today","page.matrix.warning.advanceTickets.unavailable.body":"Be the first to know when Advance fares for your journey are available. Remember train times may be revised until about 12 weeks before travel (because of engineering works) - check back here closer to your time of travel for any changes.","page.matrix.warning.advanceTickets.unavailable.title":"Cheaper Advance fares usually go on sale 12 weeks before travel","page.matrix.warning.advanceTickets.unavailable.title.vtec":"Cheaper Advance fares usually go on sale between 12 and 24 weeks before travel","page.matrix.warning.noJourneysOnRequestedDay.return":"Unfortunately there are no journeys available on your selected date and time. Tickets for the nearest matching available journeys are displayed below.","page.matrix.warning.noJourneysOnRequestedDay.single":"Unfortunately there are no journeys available on your selected date and time. Tickets for the {type, select, departAfter {next} arriveBefore {previous} other {}} available {journeys, plural, one {journey} other {journeys}} are displayed below.","page.matrix.warning.noSeatsLeft":"There are no more seats available to reserve for your chosen ticket. Please change your service or ticket selection and try again.","page.matrix.warning.productGone":"There was a problem reserving your chosen ticket. Please try again.","page.matrix.warning.nrs.underlyingSystemUnavailable":"Unfortunately we are currently unable to check the availability of Advance fares due to a problem accessing the national reservations system. You can continue to purchase any of the fares below or try your search again. If the problem persists you may wish to try again later.","page.matrix.warning.returnBeforeArrival":"The return train you have chosen will already have departed when your outward train arrives at its destination.","page.matrix.warning.ticketCorrelation":"You have chosen a \'Day return\' ticket. Please choose the same day for each direction.","page.matrix.warning.dayBoundaryFares":"Some of the below options depart on a different day to your search date. We show you these to give you more choice.","page.matrix.warning.nreHandoff.title":"Welcome to Trainline","page.matrix.warning.nreHandoff.body":"Youve just been transferred to our website from National Rail Enquiries so that you can complete your purchase. Please check your journey details and continue.","page.matrix.warning.nreHandoff.SelectAnotherTicket":"We\'ve not been able to find your ticket. Please select another one.","page.matrix.error.noBikesLeft":"Unfortunately, the selected number of bike spaces is no longer available. Select another journey instead.","page.shared.cheapest":"Cheapest","page.shared.jumpToReturnFares":"Jump to return fares","page.shared.jumpToReturnFaresCheapest":"tickets {price}","page.shared.promoCode.waitingAtCheckout":"Your discount is waiting at checkout.","page.ukresults.moreAboutSearchResults":"More about search results","page.ukresults.usabillaButton":"Tell us what you think about our train ticket selection page","page.ukresults.heading.singles":"Single fares","page.ukresults.heading.return":"Return Fares","page.ukresults.heading.returnSameDay":"Return same day","page.ukresults.heading.returnWithinMonth":"Return within 1 month","page.ukresults.heading.openReturns":"Open Returns","page.ukresults.heading.otherReturns":"Other Returns","page.ukresults.heading.returnPrice":"Return price","page.ukresults.heading.fromPrice":"from {price}","page.ukresults.heading.standardClass":"Standard","page.ukresults.heading.firstClass":"1st class","page.ukresults.heading.mobile.single":"Single from","page.ukresults.heading.mobile.return":"Total from","page.ukresults.heading.mobile.openReturn":"Open return from","page.ukresults.heading.mobile.eachWay":"Total from","page.ukresults.destinationheading.single":"Single fares to {destination} on","page.ukresults.destinationheading.return":"Return fares to {destination} on","page.ukresults.destinationheading.openReturn":"Open Return fares to {destination} on","page.ukresults.alternatives.pickedTimes":"Pick a specific time for your outbound and return trips and you can reserve a seat, where available.","page.ukresults.alternatives.travelOnAnytrain":"You can still travel on any eligible train.","page.ukresults.alternatives.fullyFlexible":"This ticket lets you travel at multiple times. We\'ve listed some of these times below, based on your search.","page.ukresults.alternatives.nonFlexible":"You\'ll need to stick to a {b}specific train for your outbound and return trips{_b}.","page.ukresults.alternatives.outboundFlexible":"You\'ll need to stick to a {b}specific return train{_b}, but your {b}outbound trip is flexible{_b}.","page.ukresults.alternatives.inboundFlexible":"You\'ll need to stick to a {b}specific outbound train{_b}, but your {b}return trip is flexible{_b}.","page.ukresults.alternatives.out":"Out","page.ukresults.alternatives.return":"Return","page.ukresults.alternatives.cheapest":"Cheapest","page.ukresults.alternatives.changeTimes":"Change times","page.ukresults.firstReturns.collapse":"Hide all First Class tickets","page.ukresults.firstReturns.expand":"View all First Class tickets","page.ukresults.sectionHeading.fromPrice":"from {price}","page.ukresults.soldOut":"Sold out","page.ukresults.cancelled":"Cancelled","page.ukresults.departed":"Departed","page.ukresults.timetable_unconfirmed":"Timetable unconfirmed","page.ukresults.timetable_unconfirmed.link":"Tickets coming soon","page.ukresults.ticketAlertCriticalOverlay.title":"You\'re a bit early","page.ukresults.ticketAlertCriticalOverlay.paragraph":"Tickets for this train aren\'t here yet. Sign up for Ticket Alerts and be first to know when they\'re available. ","page.ukresults.ticketAlertCriticalOverlay.actionButton":"Get Ticket Alerts","page.ukresults.ticketAlertCriticalOverlay.dismissButton":"Continue searching","page.ukresults.notAvailableToBuy":"Not available to buy","page.ukresults.notAvailable":"Not available","page.ukresults.viewAllTickets":"Looking for a specific ticket?  {link}View all ticket types{_link}.","page.ukresults.flexibleTicketVisibility.viewAllTickets":"{link}Compare all available ticket types{_link} if you\'re looking for more flexibility or a specific ticket.","page.ukresults.limitedAvailability":"Limited availability","page.ukresults.limitedSeats":"Only {seatsAvailable} left","page.ukresults.alternatives.return.journeyDetails":"View journey details","page.ukresults.alternatives.return.journeyDetails.reservable":"View details or pick a specific time, in case you want a seat","page.ukresults.alternatives.return.journeyDetails.not.reservable":"View details or if you\'d like, pick a specific time","page.ukresults.tabs.resultsUnavailable":"Were sorry, we cant find train tickets for this time. Please change your search or try again later.","page.ukresults.journeyWarning.message.nonRail":"This journey contains some non-rail legs","page.ukresults.journeyWarning.message.underground":"Some legs of this journey are via tube","page.ukresults.journeyWarning.message.moreInfo":"More info","page.ukresults.journeyWarning.message.replacementBusService":"This journey contains some non-rail legs","page.ukresults.journeyWarning.message.disruption":" ","page.ukresults.slowertrains":"We show the cheapest tickets for the fastest available trains. To check if slower routes have cheaper tickets {anchor}.","page.ukresults.slowertrains.anchor":"click here","page.ukresults.searchRankingCriteria":"We show tickets for the fastest available journeys with the smallest number of changes, highlighting the cheapest within these results. {link}Our search ranking criteria{_link}.","page.ukresults.flexibleTicketVisibility.slowertrains":"{link}Check for alternative trains{_link} on slower routes.","page.ukresults.label.stationChoice":"Choice of stations","page.ukresults.label.hasAllBusReplacementLegs":"Rail replacement bus on all routes","page.ukresults.label.hasAtleastOneBusReplacementLeg":"Rail replacement bus on some routes","page.ukresults.label.hasAllNonRailLegs":"Non-rail legs on all routes","page.ukresults.label.hasAtleastOneNonRailLeg":"Non-rail legs on some routes","page.ukresults.arrivesFirst":"Arrives First","page.ukresults.platformEstimated":" estimated","page.ukresults.platform":"Plat. {number}","page.ukresults.offPeak":"Off-peak","page.ukresults.superOffPeak":"Super Off-peak","page.ukresults.upsellRailcards.successBanner.railcardAdded":"Weve added your digital Railcard","page.ukresults.upsellRailcards.successBanner.readyToSave":"Get ready to save  on valid tickets","page.ukresults.upsellRailcards.remove":"Remove","page.ukresults.upsellRailcards.warningBanner.searchWithUpsellRailcard":"Sorry, the Railcard selected for purchase is not valid for the journeys shown, but can still be used to save  on valid journeys","page.ukresults.upsellRailcards.warningBanner.searchWithoutUpsellRailcard":"Your Railcard was removed from this search. Still want to save? Add a Railcard now.","page.ukresults.upsellRailcards.warningBanner.learnMore":"Learn more","page.ukresults.upsellRailcards.removeRailcard":"Remove Railcard","page.ukresults.ticketAlerts.header":"Youre a bit early","page.ukresults.ticketAlerts.body":"Cheaper Advance fares arent here yet. Theyre normally available 12 weeks before travel. To get an email when theyre here, set a Ticket Alert now.","page.uk.ticketOptions.cheapestFirstClass":"Cheapest First Class","page.uk.ticketOptions.cheapestTicketsLabel":"Cheapest tickets","page.uk.ticketOptions.otherFaresLabel":"Other fares","page.uk.ticketOptions.return.days":"Return {value, plural, one {same day} other {within # days}}","page.uk.ticketOptions.return.months":"Return within {value, plural, one {# month} other {# months}}","page.uk.ticketOptions.travel.days":"Travel {value, plural, one {on the day} other {within # days}}","page.uk.ticketOptions.travel.months":"Travel within {value, plural, one {# month} other {# months}}","page.uk.ticketOptions.conditionSummaryLabel":"View ticket conditions","page.uk.ticketOptions.limitedTicketsLeft":"Limited tickets left","page.uk.ticketOptions.numberOfTicketsLeft":"{numberOfTickets, plural, one {1 ticket left} other {# tickets left}}","page.ukresults.upsellRailcardsBanner.title":"Add a digital Railcard and you could save  on tickets","page.ukresults.upsellRailcardsBanner.description":"Prices from just 30. Choose now, and add details later","page.ukresults.upsellRailcardsBanner.buttonAction":"Okay, let\'s go","page.ukresults.upsellRailcardsBanner.buttonDismiss":"Dismiss","page.europe.ticketOptions.title":"Ticket options","page.europe.ticketOptions.fareDescription.hide":"Hide full ticket refund and exchange conditions","page.europe.ticketOptions.fareDescription.show":"Show full ticket refund and exchange conditions","page.europe.ticketOptions.fareDescription":"View full ticket conditions","page.europe.journeys.recommended.text":"We recommend this journey based on price and duration.","page.europe.journeys.cheapestFirstClass.text":"Enjoy great comfort for less in 1st class.","page.europe.journeys.standard":"Standard","page.journeys.standardUnavailable":"There are no standard class tickets available for your journey","page.journeys.arrivesAt":"Arrives at {arriveAt}","page.journeys.departsAt":"Departs at {departAt}","page.europe.journeys.1stClass":"1st Class","page.europe.journeys.firstClass":"First class","page.journeys.firstClassUnavailable":"There are no first class tickets available for your journey","page.europe.journeys.standard.eurostar":"Standard","page.europe.journeys.1stClass.eurostar":"Standard Premier","page.europe.journeys.1stClass.business":"Business Premier","page.europe.journeys.bestComfort":"Best comfort","page.europe.journeys.cheapest":"Cheapest","page.europe.journeys.cheapest.aria":"This is the cheapest option","page.europe.journeys.class.First.aria":"This is a first class ticket","page.europe.journeys.class.Standard.aria":"This is a standard class ticket","page.europe.journeys.header.outward":"Outbound total","page.europe.journeys.header.inward":"Return total","page.europe.alternatives.noFares":"No fares available","page.europe.alternatives.noFirstClass":"No 1st class","page.europe.alternatives.noFlexibleFares":"No flexible fares","page.europe.matrix.cjsHeader.noTicketsSelected":"No tickets selected","page.europe.matrix.cjsHeader.chooseATicketToContinue":"Choose a ticket to continue","page.europe.matrix.cjsHeader.chooseATicketToContinueVariantOutbound":"Choose an outbound journey to continue","page.europe.matrix.cjsHeader.chooseATicketToContinueVariantInbound":"Choose an inbound journey to continue","page.europe.matrix.noTrainTicketsFound":"No train tickets found for {journeyDay}","page.europe.matrix.flexilbilityFilter.Cheapest.title":"Cheapest","page.europe.matrix.flexilbilityFilter.Cheapest.description":"Lowest fares","page.europe.matrix.flexilbilityFilter.StandardAndStandardPremier.title":"Standard and Standard Premier","page.europe.matrix.flexilbilityFilter.StandardAndStandardPremier.description":"Change for a fee","page.europe.matrix.flexilbilityFilter.BusinessPremier.title":"Business Premier","page.europe.matrix.flexilbilityFilter.BusinessPremier.description":"Refund/change with no fee","page.europe.matrix.flexilbilityFilter.lowestprice.title":"Lowest Price","page.europe.matrix.flexilbilityFilter.SemiFlexible.title":"Semi-flexible","page.europe.matrix.flexilbilityFilter.SemiFlexible.description":"Refund/change for a fee","page.europe.matrix.flexilbilityFilter.SemiFlexible.description.tgvmax":"May be refunded/changed for a fee","page.europe.matrix.flexilbilityFilter.Flexible.title":"Flexible","page.europe.matrix.flexilbilityFilter.Flexible.description":"Refund/change with no fee","page.europe.matrix.reservationError.cardNotValidForTripDate":"The loyalty or discount card in your booking doesnt apply to the date youre searching for. Please remove the card, apply a different card or search for a different date.","page.europe.matrix.reservationError.invalidFormat":"\'error_0030\': Wrong input parameter: invalid format or missing parameter.","page.europe.matrix.reservationError.fareNoLongerAvailable":"\'error_0034\': The fare you have selected is no longer available. Please search again.","page.europe.matrix.reservationError.carteVoyageurProblem":"\'error_0252\': There appears to be a problem with one of your Carte Voyageur card numbers. Is it possible you have used an old card?","page.europe.matrix.reservationError.searchFailedCarteVoyageurProblem":"\'error_0254\': It is not possible to use the same Carte Voyageur for multiple passengers.","page.europe.matrix.reservationError.requestTooComplex":"\'error_0254\': Your request is too complex. Please search again by separating it into two passengers.","page.europe.matrix.reservationError.trainFullyBooked":"\'error_0370\': Sorry, this train is fully booked.","page.europe.matrix.reservationError.unsupportedDeliveryMethod":"Unfortunately, the tickets you\'ve selected are temporarily unavailable.","page.europe.matrix.reservationError.soldOut":"Your selected fare has just sold out, but other tickets are still up for grabs. Please search again.","page.europe.matrix.reservationError.unknownReason":"Uh oh. The reservation was not successful and were unfortunately not exactly sure why. Please try again. If youre booking a journey with several trains or if its a round trip, please try to reserve them separately.","page.europe.matrix.reservationError.journeyLeadTimeMissed":"You\'re too close to the departure time, but tickets for later trains are up for grabs. Please search again.","page.europe.matrix.reservationError.invalidLoyaltyCardNumber":"Your railcard / loyalty card number is invalid. Please correct the number and search again.","page.europe.matrix.reservationError.invalidSNCFCardNumber":"It appears that the card number you entered is incorrect. Please check the number and try again.","page.europe.matrix.reservationError.duplicatePassengerNames":"At least two of your passengers have the same first and last names. Please check you\'ve not accidentally duplicated a passenger.","page.europe.matrix.reservationError.invalidPhoneNumber":"Oops! Your phone number seems to be entered incorrectly, please check and try again.","page.europe.matrix.reservationError.invalidEmailValue":"Oops! Your email seems to be entered incorrectly, please check and try again.","page.europe.matrix.reservationError.duplicatePassengerDocuments":"Theres a problem with the ID youve given us. Please give us a valid Passport or Identity Card (DNI or NIE) for each passenger.","page.europe.matrix.reservationError.searchExpired":"Sorry, your search has timed out. Please start again.","page.europe.matrix.travelDocuments.delete.error":"The document cannot be deleted at this time, please try again later.","page.europe.matrix.reservationError.underlyingSystemUnavailable":"Sorry, we couldnt add a passengers ID. Please add any missing IDs manually.","page.europe.matrix.cjs.loadingStateMessage1":"Searching all trains and buses","page.europe.matrix.cjs.loadingStateMessage2":"Finding the best times for your journey","page.europe.matrix.cjs.loadingStateMessage3":"Comparing options to find the best price","page.europe.matrix.cjs.flexibilityOptions":"Flexibility options","page.europe.matrix.cjs.more":"more","page.europe.matrix.cjs.close":"close","page.europe.matrix.cjs.ticketType":"{ticketType} ticket","page.europe.matrix.reservationError.wrongDOB":"The dates of birth are inconsistent. Please amend below, or if the dates of birth are correct, you will need to {a}search again{_a} with their correct ages on the day of travel.","page.europe.matrix.reservationError.cardInformationInvalid":"One or more passengers have invalid passenger or loyalty/discount card info. Please update these details and search again.","page.europe.matrix.reservationError.cardholderInformationMismatch":"Your passenger information does not match the details on your discount card, please check these details and try again.","page.europe.matrix.reservationError.leadPassengerMustBeAnAdult":"Your lead passenger must be 14 years old or over. Please edit or add a passenger to get back on track.","page.europe.farePresentation.selectedJourney":"Selected journey","page.europe.results.reservationError.cardOriginQuotaReached":"You have another TGVmax booking that departs from this station on the same day.","page.europe.results.reservationError.cardQuotaReached":"Your TGVmax card has reached its maximum amount of reservations.","page.europe.results.cachedResultsInformation":"Prices checked frequently. Fares may change due to availability at time of bookings.","page.europe.results.prm.info.body":"We\'re showing discounted fares for persons of reduced mobility.","page.europe.results.prm.info.more":"Find out more","page.europe.results.prm.warning.prmGuideTooYoung":"{b}Accompanying passenger must be over 18{_b}\\nOUIGO requires that any accompanying passenger be over 18 years old. Please edit your search and try again.","page.europe.results.prm.warning.tooManyPrm":"{b}Bookings can only include one wheelchair space{_b}\\nYou can currently book only one wheelchair space at a time with OUIGO. Please edit your search and try again.","page.coach.directionHeader.coachStation":"{stationName} Coach Station","page.coach.directionHeader.selectOutboundJourney":"Please select your outbound journey, on the left, to show your return journey status","page.coach.directionHeader.selectOutbound":"Please select your outbound journey, on the left, to show your return journey options.","page.coach.directionHeader.differentStations":"Departs from and arrives at different stations to your search","page.coach.faresFrom":"Fares from","page.coach.earlier":"Earlier coaches","page.coach.earlier.unavailable":"Earlier coaches unavailable","page.coach.later":"Later coaches","page.coach.later.unavailable":"Later coaches unavailable","page.coach.resultsItem.cheapest":"Cheapest","page.coach.resultsItem.fastest":"Fastest","page.coach.tabs.coachTabLabel":"By Coach","page.coach.tabs.trainTabLabel":"By Train","page.coach.tabs.short.coachTabLabel":"Coach","page.coach.tabs.short.trainTabLabel":"Train","page.coach.tabs.coachTabLabelDisabled":"No coaches available","page.coach.tabs.trainTabLabelDisabled":"No trains available","page.coach.tabs.startingFromLabel":"Starting from","page.coach.tabs.travelByLabel":"Travel by {tabType, select, train {train} coach {coach}}","page.coach.tabs.unavailable":"Unavailable","page.coach.tabs.tabLoading":"{tabType, select, train {Train} coach {Coach}} results loading.","page.coach.tabs.loading":"Loading...","page.coach.tabs.resultsUnavailable":"Were sorry, we cant find coach tickets for this time. Please change your search or try again later.","page.coach.journeySearchCjs.selectTicketOutward":"Please select your outbound journey, on the left","page.coach.journeySearchCjs.selectTicketInward":"Please select your inbound journey, on the left","page.coach.journeySearchCjs.selectTicketInwardWhenOutwardNotSelected":"Please select your outbound journey, on the left, to show your return journey options.","page.coach.journeySearchCjs.bookingFee.noticeFull":"A National Express booking fee of {fee} will apply to this transaction","page.coach.journeySearchCjs.bookingFee.multipleVendors":"A National Express booking fee of {nationalExpressFeesAmount} and a Trainline booking fee of {trainlineFeesAmount} will apply to this transaction","page.coach.callout.text":"Coach is now available on this route","page.coach.title":"Coach fares","page.priceCalendar.from":"from {price}","page.priceCalendar.otherDaysFrom":"Other days from {price}","page.priceCalendar.cachedPriceMessage.title.nextCheapestPrice":"Updated price","page.priceCalendar.cachedPriceMessage.title.soldOut":"Updated","page.priceCalendar.cachedPriceMessage.title.ticketAlert":"Updated","page.priceCalendar.cachedPriceMessage.nextCheapestPrice":"Tickets for {cachedCheapestPrice} have sold out, so we\'ve found you the next cheapest ticket for {availableCheapestPrice}","page.priceCalendar.cachedPriceMessage.soldOut":"Sorry! There arent any {cachedCheapestPrice} tickets left for trains at this time.","page.priceCalendar.cachedPriceMessage.ticketAlert":"Tickets for this journey are coming soon. Want to know when theyre available?","page.priceCalendar.cachedPriceMessage.ticketAlertLink":"{a}Get our Ticket Alerts now{_a}.","page.login.platformError.title":"Unable to sign in","page.login.platformError.details":"Please check your details and try again.","page.register.header":"Create an account","page.register.submit":"Create account","page.register.signInDetails":"Sign in details","page.register.contactDetails":"Contact details","page.register.billingDetails":"Billing","page.register.sendOffers":"Send me booking & travel information, cheap train fares and other special offers.","page.register.sendPartnerOffers":"I\'d like to receive special offers and exclusive discounts from our carefully selected partners.","page.register.terms":"By creating an account you agree to our {a:terms}Terms and conditions{_a:terms} and {a:privacy}Privacy policy.{_a:privacy}","page.results.cmsablePromoCodeModal.closeButton":"No thanks","page.results.cmsablePromoCodeModal.applyPromoButton":"Apply promo","page.results.farePresentation.discountedPrice":"DISCOUNT","page.results.farePresentation.flexibilityReassurance.tgv":"Refundable fee-free up to 3 days before departure","page.results.farePresentation.flexibilityReassurance.ter":"Refundable fee-free up to 2 days before departure","page.results.farePresentation.flexibilityReassurance.businessPremier":"Refundable fee free up to 30 minutes after departure","page.results.farePresentation.terms.allPassengers":"Applicable to all passengers","page.results.farePresentation.terms.urn:trainline:noncon:gbl:nonexchangeable":"Non Exchangeable","page.results.farePresentation.terms.urn:trainline:noncon:gbl:100exchangeable":"Exchangeable up to departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:80exchangeable":"Exchangeable for 80% of ticket price up to departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:100exchangeabledeparturetime":"Departure time exchangeable up to departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:100exchangeable24hours":"Exchangeable up to the day before departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:100exchangeable2days":"Exchangeable up to 2 days before departure","page.results.farePresentation.terms.urn:trainline:noncon:italo:50exchangeable3days":"Exchangeable for 50% of ticket price up to 3 days before departure","page.results.farePresentation.terms.urn:trainline:noncon:trenitalia:100exchangeablebase":"Exchangeable for a Base fare up to departure","page.results.farePresentation.terms.urn:trainline:noncon:trenitalia:100exchangeablestandard":"Exchangeable for a Standard fare up to departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:nonrefundable":"Non refundable","page.results.farePresentation.terms.urn:trainline:noncon:gbl:90refundable":"90% refundable up to departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:80refundable":"80% refundable up to departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:60refundable":"60% refundable up to departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:90refundable24hours":"90% refundable up to 24 hours before departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:50refundable24hours":"50% refundable up to 24 hours before departure","page.results.farePresentation.terms.urn:trainline:noncon:gbl:100refundable2days":"100% refundable up to 2 days before departure","page.results.farePresentation.terms.urn:trainline:noncon:trenitalia:10feerefundable24hours":"Refundable up to the day before departure - 10 fee","page.results.farePresentation.terms.urn:trainline:noncon:trenitalia:90refundable3days":"Refundable for 90% of ticket price up to 3 days before departure","page.results.farePresentation.terms.urn:trainline:noncon:trenitalia:5feerefundable":"Refundable before departure - 5 fee","page.results.includesBus":"Includes bus","page.results.includesFerry":"Includes ferry","page.results.farePresentation.discountedLabel":"Discounted","page.login.digitalRailcardAlert":"You\'ll have to sign in or create an account to use digital Railcards in our app.","page.login.title":"Sign in","page.login.title.quickBuy":"Welcome to Quick buy","page.login.radio.existing.label":"I\'m an existing customer","page.login.radio.guest.label":"I\'m a new customer","page.login.radio.guest.label.small":"(checkout as guest)","page.login.email.pleaseEnter":"Please enter your email address","page.login.email.placeholder":"Email address","page.login.email.invalid":"Please check you have entered your email address correctly","page.login.password.placeholder":"Password","page.login.password.pleaseEnter":"Please enter your password","page.login.submitButton.continue":"Continue","page.login.submitButton.signin":"Sign in","page.login.footer.trainlineEurope.main":"Looking for your Trainline Europe (formerly Captain Train) account? {link}","page.login.footer.trainlineEurope.cta":"Switch to trainline.eu","page.login.footer.forgottenPassword":"Forgotten Password?","page.login.footer.signup":"New customer? Sign up here","page.login.footer.registry":"New customer? Register now","page.login.footer.copy":"{link} applies","page.login.footer.link":"Privacy Policy","page.login.promoHint.heading":"Your discount is waiting","page.login.promoHint.text":"Redeeming it is easy. Just create an account (if you haven\'t already) and sign in with your password.","page.resetPassword.enterAssociatedEmail":"Please enter the email address associated with your account","page.resetPassword.emailPlaceholder":"Email address","page.resetPassword.emailStrapline":"We will email you with details on how to reset your password","page.resetPassword.title":"Reset your password","page.resetPassword.submittedInitialMessage":"You should receive an email with instructions to reset your password in the next few minutes.","page.resetPassword.submittedAdviceHeading":"If you do not receive this email within the next few minutes:","page.resetPassword.checkJunk":"Check your junk or spam folders","page.resetPassword.incorrectEmail":"The email address you entered may be incorrect","page.resetPassword.unrecognisedEmail":"The email address entered may not be registered with us. If you are already registered, you can","page.resetPassword.signUpLink":"sign up here","header.transactionalHeader.railcard":"Railcard","header.transactionalHeader.search":"Search","header.transactionalHeader.options":"Options","header.transactionalHeader.payment":"Payment","header.transactionalHeader.securePayment":"Secure Payment","header.transactionalHeader.confirmation":"Confirmation","header.curatedTripsBanner.button":"Got it","header.curatedTripsBanner.description.mobile":"To edit your journey, tap Edit search above","header.curatedTripsBanner.description":"Weve selected this curated route for 1 passenger, departing today.\\nMore folks coming along? Departing on a different day? No probs. To change your journey, edit the fields above.","header.curatedTripsBanner.imageAltText":"Europe map","header.curatedTripsBanner.title":"Adventure awaits!","modal.done":"Done","modal.passengerProfile.heading":"Passenger details","modal.passengerProfile.title":"Title","modal.passengerProfile.firstName":"First name","modal.passengerProfile.lastName":"Last name","modal.passengerProfile.dateOfBirth":"Date of birth","modal.passengerProfile.emailAddress":"Email","modal.passengerProfile.emailAddressAccountHolder":"Email (account holder)","modal.passengerProfile.phoneNumber":"Phone Number","modal.passengerProfile.loyaltyAndRailcards":"Loyalty and railcards","modal.passengerProfile.optional":"Optional","modal.passengerProfile.dob.DD":"DD","modal.passengerProfile.dob.MM":"Month","modal.passengerProfile.dob.YYYY":"YYYY","modal.passengerProfile.titleRequired.mr":"Mr","modal.passengerProfile.titleRequired.ms":"Ms","modal.voucher.done":"Done","modal.voucher.deleteVoucher":"Delete voucher","modal.voucher.headingGeneral":"Add discount voucher","modal.voucher.subheader":"Accepted vouchers: iryo, Trenitalia, Italo, G30, SNCF Bon Voyage","modal.voucher.heading":"Add SNCF voucher","modal.voucher.trenitaliaOrScnf.heading":"Add a Trenitalia or SNCF code","modal.voucher.voucherNumber":"Voucher number","modal.voucher.passenger":"Passenger","modal.changeTimes.title":"Choose a time that best fits your travel plans","modal.changeTimes.journeyTimesNotice":"These are some trains you can travel on. You may find the full details of valid travel times {fareRestrictionsUrl, select, true {{a}here{_a}} other {}}","modal.changeTimes.journeyDetails":"Journey details","modal.changeTimes.liveTracker":"Live tracker","modal.changeTimes.warning.returnBeforeArrival":"The return train you have chosen will already have departed before you arrive at your destination.","modal.changeTimes.numberOfChanges":"{num, plural, one {# change} other {# changes}}","modal.journeySearchExpired.header":"Session time out","modal.journeySearchExpired.description":"Your search has timed out. Please perform your search again or return back to homepage.","modal.journeySearchExpired.description.guest":"To keep your details secure your session has been timed out. Please perform your search again or return back to the homepage.","modal.journeySearchExpired.description.registered":"To keep your account details secure we have logged you out. Please perform your search again or return back to the homepage.","modal.journeySearchExpired.description.loggedInExpired":"You have been inactive for some time. Please perform your search again or return to the homepage.","modal.journeySearchExpired.recentSearch":"Your recent search","modal.journeySearchExpired.originToDestination":"{originName} to {destinationName}","modal.journeySearchExpired.dateTypeTime":"{date}, {type} {time}","modal.journeySearchExpired.type.departure":"dep.","modal.journeySearchExpired.type.arrival":"arriv.","modal.journeySearchExpired.expiredLabel":"EXPIRED","modal.journeySearchExpired.searchAgain":"Search again","modal.journeySearchExpired.showNextTickets":"Show next available tickets","modal.journeySearchExpired.backButton.label":"Back to home page","modal.journeySearch.pricePredictionRow.dateTimeFormat.dateAndMonth":"On {day} {month}","modal.journeySearch.pricePredictionRow.crunchingData":"Crunching data","modal.checkoutJourneyDetails.outboundTitle":"Outbound Details","modal.checkoutJourneyDetails.inwardTitle":"Return Details","modal.checkoutJourneyDetails.journeyTab":"Journey","modal.checkoutJourneyDetails.ticketTab":"Ticket","modal.checkoutJourneyDetails.differentTickets":"Show different tickets along your journey.","modal.checkoutJourneyDetails.splitSave":"How does SplitSave work?","modal.checkoutJourneyDetails.close":"Close","modal.splitSaveExplainer.title":"Save money with {icon} {style}SplitSave{_style}!","modal.splitSaveExplainer.tooltip.title":"SplitSave saving applied","modal.splitSaveExplainer.description.line1":"SplitSave saves you money by \\"splitting\\" your journey into multiple tickets.","modal.splitSaveExplainer.description.line2":"Instead of paying for one big ticket from A to B, you pay less for a number of small ones. Same train, same route - just more tickets.","modal.splitSaveExplainer.description.line3":"Look out for this icon {icon} for journeys with SplitSave!","modal.splitSaveExplainer.description.line4":"The prices you see include your SplitSave savings. No maths required.","modal.splitSaveExplainer.link.findoutmore":"Find out more","modal.sessionTimeout.header":"Session time out","modal.sessionTimeout.description.guest":"To keep your details secure your session has been timed out. Please return to the homepage.","modal.sessionTimeout.description.registered":"To keep your account details secure we have logged you out. Please return to the homepage.","modal.sessionTimeout.description.loggedInExpired":"You have been inactive for some time. Please return to the homepage.","modal.addresses.searchResult":"{results} results found","modal.deliveryAddresses.title":"Select your address ({results} results)","modal.fareType.title":"Ticket restrictions","modal.fareType.route":"Route","modal.ticketDetails.title":"Ticket details","modal.ticketDetails.direction":"{origin} to {destination}, {date}","modal.ticketDetails.openReturnDirection":"{destination} to {origin}, return within the validity period of the ticket","modal.ticketDetails.loading":"Loading","modal.ticketConditions.title":"Ticket conditions","modal.railcardConditions.title":"Railcard conditions","modal.railcardConditions.eurail.title":"Eurail Passes conditions","modal.railcardConditions.buttonTitle":"View full terms and conditions","modal.journeySummary.title":"Journey summary","modal.journeySummary.duration":"Duration {duration}","modal.journeySummary.changes":"{changes, plural, one {# change} other {# changes}}","modal.journeySummary.out":"out","modal.journeySummary.return":"return","modal.productSummary.title":"Journey","modal.productSummary.ticketDetails":"Ticket Details","modal.productSummary.mixedClassMessage":"* First class is not offered on this portion of your journey","modal.productSummary.passengerType.fareName":"{qty} {fareName} ({price} each)","modal.productSummary.passengerType.adult":"{qty, plural, one {# Adult} other {# Adults}} Full Fare ({price} each)","modal.productSummary.passengerType.child":"{qty, plural, one {# Child} other {# Children}} Full Fare ({price} each)","modal.productSummary.passengerType.youth":"{qty, plural, one {# Youth} other {# Youths}} Full Fare ({price} each)","modal.productSummary.passengerType.senior":"{qty, plural, one {# Senior} other {# Seniors}} Full Fare ({price} each)","modal.productSummary.passengerType.group":"{qty, plural, one {# Group} other {# Groups}} Full Fare ({price} each)","modal.productSummary.railCardWarning":"You must carry your valid railcard with you when you travel. Failure to do so will result in the full undiscounted fare being payable.","modal.productSummary.groupSaveWarning":"A GroupSave discount has been applied to this booking. Please {link} to check additional restrictions relating to GroupSave travel.","modal.productSummary.groupSaveWarning.clickHere":"click here","modal.productSummary.journeyPrice":"Journey Price","modal.productSummary.openReturn":"RETURN - Any valid train. Please check the ticket terms for validity","modal.ticketInfo.ticketDetails":"Ticket conditions","modal.ticketInfo.passengerType.fareName":"{qty} {fareName} ({price} each)","modal.ticketInfo.passengerType.adult":"{qty, plural, one {# Adult} other {# Adults}} Full Fare ({price} each)","modal.ticketInfo.passengerType.child":"{qty, plural, one {# Child} other {# Children}} Full Fare ({price} each)","modal.ticketInfo.passengerType.youth":"{qty, plural, one {# Youth} other {# Youths}} Full Fare ({price} each)","modal.ticketInfo.passengerType.senior":"{qty, plural, one {# Senior} other {# Seniors}} Full Fare ({price} each)","modal.ticketInfo.passengerType.group":"{qty, plural, one {# Group} other {# Groups}} Full Fare ({price} each)","modal.ticketInfo.railCardWarning":"You must carry your valid railcard with you when you travel. Failure to do so will result in the full undiscounted fare being payable.","modal.ticketInfo.groupSaveWarning":"A GroupSave discount has been applied to this booking. Please {link} to check additional restrictions relating to GroupSave travel.","modal.ticketInfo.groupSaveWarning.clickHere":"click here","modal.ticketInfo.journeyPrice":"Journey Price","modal.removeItemFromPrimaryBasket.title":"Remove trip","modal.removeItemFromPrimaryBasket.body":"Are you sure you want to remove {outwardOrigin} to {outwardDestination}?","modal.removeItemFromPrimaryBasket.notFound":"Item not found","modal.removeItemFromPrimaryBasket.button":"Remove trip","modal.removeItemFromPrimaryBasket.removing":"Removing...","modal.removeRailcardFromPrimaryBasket.title":"Remove Railcard","modal.removeEURailPassFromPrimaryBasket.title":"Remove Eurail Pass","modal.removeRailcardFromPrimaryBasket.body":"Are you sure you want to remove your {railcard}?","modal.tripSummary.out":"out","modal.tripSummary.return":"return","modal.discountCard.title":"Add a card","modal.discountCard.title.savedCard":"Saved card","modal.discountCard.form.label.cardName":"Card name","modal.discountCard.form.numberFieldLabel":"Number","modal.discountCard.form.expirationDate.label":"Expiration date","modal.discountCard.form.expirationDate.optional":"Optional","modal.discountCard.form.expirationDate.DD":"DD","modal.discountCard.form.expirationDate.YYYY":"YYYY","modal.discountCard.form.routes.validity":"Validity","modal.discountCard.form.routes.validRoutes":"Valid routes","modal.discountCard.form.routes.enterOrigin":"Enter origin station...","modal.discountCard.form.routes.enterVia":"Optional","modal.discountCard.form.routes.enterDestination":"Enter destination station...","modal.discountCard.form.routes.from":"From","modal.discountCard.form.routes.via":"Via","modal.discountCard.form.routes.to":"To","modal.discountCard.form.optional":"Optional","modal.discountCard.form.dropDownUnselected":"Please select...","modal.discountCard.form.submitButton":"Done","modal.discountCard.form.save":"Save","modal.discountCard.form.saveCard":"Save card","modal.discountCard.form.remove":"Delete Card","modal.discountCard.form.areYouSure":"Are you sure?","modal.discountCard.form.confirmDeleteCard":"Yes, delete","modal.discountCard.form.cancel":"Cancel","modal.discountCard.form.enableForSearch":"Enable for this search","modal.discountCard.form.disableForSearch":"Disable for this search","modal.discountCard.form.gdpr.label":"Why do we need this?","modal.discountCard.form.gdpr.explanation":"We collect this information so that we can give you accurate ticket options based on your route.","modal.discountCard.form.alerts.routeValidity":"Please ensure you use this card for valid routes.","modal.discountCard.form.errors.age":"This card is reserved for people who are between the ages of {minAge} and {maxAge}.","modal.discountCard.form.errors.age.uncapped":"This card is reserved for people over the age of {minAge}.","modal.discountCard.form.errors.card.load":"We couldnt load the details for this card. Please try again later.","modal.discountCard.form.errors.card.number.incorrect":"The card number appears to be incorrect","modal.discountCard.form.errors.card.number.required":"Please provide a card number","modal.discountCard.form.errors.card.not.selected":"Please select a card","modal.discountCard.form.errors.overlapping.group":"A card of this type already exists for that passenger","modal.discountCard.form.errors.card.characters.incorrect":"Must be between 7 and 9 digits","modal.discountCard.form.errors.expiration.expired":"The expiry date cannot be in the past","modal.discountCard.form.errors.expiration.invalid":"Please enter a valid expiration date","modal.discountCard.form.errors.route.from.empty":"Origin station can\'t be blank","modal.discountCard.form.errors.route.from.invalid":"Please enter a valid origin station","modal.discountCard.form.errors.route.to.empty":"Destination station can\'t be blank","modal.discountCard.form.errors.route.to.invalid":"Please enter a valid destination station","modal.discountCard.form.errors.route.to.sameAsOrigin":"Your destination station cannot be the same as origin station","modal.discountCard.form.errors.route.via.invalid":"Please enter a valid via station","modal.discountCard.form.errors.route.via.sameAsOrigin":"Your origin station cannot be the same as via station","modal.discountCard.form.errors.route.via.sameAsDestination":"Your destination station cannot be the same as via station","modal.discountCard.form.errors.createTravelCard":"We can\'t add your discount card right now, due to technical issues. Please try again later.","modal.ticketTypes.title":"Ticket types","modal.ticketTypes.button.open":"other tickets from <999.99>","modal.passengerProfile.accountHolderCanNotBeDeleted":"This passenger is the account holder and cannot be deleted","modal.passengerProfile.save":"Save","modal.passengerProfile.deletePassenger":"Delete passenger","modal.passengerProfile.cancel":"Cancel","modal.passengerProfile.close":"Close","modal.passengerProfile.confirmDeletePassenger":"Yes, delete","modal.passengerProfile.areYouSure":"Are you sure?","modal.passengerProfile.firstNameInvalid":"First name must be between 2 and 50 characters","modal.passengerProfile.lastNameInvalid":"Last name must be between 2 and 50 characters","modal.passengerProfile.dateOfBirthEmpty":"Date of birth is required","modal.passengerProfile.dateOfBirthInvalid":"Date of birth is invalid","modal.passengerProfile.dateOfBirthBefore1900":"Date of birth cannot be before 1900","modal.passengerProfile.dateOfBirthInTheFuture":"Date of birth cannot be in the future","modal.passengerProfile.emailInvalid":"Email address is invalid","modal.passengerProfile.saving":"Saving...","modal.passengerProfile.passengerDataInfo":"We use your date of birth to help find the best ticket for you.","modal.passengerProfile.savingPassengerFailed":"Unfortunately this passenger could not be saved. Something went wrong. Please try again later.","modal.passengerProfile.deletePassengerFailed":"Unfortunately this passenger could not be deleted. Something went wrong. Please try again later.","modal.checkout.removeBooking.title":"Are you sure you want to leave this page?","modal.checkout.removeBooking.removeTrip":"By selecting OK you will lose all items you haven\'t checked out.","modal.checkout.removeBooking.ok":"OK","modal.chooseSeat.buttons.clear":"Clear","modal.chooseSeat.buttons.close":"Close","modal.chooseSeat.buttons.confirm":"Confirm Seats","modal.chooseSeat.buttons.confirm.mobile":"Confirm","modal.chooseSeat.buttons.included":"Included","modal.chooseSeat.title":"Choose a seat","modal.chooseSeatWarning.title":"There\'s a problem with your seats","modal.chooseSeatWarning.subTitle":"Please check the following:","modal.chooseSeatWarning.allPassengersNeedASeat":"All passengers have a seat selected","modal.chooseSeatWarning.passengersOnASingleCarriage":"All passengers have a seat selected in the same carriage","modal.chooseSeatWarning.passengersOnASingleDeck":"All passengers have a seat selected in the same deck","modal.chooseSeatError.message":"Uh oh, we couldnt load seats.","modal.chooseSeatError.button":"Go back","modal.chooseSeat.footer.passengerCount":"{numberOfPassengers, plural, one {{numberOfSelectedSeats} of 1 seat} other {{numberOfSelectedSeats} of {numberOfPassengers} seats}}","modal.mealPreferences.title":"Choose a meal","modal.mealPreferences.footer.direction.inbound":"Inbound meal","modal.mealPreferences.footer.direction.outbound":"Outbound meal","modal.mealSelector.mainMeals":"Main meals","modal.mealSelector.specialMeals":"Special meals","modal.mealPreferences.confirm":"Confirm","meals.mealsIncluded":"Meals included","meals.mealsNotIncluded":"Meals not included","modal.seatReservation.title":"Seat reservations","modal.tripCardJourney.ticketsAndPassengersTitle":"Tickets and passengers","modal.journeyDetails.journeyTitle":"Your journey","modal.journeyDetails.seatingTitle":"Seating","modal.journeyDetails.outboundTitle":"Outbound","modal.journeyDetails.inboundTitle":"Inbound","modal.removeDigipass.title":"Remove {railcardName}?","modal.removeDigipass.description":"Removing your {railcardName} card means we will need to search again to find you the best possible price. ","modal.removeDigipass.cancel":"Cancel","modal.removeDigipass.removeAndSearchAgain":"Remove and search again","modal.upsellRailcards.title":"Add a digital Railcard","modal.upsellRailcards.selectRailcard":"Select Railcard","modal.upsellRailcards.pleaseSelect":"Please select","modal.upsellRailcards.railcardValidity":"{numberOfYears, plural, =1 {Your Railcard will be valid for 1 year from purchase} other {Your Railcard will be valid for {numberOfYears} years from purchase}}","modal.upsellRailcards.continue":"Continue","modal.upsellRailcards.cancel":"Cancel","modal.upsellRailcards.needHelp":"Need help finding a Railcard?","modal.upsellRailcards.moreInfo":"More info","modal.promoCode.notice.title":"All about your discount","modal.promoCode.notice.subtitle":"You can only apply your discount under the following conditions:","modal.promoCode.notice.conditions.minSpend":"Minimum spend of {minSpend} reached (excl. fees and charges)","modal.promoCode.notice.conditions.currency":"Your transaction must be in the same currency as your discount","modal.promoCode.notice.conditions.expiryDate":"Before the expiry date of {date}","modal.promoCode.notice.conditions.discountUsed":"Youve not used the discount before","modal.promoCode.notice.conditions.registeredAccount":"You have a registered account","itinerarySearch.cardInformationInvalid":"Your loyalty or discount card number is invalid. To see discounted fares, please check your card number and search again.","modal.PRMCriticalModal.prmNotSupported.title":"We\'re sorry - wheelchair-friendly travel is not supported on this route yet","modal.PRMCriticalModal.prmNotSupported.description":"For more information on wheelchair-friendly travel please visit our {a}FAQs{_a}.","modal.PRMCriticalModal.prmTooManyPassengers.title":"We\'re sorry - OUIGO doesn\'t support wheelchair-friendly group bookings","modal.PRMCriticalModal.prmTooManyPassengers.description":"You can currently book wheelchair-friendly travel with OUIGO for a maximum of two passengers. Please edit your search and try again.","modal.PRMCriticalModal.prmGuideTooYoung.title":"Accompanying passenger must be over 18","modal.PRMCriticalModal.prmGuideTooYoung.description":"OUIGO requires that any accompanying passenger be over 18 years old. Please edit your search and try again.","modal.PRMInfo.title":"Helping you throughout your journey","modal.PRMInfo.subTitle":"Getting staff assistance to your seats","modal.PRMInfo.description1":"Assistance services are guaranteed at stations offering this service, if you book them as soon as you purchase your ticket and no later than 24 hours before your departure.","modal.PRMInfo.description2":"If your trip includes travel on OUIGO, please send your request to the Accs Plus service.","modal.PRMInfo.bookAssistance":"Book assistance","modal.PRMInfo.learnMore":"Learn more","modal.bike.title":"Bikes on board","modal.bike.subtitle.reservation.required":"Reserve a space, roll on, roll out","modal.bike.subtitle.reservation.not.required":"Roll on, roll out","modal.CO2Emissions.title":"Greener choices at your fingertips","modal.CO2Emissions.subtitle":"Making journeys a little bit greener just got a whole lot easier.","modal.CO2Emissions.greenCalculation.legend":"Green calculation","modal.CO2Emissions.greenCalculation.content":"This train creates 50% less carbon than others on this route. This is because the train is electric and also it\'s a direct route.","modal.CO2Emissions.didYouKnow.title":"Did you know?","modal.CO2Emissions.didYouKnow.content":"Transport creates 27% of all UK and EU greenhouse gas emissions*. So, changing how you travel is one of the biggest positive changes you can make for the planet.","modal.CO2Emissions.barChart.legend":"Your trip in CO2 emissions","modal.CO2Emissions.barChart.train.aria":"This journey emits {train}kg CO2 by train","modal.CO2Emissions.barChart.car.aria":"This journey emits {train}kg CO2 by train and {car}kg by car","modal.CO2Emissions.barChart.plane.aria":"This journey emits {train}kg CO2 by train and {plane}kg by plane","modal.CO2Emissions.barChart.globalComparison.aria":"This journey emits {train}kg CO2 by train, {car}kg by car and {plane}kg by plane","modal.CO2Emissions.railVsOtherTransport.title":"Rail vs {transportMode, select, plane {air} other {road}}","modal.CO2Emissions.railVsOtherTransport.content.aria":"By choosing to travel by train instead of by {transportMode, select, plane {plane} other {car}}, you save a massive {percentageSavedByUsingTrain}% of CO2** just like that. We think that\'s pretty amazing.","modal.CO2Emissions.railVsOtherTransport.content":"By choosing to travel by train instead of by {transportMode, select, plane {plane} other {car}}, you save a massive {percentageSavedByUsingTrain}% of CO2** just like that. We think that\'s pretty amazing.","modal.CO2Emissions.globalComparison.title":"Your glorious green train","modal.CO2Emissions.globalComparison.content":"By choosing to travel by train instead of car or plane, you save a whopping {percentageTrainVsCar}% and {percentageTrainVsPlane}% of CO2** respectively. We think that\'s pretty amazing.","modal.CO2Emissions.globalComparison.content.aria":"By choosing to travel by train instead of car or plane, you save a whopping {percentageTrainVsCar}% and {percentageTrainVsPlane}% of CO2** respectively. We think that\'s pretty amazing.","modal.CO2Emissions.about.title":"About our calculations","modal.CO2Emissions.about.uk.content":"**Calculations of CO2 savings are based on a one passenger journey by: {br} {li}An average national rail train (0.035kg CO2/km){_li} {li}An average petrol car (0.108 kg CO2/passenger km){_li} {li}An average plane (0.271 kg CO2/passenger km){_li} Conversion factors are all scopes published by {a_conversion_factors}the UK government.{_a_conversion_factors}{br}*Based on statistics from the {a_env_agency}European Environment Agency{_a_env_agency}","modal.CO2Emissions.about.eu.content":"* Based on statistics from the {a_env_agency}European Environment Agency{_a_env_agency} {br} {br}** Based on emission factors as supplied by {a_sncf}SNCF{_a_sncf}","modal.carriersComparison.title":"{origin} - {destination} trains available on {trainline}","modal.carriersComparison.subtitle":"Get to know your options","modal.carriersComparison.subheader":"Helping you compare the options","modal.carriersComparison.subtitle.mobile":"Helping you compare the options","modal.carriersComparison.table.options":"Your options","modal.carriersComparison.table.label.newOption":"New option","modal.carriersComparison.table.trainType.highSpeed":"High speed","modal.carriersComparison.table.trainType.regional":"Regional","modal.carriersComparison.table.ticketType.flexible":"Flexible","modal.carriersComparison.table.ticketType.semiFlexible":"Semi-flexible","modal.carriersComparison.table.ticketType.nonRefundable":"Non-refundable","modal.carriersComparison.table.ticketType.advance":"Advance","modal.carriersComparison.table.frequency":"Frequency","modal.carriersComparison.table.classOptions":"Class options","modal.carriersComparison.table.wifi":"Wifi onboard","modal.carriersComparison.table.powerSocket":"Power socket","modal.carriersComparison.table.quietZone":"Quiet carriage available","modal.carriersComparison.table.quietCarriage":"Quiet carriage","modal.carriersComparison.table.smallLuggage":"Small luggage","modal.carriersComparison.table.largeLuggage":"Large luggage","modal.carriersComparison.table.seat":"Choose your seat","modal.carriersComparison.table.allocatingSeat":"Allocated seating","modal.carriersComparison.table.foldableBike":"Foldable bikes only","modal.carriersComparison.table.catering":"Catering onboard","modal.carriersComparison.table.bike":"Bike reservation","modal.carriersComparison.table.availability.text.frequency":"{count} per day","modal.carriersComparison.table.luggage.text.perPerson":"{count} per person","modal.carriersComparison.table.luggage.text.subjectToAvailability":"Subject to available space and extra fees.","modal.carriersComparison.table.availability.text.classOptions":"{count} {count, plural, =1 {class} other {classes}}","modal.carriersComparison.table.availability.alt.available":"available","modal.carriersComparison.table.availability.alt.unavailable":"unavailable","modal.carriersComparison.table.availability.alt.luggagePerPerson":"Available but {count} per person","modal.carriersComparison.table.availability.alt.spaceAndExtraFees":"Available but subject to available space and extra fees","modal.carriersComparison.table.availability.alt.availableWithFee":"available with additional fee","modal.carriersComparison.table.availability.alt.availableWithFareTypes":"available with some fare types","modal.carriersComparison.table.availability.alt.availableWithFareTypesWithFee":"available with some fare types, with an additional fee","modal.carriersComparison.table.availability.legend.availableWithFee":"**Available with some fare types.","modal.carriersComparison.table.availability.legend.availableWithFareTypes":"(+{currency}) Additional fee applies.","modal.carriersComparison.table.availability.legend.allFaresLocalTransport":"*All fares include a free ticket to travel with Cercanas and Rodalies.","modal.carriersComparison.table.availability.ticket":"{ticketType} tickets available from {carrier}","modal.carriersComparison.table.bikeReservationRequired.alt.text":"Required","modal.carriersComparison.table.bikeReservationNotRequired.alt.text":"Not Required","modal.carriersComparison.table.foldableBike.yes.alt.text":"Yes","modal.carriersComparison.table.foldableBike.no.alt.text":"No","modal.carriersComparison.table.localTransport":"Free Combinado Cercanas*","modal.carriersComparison.table.interiorImage.legend":"Standard class, image for reference only","modal.businessTravelSlowerTrains.youAreLeaving":"You are leaving Trainline Business","modal.businessTravelSlowerTrains.linkDescription":"This link will open {redirectUrl} in a new window.","modal.businessTravelSlowerTrains.linkUrl":"trainline.com","modal.businessTravelSlowerTrains.keepBooking":"To keep your Trainline Business booking, please go back.","modal.businessTravelSlowerTrains.back":"Back","modal.firstClassUpsell.addNow":"Add now","modal.firstClassUpsell.close":"Close","modal.firstClassUpsell.extraComfortSeats":"Extra comfort seats","modal.firstClassUpsell.goDeluxeBookFirstClass":"Go deluxe. {br} Book First Class.","modal.firstClassUpsell.firstClassCheaper":"Its cheaper than Standard on this route.","modal.firstClassUpsell.firstClassSamePrice":"Its the same price as Standard on this route.","modal.firstClassUpsell.firstClassNotAllMultileg":"First Class seats are available for part of your journey.","modal.firstClassUpsell.noThanks":"No thanks","modal.combinedTicket.title":"Passenger rights","modal.combinedTicket.subtitle.combinedJourney":"Combined journey","modal.combinedTicket.paragraph.combinedJourney":"Your booking is a combined journey, made up of separate tickets combined by Trainline. Your connections at the stations listed below arent guaranteed if a preceding leg of your journey is delayed. This means you may have to buy a new ticket if you miss your connection. If consecutive legs are run by the same train family (see the train logos next to your journey details), you may be entitled to take the next available train without paying additional costs.","modal.combinedTicket.subtitle.throughJourney":"Through journey","modal.combinedTicket.fromTo.throughJourney":"{origin} to {destination}","modal.combinedTicket.paragraph.throughJourney":"The following sections of your booking may be part of a through journey. If part of a through journey is delayed or cancelled and you miss a connection on that same journey, you may be able to take the next connecting service to your destination with no additional cost. You can learn more about through journeys in our FAQs.","modal.businessTravelSlowerTrains.continue":"Continue","modal.mealPreferences.mealCard.allergens":"Allergens","modal.mealPreferences.mealListRenderer.disclaimer":"We are not responsible for the accuracy of the allergen information as this and the food is provided and managed by iryo, and we are only responsible for our booking service. The allergens may be subject to change. Please consult the on-board personnel about the allergens of your meal on the day of your travel.","modal.filters.title":"Filter","modal.filters.changes":"Changes","modal.filters.directJourneyLabel":"Journeys with no changes","modal.filters.button":"Apply","modal.classComparison.desktop.title":"Compare comfort options","modal.classComparison.card.button.fromPrice":"From {price}","modal.classComparison.card.imageLabel":"Image for reference only","modal.classComparison.mobile.title":"Compare services","classComparison.entryPoint.text":"View services","component.overlay.cancel":"Cancel","component.overlay.done":"Done","component.overlay.close":"Close","page.travelOptions.seatReservation.title":"Seating","page.travelOptions.seatReservation.title.confirmedAtCheckout":"(confirmed at checkout)","page.travelOptions.seatReservation.outward":"Outbound","page.travelOptions.seatReservation.return":"Return","page.travelOptions.seatReservation.anyDirection":"any direction","page.travelOptions.seatReservation.anyPosition":"any position","page.travelOptions.seatReservation.anyCarriageType":"any coach type","components.seatReservationTimer.label":"Price and seats locked in for <b>{time}</b>","components.feedbackPills.title":"We\'d love to know...","components.feedbackPills.description":"Did you consider any mode(s) of transport other than train for this journey?","components.feedbackPills.done":"Done","components.feedbackPills.successMessage.title":"That\'s a big hug for the planet","components.feedbackPills.successMessage.generic.description":"Transport creates {styleFeedback}27%{_styleFeedback} of all UK and EU greenhouse gas emissions. By choosing train, you\'re making {styleFeedback}a big, green difference.{_styleFeedback}","components.feedbackPills.successMessage.transportMode.description":"Youre emitting {styleFeedback}{percentageSavedByUsingTrain}% less CO2{_styleFeedback} by taking this train instead of {transportMode, select, plane {plane} other {car}}.","components.feedbackPills.learnMore":"Learn more","components.feedbackPills.train":"No, train only","components.feedbackPills.plane":"Plane","components.feedbackPills.car":"Car","components.feedbackPills.coach":"Coach","components.feedbackPills.bike":"Bike","components.seatReservationCard.label.coach":"Sit in any available seat","components.seatReservationCard.label.train.mandatory":"Seat {count, plural, =1 {reservation} other {reservations}} included","components.seatReservationCard.label.train.optional":"Request {count, plural, =1 {a seat} other {seats}}","components.seatReservationCard.label.train.notOffered":"Sit in any unreserved seat except first class","components.seatReservationCard.label.train.notOffered.firstClass":"Sit in any unreserved seat including first class","components.seatReservationCard.label.train.notOffered.indeterminateClass":"Sit in any unreserved seat for the class of travel shown on your ticket","components.seatReservationCard.editPreferences":"Edit preferences","components.seatReservationCard.edit":"Edit","components.seatReservationCard.matchOutboundPreferences":"Well request a seat that matches your outbound preferences.","components.seatReservationCard.matchInboundPreferences":"Well request a seat that matches your inbound preferences.","modal.journeySummaryModal.alreadyDeparted":"This journey has already departed","modal.journeySummaryModal.duration":"Duration","duration.long":"{days, plural, =0 {} one {1 day} other {# days}} {hours, plural, =0 {} one {1 hour} other {# hours}} {minutes, plural, =0 {} one {1 minute} other {# minutes}}","duration.short":"{days, plural, =0 {} other {#d}} {hours, plural, =0 {} other {#h}} {minutes, plural, =0 {} other {#m}}","form.validation.required":"Required","form.validation.requiredFirstAddressLine":"Please enter address line 1","form.validation.invalid":"Invalid","form.validation.tooLong":"Too long","form.validation.tooShort":"Too short","form.validation.fieldMaxLength":"{label} must be at most {maxLength} characters","form.validation.passwordMissing":"Please enter a password","form.validation.passwordTooShort":"Must be at least 6 characters","form.validation.passwordTooLong":"Cannot be more than 128 characters","form.validation.passwordHasDisallowedCharacters":"Password contains disallowed characters","form.addressForm.validation.clickFindAddress":"Click Find address","form.addressForm.validation.invalidAddressLineCaracter":"Invalid characters in line address","form.addressForm.validation.notOnlyDigits":"The city field cannot contain only digits","form.addressForm.field.addressLine1":"Line 1","form.addressForm.field.addressLine2":"Line 2","form.addressForm.field.addressLine3":"Line 3","form.addressForm.field.addressLine4":"Line 4","form.addressForm.field.addressLine5":"Line 5","form.addressForm.field.city":"Town / City","form.paymentForm.validation.wrongCardType":"Did you mean to choose {cardType}?","form.paymentForm.validation.chooseDifferentCardType":"Did you mean to choose {cardType} as the card type?","form.paymentForm.validation.shortCardNumber":"Card number too short","form.paymentForm.validation.longCardNumber":"Card number too long","form.paymentForm.validation.invalidCardNumber":"Invalid card number","form.paymentForm.validation.unsupportedCard":"Card is not supported","form.paymentForm.validation.cvv":"Invalid cvv code","form.paymentForm.validation.cardHolderNamewhithNoSpace":"Please enter the name exactly as on the card","form.paymentForm.validation.cardHolderNameInvalidChars":"Invalid characters in name","form.paymentForm.validation.cardHolderNameTooLong":"Holder name must be at most {maxLength} characters","form.paymentForm.validation.cardExpiresInThePast":"Expiry is in the past","form.paymentForm.validation.cardExpiresInMoreThanTenYears":"Invalid expiry date","form.paymentForm.validation.paymentOfferNotLoaded":"We are sorry, we are having trouble recognising this card. Please try a different payment method or try again later.","form.paymentForm.validation.paymentOfferPending":"Card recognition pending, please wait...","form.paymentForm.validation.paymentMethodNotSupportedForProduct":"{cardType} is not supported for {vendor} products","form.paymentForm.validation.confirmationEmails.invalid":"Invalid email","form.paymentForm.validation.bankIdentificationNumberInvalid":"Invalid card number","form.paymentForm.validation.PaymentMethodNotAvailableForTotalAmount":"Payment method not available","form.paymentForm.validation.paymentMethodNotAvailableForCurrency":"Payment method not available","form.saveYourDetailsPassword.validation.invalidChars":"< and > are invalid","form.quickSignUpSignInForm.title":"Optional: {b}Add a password and create an account{_b}","form.quickSignUpSignInForm.title.variant":"Add a password to create an account (optional)","form.quickSignUpSignInForm.password.label.variant":"Password","form.quickSignUpSignInForm.password.label.variant.instruction":"6 or more characters","rbr.banner.title":"This is a Super Route ","rbr.banner.subTitle":"Here\'s how it compares to a car","rbr.banner.learnMore":"Learn more","deliveryOptions.eTicket.altText.emailAttachment":"Get Email Attachment Icon","deliveryOptions.eTicket.altText.print":"Print E-Ticket Icon","deliveryOptions.eTicket.altText.downloadApp":"Download App Icon","deliveryOptions.eTicket.callout.ticketType":"eticket","deliveryOptions.eTicket.mobilePopoverLink":"How it works","deliveryOptions.eTicket.callout.title":"We\'ve selected an {ticketType} because we want to save you time and hassle. ","deliveryOptions.eTicket.callout.footer":"Feel free to pick an alternative","deliveryOptions.eTicket.experimentTitle":"Use etickets for fast, contactless travel","deliveryOptions.eTicket.title":"Use etickets to travel safely","deliveryOptions.eTicket.alternateTitle":"eticket","deliveryOptions.eTicket.subtitle":"Well email your tickets instantly.","deliveryOptions.eTicket.title.icon-text":"Recommended","deliveryOptions.eTicket.downloadInstructions.alternateHeader":"How do etickets work?","deliveryOptions.eTicket.expandedIntroText.combined":"Go contactless and avoid touching ticket machines with etickets. You {b}choose{_b} how to use them...","deliveryOptions.eTicket.expandedIntroText.1":"Go contactless and avoid touching ticket machines with etickets.","deliveryOptions.eTicket.expandedIntroText.2":"You {b}choose{_b} how to use them...","deliveryOptions.eTicket.downloadInstructions.step1.title":"Show on your phone","deliveryOptions.eTicket.downloadInstructions.step1.experimentTitle":"Greener travel","deliveryOptions.eTicket.downloadInstructions.step1.body":"Open the PDF attached to the confirmation email, or send it to another traveller.","deliveryOptions.eTicket.downloadInstructions.step1.experimentBody":"No paper means greener, more sustainable travel!","deliveryOptions.eTicket.downloadInstructions.step2.title":"Print a copy","deliveryOptions.eTicket.downloadInstructions.step2.experimentTitle":"Scan and go","deliveryOptions.eTicket.downloadInstructions.step2.body":"If youd like the reassurance of having a backup.","deliveryOptions.eTicket.downloadInstructions.step2.experimentBody":"Fast, contactless travel. No need for ticket machines - just download, scan and go.","deliveryOptions.eTicket.downloadInstructions.step3.title":"View in app","deliveryOptions.eTicket.downloadInstructions.step3.experimentTitle":"View in our app","deliveryOptions.eTicket.downloadInstructions.step3.body":"Easily download your etickets, even view them offline. Plus see live times and platform info.","deliveryOptions.eTicket.downloadInstructions.step3.experimentBody":"You can keep your tickets in our app. We\'ll email your tickets as a PDF, so you\'ll have a backup.","deliveryOptions.eTicket.downloadInstructions.step4.title":"","deliveryOptions.eTicket.downloadInstructions.step4.body":"","deliveryOptions.eTicket.footer.title":"{b}94% of our customers already use etickets{_b}","deliveryOptions.eTicket.footer.imageAlt":"Most popular","deliveryOptions.eTicket.usageInstructions.footer.title":"It\'s so easy...","deliveryOptions.eTicket.usageInstructions.footer.step1":"Breeze through the station - {b}just scan your ticket{_b} at the gate","deliveryOptions.eTicket.usageInstructions.footer.step2":"Use {b}our app{_b} to help you {b}claim expenses{_b} too","deliveryOptions.eTicket.usageInstructions.footer.step3":"Most trains on longer journeys have {b}power sockets{_b} and you can always {b}print your ticket{_b} too!","deliveryOptions.eTicket.usageInstructions.footer.step4":"{b}Buying for someone else?{_b} That\'s easy, just send tickets to the traveller by email","deliveryOptions.mTicket.title":"Skip queues with our mobile app","deliverOptions.mTicket.alternateTitle":"Mobile barcode ticket","deliveryOptions.mTicket.description":"Download your mobile barcode ticket straight to your phone using our app.","deliveryOptions.mTicket.requirements":"Requires iOS 10.0 or Android 4.1 or later","deliveryOptions.mTicket.travellerName":"Who\'s travelling?","deliveryOptions.mTicket.info":"Information","deliveryOptions.mTicket.travellerNamePlaceholder":"Traveller name (as printed on ID)","deliveryOptions.mTicket.whenYouTravel.message.single":"You must carry one of the accepted forms of ID (credit or debit card, National Railcard, Passport or Driving Licence).","deliveryOptions.mTicket.whenYouTravel.message.group":"Multiple passengers must travel together, and the lead passenger must carry one of the accepted forms of ID (credit or debit card, National Railcard, Passport or Driving Licence). Multiple tickets will be delivered to one phone.","deliveryOptions.mTicket.whenYouTravel.title":"When you travel:","deliveryOptions.mTicket.ticketsForSomeoneElse":"Buying tickets for someone else?","deliveryOptions.mTicket.ticketsForSomeoneElse.CalloutText.1":"If you\'re buying a ticket for someone else, write their name in the field above and then forward the booking confirmation email to them.","deliveryOptions.mTicket.ticketsForSomeoneElse.CalloutText.2":"The email will explain the next steps for them.","deliveryOptions.mTicket.downloadInstructions.header":"Getting your Mobile barcode tickets","deliveryOptions.mTicket.downloadInstructions.alternateHeader":"How do mtickets work?","deliveryOptions.mTicket.downloadInstructions.step1.bullet":"1","deliveryOptions.mTicket.downloadInstructions.step1.title":"Download our app","deliveryOptions.mTicket.downloadInstructions.step1.body":"Download our app (iOS 10.0 or Android 4.1 or greater). {a}Text me a link to the app for free!{_a} You can also do this after you have purchased.","deliveryOptions.mTicket.downloadInstructions.step2.bullet":"2","deliveryOptions.mTicket.downloadInstructions.step2.title":"Download your mobile ticket","deliveryOptions.mTicket.downloadInstructions.step2.body":"View your confirmation email on your mobile phone. Then tap the big mint coloured button that says \'Download your mobile ticket\' in \'My Tickets\'.","deliveryOptions.mTicket.downloadInstructions.step3.bullet":"3","deliveryOptions.mTicket.downloadInstructions.step3.title":"Activate in the app","deliveryOptions.mTicket.downloadInstructions.step3.body":"Simply open your app and tap to activate on the day of travel. {b}You don\'t even need an internet connection{_b}, just make sure you have battery!","deliveryOptions.mTicket.downloadInstructions.footer.title":"It\'s so easy","deliveryOptions.mTicket.downloadInstructions.footer.confirmation":"Okay, got it","deliveryOptions.mTicket.downloadInstructions.footer.body":"Scan the barcode at the gate or show your mobile barcode ticket to a member of staff at the barrier or on board","deliveryOptions.mTicket.callout.ticketType":"mobile barcode ticket","deliveryOptions.mTicket.callout.title":"We\'ve selected a {ticketType} because we want to save you time and hassle. ","deliveryOptions.mTicket.altText.downloadApp":"Download App Icon","deliveryOptions.mTicket.altText.downloadTicket":"Download M-Ticket Icon","deliveryOptions.mTicket.altText.activateTicket":"Activate Ticket Icon","deliveryOptions.mTicket.altText.scanTicket":"Scan M-Ticket Icon","deliveryOptions.eTicket.altText.scanCode":"Scan code Icon","deliveryOptions.eTicket.altText.eTicketIcon":"E-ticket icon","deliveryOptions.eTicket.altText.power":"E-ticket battery icon","deliveryOptions.eTicket.altText.shareTicketIcon":"Share tickets icon","deliveryOptions.mTicket.callout.footer":"Feel free to pick an alternative","deliveryOptions.pyoTicket.passengerEmail":"Email my ticket to","deliveryOptions.euTicket.passengerLabel.passenger":"{passengerType, select, adult {Adult} child {Child} youth {Youth} senior {Senior}}","deliveryOptions.euTicket.passengerLabel.passenger.child":"Child ({age} {age, plural, one {year} other {years}})","deliveryOptions.euTicket.passengerLabel.passenger.youth":"Youth ({age} {age, plural, one {year} other {years}})","deliveryOptions.euTicket.passengerLabel.passenger.adult":"Adult","deliveryOptions.euTicket.passengerLabel.passenger.senior":"Senior (60+ years)","deliveryOptions.euTicket.passengerLabel.passenger.firstName":"First name(s)","deliveryOptions.euTicket.passengerLabel.passenger.middleName":"Middle initial","deliveryOptions.euTicket.passengerLabel.passenger.lastName":"Last name","deliveryOptions.euTicket.passengerLabel.passenger.password":"Password","deliveryOptions.euTicket.passengerLabel.age":"{passengerType, select, adult {26-59} child {{age}} youth {{age}} senior {60+}} years","deliveryOptions.euTicket.readOnlyEmail":"Booking confirmation will be emailed to: {email}","deliveryOptions.euTicket.accordion.description":"Well email your ticket (as a PDF file) shortly, for you to print on A4 paper.","deliveryOptions.euTicket.accordion.alert":"Passenger names must match their IDs.","deliveryOptions.euTicket.passengerEmail":"Email booking confirmation to:","deliveryOptions.euTicket.passengerEmailLabel":"Email tickets and confirmation to:","deliveryOptions.euTicket.passengersTitle":"Passenger name as printed on each ID:","deliveryOptions.euTicket.passengerDetailsSubtitle":"Passenger details","deliveryOptions.euTicket.signIn":"Got an account? Sign in","deliveryOptions.euTicket.socialSignIn":"Faster checkout: autofill your details with social sign in","deliveryOptions.euTicket.title":"Skip queues with our mobile app","deliveryOptions.euTicket.optional":"Optional","deliveryOptions.euTicket.hide":"HIDE","deliveryOptions.euTicket.show":"SHOW","deliveryOptions.euTicket.SNCFDigipass.heading":"Verify your {card} number","deliveryOptions.euTicket.SNCFDigipass.explanation":"We need to verify your card with SNCF to apply your discount.","deliveryOptions.euTicket.SNCFDigipass.cardNumberLabel":"{card} number","deliveryOptions.euTicket.SNCFDigipass.removeCard":"Remove card","deliveryOptions.euTicket.SNCFDigipass.removeCard.confirmationTitle":"Remove {card}?","deliveryOptions.euTicket.SNCFDigipass.removeCard.confirmationExplanation":"Removing your {card} card means we will need to search again to find you the best possible price.","deliveryOptions.euTicket.SNCFDigipass.removeCard.confirmationButton":"Remove and search again","page.deliveryOptions.eu.SNCFDigipass.travelProtocol.cardInformationInvalid":"Invalid card number. Please try again or remove the card.","page.deliveryOptions.eu.SNCFDigipass.travelProtocol.cardNotValidForTripDate":"Card not valid at time of travel","page.deliveryOptions.eu.PIUCode.travelProtocol.cardInformationInvalid":"Invalid card number. Please try again or remove the card.","page.deliveryOptions.eu.PIUCode.travelProtocol.cardNotValidForTripDate":"Card not valid at time of travel","deliveryOptions.euTicket.passengerLabel.passenger.dateOfBirth":"Date of birth","deliveryOptions.euTicket.passengerLabel.passenger.DD":"DD","deliveryOptions.euTicket.passengerLabel.passenger.month":"Month","deliveryOptions.euTicket.passengerLabel.passenger.YYYY":"YYYY","deliveryOptions.euTicket.passengerLabel.passenger.day.label":"Day","deliveryOptions.euTicket.passengerLabel.passenger.year.label":"Year","deliveryOptions.euTicket.passengerLabel.passenger.gender":"Gender","deliveryOptions.euTicket.passengerLabel.passenger.genderRequired.heading":"Why we need gender","deliveryOptions.euTicket.passengerLabel.passenger.genderRequired.body":"This train company requires gender for sleeper trains to assign passengers to mixed or female-only carriages. Unfortunately, we are unable to offer this service without asking.","deliveryOptions.euTicket.passengerLabel.passenger.genderRequired.male":"Male","deliveryOptions.euTicket.passengerLabel.passenger.genderRequired.female":"Female","deliveryOptions.euTicket.passengerLabel.passenger.title":"Title","deliveryOptions.euTicket.passengerLabel.passenger.titleRequired.mr":"Mr","deliveryOptions.euTicket.passengerLabel.passenger.titleRequired.ms":"Ms","deliveryOptions.euTicket.passengerLabel.passenger.titleRequired.mrs":"Ms","deliveryOptions.euTicket.passengerLabel.titleField.tooltip.heading":"Why we need title","deliveryOptions.euTicket.passengerLabel.titleField.tooltip.body":"The journey provider requires a title for the lead passenger to make this booking","deliveryOptions.euTicket.passengerLabel.leadPassenger.years":" ({age} years)","deliveryOptions.euTicket.passengerLabel.leadPassenger.heading":"Lead passenger details","deliveryOptions.euTicket.passengerLabel.leadPassenger.label":"Lead passenger","deliveryOptions.euTicket.passengerLabel.leadPassenger.phonePrefixLabel":"Country","deliveryOptions.euTicket.passengerLabel.leadPassenger.phoneNumber":"Phone number","deliveryOptions.euTicket.passengerLabel.leadPassenger.tooltip.heading":"Lead passenger","deliveryOptions.euTicket.passengerLabel.leadPassenger.tooltip.body":"This ticket is valid for all passengers, but the lead passengers name will be displayed on the ticket and cannot be changed after booking.","deliveryOptions.euTicket.passengerLabel.leadPassenger.tooltip.button":"Lead passenger information","deliveryOptions.euTicket.passengerLabel.passenger.identificationDocument":"Number","deliveryOptions.euTicket.passengerLabel.passenger.documentType":"Document type","deliveryOptions.euTicket.passengerLabel.passenger.number":"Number","deliveryOptions.euTicket.passengerLabel.passenger.documentRequired.heading":"Identification document","deliveryOptions.euTicket.passengerLabel.passenger.documentRequired.body":"A valid ID document is required by the carrier to complete the reservation.\\n The ID must be presented when boarding.","deliveryOptions.euTicket.passengerLabel.passenger.documentNumber":"Document number","deliveryOptions.euTicket.passengerLabel.passenger.info":"Information","deliveryOptions.euTicket.wheelchairLinkMessage":"Wheelchair passenger?","deliveryOptions.euJourneySummary.journeyTimes":"{weekday} {day} {month}, {departureTime} - {arrivalTime}","deliveryOptions.nationalExpressETicket.expandedIntroText":"We\'ll email your tickets {b}immediately{_b} - you can {b}choose{_b} how to use them...","deliveryOptions.nationalExpressETicket.downloadInstructions.step1.title":"Quick and easy...","deliveryOptions.nationalExpressETicket.downloadInstructions.step1.body":"If you have email on your phone, {b}simply open the PDF attachments and show them to the driver{_b} when boarding the coach","deliveryOptions.nationalExpressETicket.downloadInstructions.step2.title":"Get some backup...","deliveryOptions.nationalExpressETicket.downloadInstructions.step2.body":"You can also {b}print the tickets{_b} if you want the reassurance of a paper copy as well as the electronic version","deliveryOptions.nationalExpressETicket.downloadInstructions.step3.title":"Best experience...","deliveryOptions.nationalExpressETicket.downloadInstructions.step3.body":"Or {b}download your tickets on our app{_b} to keep them close at hand","deliveryOptions.nationalExpressETicket.title":"eticket","deliveryOptions.nationalExpressETicket.travellerName":"Lead passenger\'s full name:","deliveryOptions.nationalExpressETicket.info":"Information","deliveryOptions.nationalExpressETicket.CalloutText":"Your name will be displayed on the ticket and must match your ID","deliveryOptions.nationalExpressETicket.travellerNamePlaceholder":"First and last name","deliveryOptions.nationalExpressETicket.altText.print":"Print E-Ticket Icon","deliveryOptions.nationalExpressETicket.altText.downloadApp":"Download App Icon","deliveryOptions.nationalExpressETicket.altText.emailAttachment":"Get Email Attachment Icon","tooltip.resultsPage.continueButton":"Select your travel preferences and delivery option.","tooltip.resultsPage.quickBuyButton":"Speed straight to your shopping basket.","tooltip.resultsPage.previous":"Find earlier trains","tooltip.resultsPage.previous.coach":"Find earlier coaches","tooltip.resultsPage.next":"Find later trains","tooltip.resultsPage.next.coach":"Find later coaches","tooltip.resultsPage.seatingPreferencesButton":"Seating preferences","registrationForm.inputs.labels.email":"Email address","registrationForm.inputs.labels.password":"Password","registrationForm.inputs.labels.firstName":"First name","registrationForm.inputs.labels.surname":"Surname","registrationForm.inputs.placeholders.email":"Enter your email address","registrationForm.inputs.placeholders.password":"Enter your password","registrationForm.inputs.placeholders.firstName":" ","registrationForm.inputs.placeholders.surname":" ","registrationForm.inputs.errors.noEmail":"Please enter an email address","registrationForm.inputs.errors.invalidEmailFormat":"Please enter an email address, e.g. your.name@domain.com","registrationForm.inputs.errors.noPassword":"Please enter a password","registrationForm.inputs.errors.passwordLength":"Password must be between 6 to 128 characters long and cannot contain < or >","registrationForm.inputs.errors.noFirstName":"Please enter first name","registrationForm.inputs.errors.noSurname":"Please enter surname","modal.changeJourneySearch.title":"Search","modal.tripSummary.title":"Journey summary","modal.tripSummary.journeyPlan.duration":"Duration: {duration}","modal.tripSummary.journeyPlan.durationChanges":"Duration: {duration}, {changes, plural, one {1 change} other {# changes}}","modal.tripSummary.anyValidTrain":"Any valid train. Please check the ticket details for validity.","country.FX":"France, Metropolitan","country.ME":"Montenegro","country.Z6":"Channel Islands","country.CD":"Democratic Republic of the Congo","country.GB":"United Kingdom","country.TL":"East Timor","country.YU":"Yugoslavia","country.AF":"Afghanistan","country.AL":"Albania","country.DZ":"Algeria","country.AS":"American Samoa","country.AD":"Andorra","country.AO":"Angola","country.AI":"Anguilla","country.AQ":"Antarctica","country.AG":"Antigua And Barbuda","country.AR":"Argentina","country.AM":"Armenia","country.AW":"Aruba","country.AU":"Australia","country.AT":"Austria","country.AZ":"Azerbaijan","country.BS":"Bahamas","country.BH":"Bahrain","country.BD":"Bangladesh","country.BB":"Barbados","country.BY":"Belarus","country.BE":"Belgium","country.BZ":"Belize","country.BJ":"Benin","country.BM":"Bermuda","country.BT":"Bhutan","country.BO":"Bolivia","country.BA":"Bosnia And Herzegovina","country.BW":"Botswana","country.BV":"Bouvet Island","country.BR":"Brazil","country.IO":"British Indian Ocean Territory","country.BN":"Brunei Darussalam","country.BG":"Bulgaria","country.BF":"Burkina Faso","country.BI":"Burundi","country.KH":"Cambodia","country.CM":"Cameroon","country.CA":"Canada","country.CV":"Cape Verde","country.KY":"Cayman Islands","country.CF":"Central African Republic","country.TD":"Chad","country.CL":"Chile","country.CN":"China","country.CX":"Christmas Island","country.CC":"Cocos (Keeling) Islands","country.CO":"Colombia","country.KM":"Comoros","country.CG":"Congo","country.CK":"Cook Islands","country.CR":"Costa Rica","country.CI":"Cote d\'Ivoire","country.HR":"Croatia","country.CU":"Cuba","country.CY":"Cyprus","country.CZ":"Czech Republic","country.DK":"Denmark","country.DJ":"Djibouti","country.DM":"Dominica","country.DO":"Dominican Republic","country.EC":"Ecuador","country.EG":"Egypt","country.SV":"El Salvador","country.GQ":"Equatorial Guinea","country.ER":"Eritrea","country.EE":"Estonia","country.ET":"Ethiopia","country.FK":"Falkland Islands (Malvinas)","country.FO":"Faroe Islands","country.FJ":"Fiji","country.FI":"Finland","country.FR":"France","country.GF":"French Guiana","country.PF":"French Polynesia","country.TF":"French Southern Territories","country.GA":"Gabon","country.GM":"Gambia","country.GE":"Georgia","country.DE":"Germany","country.GH":"Ghana","country.GI":"Gibraltar","country.GR":"Greece","country.GL":"Greenland","country.GD":"Grenada","country.GP":"Guadeloupe","country.GU":"Guam","country.GT":"Guatemala","country.GN":"Guinea","country.GW":"Guinea-Bissau","country.GY":"Guyana","country.HT":"Haiti","country.HM":"Heard And Mc Donald Islands","country.HN":"Honduras","country.HK":"Hong Kong","country.HU":"Hungary","country.IS":"Iceland","country.IN":"India","country.ID":"Indonesia","country.IR":"Iran (Islamic Republic Of)","country.IQ":"Iraq","country.IE":"Ireland","country.IL":"Israel","country.IT":"Italy","country.JM":"Jamaica","country.JP":"Japan","country.JO":"Jordan","country.KZ":"Kazakhstan","country.KE":"Kenya","country.KI":"Kiribati","country.KP":"Korea, Dem People\'s Rep Of","country.KR":"Korea, Republic Of","country.KW":"Kuwait","country.KG":"Kyrgyzstan","country.LA":"Lao People\'s Dem Rep","country.LV":"Latvia","country.LB":"Lebanon","country.LS":"Lesotho","country.LR":"Liberia","country.LY":"Libyan Arab Jamahiriya","country.LI":"Liechtenstein","country.LT":"Lithuania","country.LU":"Luxembourg","country.MO":"Macau","country.MK":"Macedonia","country.MG":"Madagascar","country.MW":"Malawi","country.MY":"Malaysia","country.MV":"Maldives","country.ML":"Mali","country.MT":"Malta","country.MH":"Marshall Islands","country.MQ":"Martinique","country.MR":"Mauritania","country.MU":"Mauritius","country.YT":"Mayotte","country.MX":"Mexico","country.FM":"Micronesia, Federated States","country.MD":"Moldova, Republic Of","country.MC":"Monaco","country.MN":"Mongolia","country.MS":"Montserrat","country.MA":"Morocco","country.MZ":"Mozambique","country.MM":"Myanmar","country.NA":"Namibia","country.NR":"Nauru","country.NP":"Nepal","country.NL":"Netherlands","country.AN":"Netherlands Antilles","country.NC":"New Caledonia","country.NZ":"New Zealand","country.NI":"Nicaragua","country.NE":"Niger","country.NG":"Nigeria","country.NU":"Niue","country.NF":"Norfolk Island","country.MP":"Northern Mariana Islands","country.NO":"Norway","country.OM":"Oman","country.PK":"Pakistan","country.PW":"Palau","country.PA":"Panama","country.PG":"Papua New Guinea","country.PY":"Paraguay","country.PE":"Peru","country.PH":"Philippines","country.PN":"Pitcairn","country.PL":"Poland","country.PT":"Portugal","country.PR":"Puerto Rico","country.QA":"Qatar","country.RS":"Republic of Serbia","country.RE":"Reunion","country.RO":"Romania","country.RU":"Russian Federation","country.RW":"Rwanda","country.KN":"Saint Kitts And Nevis","country.LC":"Saint Lucia","country.WS":"Samoa","country.SM":"San Marino","country.ST":"Sao Tome And Principe","country.SA":"Saudi Arabia","country.SN":"Senegal","country.SC":"Seychelles","country.SL":"Sierra Leone","country.SG":"Singapore","country.SK":"Slovakia (Slovak Republic)","country.SI":"Slovenia","country.SB":"Solomon Islands","country.SO":"Somalia","country.ZA":"South Africa","country.GS":"South Georgia, S. Sandwich Is","country.ES":"Spain","country.LK":"Sri Lanka","country.VC":"St Vincent And Grenadines","country.SH":"St. Helena","country.PM":"St. Pierre And Miquelon","country.SD":"Sudan","country.SR":"Suriname","country.SJ":"Svalbard And Jan Mayen Islands","country.SZ":"Swaziland","country.SE":"Sweden","country.CH":"Switzerland","country.SY":"Syrian Arab Republic","country.TW":"Taiwan","country.TJ":"Tajikistan","country.TZ":"Tanzania, United Republic Of","country.TH":"Thailand","country.TG":"Togo","country.TK":"Tokelau","country.TO":"Tonga","country.TT":"Trinidad And Tobago","country.TN":"Tunisia","country.TR":"Turkey","country.TM":"Turkmenistan","country.TC":"Turks And Caicos Islands","country.TV":"Tuvalu","country.UM":"USA Minor Outlying Isles","country.UG":"Uganda","country.UA":"Ukraine","country.AE":"United Arab Emirates","country.US":"United States","country.UY":"Uruguay","country.UZ":"Uzbekistan","country.VU":"Vanuatu","country.VA":"Vatican City State (Holy See)","country.VE":"Venezuela","country.VN":"Vietnam","country.VG":"Virgin Islands (British)","country.VI":"Virgin Islands (U.S.)","country.WF":"Wallis And Futuna Islands","country.EH":"Western Sahara","country.YE":"Yemen","country.ZM":"Zambia","country.ZW":"Zimbabwe","insurance.covidBannerContent":"Please note that our insurers will not cover any claims relating to coronavirus (COVID-19) under policies bought on or after {strong}19/03/2020{_strong}.","insurance.panel.tailoredForThisTrip":"Tailored for this trip","insurance.panel.heading":"Travel insurance {costStatement} for only {cost} {_costStatement}","insurance.panel.genericError":"Uh oh. Insurance isn\'t available at the moment.","insurance.panel.continueError":"You can still continue with your booking.","insurance.panel.switch.addInsurance.altText":"Add travel insurance","insurance.panel.switch.removeInsurance.altText":"Remove travel insurance","insurance.basic.panel.coverPoint1":"Full refund if you can\'t travel due to unexpected sickness","insurance.core.panel.comprehensiveCover":"Comprehensive cover, including:","insurance.core.panel.coverPoint1":"A {b}full refund{_b} if you have to cancel for emergencies","insurance.core.panel.coverPoint2":"Disruptions to your journey covered up to {b}250{_b}","insurance.core.panel.coverPoint3":"Personal possessions insured up to {b}500{_b}","insurance.panel.furtherDetails.link":"View terms and conditions","insurance.essential.panel.heading":"Add Flexcover {costStatement} for only {cost} {_costStatement}","insurance.essential.panel.comprehensiveCover":"Insure your journey and cancel for any reason","insurance.essential.panel.coverPoint1":"{b}95%{_b} of ticket price returned","insurance.essential.panel.coverPoint2":"Cancel up to {b}15 mins{_b} before departure","insurance.essential.panel.coverPoint3":"Powered by our insurance partner {b}Companjon{_b}","insurance.essential.panel.furtherDetails":"By adding Flexcover, I declare I have read the {a:productInfoLink}insurance information document{_a:productInfoLink} and agree to the {a:generalConditionsLink}T&Cs{_a:generalConditionsLink}.","insurance.details.heading":"Travel Insurance","insurance.details.subHeading":"Giving you flexibility and peace of mind","insurance.details.weWorkedHard":"We worked hard to create a policy that covers your trip with us, but as with all policies, some conditions do apply.","insurance.details.recommendedHighlight":"Tailored for this trip","insurance.details.fullRefund":"Full refund","insurance.details.claimAmount":"up to {amount}","insurance.core.details.coverSummary.header":"Comprehensive cover","insurance.core.details.coverPerPerson.header":"Cover per person","insurance.core.details.cancelling.header":"Cancelling for personal reasons","insurance.core.details.cancelling.details":"Get a full ticket refund if unexpectedly the traveller, a travel companion or a family member is sick","insurance.core.details.disruptions.header":"Disruptions to your journey","insurance.core.details.disruptions.details":"We\'ll reimburse onward travel costs if an issue with public transport means you miss your scheduled train or if you miss your connection due to a delayed/cancelled first leg","insurance.core.details.legalRegulations.authorization":"Trainline.com Limited is an Appointed Representative of Insurance Administration Services Limited who is authorised and regulated by the Financial Conduct Authority under FCA Register reference 307309. This can be checked on the financial services register held on the FCAs website (www.fca.org.uk).","insurance.core.details.overnightAccomodation.header":"Overnight Accommodation","insurance.core.details.overnightAccomodation.details":"Cover towards hotel costs if you are stranded overnight with no way of completing your journey","insurance.core.details.possessions.header":"Personal possessions","insurance.core.details.possessions.details":"Cover for personal possessions on your trip","insurance.core.details.pdf.link":"Insurance product information document","insurance.core.generalSummary.pdf.link":"Full policy document","insurance.business.details.coverSummary.header":"Additional business travel cover","insurance.business.details.meetingCancellation.header":"Meeting cancellation","insurance.business.details.meetingCancellation.details":"If your business meeting gets cancelled by your client","insurance.business.details.businessEquipment.header":"Business equipment","insurance.business.details.businessEquipment.details":"Cover for your business equipment on your trip","insurance.business.details.pdf.link":"Business insurance product information document","insurance.business.generalSummary.pdf.link":"Business insurance full policy document","insurance.panel.business.available":"Business travel cover available","insurance.panel.business.heading":"Business Travel Cover","insurance.panel.business.optionalExtras":"Optional extras:","insurance.core.business.panel.coverPoint1":"{b}Full refund{_b} if your business meeting gets cancelled","insurance.core.business.panel.coverPoint2":"Business equipment covered up to {b}1,500{_b}","priceRadio.accessibilityText.standardFare":"Standard fare,","priceRadio.accessibilityText.firstClassFare":"First class fare,","priceRadio.accessibilityText.cost":"cost:","priceRadio.accessibilityText.cheapestFare":"This is the cheapest available fare.","returnAlternative.content.trainTimes.dayWarning":"No trains at your search times. Try changing your search.","returnAlternative.header.conditionsSummary.accessibilityText":"Travel conditions","returnAlternative.header.fareType.accessibilityText":"Ticket type","returnAlternative.header.travelcard.accessibilityText":"includes London Travelcard","trainTimes.selectedTime.accessibilityText":"currently selected","trainTimes.outboundJourney.accessibilityText":"Available outbound journey times","trainTimes.inwardJourney.accessibilityText":"Available inward journey times","insurance.userDetails.form.singlePassengerName.label":"Passenger full name:","insurance.userDetails.form.leadPassengerName.label":"Enter your first and last name","insurance.userDetails.form.otherPassengerNames.label":"Other passenger full names","insurance.userDetails.form.singlePassengerPostcode.label":"Postcode","insurance.userDetails.form.leadPassengerPostcode.label":"Lead passenger postcode","insurance.userDetails.form.singlePassengerAddress.label":"Address","insurance.userDetails.form.leadPassengerAddress.label":"Lead passenger address","insurance.userDetails.form.submit":"Add to basket","insurance.userDetails.form.submitted":"Added to basket","insurance.userDetails.form.update":"Update","insurance.userDetails.form.name.required":"Please enter passengers full name","insurance.userDetails.form.firstName.maxLength":"First name must be {firstNameMaxLength} characters or less","insurance.userDetails.form.lastName.maxLength":"Last name must be {lastNameMaxLength} characters or less","insurance.userDetails.form.name.invalid":"Invalid Name","insurance.userDetails.form.postcode.invalid":"Invalid postcode","insurance.userDetails.form.findAddress":"Click find address","insurance.userDetails.form.confirm.onPaymentForm":"Please confirm your Travel Insurance details by clicking \'Add to basket\'","distance.kilometer":"{distance} km","distance.kilometers":"{distance} km","distance.mile":"{distance} mile","distance.miles":"{distance} miles","transportMode.train":"Train","transportMode.ferry":"Ferry","transportMode.bus":"Bus","transportMode.taxi":"Taxi","transportMode.tram":"Tram","transportMode.metro":"Metro","transportMode.tramlink":"Tramlink","modal.journeyDetails.delayed":"Delayed","modal.journeyDetails.onTime":"On time","modal.journeyDetails.cancelled":"Cancelled","modal.journeyDetails.platform":"Plat. {platform}","modal.journeyDetails.viewStops":"View stops","modal.journeyDetails.hideStops":"Hide stops","modal.journeyDetails.directTrain":"This train is direct","modal.journeyDetails.directBus":"This bus is direct","modal.journeyDetails.directFerry":"This ferry is direct","modal.journeyDetails.stopsUnavailable":"Stops unavailable","modal.journeyDetails.estimatedPlatform":"Plat. {platform} estimated","firstClassShortLabel":"1st","component.trustbox.cta":"Rate us now","component.trustbox.description":"Please rate your recent experience on Trustpilot","component.trustbox.title":"Were we on the right track?","page.results.noDirectTrain":"No direct journeys matching your search","page.results.priceMatch":"Best price guaranteed.","page.results.priceMatchMessage":"Can you find it cheaper elsewhere? We will refund you the difference.","page.results.priceMatchLink":"Learn more","page.results.noDirectTrainExtended":"No direct journeys matching your search, try adding earlier/later times or removing filters","page.results.carriersComparisonBanner.text":"Discover onboard services...","page.results.carriersComparisonBanner.mobile.text":"Your results are in. Choose a journey to get moving.","page.results.carriersComparisonBanner.mobile.loading.text":"Give us a moment. Were checking every option out there...","page.results.carriersComparisonBanner.button":"Compare","page.results.carriersComparisonBanner.compareOnboardServices.button":"Compare onboard services","page.results.carriersComparisonBanner.alert.discoverServicesFor":"Discover onboard services for","page.results.tryEarlierLaterOrRemoveFilter":"Try adding earlier/later times or remove the filters","page.results.showAllResults":"Show all results","page.results.sale":"Sale","smartPrice.title":"Smart price","splitsave.text":"SplitSave","splitsave.firstClass":"SplitSave (1st Class)","splitsave.cjsText":"Show different tickets along your journey.","splitsave.cjs.amountsaved":"Youre saving {price} with SplitSave!","splitsave.save.price":"Save {price}","page.confirmation.appPromotion.title":"","page.checkout.agentPayment":"","components.carrierFilterTabs.allTrains":"","components.carrierFilterTabs.ourTrains":"","page.matrix.tocName":"","page.confirmation.feedback.title":"What\'s your view?","page.confirmation.feedback.description1":"\\"Trainline helps me reduce my carbon footprint\\"","page.confirmation.feedback.description2":"\\"Trainline actively helps me find the most environmentally friendly travel options\\"","page.confirmation.feedback.stronglyDisagree":"Strongly disagree","page.confirmation.feedback.slightlyDisagree":"Slightly disagree","page.confirmation.feedback.neutral":"Neutral","page.confirmation.feedback.slightlyAgree":"Slightly agree","page.confirmation.feedback.stronglyAgree":"Strongly agree","page.confirmation.feedback.response":"Thank you","page.confirmation.feedback.response.message":"Best. Feedback. Ever.","components.euResults.splitSave":"This little heart indicates a smart price: the best price combination available for that journey, exclusively on Trainline. ","components.euResults.splitSaveLink":"Here\'s how","components.euResults.strikeThroughInfo":"The price shown with a strikethrough is the price you\'d see in a classic search, without any savings.","components.euResults.smartPriceModalTitle":"Our Smart Price","components.euResults.smartPriceModalClose":"Close","components.euResults.smartPriceModalInfoOne":"Trainline\'s tech makes it cheaper for you to travel by finding a better price for part of your trip.","components.euResults.smartPriceModalSubTitleOne":"Why are the prices displayed cheaper than elsewhere?","components.euResults.smartPriceModalInfoTwo":"For journeys with a connection on the TGV, INTERCITS and TER networks, our smart tech combines different fares for parts of your journey. The lower prices marked with the Trainline heart are the result.","components.euResults.smartPriceModalSubTitleTwo":"What does it change for me?","components.euResults.smartPriceModalInfoThree":"Your route stays the same, but you\'ll have more tickets than usual. Please check the exchange and refund conditions for each ticket to make sure they\'re right for you.","components.euResults.youSavedWith":"You saved with","components.euResults.smartPriceSaving":"You\'re saving {price} with Trainline.","components.euResults.smartPriceSave":"You save {price}.","components.euResults.amenities":"Onboard facilities include","page.basket.tripCard.header.seatReservations.specificNoDescription":"Carriage {carriage}, Seat {position}","components.subFooter.variant1":"Join millions of people who use us everyday: download the Trainline app.","components.subFooter.variant2":"We accept discount cards for SNCF, Trenitalia, Eurostar, Renfe, DB, and more.","components.subFooter.variant3":"Safely pay using world-class payment solutions such as PayPal, Apple Pay...","components.subFooter.variant4":"Compare operators and find the best price.","components.subFooter.variant5":"Check our price calendar to choose the cheapest day to travel.","components.subFooter.variant6":"Use promo codes on your Trenitalia ticket.","components.subFooter.variant7":"No additional costs, no fees on national journeys.","components.subFooter.variant8":"Save your tickets for later and buy them later at the same price.","components.subFooter.variant9":"Enjoy Smart Price and save on hundreds of connecting routes.","components.subFooter.variant10":"Get notified when you qualify for delay compensation.","components.subFooter.variant11":"Find tickets from hundreds of train companies across Italy and Europe.","components.subFooter.variant12":"Buy on our website or app and keep tickets at your fingertips.","components.subFooter.variant13":"Get notified instantly in case of delay or cancellation.","components.subFooter.variant14":"Change or cancel your tickets online and if needed, contact us!","components.subFooter.variant15":"Buy on our website or app and keep tickets at your fingertips.","components.subFooter.variant16":"Compare prices from more than 270 train and coach companies in Europe.","components.subFooter.variant17":"Join millions of people who use Trainline, Europes leading solution for train booking and travel.","components.reassuranceContent.variant1":"Trusted by millions","components.reassuranceContent.variant2":"Easy to book","components.reassuranceContent.variant3":"Great value on tickets","multifare.text":"Multiple Tickets","viewTicketDetails.text":"View ticket details","components.subFooter.variant18":"Join millions of travelers who love Trainline: Europes leading train and bus travel app","components.subFooter.variant19":"Easily compare prices and book your European train and bus travel.","components.subFooter.variant20":"Book your tickets in US Dollars, and pay securely with Apple Pay, PayPal, and more","components.subFooter.variant21":"Our customer service team is on hand to help if you need it","components.subFooter.variant22":"Safely pay in US Dollars using world-class payment solutions such as PayPal, Apple Pay...","components.subFooter.variant23":"Our english speaking customer service is here to help, should you need it.","components.subFooter.variant24":"Book your tickets in dollars, and pay securely with Apple Pay, PayPal, and more","components.ScreenReader.pause":". ","page.openReturn.noMatchingTicket":"No matching tickets available","page.openReturn.searchAgainText":"Change your journey to search again","editSeach.text":"Edit search","customerJourneySummary.europe.comfortOptions.promoLabel.new":"New","customerJourneySummary.europe.comfortOptions.promoLabel.mealIncluded":"Meal included","components.tripFinderPunchout.header":"Open to suggestions?","components.tripFinderPunchout.body":"Beat travel boredom. We find you destinations to a budget.","components.extras.cercaniasCombinado.free":"Free","components.extras.cercaniasCombinado.learnMore":"Learn more","page.travelOptions.bookInAdvanceBanner.title":"Book early for cheap tickets","page.travelOptions.bookInAdvanceBanner.description":"Will saving money by booking today lead to enlightenment? It cant hurt.","page.travelOptions.bookInAdvanceBanner.tip":"Psst... Tickets are sometimes more expensive closer to the day. Plus, they can sell out fast! Book today and lock in those savings.","component.bookInAdvanceBanner.acceptButton":"Got it","component.bookInAdvanceBanner.closeButton":"Close","component.bookInAdvanceBanner.description":"Will saving money by booking today lead to enlightenment? It can\'t hurt.","component.bookInAdvanceBanner.tip":"Psst... Tickets are sometimes more expensive closer to the day. Plus, they can sell out fast! Book today and lock in those savings.","component.bookInAdvanceBanner.title":" Book early for cheap tickets","component.bookInAdvanceBanner.toast":"The earlier you book, the more you could save. Booking today? A no-brainer.","page.results.pricePrediction.days":"{days, plural, one {1 day} other {# days}}","modal.deleteTravelDocument.heading":"Delete this passenger\'s ID?","modal.deleteTravelDocument.content":"Once its gone, we cant get it back.","rbr.banner.greener":"less CO2","rbr.banner.cheaper":"cheaper","rbr.banner.faster":"faster","directionHeader.alt.outward":"Outbound"}')},9808:e=>{"use strict";e.exports=JSON.parse('{"version":"3.1.3","heroRoutes":{"operators":{"frecciarossa_france":{"carrier":{"code":"urn:trainline:trenitalia:carrier:trenitalia","name":"Trenitalia"},"brand":{"code":"urn:trainline:trenitalia:brand:frecciarossa","name":"Frecciarossa"},"capabilities":["flexible","highSpeed"],"promo":"newOption","numberOfTrainsPerDay":5,"numberOfClasses":3,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"freeOnExclusiveFare"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"free"},{"group":"cafeBar","state":"free"},{"group":"bicycle","state":"unavailable"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciarossa.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciarossa@4x.png"}},"tgv_inoui":{"carrier":{"code":"urn:trainline:sncf:carrier:sncf","name":"SNCF"},"brand":{"code":"urn:trainline:sncf:brand:tgv_inoui","name":"TGV inOui"},"capabilities":["flexible","highSpeed"],"numberOfTrainsPerDay":22,"numberOfClasses":3,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"freeOnExclusiveFare"},{"group":"cafeBar","state":"free"},{"group":"bicycle","state":"paid"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/inoui.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/inoui@4x.png"}},"ouigo":{"carrier":{"code":"urn:trainline:ouigo:carrier:ouigo","name":"OUIGO"},"capabilities":["nonRefundable","highSpeed"],"numberOfTrainsPerDay":2,"numberOfClasses":2,"services":[{"group":"wifi","state":"paid"},{"group":"electricSocket","state":"paid"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"paid"},{"group":"seatSelection","state":"paid"},{"group":"cafeBar","state":"unavailable"},{"group":"bicycle","state":"paid"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ouigo.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ouigo@4x.png"}},"ouigo_train_classique":{"carrier":{"code":"urn:trainline:ouigo:carrier:ouigo","name":"OUIGO"},"brand":{"code":"urn:trainline:ouigo:brand:ouigo_train_classique","name":"OUIGO Train Classique"},"capabilities":["nonRefundable","regional"],"numberOfTrainsPerDay":1,"numberOfClasses":1,"services":[{"group":"wifi","state":"unavailable"},{"group":"electricSocket","state":"unavailable"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"paid"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"unavailable"},{"group":"bicycle","state":"paid"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ouigo-train-classique.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ouigo-train-classique@4x.png"}},"sncf":{"carrier":{"code":"urn:trainline:sncf:carrier:sncf","name":"SNCF"},"capabilities":["semiFlexible","regional"],"numberOfTrainsPerDay":3,"numberOfClasses":1,"services":[{"group":"wifi","state":"unavailable"},{"group":"electricSocket","state":"unavailable"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"unavailable"},{"group":"bicycle","state":"free"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/sncf.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/sncf@4x.png"}},"ouigo_spain":{"carrier":{"code":"urn:trainline:ouigo:carrier:ouigo","name":"OUIGO"},"capabilities":["highSpeed"],"numberOfClasses":2,"services":[{"group":"localTransport","state":"unavailableDisclaimer"},{"group":"wifi","state":"paid"},{"group":"electricSocket","state":"freeOnExclusiveFare"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"paid"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"paid"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ouigo-spain.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ouigo-spain@4x.png"}},"iryo":{"carrier":{"code":"urn:trainline:ilsa:carrier:ilsa","name":"ILSA"},"brand":{"code":"urn:trainline:ilsa:brand:iryo","name":"iryo"},"capabilities":["highSpeed"],"numberOfClasses":3,"promo":"newOption","services":[{"group":"localTransport","state":"freeDisclaimer"},{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"paidOnExclusiveFare"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/iryo.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/iryo@4x.png"}},"ave":{"carrier":{"code":"urn:trainline:renfe:carrier:renfe","name":"RENFE"},"brand":{"code":"urn:trainline:renfe:brand:ave","name":"AVE"},"capabilities":["highSpeed"],"numberOfClasses":3,"services":[{"group":"localTransport","state":"freeDisclaimer"},{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"free"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"paid"},{"group":"cafeBar","state":"paid"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ave.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/ave@4x.png"}},"avlo":{"carrier":{"code":"urn:trainline:renfe:carrier:renfe","name":"RENFE"},"brand":{"code":"urn:trainline:renfe:brand:avlo","name":"Avlo"},"capabilities":["highSpeed"],"numberOfClasses":1,"services":[{"group":"localTransport","state":"unavailableDisclaimer"},{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"paid"},{"group":"seatSelection","state":"paid"},{"group":"cafeBar","state":"unavailable"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/avlo.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/avlo@4x.png"}},"frecciarossa":{"carrier":{"code":"urn:trainline:trenitalia:carrier:trenitalia","name":"Trenitalia"},"brand":{"code":"urn:trainline:trenitalia:brand:frecciarossa","name":"Frecciarossa"},"capabilities":["flexible","highSpeed"],"numberOfClasses":4,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"freeOnExclusiveFare"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"paid"},{"group":"cafeBar","state":"free"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciarossa-italy.png","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciarossa-italy@4x.png"}},"italo":{"carrier":{"code":"urn:trainline:ntv:carrier:ntv","name":"Italo"},"capabilities":["flexible","highSpeed"],"numberOfClasses":3,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"free"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/italo.png","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/italo@4x.png"}},"trenitalia":{"carrier":{"code":"urn:trainline:trenitalia:carrier:trenitalia","name":"Trenitalia"},"capabilities":["flexible","regional"],"numberOfClasses":2,"services":[{"group":"wifi","state":"unavailable"},{"group":"electricSocket","state":"unavailable"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"unavailable"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/trenitalia.png","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/trenitalia@4x.png"}},"trenitalia_intercity":{"carrier":{"code":"urn:trainline:trenitalia:carrier:trenitalia","name":"Trenitalia"},"brand":{"code":"urn:trainline:trenitalia:brand:intercity","name":"Intercity"},"capabilities":["flexible","regional"],"numberOfClasses":2,"services":[{"group":"wifi","state":"unavailable"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"free"},{"group":"cafeBar","state":"unavailable"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/intercity.png","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/intercity@4x.png"}},"renfe_regional":{"carrier":{"code":"urn:trainline:renfe:carrier:renfe","name":"RENFE"},"capabilities":["regional"],"numberOfClasses":1,"services":[{"group":"localTransport","state":"unavailableDisclaimer"},{"group":"wifi","state":"unavailable"},{"group":"electricSocket","state":"unavailable"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"unavailable"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/renfe-regional.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/renfe-regional@4x.png"}},"tgv_inoui_spain":{"carrier":{"code":"urn:trainline:sncf:carrier:sncf","name":"SNCF"},"brand":{"code":"urn:trainline:sncf:brand:tgv_inoui","name":"TGV inOui"},"capabilities":["highSpeed"],"numberOfClasses":3,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"freeOnExclusiveFare"},{"group":"cafeBar","state":"free"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/inoui.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/inoui@4x.png"}},"renfe_alvia":{"carrier":{"code":"urn:trainline:renfe:carrier:renfe","name":"RENFE"},"capabilities":["highSpeed"],"numberOfClasses":2,"services":[{"group":"localTransport","state":"unavailableDisclaimer"},{"group":"wifi","state":"paid"},{"group":"electricSocket","state":"freeOnExclusiveFare"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"paid"},{"group":"cafeBar","state":"paid"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/renfe-alvia.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/renfe-alvia@4x.png"}},"trenord":{"carrier":{"code":"urn:trainline:trenitalia:carrier:trenord","name":"Trenord"},"capabilities":["flexible","regional"],"numberOfClasses":2,"services":[{"group":"wifi","state":"unavailable"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"unavailable"},{"group":"cafeBar","state":"unavailable"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/trenord.png","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/trenord@4x.png"}},"frecciargento":{"carrier":{"code":"urn:trainline:trenitalia:carrier:trenitalia","name":"Trenitalia"},"brand":{"code":"urn:trainline:trenitalia:brand:frecciargento","name":"Frecciargento"},"capabilities":["semiFlexible","highSpeed"],"numberOfClasses":2,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"paid"},{"group":"cafeBar","state":"free"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciargento.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciargento@4x.png"}},"frecciabianca":{"carrier":{"code":"urn:trainline:trenitalia:carrier:trenitalia","name":"Trenitalia"},"brand":{"code":"urn:trainline:trenitalia:brand:frecciabianca","name":"Frecciabianca"},"capabilities":["semiFlexible","highSpeed"],"numberOfClasses":2,"services":[{"group":"wifi","state":"unavailable"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"free"},{"group":"seatSelection","state":"paid"},{"group":"cafeBar","state":"free"}],"interiorImage":{"lowRes":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciabianca.jpg","retina":"https://static.trainlinecontent.com/content/WEB/images/carriers-interior/frecciabianca@4x.png"}},"lner":{"carrier":{"code":"urn:trainline:atoc:carrier:GR","name":"London North Eastern Railway"},"capabilities":["advance","flexible"],"numberOfTrainsPerDay":27,"numberOfClasses":2,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"free"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"freeDisclaimer"},{"group":"cateringOnBoard","state":"free"},{"group":"bicycle","state":"free"},{"group":"foldableBicycle","state":"unavailable"},{"group":"allocatedSeating","state":"free"}]},"avanti_west_coast":{"carrier":{"code":"urn:trainline:atoc:carrier:VT","name":"Avanti West Coast"},"capabilities":["advance","flexible"],"numberOfTrainsPerDay":6,"numberOfClasses":3,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"free"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"freeDisclaimer"},{"group":"cateringOnBoard","state":"free"},{"group":"bicycle","state":"free"},{"group":"foldableBicycle","state":"unavailable"},{"group":"allocatedSeating","state":"free"}]},"lumo":{"carrier":{"code":"urn:trainline:atoc:carrier:LD","name":"Lumo"},"capabilities":["advance","flexible"],"numberOfTrainsPerDay":5,"numberOfClasses":1,"services":[{"group":"wifi","state":"free"},{"group":"electricSocket","state":"free"},{"group":"quietZone","state":"unavailable"},{"group":"handLuggage","state":"free"},{"group":"luggage","state":"restrictionExtraFee"},{"group":"cateringOnBoard","state":"free"},{"group":"bicycle","state":"unavailable"},{"group":"foldableBicycle","state":"free"},{"group":"allocatedSeating","state":"free"}]}},"routes":[{"route":"paris - lyon","stationGroup1":["urn:trainline:generic:loc:4916","urn:trainline:generic:loc:4917","urn:trainline:generic:loc:4919","urn:trainline:generic:loc:4920","urn:trainline:generic:loc:4921","urn:trainline:generic:loc:4922","urn:trainline:generic:loc:4923","urn:trainline:generic:loc:4924","urn:trainline:generic:loc:23599"],"stationGroup2":["urn:trainline:generic:loc:3652","urn:trainline:generic:loc:4022","urn:trainline:generic:loc:4676","urn:trainline:generic:loc:4677","urn:trainline:generic:loc:4699","urn:trainline:generic:loc:4717","urn:trainline:generic:loc:4718"],"operators":[{"id":"frecciarossa_france","shouldBeInBanner":true},{"id":"tgv_inoui","shouldBeInBanner":true},{"id":"ouigo","shouldBeInBanner":true},{"id":"ouigo_train_classique","shouldBeInBanner":false},{"id":"sncf","shouldBeInBanner":true}]},{"route":"madrid - barcelona","stationGroup1":["urn:trainline:generic:loc:6663","urn:trainline:generic:loc:6664","urn:trainline:generic:loc:6667","urn:trainline:generic:loc:6668","urn:trainline:generic:loc:23726","urn:trainline:generic:loc:24145","urn:trainline:generic:loc:33349"],"stationGroup2":["urn:trainline:generic:loc:6616","urn:trainline:generic:loc:6617","urn:trainline:generic:loc:6623","urn:trainline:generic:loc:6624","urn:trainline:generic:loc:6625","urn:trainline:generic:loc:6626","urn:trainline:generic:loc:23745","urn:trainline:generic:loc:23746","urn:trainline:generic:loc:23747","urn:trainline:generic:loc:23748"],"operators":[{"shouldBeInBanner":true,"id":"ouigo_spain"},{"shouldBeInBanner":true,"id":"iryo"},{"shouldBeInBanner":true,"id":"ave"},{"shouldBeInBanner":true,"id":"avlo"}]},{"route":"barcelona - valencia","stationGroup1":["urn:trainline:generic:loc:23745","urn:trainline:generic:loc:23746","urn:trainline:generic:loc:23747","urn:trainline:generic:loc:23748","urn:trainline:generic:loc:6616","urn:trainline:generic:loc:6617","urn:trainline:generic:loc:6623","urn:trainline:generic:loc:6624","urn:trainline:generic:loc:6625","urn:trainline:generic:loc:6626"],"stationGroup2":["urn:trainline:generic:loc:23634","urn:trainline:generic:loc:24492","urn:trainline:generic:loc:24493","urn:trainline:generic:loc:24494","urn:trainline:generic:loc:24495","urn:trainline:generic:loc:6690"],"operators":[{"shouldBeInBanner":true,"id":"ouigo_spain"},{"shouldBeInBanner":true,"id":"renfe_regional"}]},{"route":"barcelona - zaragoza","stationGroup1":["urn:trainline:generic:loc:23745","urn:trainline:generic:loc:23746","urn:trainline:generic:loc:23747","urn:trainline:generic:loc:23748","urn:trainline:generic:loc:6616","urn:trainline:generic:loc:6617","urn:trainline:generic:loc:6623","urn:trainline:generic:loc:6624","urn:trainline:generic:loc:6625","urn:trainline:generic:loc:6626"],"stationGroup2":["urn:trainline:generic:loc:22676","urn:trainline:generic:loc:24575","urn:trainline:generic:loc:24576","urn:trainline:generic:loc:24577","urn:trainline:generic:loc:24578"],"operators":[{"shouldBeInBanner":true,"id":"ouigo_spain"},{"shouldBeInBanner":true,"id":"iryo"},{"shouldBeInBanner":true,"id":"ave"},{"shouldBeInBanner":true,"id":"avlo"},{"shouldBeInBanner":true,"id":"renfe_alvia"},{"shouldBeInBanner":false,"id":"renfe_regional"}]},{"route":"madrid - alicante","stationGroup1":["urn:trainline:generic:loc:23726","urn:trainline:generic:loc:24144","urn:trainline:generic:loc:24145","urn:trainline:generic:loc:33349","urn:trainline:generic:loc:6663","urn:trainline:generic:loc:6664","urn:trainline:generic:loc:6667","urn:trainline:generic:loc:6668"],"stationGroup2":["urn:trainline:generic:loc:23692","urn:trainline:generic:loc:29279","urn:trainline:generic:loc:6602"],"operators":[{"shouldBeInBanner":true,"id":"ouigo_spain"},{"shouldBeInBanner":true,"id":"iryo"},{"shouldBeInBanner":true,"id":"ave"},{"shouldBeInBanner":true,"id":"avlo"},{"shouldBeInBanner":true,"id":"renfe_alvia"}]},{"route":"madrid - malaga","stationGroup1":["urn:trainline:generic:loc:23726","urn:trainline:generic:loc:24144","urn:trainline:generic:loc:24145","urn:trainline:generic:loc:33349","urn:trainline:generic:loc:6663","urn:trainline:generic:loc:6664","urn:trainline:generic:loc:6667","urn:trainline:generic:loc:6668"],"stationGroup2":["urn:trainline:generic:loc:23644","urn:trainline:generic:loc:27186","urn:trainline:generic:loc:6570"],"operators":[{"shouldBeInBanner":true,"id":"iryo"},{"shouldBeInBanner":true,"id":"ave"},{"shouldBeInBanner":true,"id":"avlo"}]},{"route":"madrid - sevilla","stationGroup1":["urn:trainline:generic:loc:23726","urn:trainline:generic:loc:24144","urn:trainline:generic:loc:24145","urn:trainline:generic:loc:33349","urn:trainline:generic:loc:6663","urn:trainline:generic:loc:6664","urn:trainline:generic:loc:6667","urn:trainline:generic:loc:6668"],"stationGroup2":["urn:trainline:generic:loc:24419","urn:trainline:generic:loc:24420","urn:trainline:generic:loc:6532","urn:trainline:generic:loc:6683"],"operators":[{"shouldBeInBanner":true,"id":"iryo"},{"shouldBeInBanner":true,"id":"ave"},{"shouldBeInBanner":true,"id":"avlo"},{"shouldBeInBanner":true,"id":"renfe_regional"}]},{"route":"madrid - valencia","stationGroup1":["urn:trainline:generic:loc:23726","urn:trainline:generic:loc:24144","urn:trainline:generic:loc:24145","urn:trainline:generic:loc:33349","urn:trainline:generic:loc:6663","urn:trainline:generic:loc:6664","urn:trainline:generic:loc:6667","urn:trainline:generic:loc:6668"],"stationGroup2":["urn:trainline:generic:loc:23634","urn:trainline:generic:loc:24492","urn:trainline:generic:loc:24493","urn:trainline:generic:loc:24494","urn:trainline:generic:loc:24495","urn:trainline:generic:loc:6690"],"operators":[{"shouldBeInBanner":true,"id":"ouigo_spain"},{"shouldBeInBanner":true,"id":"iryo"},{"shouldBeInBanner":true,"id":"ave"},{"shouldBeInBanner":true,"id":"avlo"},{"shouldBeInBanner":true,"id":"renfe_regional"}]},{"route":"madrid - zaragoza","stationGroup1":["urn:trainline:generic:loc:23726","urn:trainline:generic:loc:24144","urn:trainline:generic:loc:24145","urn:trainline:generic:loc:33349","urn:trainline:generic:loc:6663","urn:trainline:generic:loc:6664","urn:trainline:generic:loc:6667","urn:trainline:generic:loc:6668"],"stationGroup2":["urn:trainline:generic:loc:22676","urn:trainline:generic:loc:24575","urn:trainline:generic:loc:24576","urn:trainline:generic:loc:24577","urn:trainline:generic:loc:24578"],"operators":[{"shouldBeInBanner":true,"id":"ouigo_spain"},{"shouldBeInBanner":true,"id":"iryo"},{"shouldBeInBanner":true,"id":"ave"},{"shouldBeInBanner":true,"id":"avlo"},{"shouldBeInBanner":true,"id":"renfe_regional"}]},{"route":"milano - roma","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"napoli - roma","stationGroup1":["urn:trainline:generic:loc:34840","urn:trainline:generic:loc:22184","urn:trainline:generic:loc:20155","urn:trainline:generic:loc:29033","urn:trainline:generic:loc:20866","urn:trainline:generic:loc:33298","urn:trainline:generic:loc:35754","urn:trainline:generic:loc:8497","urn:trainline:generic:loc:20031","urn:trainline:generic:loc:21682","urn:trainline:generic:loc:20867","urn:trainline:generic:loc:67346","urn:trainline:generic:loc:22365","urn:trainline:generic:loc:22387","urn:trainline:generic:loc:20714","urn:trainline:generic:loc:20032","urn:trainline:generic:loc:21701","urn:trainline:generic:loc:21704","urn:trainline:generic:loc:21699","urn:trainline:generic:loc:34978","urn:trainline:generic:loc:20051","urn:trainline:generic:loc:66404"],"stationGroup2":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bari - roma","stationGroup1":["urn:trainline:generic:loc:19401","urn:trainline:generic:loc:19402","urn:trainline:generic:loc:19427","urn:trainline:generic:loc:19428","urn:trainline:generic:loc:19558","urn:trainline:generic:loc:20839","urn:trainline:generic:loc:21340","urn:trainline:generic:loc:22157","urn:trainline:generic:loc:22326","urn:trainline:generic:loc:28956","urn:trainline:generic:loc:34298","urn:trainline:generic:loc:34300","urn:trainline:generic:loc:34301","urn:trainline:generic:loc:34835","urn:trainline:generic:loc:34837","urn:trainline:generic:loc:34838","urn:trainline:generic:loc:34839","urn:trainline:generic:loc:34840","urn:trainline:generic:loc:34841","urn:trainline:generic:loc:35407","urn:trainline:generic:loc:61125","urn:trainline:generic:loc:68044","urn:trainline:generic:loc:68172"],"stationGroup2":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"},{"shouldBeInBanner":true,"id":"frecciargento"}]},{"route":"bologna - ferrara","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:19607","urn:trainline:generic:loc:23048","urn:trainline:generic:loc:23104","urn:trainline:generic:loc:66397"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bologna - firenze","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:19995","urn:trainline:generic:loc:19996","urn:trainline:generic:loc:20001","urn:trainline:generic:loc:22123","urn:trainline:generic:loc:34807","urn:trainline:generic:loc:35348","urn:trainline:generic:loc:8427","urn:trainline:generic:loc:8433","urn:trainline:generic:loc:8434","urn:trainline:generic:loc:8435"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bologna - milano","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bologna - napoli","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:20031","urn:trainline:generic:loc:20032","urn:trainline:generic:loc:20051","urn:trainline:generic:loc:20714","urn:trainline:generic:loc:20866","urn:trainline:generic:loc:20867","urn:trainline:generic:loc:21682","urn:trainline:generic:loc:21699","urn:trainline:generic:loc:21701","urn:trainline:generic:loc:21704","urn:trainline:generic:loc:22184","urn:trainline:generic:loc:22387","urn:trainline:generic:loc:29033","urn:trainline:generic:loc:33298","urn:trainline:generic:loc:34978","urn:trainline:generic:loc:35754","urn:trainline:generic:loc:8497"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bologna - padova","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:8528"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bologna - rimini citta","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:19511","urn:trainline:generic:loc:19512","urn:trainline:generic:loc:19514","urn:trainline:generic:loc:22533","urn:trainline:generic:loc:8553"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bologna - roma","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"bologna - torino","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:20425","urn:trainline:generic:loc:22039","urn:trainline:generic:loc:8565","urn:trainline:generic:loc:8566","urn:trainline:generic:loc:8567","urn:trainline:generic:loc:8568"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"bologna - venezia","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"bologna - verona","stationGroup1":["urn:trainline:generic:loc:10456","urn:trainline:generic:loc:10457","urn:trainline:generic:loc:19197","urn:trainline:generic:loc:19221","urn:trainline:generic:loc:22159","urn:trainline:generic:loc:34843","urn:trainline:generic:loc:66436","urn:trainline:generic:loc:68171"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"frecciargento"}]},{"route":"bolzano/bozen - verona","stationGroup1":["urn:trainline:generic:loc:17484"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"brescia - milano","stationGroup1":["urn:trainline:generic:loc:21197","urn:trainline:generic:loc:8524"],"stationGroup2":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"brescia - verona","stationGroup1":["urn:trainline:generic:loc:21197","urn:trainline:generic:loc:8524"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"caserta - roma","stationGroup1":["urn:trainline:generic:loc:20159"],"stationGroup2":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"},{"shouldBeInBanner":true,"id":"frecciargento"}]},{"route":"desenzano del garda/sirmione - milano","stationGroup1":["urn:trainline:generic:loc:18830"],"stationGroup2":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"desenzano del garda/sirmione - verona","stationGroup1":["urn:trainline:generic:loc:18830"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"firenze - milano","stationGroup1":["urn:trainline:generic:loc:19995","urn:trainline:generic:loc:19996","urn:trainline:generic:loc:20001","urn:trainline:generic:loc:22123","urn:trainline:generic:loc:34807","urn:trainline:generic:loc:35348","urn:trainline:generic:loc:8427","urn:trainline:generic:loc:8433","urn:trainline:generic:loc:8434","urn:trainline:generic:loc:8435"],"stationGroup2":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"firenze - napoli","stationGroup1":["urn:trainline:generic:loc:19995","urn:trainline:generic:loc:19996","urn:trainline:generic:loc:20001","urn:trainline:generic:loc:22123","urn:trainline:generic:loc:34807","urn:trainline:generic:loc:35348","urn:trainline:generic:loc:8427","urn:trainline:generic:loc:8433","urn:trainline:generic:loc:8434","urn:trainline:generic:loc:8435"],"stationGroup2":["urn:trainline:generic:loc:20031","urn:trainline:generic:loc:20032","urn:trainline:generic:loc:20051","urn:trainline:generic:loc:20714","urn:trainline:generic:loc:20866","urn:trainline:generic:loc:20867","urn:trainline:generic:loc:21682","urn:trainline:generic:loc:21699","urn:trainline:generic:loc:21701","urn:trainline:generic:loc:21704","urn:trainline:generic:loc:22184","urn:trainline:generic:loc:22387","urn:trainline:generic:loc:29033","urn:trainline:generic:loc:33298","urn:trainline:generic:loc:34978","urn:trainline:generic:loc:35754","urn:trainline:generic:loc:8497"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"firenze - padova","stationGroup1":["urn:trainline:generic:loc:19995","urn:trainline:generic:loc:19996","urn:trainline:generic:loc:20001","urn:trainline:generic:loc:22123","urn:trainline:generic:loc:34807","urn:trainline:generic:loc:35348","urn:trainline:generic:loc:8427","urn:trainline:generic:loc:8433","urn:trainline:generic:loc:8434","urn:trainline:generic:loc:8435"],"stationGroup2":["urn:trainline:generic:loc:8528"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"firenze - torino","stationGroup1":["urn:trainline:generic:loc:19995","urn:trainline:generic:loc:19996","urn:trainline:generic:loc:20001","urn:trainline:generic:loc:22123","urn:trainline:generic:loc:34807","urn:trainline:generic:loc:35348","urn:trainline:generic:loc:8427","urn:trainline:generic:loc:8433","urn:trainline:generic:loc:8434","urn:trainline:generic:loc:8435"],"stationGroup2":["urn:trainline:generic:loc:20425","urn:trainline:generic:loc:22039","urn:trainline:generic:loc:8565","urn:trainline:generic:loc:8566","urn:trainline:generic:loc:8567","urn:trainline:generic:loc:8568"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"firenze - venezia","stationGroup1":["urn:trainline:generic:loc:19995","urn:trainline:generic:loc:19996","urn:trainline:generic:loc:20001","urn:trainline:generic:loc:22123","urn:trainline:generic:loc:34807","urn:trainline:generic:loc:35348","urn:trainline:generic:loc:8427","urn:trainline:generic:loc:8433","urn:trainline:generic:loc:8434","urn:trainline:generic:loc:8435"],"stationGroup2":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"firenze - verona","stationGroup1":["urn:trainline:generic:loc:19995","urn:trainline:generic:loc:19996","urn:trainline:generic:loc:20001","urn:trainline:generic:loc:22123","urn:trainline:generic:loc:34807","urn:trainline:generic:loc:35348","urn:trainline:generic:loc:8427","urn:trainline:generic:loc:8433","urn:trainline:generic:loc:8434","urn:trainline:generic:loc:8435"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"genova - milano","stationGroup1":["urn:trainline:generic:loc:19833","urn:trainline:generic:loc:19834","urn:trainline:generic:loc:19835","urn:trainline:generic:loc:19836","urn:trainline:generic:loc:19861","urn:trainline:generic:loc:19862","urn:trainline:generic:loc:19864","urn:trainline:generic:loc:19986","urn:trainline:generic:loc:20004","urn:trainline:generic:loc:20005","urn:trainline:generic:loc:20085","urn:trainline:generic:loc:20087","urn:trainline:generic:loc:20088","urn:trainline:generic:loc:20089","urn:trainline:generic:loc:20715","urn:trainline:generic:loc:20942","urn:trainline:generic:loc:22325","urn:trainline:generic:loc:8442","urn:trainline:generic:loc:8450","urn:trainline:generic:loc:8453","urn:trainline:generic:loc:8455"],"stationGroup2":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"milano - napoli","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:20031","urn:trainline:generic:loc:20032","urn:trainline:generic:loc:20051","urn:trainline:generic:loc:20714","urn:trainline:generic:loc:20866","urn:trainline:generic:loc:20867","urn:trainline:generic:loc:21682","urn:trainline:generic:loc:21699","urn:trainline:generic:loc:21701","urn:trainline:generic:loc:21704","urn:trainline:generic:loc:22184","urn:trainline:generic:loc:22387","urn:trainline:generic:loc:29033","urn:trainline:generic:loc:33298","urn:trainline:generic:loc:34978","urn:trainline:generic:loc:35754","urn:trainline:generic:loc:8497"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"milano - padova","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:8528"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"milano - peschiera del garda","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:19496"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"milano - reggio emilia citta","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:20580","urn:trainline:generic:loc:22136","urn:trainline:generic:loc:22137","urn:trainline:generic:loc:22582","urn:trainline:generic:loc:23045"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"milano - rimini citta","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:19511","urn:trainline:generic:loc:19512","urn:trainline:generic:loc:19514","urn:trainline:generic:loc:22533","urn:trainline:generic:loc:8553"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"milano - torino","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:20425","urn:trainline:generic:loc:22039","urn:trainline:generic:loc:8565","urn:trainline:generic:loc:8566","urn:trainline:generic:loc:8567","urn:trainline:generic:loc:8568"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"milano - venezia","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"milano - verona","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"milano - vicenza","stationGroup1":["urn:trainline:generic:loc:19448","urn:trainline:generic:loc:19449","urn:trainline:generic:loc:21258","urn:trainline:generic:loc:21309","urn:trainline:generic:loc:21336","urn:trainline:generic:loc:22125","urn:trainline:generic:loc:22132","urn:trainline:generic:loc:22386","urn:trainline:generic:loc:22390","urn:trainline:generic:loc:22447","urn:trainline:generic:loc:23617","urn:trainline:generic:loc:68170","urn:trainline:generic:loc:8483","urn:trainline:generic:loc:8485","urn:trainline:generic:loc:8490","urn:trainline:generic:loc:8491","urn:trainline:generic:loc:8492"],"stationGroup2":["urn:trainline:generic:loc:10459"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"napoli - salerno","stationGroup1":["urn:trainline:generic:loc:20031","urn:trainline:generic:loc:20032","urn:trainline:generic:loc:20051","urn:trainline:generic:loc:20714","urn:trainline:generic:loc:20866","urn:trainline:generic:loc:20867","urn:trainline:generic:loc:21682","urn:trainline:generic:loc:21699","urn:trainline:generic:loc:21701","urn:trainline:generic:loc:21704","urn:trainline:generic:loc:22184","urn:trainline:generic:loc:22387","urn:trainline:generic:loc:29033","urn:trainline:generic:loc:33298","urn:trainline:generic:loc:34978","urn:trainline:generic:loc:35754","urn:trainline:generic:loc:8497"],"stationGroup2":["urn:trainline:generic:loc:20259","urn:trainline:generic:loc:20266","urn:trainline:generic:loc:23109","urn:trainline:generic:loc:23110","urn:trainline:generic:loc:23111","urn:trainline:generic:loc:23112","urn:trainline:generic:loc:23113","urn:trainline:generic:loc:67347"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"},{"shouldBeInBanner":true,"id":"frecciargento"}]},{"route":"padova - roma","stationGroup1":["urn:trainline:generic:loc:8528"],"stationGroup2":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"padova - venezia","stationGroup1":["urn:trainline:generic:loc:8528"],"stationGroup2":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"padova - verona","stationGroup1":["urn:trainline:generic:loc:8528"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"padova - vicenza","stationGroup1":["urn:trainline:generic:loc:8528"],"stationGroup2":["urn:trainline:generic:loc:10459"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"peschiera del garda - verona","stationGroup1":["urn:trainline:generic:loc:19496"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenord"}]},{"route":"reggio emilia citta - roma","stationGroup1":["urn:trainline:generic:loc:20580","urn:trainline:generic:loc:22136","urn:trainline:generic:loc:22137","urn:trainline:generic:loc:22582","urn:trainline:generic:loc:23045"],"stationGroup2":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"rho-fiera milano - torino","stationGroup1":["urn:trainline:generic:loc:20967"],"stationGroup2":["urn:trainline:generic:loc:20425","urn:trainline:generic:loc:22039","urn:trainline:generic:loc:8565","urn:trainline:generic:loc:8566","urn:trainline:generic:loc:8567","urn:trainline:generic:loc:8568"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"roma - salerno","stationGroup1":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"stationGroup2":["urn:trainline:generic:loc:20259","urn:trainline:generic:loc:20266","urn:trainline:generic:loc:23109","urn:trainline:generic:loc:23110","urn:trainline:generic:loc:23111","urn:trainline:generic:loc:23112","urn:trainline:generic:loc:23113","urn:trainline:generic:loc:67347"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"},{"shouldBeInBanner":true,"id":"frecciargento"}]},{"route":"roma - torino","stationGroup1":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"stationGroup2":["urn:trainline:generic:loc:20425","urn:trainline:generic:loc:22039","urn:trainline:generic:loc:8565","urn:trainline:generic:loc:8566","urn:trainline:generic:loc:8567","urn:trainline:generic:loc:8568"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"roma - venezia","stationGroup1":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"stationGroup2":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"roma - verona","stationGroup1":["urn:trainline:generic:loc:19722","urn:trainline:generic:loc:19726","urn:trainline:generic:loc:20724","urn:trainline:generic:loc:8542","urn:trainline:generic:loc:8543","urn:trainline:generic:loc:8544","urn:trainline:generic:loc:8545"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"trento - verona","stationGroup1":["urn:trainline:generic:loc:18829","urn:trainline:generic:loc:22102","urn:trainline:generic:loc:22542"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"treviso - venezia","stationGroup1":["urn:trainline:generic:loc:20610","urn:trainline:generic:loc:29246"],"stationGroup2":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"venezia - verona","stationGroup1":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"stationGroup2":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"venezia - vicenza","stationGroup1":["urn:trainline:generic:loc:20519","urn:trainline:generic:loc:8573","urn:trainline:generic:loc:8574","urn:trainline:generic:loc:8575","urn:trainline:generic:loc:8576"],"stationGroup2":["urn:trainline:generic:loc:10459"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"},{"shouldBeInBanner":true,"id":"trenitalia_intercity"}]},{"route":"verona - vicenza","stationGroup1":["urn:trainline:generic:loc:20544","urn:trainline:generic:loc:20549","urn:trainline:generic:loc:34276","urn:trainline:generic:loc:8581"],"stationGroup2":["urn:trainline:generic:loc:10459"],"operators":[{"shouldBeInBanner":true,"id":"frecciarossa"},{"shouldBeInBanner":true,"id":"italo"},{"shouldBeInBanner":true,"id":"trenitalia"}]},{"route":"london - edinburgh","stationGroup1":["urn:trainline:generic:loc:EDB9328gb","urn:trainline:generic:loc:KGX6121gb","urn:trainline:generic:loc:EUS1444gb","urn:trainline:generic:loc:182gb"],"stationGroup2":["urn:trainline:generic:loc:EDB9328gb","urn:trainline:generic:loc:KGX6121gb","urn:trainline:generic:loc:EUS1444gb","urn:trainline:generic:loc:182gb"],"operators":[{"shouldBeInBanner":true,"id":"lner"},{"shouldBeInBanner":true,"id":"lumo"},{"shouldBeInBanner":true,"id":"avanti_west_coast"}]}]}}')}},e=>{e.O(0,[11216],(()=>{return r=77178,e(e.s=r);var r}));e.O()}]);