"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[78661],{12915:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(29901);const n=e=>{var{className:t}=e;return a.createElement("svg",{className:t,viewBox:"0 0 24 24",width:"24px",height:"24px"},a.createElement("path",{d:"M14.8363636,14.1818182 C14.5090909,13.4181818 14.0727273,12.6545455 13.6363636,12.1090909 C14.9454545,10.8 15.7090909,9.05454545 15.7090909,7.09090909 C15.8181818,3.16363636 12.6545455,0 8.72727273,0 C7.63636364,0 6.65454545,0.218181818 5.78181818,0.654545455 C3.27272727,1.74545455 1.63636364,4.25454545 1.63636364,7.09090909 C1.63636364,8.94545455 2.4,10.6909091 3.6,12 C3.16363636,12.6545455 2.72727273,13.4181818 2.4,14.2909091 C0.545454545,18.5454545 0.545454545,20.5090909 0.654545455,21.1636364 C0.654545455,21.9272727 0.981818182,22.5818182 1.52727273,23.1272727 C1.96363636,23.6727273 2.83636364,24 3.70909091,24 L13.8545455,24 C14.7272727,24 15.4909091,23.6727273 16.0363636,23.1272727 C16.5818182,22.5818182 16.9090909,21.9272727 16.9090909,21.1636364 C17.0181818,20.4 16.9090909,18.5454545 14.8363636,14.1818182 Z M6.65454545,2.61818182 C7.30909091,2.29090909 7.96363636,2.18181818 8.72727273,2.18181818 C11.4545455,2.18181818 13.6363636,4.36363636 13.6363636,7.09090909 C13.6363636,9.81818182 11.4545455,12 8.72727273,12 C6,12 3.81818182,9.81818182 3.81818182,7.09090909 C3.81818182,5.12727273 4.90909091,3.38181818 6.65454545,2.61818182 Z M14.2909091,21.4909091 C14.1818182,21.6 14.0727273,21.6 13.8545455,21.6 L3.70909091,21.6 C3.49090909,21.6 3.38181818,21.4909091 3.27272727,21.3818182 C3.16363636,21.2727273 3.16363636,21.1636364 3.16363636,21.0545455 L3.16363636,20.7272727 C3.16363636,20.4 3.16363636,18.9818182 4.8,15.1636364 C5.12727273,14.5090909 5.34545455,13.9636364 5.67272727,13.4181818 C6.43636364,13.8545455 7.52727273,14.1818182 8.72727273,14.1818182 C9.81818182,14.1818182 10.8,13.9636364 11.6727273,13.5272727 C12,13.9636364 12.2181818,14.5090909 12.5454545,15.1636364 C14.2909091,18.9818182 14.2909091,20.4 14.4,20.7272727 C14.5090909,21.0545455 14.4,21.3818182 14.2909091,21.4909091 Z"}),a.createElement("path",{d:"M11.7818182,8.4 C11.4545455,9.6 10.1454545,10.4727273 8.72727273,10.4727273 C7.30909091,10.4727273 6,9.6 5.67272727,8.4 L11.7818182,8.4 L11.7818182,8.4 Z"}))}},93050:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(50093),n=r(29901),o=r(59999);const c=e=>{var{className:t}=e;return n.createElement("img",{className:t,"data-test":"national-express-logo",src:"".concat(o.kK,"/carriers/nat-ex.svg"),alt:"",role:"presentation"})};var s=r(83367);const i=a.StyleSheet.create({coachDetailsWrapper:{display:"flex",alignItems:"center",margin:"".concat(s.spacers.s," 0")},providerLogo:{marginTop:s.spacers.xxs},route:{marginRight:s.spacers.xs,fontWeight:"bold"}});const l=e=>{var{route:t}=e;return n.createElement("span",{className:(0,a.css)(i.coachDetailsWrapper)},n.createElement("span",{className:(0,a.css)(i.route)},t),n.createElement(c,{className:(0,a.css)(i.providerLogo)}))}},49648:(e,t,r)=>{r.d(t,{Z:()=>C});var a=r(41344),n=r(98318),o=r(50093),c=r(29901),s=r(98184),i=r(90059),l=r(23394),d=r(83367);const p=o.StyleSheet.create({voucherAppliedContainerMobile:{display:"flex",alignItems:"end",justifyContent:"center"},voucherAppliedLabel:{backgroundColor:n.dp_brand_secondary_dull,borderRadius:l.E0.m,padding:"".concat(d.spacers.xxs," ").concat(d.spacers.xs)},voucherAppliedLabelMobile:{color:n.dp_brand_secondary_dullest,paddingLeft:d.spacers.px12},voucherAppliedIconWrapperMobile:{width:"24px",height:"28px"}});var u="customerJourneySummary.europe.voucherApplied",m=()=>c.createElement("span",{"data-test":"voucher-applied-tag",className:(0,o.css)(p.voucherAppliedLabel)},c.createElement(s.FormattedMessage,{id:u})),v=()=>c.createElement("div",{"data-test":"voucher-applied-tag-mobile",className:(0,o.css)(p.voucherAppliedContainerMobile)},c.createElement(i.Z,{className:(0,o.css)(p.voucherAppliedIconWrapperMobile),fill:n.dp_brand_neutral_dullest}),c.createElement("span",{className:(0,o.css)(p.voucherAppliedLabelMobile)},c.createElement(s.FormattedMessage,{id:u})));const C=(0,a.FZ)((e=>{var{deviceType:t}=e;return"mobile"===t?c.createElement(v,null):c.createElement(m,null)}))},89043:(e,t,r)=>{r.d(t,{m:()=>b});var a=r(29901),n=r(98184),o=r(36841),c=r(23198),s=r(98318),i=r(35779),l=r(50093),d=r(23394);const p=l.StyleSheet.create({wrapper:{display:"flex",background:s.dp_app_text_inverted,border:"1px solid ".concat(s.dp_app_border_base),padding:"".concat(d.W0.s3," ").concat(d.W0.s4),borderRadius:d.W0.s2,gap:16,alignItems:"center"},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",maxHeight:i._6,maxWidth:i._6},priceMatchHeader:(0,c.Z)((0,c.Z)({},d.cp.small),{},{color:s.dp_app_text_base}),priceMatchInfo:(0,c.Z)((0,c.Z)({},d.cp.small),{},{color:s.dp_app_text_subtle}),buttonLinkTextContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},priceMatchHeaderButton:{display:"flex",flexDirection:"column"},button:{display:"flex",justifyContent:"center",padding:"".concat(d.W0.s2," ").concat(d.W0.s4),color:s.dp_app_text_inverted,background:s.dp_comp_button_secondary_background,minWidth:"137px",borderRadius:d.W0.s1,fontWeight:600}});var u=r(11302),m=r(89458),v=r(71695),C=r(26625),h="price match banner",g=()=>(0,C.k1)({coreProperties:{},category:h,action:"landing page link clicked",label:"landing page link clicked"}),b=e=>{var{linkType:t="link",dataLocation:r}=e,{sendTracking:c}=(0,C.rS)(),{shouldShowPriceMatchFeature:s,priceMatchUrl:i}=(0,m.t)([v.Qd.FRANCE,v.Qd.SPAIN,v.Qd.ITALY],r);return a.useEffect((()=>{s&&c((0,C.k1)({coreProperties:{},category:h,action:"price match banner impression",label:h}))}),[s,c]),s?a.createElement("div",{"data-test":"price-match-banner",className:(0,o.css)(p.wrapper)},a.createElement("div",{className:(0,o.css)(p.iconContainer)},a.createElement(u.default,null)),a.createElement("div",{className:(0,o.css)("button"===t&&p.buttonLinkTextContainer)},a.createElement("p",{className:(0,o.css)(p.priceMatchHeader,"button"===t&&p.priceMatchHeaderButton)},a.createElement("div",null,a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"page.results.priceMatch"})," ")),a.createElement(n.FormattedMessage,{id:"page.results.priceMatchMessage"})," ","link"===t&&a.createElement("a",{href:i,target:"_blank",onClick:()=>{c(g())}},a.createElement(n.FormattedMessage,{id:"page.results.priceMatchLink"}))),"button"===t&&a.createElement("button",{className:(0,o.css)(p.button),role:"link",onClick:()=>{var e;null===(e=window.open(i,"_blanc"))||void 0===e||e.focus(),c(g())}},a.createElement(n.FormattedMessage,{id:"page.results.priceMatchLink"})))):null}},17444:(e,t,r)=>{r.d(t,{o:()=>v,N:()=>C});var a=r(82768),n=r(92490),o=r(59838),c=r(32143),s=r(61229),i=(e,t,r)=>{var i=(0,c._5)(r,t),l=(0,c.hD)(r,t),d=(0,s.J_)(r,t),p=((e,t,r)=>{var c=(0,n.Yu)(r);return 0!==t.length&&(0,a.jj$)([...t.map((e=>{var t;return null===(t=c[null==e?void 0:e.departureLocation])||void 0===t?void 0:t.countryCode})),...t.map((e=>{var t;return null===(t=c[null==e?void 0:e.arrivalLocation])||void 0===t?void 0:t.countryCode}))].filter(o.v)).every((t=>t===e))})(e,[...i||[],...l||[]].map((e=>d[e])).filter(o.v),r);return p},l=r(60054),d=e=>{var t,r,a=[...(null==e||null===(t=e.outwardJourney)||void 0===t?void 0:t.legs)||[],...(null==e||null===(r=e.inwardJourney)||void 0===r?void 0:r.legs)||[]];return a.length?a.reduce(((e,t)=>{var r,a,n=null===(r=t.destination)||void 0===r?void 0:r.countryCode,o=null===(a=t.origin)||void 0===a?void 0:a.countryCode;return n&&!e.includes(n)&&e.push(n),o&&!e.includes(o)&&e.push(o),e}),[]):[]};function p(e,t){var r=d(e);return!!r.length&&r.every((e=>e===t))}var u=r(63585),m=r(29148),v=function(e){return e.JOURNEY_SEARCH="journeySearch",e.BOOKING_CONFIRMATION="bookingConfirmation",e.TEMP_BASKET="tempBasket",e.PASSIVE_OR_ACTIVE_BASKET="passiveOrActiveBasket",e}({}),C=e=>{var{dataLocation:t,countryCode:r,selectorParams:a,state:n,testCriteria:o="some"}=e;return"journeySearch"===t?i(r,a,n):"bookingConfirmation"===t?((e,t)=>{var r=(0,u.n$)(t);if(!r)return!1;var a=(0,m.NW)(t,r);return!!a&&(0,l.ob)(t,a).some((t=>{var r=d(t);return!!r.length&&r.every((t=>t===e))}))})(r,n):"tempBasket"===t?((e,t)=>{var r=(0,l.s9)(t),a=d(r);return!!a.length&&a.every((t=>t===e))})(r,n):"passiveOrActiveBasket"===t&&"some"===o?((e,t)=>(0,l.Ek)(t).some((t=>p(t,e))))(r,n):"passiveOrActiveBasket"===t&&"every"===o&&((e,t)=>(0,l.Ek)(t).every((t=>p(t,e))))(r,n)}},89458:(e,t,r)=>{r.d(t,{t:()=>p});var a=r(23198),n=r(88543),o=r(10301),c=r(10552),s=r(96172),i=r(17444),l=r(71695),d={[l.Qd.FRANCE]:"https://www.thetrainline.com/fr/information/prix-garanti",[l.Qd.SPAIN]:"https://www.thetrainline.com/es/informacion/mejor-precio-garantizado",[l.Qd.ITALY]:"https://www.thetrainline.com/it/informazioni/miglior-prezzo-garantito"},p=(e,t)=>{var r=(0,n.useStore)().getState(),l=(0,s.TH)(),{enablePriceMatchBannerAllowedCountryCodes:p}=(0,o.QE)(),{userLocationCountry:u}=(0,c.d)(),m=(e=>{var{countryCodes:t,isDomesticJourney:r,userLocationCountry:a,enablePriceMatchBannerAllowedCountryCodes:n}=e,o=t.reduce(((e,t)=>{var o=(null==a?void 0:a.toUpperCase())===t.toUpperCase(),c=r(t),s=null==n?void 0:n.some((e=>e.toUpperCase()===t.toUpperCase()));return e[t]=Boolean(s&&o&&c),e}),{});return o.shouldShowPriceMatchFeature=Object.values(o).some(Boolean),o})({countryCodes:e,enablePriceMatchBannerAllowedCountryCodes:p,userLocationCountry:u,isDomesticJourney:e=>(0,i.N)({dataLocation:t,countryCode:e,selectorParams:l,state:r,testCriteria:"some"})}),v=Object.keys(m).find((e=>{if(m[e])return d[e]}));return(0,a.Z)((0,a.Z)({},m),{},{priceMatchUrl:d[v||"FR"]})}}}]);